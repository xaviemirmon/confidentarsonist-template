/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/puck/[...puckPath]/page"],{

/***/ "(app-pages-browser)/./app/puck/[...puckPath]/client.tsx":
/*!*******************************************!*\
  !*** ./app/puck/[...puckPath]/client.tsx ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* binding */ Client)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _measured_puck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @measured/puck */ \"(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.mjs\");\n/* harmony import */ var _puck_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../puck.config */ \"(app-pages-browser)/./puck.config.tsx\");\n/* __next_internal_client_entry_do_not_use__ Client auto */ \n\n\nfunction Client(param) {\n    let { path, data } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_measured_puck__WEBPACK_IMPORTED_MODULE_1__.Puck, {\n        config: _puck_config__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        data: data,\n        onPublish: async (data)=>{\n            await fetch(\"/puck/api\", {\n                method: \"post\",\n                body: JSON.stringify({\n                    data,\n                    path\n                })\n            });\n        }\n    }, void 0, false, {\n        fileName: \"/Users/federicojorgeboneltozzi/Desktop/Work/puck/code/ecosystem/puck-configs/shadcn-twblocks/app/puck/[...puckPath]/client.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\n_c = Client;\nvar _c;\n$RefreshReg$(_c, \"Client\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wdWNrL1suLi5wdWNrUGF0aF0vY2xpZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdzQztBQUNJO0FBRW5DLFNBQVNFLE9BQU8sS0FBcUQ7UUFBckQsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQXlDLEdBQXJEO0lBQ3JCLHFCQUNFLDhEQUFDSixnREFBSUE7UUFDSEMsUUFBUUEsb0RBQU1BO1FBQ2RHLE1BQU1BO1FBQ05DLFdBQVcsT0FBT0Q7WUFDaEIsTUFBTUUsTUFBTSxhQUFhO2dCQUN2QkMsUUFBUTtnQkFDUkMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUFFTjtvQkFBTUQ7Z0JBQUs7WUFDcEM7UUFDRjs7Ozs7O0FBR047S0FiZ0JEIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9hcHAvcHVjay9bLi4ucHVja1BhdGhdL2NsaWVudC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB0eXBlIHsgRGF0YSB9IGZyb20gXCJAbWVhc3VyZWQvcHVja1wiO1xuaW1wb3J0IHsgUHVjayB9IGZyb20gXCJAbWVhc3VyZWQvcHVja1wiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vLi4vLi4vcHVjay5jb25maWdcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENsaWVudCh7IHBhdGgsIGRhdGEgfTogeyBwYXRoOiBzdHJpbmc7IGRhdGE6IFBhcnRpYWw8RGF0YT4gfSkge1xuICByZXR1cm4gKFxuICAgIDxQdWNrXG4gICAgICBjb25maWc9e2NvbmZpZ31cbiAgICAgIGRhdGE9e2RhdGF9XG4gICAgICBvblB1Ymxpc2g9e2FzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgIGF3YWl0IGZldGNoKFwiL3B1Y2svYXBpXCIsIHtcbiAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZGF0YSwgcGF0aCB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9fVxuICAgIC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUHVjayIsImNvbmZpZyIsIkNsaWVudCIsInBhdGgiLCJkYXRhIiwib25QdWJsaXNoIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/puck/[...puckPath]/client.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CollisionPriority: () => (/* binding */ CollisionPriority),\n/* harmony export */   CollisionType: () => (/* binding */ CollisionType),\n/* harmony export */   CorePlugin: () => (/* binding */ CorePlugin),\n/* harmony export */   DragDropManager: () => (/* binding */ DragDropManager),\n/* harmony export */   DragOperationStatus: () => (/* binding */ Status),\n/* harmony export */   Draggable: () => (/* binding */ Draggable),\n/* harmony export */   Droppable: () => (/* binding */ Droppable),\n/* harmony export */   Modifier: () => (/* binding */ Modifier),\n/* harmony export */   Plugin: () => (/* binding */ Plugin),\n/* harmony export */   PluginRegistry: () => (/* binding */ PluginRegistry),\n/* harmony export */   Sensor: () => (/* binding */ Sensor),\n/* harmony export */   configurator: () => (/* binding */ configurator),\n/* harmony export */   configure: () => (/* binding */ configure),\n/* harmony export */   descriptor: () => (/* binding */ descriptor),\n/* harmony export */   sortCollisions: () => (/* binding */ sortCollisions)\n/* harmony export */ });\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\n/* harmony import */ var _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/geometry */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs\");\n\n\n\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __decoratorStart = (base) => {\n  var _a;\n  return [, , , __create((_a = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) flags & 1 ? fns[i].call(self) : value = fns[i].call(self, value);\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var fn, it, done, ctx, access, k = flags & 7, s = !!(flags & 8), p = !!(flags & 16);\n  var j = k > 3 ? array.length + 1 : k ? s ? 1 : 2 : 0, key = __decoratorStrings[k + 5];\n  var initializers = k > 3 && (array[j - 1] = []), extraInitializers = array[j] || (array[j] = []);\n  var desc = k && (!p && !s && (target = target.prototype), k < 5 && (k > 3 || !p) && __getOwnPropDesc(k < 4 ? target : { get [name]() {\n    return __privateGet(this, extra);\n  }, set [name](x) {\n    return __privateSet(this, extra, x);\n  } }, name));\n  k ? p && k < 4 && __name(extra, (k > 2 ? \"set \" : k > 1 ? \"get \" : \"\") + name) : __name(target, name);\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    if (k) {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: p ? (x) => __privateIn(target, x) : (x) => name in x };\n      if (k ^ 3) access.get = p ? (x) => (k ^ 1 ? __privateGet : __privateMethod)(x, target, k ^ 4 ? extra : desc.get) : (x) => x[name];\n      if (k > 2) access.set = p ? (x, y) => __privateSet(x, target, y, k ^ 4 ? extra : desc.set) : (x, y) => x[name] = y;\n    }\n    it = (0, decorators[i])(k ? k < 4 ? p ? extra : desc[key] : k > 4 ? void 0 : { get: desc.get, set: desc.set } : target, ctx), done._ = 1;\n    if (k ^ 4 || it === void 0) __expectFn(it) && (k > 4 ? initializers.unshift(it) : k ? p ? extra = it : desc[key] = it : target = it);\n    else if (typeof it !== \"object\" || it === null) __typeError(\"Object expected\");\n    else __expectFn(fn = it.get) && (desc.get = fn), __expectFn(fn = it.set) && (desc.set = fn), __expectFn(fn = it.init) && initializers.unshift(fn);\n  }\n  return k || __decoratorMetadata(array, target), desc && __defProp(target, name, desc), p ? k ^ 4 ? extra : desc : target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateIn = (member, obj) => Object(obj) !== obj ? __typeError('Cannot use the \"in\" operator on this value') : member.has(obj);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\n// src/core/plugins/utilities.ts\nfunction configure(plugin, options) {\n  return {\n    plugin,\n    options\n  };\n}\nfunction configurator(plugin) {\n  return (options) => {\n    return configure(plugin, options);\n  };\n}\nfunction descriptor(plugin) {\n  if (typeof plugin === \"function\") {\n    return {\n      plugin,\n      options: void 0\n    };\n  }\n  return plugin;\n}\n\n// src/core/plugins/plugin.ts\nvar _disabled_dec, _init, _disabled, _cleanupFunctions;\n_disabled_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive];\nvar Plugin = class {\n  /**\n   * Creates a new plugin instance.\n   *\n   * @param manager - The drag and drop manager that owns this plugin\n   * @param options - Optional configuration for the plugin\n   */\n  constructor(manager, options) {\n    this.manager = manager;\n    this.options = options;\n    __privateAdd(this, _disabled, __runInitializers(_init, 8, this, false)), __runInitializers(_init, 11, this);\n    __privateAdd(this, _cleanupFunctions, /* @__PURE__ */ new Set());\n  }\n  /**\n   * Enables a disabled plugin instance.\n   *\n   * @remarks\n   * This method triggers effects when called.\n   */\n  enable() {\n    this.disabled = false;\n  }\n  /**\n   * Disables an enabled plugin instance.\n   *\n   * @remarks\n   * This method triggers effects when called.\n   */\n  disable() {\n    this.disabled = true;\n  }\n  /**\n   * Checks if the plugin instance is disabled.\n   *\n   * @returns true if the plugin is disabled\n   * @remarks\n   * This method does not trigger effects when accessed.\n   */\n  isDisabled() {\n    return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n      return this.disabled;\n    });\n  }\n  /**\n   * Configures a plugin instance with new options.\n   *\n   * @param options - The new options to apply\n   */\n  configure(options) {\n    this.options = options;\n  }\n  /**\n   * Registers an effect that will be cleaned up when the plugin is destroyed.\n   *\n   * @param callback - The effect callback to register\n   * @returns A function to dispose of the effect\n   */\n  registerEffect(callback) {\n    const dispose = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.effect)(callback.bind(this));\n    __privateGet(this, _cleanupFunctions).add(dispose);\n    return dispose;\n  }\n  /**\n   * Destroys a plugin instance and cleans up its resources.\n   *\n   * @remarks\n   * This method:\n   * - Calls all registered cleanup functions\n   * - Should be overridden by subclasses to clean up additional resources\n   */\n  destroy() {\n    __privateGet(this, _cleanupFunctions).forEach((cleanup) => cleanup());\n  }\n  /**\n   * Configures a plugin constructor with options.\n   *\n   * @param options - The options to configure the constructor with\n   * @returns The configured plugin constructor\n   *\n   * @remarks\n   * This method is used to configure the options that the\n   * plugin constructor will use to create plugin instances.\n   */\n  static configure(options) {\n    return configure(this, options);\n  }\n};\n_init = __decoratorStart(null);\n_disabled = new WeakMap();\n_cleanupFunctions = new WeakMap();\n__decorateElement(_init, 4, \"disabled\", _disabled_dec, Plugin, _disabled);\n__decoratorMetadata(_init, Plugin);\nvar CorePlugin = class extends Plugin {\n};\n\n// src/core/plugins/registry.ts\nvar _previousValues;\nvar PluginRegistry = class {\n  /**\n   * Creates a new plugin registry.\n   *\n   * @param manager - The drag and drop manager that owns this registry\n   */\n  constructor(manager) {\n    this.manager = manager;\n    this.instances = /* @__PURE__ */ new Map();\n    __privateAdd(this, _previousValues, []);\n  }\n  /**\n   * Gets all registered plugin instances.\n   *\n   * @returns An array of all active plugin instances\n   */\n  get values() {\n    return Array.from(this.instances.values());\n  }\n  /**\n   * Sets the list of plugins to be used by the registry.\n   *\n   * @param entries - Array of plugin constructors or descriptors\n   * @remarks\n   * This method:\n   * - Filters out duplicate plugins\n   * - Unregisters plugins that are no longer in use\n   * - Registers new plugins with their options\n   */\n  set values(entries) {\n    const descriptors = entries.map(descriptor).reduceRight((acc, descriptor2) => {\n      if (acc.some(({ plugin }) => plugin === descriptor2.plugin)) {\n        return acc;\n      }\n      return [descriptor2, ...acc];\n    }, []);\n    const constructors = descriptors.map(({ plugin }) => plugin);\n    for (const plugin of __privateGet(this, _previousValues)) {\n      if (!constructors.includes(plugin)) {\n        if (plugin.prototype instanceof CorePlugin) {\n          continue;\n        }\n        this.unregister(plugin);\n      }\n    }\n    for (const { plugin, options } of descriptors) {\n      this.register(plugin, options);\n    }\n    __privateSet(this, _previousValues, constructors);\n  }\n  /**\n   * Gets a plugin instance by its constructor.\n   *\n   * @param plugin - The plugin constructor to look up\n   * @returns The plugin instance or undefined if not found\n   */\n  get(plugin) {\n    const instance = this.instances.get(plugin);\n    return instance;\n  }\n  /**\n   * Registers a new plugin instance.\n   *\n   * @param plugin - The plugin constructor to register\n   * @param options - Optional configuration for the plugin\n   * @returns The registered plugin instance\n   * @remarks\n   * If the plugin is already registered, its options will be updated\n   * and the existing instance will be returned.\n   */\n  register(plugin, options) {\n    const existingInstance = this.instances.get(plugin);\n    if (existingInstance) {\n      if (existingInstance.options !== options) {\n        existingInstance.options = options;\n      }\n      return existingInstance;\n    }\n    const instance = new plugin(this.manager, options);\n    this.instances.set(plugin, instance);\n    return instance;\n  }\n  /**\n   * Unregisters a plugin instance.\n   *\n   * @param plugin - The plugin constructor to unregister\n   * @remarks\n   * This method:\n   * - Destroys the plugin instance\n   * - Removes it from the registry\n   */\n  unregister(plugin) {\n    const instance = this.instances.get(plugin);\n    if (instance) {\n      instance.destroy();\n      this.instances.delete(plugin);\n    }\n  }\n  /**\n   * Destroys all registered plugin instances.\n   *\n   * @remarks\n   * This method:\n   * - Calls destroy() on all plugin instances\n   * - Clears the registry\n   */\n  destroy() {\n    for (const plugin of this.instances.values()) {\n      plugin.destroy();\n    }\n    this.instances.clear();\n  }\n};\n_previousValues = new WeakMap();\n\n// src/core/collision/utilities.ts\nfunction sortCollisions(a, b) {\n  if (a.priority === b.priority) {\n    if (a.type === b.type) {\n      return b.value - a.value;\n    }\n    return b.type - a.type;\n  }\n  return b.priority - a.priority;\n}\n\n// src/core/collision/observer.ts\nvar DEFAULT_VALUE = [];\nvar _previousCoordinates, _collisions;\nvar CollisionObserver = class extends Plugin {\n  /**\n   * Creates a new CollisionObserver instance.\n   *\n   * @param manager - The drag drop manager instance\n   */\n  constructor(manager) {\n    super(manager);\n    __privateAdd(this, _previousCoordinates);\n    __privateAdd(this, _collisions);\n    this.computeCollisions = this.computeCollisions.bind(this);\n    __privateSet(this, _collisions, (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.signal)(DEFAULT_VALUE));\n    this.destroy = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.effects)(\n      () => {\n        const collisions = this.computeCollisions();\n        const coordinates = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(\n          () => this.manager.dragOperation.position.current\n        );\n        if (collisions !== DEFAULT_VALUE) {\n          const previousCoordinates = __privateGet(this, _previousCoordinates);\n          __privateSet(this, _previousCoordinates, coordinates);\n          if (previousCoordinates && coordinates.x == previousCoordinates.x && coordinates.y == previousCoordinates.y) {\n            return;\n          }\n        } else {\n          __privateSet(this, _previousCoordinates, void 0);\n        }\n        __privateGet(this, _collisions).value = collisions;\n      },\n      () => {\n        const { dragOperation } = this.manager;\n        if (dragOperation.status.initialized) {\n          this.forceUpdate();\n        }\n      }\n    );\n  }\n  /**\n   * Forces an immediate update of collision detection.\n   *\n   * @param immediate - If true, updates collisions immediately. If false, resets previous coordinates.\n   */\n  forceUpdate(immediate = true) {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n      if (immediate) {\n        __privateGet(this, _collisions).value = this.computeCollisions();\n      } else {\n        __privateSet(this, _previousCoordinates, void 0);\n      }\n    });\n  }\n  /**\n   * Computes collisions between draggable and droppable elements.\n   *\n   * @param entries - Optional array of droppable elements to check. If not provided, uses all registered droppables.\n   * @param collisionDetector - Optional custom collision detector function\n   * @returns Array of detected collisions, sorted by priority\n   */\n  computeCollisions(entries, collisionDetector) {\n    const { registry, dragOperation } = this.manager;\n    const { source, shape, status } = dragOperation;\n    if (!status.initialized || !shape) {\n      return DEFAULT_VALUE;\n    }\n    const collisions = [];\n    const potentialTargets = [];\n    for (const entry of entries != null ? entries : registry.droppables) {\n      if (entry.disabled) {\n        continue;\n      }\n      if (source && !entry.accepts(source)) {\n        continue;\n      }\n      const detectCollision = collisionDetector != null ? collisionDetector : entry.collisionDetector;\n      if (!detectCollision) {\n        continue;\n      }\n      potentialTargets.push(entry);\n      void entry.shape;\n      const collision = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(\n        () => detectCollision({\n          droppable: entry,\n          dragOperation\n        })\n      );\n      if (collision) {\n        if (entry.collisionPriority != null) {\n          collision.priority = entry.collisionPriority;\n        }\n        collisions.push(collision);\n      }\n    }\n    if (potentialTargets.length === 0) {\n      return DEFAULT_VALUE;\n    }\n    collisions.sort(sortCollisions);\n    return collisions;\n  }\n  /**\n   * Gets the current collisions signal value.\n   */\n  get collisions() {\n    return __privateGet(this, _collisions).value;\n  }\n};\n_previousCoordinates = new WeakMap();\n_collisions = new WeakMap();\n\n// src/core/manager/events.ts\nvar Monitor = class {\n  constructor() {\n    this.registry = /* @__PURE__ */ new Map();\n  }\n  /**\n   * Adds an event listener for the specified event type.\n   *\n   * @param name - The name of the event to listen for\n   * @param handler - The function to call when the event occurs\n   * @returns A function to remove the event listener\n   */\n  addEventListener(name, handler) {\n    const { registry } = this;\n    const listeners = new Set(registry.get(name));\n    listeners.add(handler);\n    registry.set(name, listeners);\n    return () => this.removeEventListener(name, handler);\n  }\n  /**\n   * Removes an event listener for the specified event type.\n   *\n   * @param name - The name of the event\n   * @param handler - The function to remove\n   */\n  removeEventListener(name, handler) {\n    const { registry } = this;\n    const listeners = new Set(registry.get(name));\n    listeners.delete(handler);\n    registry.set(name, listeners);\n  }\n  /**\n   * Dispatches an event to all registered listeners.\n   *\n   * @param name - The name of the event to dispatch\n   * @param args - Arguments to pass to the event handlers\n   */\n  dispatch(name, ...args) {\n    const { registry } = this;\n    const listeners = registry.get(name);\n    if (!listeners) {\n      return;\n    }\n    for (const listener of listeners) {\n      listener(...args);\n    }\n  }\n};\nvar DragDropMonitor = class extends Monitor {\n  /**\n   * Creates a new drag and drop monitor.\n   *\n   * @param manager - The drag and drop manager to monitor\n   */\n  constructor(manager) {\n    super();\n    this.manager = manager;\n  }\n  /**\n   * Dispatches a drag and drop event.\n   *\n   * @param type - The type of event to dispatch\n   * @param event - The event data to dispatch\n   */\n  dispatch(type, event) {\n    const args = [event, this.manager];\n    super.dispatch(type, ...args);\n  }\n};\nfunction defaultPreventable(event, cancelable = true) {\n  let defaultPrevented = false;\n  return __spreadProps(__spreadValues({}, event), {\n    cancelable,\n    get defaultPrevented() {\n      return defaultPrevented;\n    },\n    preventDefault() {\n      if (!cancelable) {\n        return;\n      }\n      defaultPrevented = true;\n    }\n  });\n}\n\n// src/core/collision/notifier.ts\nvar CollisionNotifier = class extends CorePlugin {\n  constructor(manager) {\n    super(manager);\n    const isEqual = (a, b) => a.map(({ id }) => id).join(\"\") === b.map(({ id }) => id).join(\"\");\n    let previousCollisions = [];\n    this.destroy = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.effects)(\n      () => {\n        const { dragOperation, collisionObserver } = manager;\n        if (dragOperation.status.initializing) {\n          previousCollisions = [];\n          collisionObserver.enable();\n        }\n      },\n      () => {\n        const { collisionObserver, monitor } = manager;\n        const { collisions } = collisionObserver;\n        if (collisionObserver.isDisabled()) {\n          return;\n        }\n        const event = defaultPreventable({\n          collisions\n        });\n        monitor.dispatch(\"collision\", event);\n        if (event.defaultPrevented) {\n          return;\n        }\n        if (isEqual(collisions, previousCollisions)) {\n          return;\n        } else {\n          previousCollisions = collisions;\n        }\n        const [firstCollision] = collisions;\n        (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n          var _a;\n          if ((firstCollision == null ? void 0 : firstCollision.id) !== ((_a = manager.dragOperation.target) == null ? void 0 : _a.id)) {\n            collisionObserver.disable();\n            manager.actions.setDropTarget(firstCollision == null ? void 0 : firstCollision.id).then(() => {\n              collisionObserver.enable();\n            });\n          }\n        });\n      }\n    );\n  }\n};\n\n// src/core/collision/types.ts\nvar CollisionPriority = /* @__PURE__ */ ((CollisionPriority2) => {\n  CollisionPriority2[CollisionPriority2[\"Lowest\"] = 0] = \"Lowest\";\n  CollisionPriority2[CollisionPriority2[\"Low\"] = 1] = \"Low\";\n  CollisionPriority2[CollisionPriority2[\"Normal\"] = 2] = \"Normal\";\n  CollisionPriority2[CollisionPriority2[\"High\"] = 3] = \"High\";\n  CollisionPriority2[CollisionPriority2[\"Highest\"] = 4] = \"Highest\";\n  return CollisionPriority2;\n})(CollisionPriority || {});\nvar CollisionType = /* @__PURE__ */ ((CollisionType2) => {\n  CollisionType2[CollisionType2[\"Collision\"] = 0] = \"Collision\";\n  CollisionType2[CollisionType2[\"ShapeIntersection\"] = 1] = \"ShapeIntersection\";\n  CollisionType2[CollisionType2[\"PointerIntersection\"] = 2] = \"PointerIntersection\";\n  return CollisionType2;\n})(CollisionType || {});\nvar _dropped_dec, _dragging_dec, _initialized_dec, _initializing_dec, _idle_dec, _current_dec, _value_dec, _init2, _value;\n_value_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _current_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _idle_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _initializing_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _initialized_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _dragging_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _dropped_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived];\nvar Status = class {\n  constructor() {\n    __runInitializers(_init2, 5, this);\n    __privateAdd(this, _value, __runInitializers(_init2, 8, this, \"idle\" /* Idle */)), __runInitializers(_init2, 11, this);\n  }\n  get current() {\n    return this.value;\n  }\n  get idle() {\n    return this.value === \"idle\" /* Idle */;\n  }\n  get initializing() {\n    return this.value === \"initializing\" /* Initializing */;\n  }\n  get initialized() {\n    const { value } = this;\n    return value !== \"idle\" /* Idle */ && value !== \"initialization-pending\" /* InitializationPending */;\n  }\n  get dragging() {\n    return this.value === \"dragging\" /* Dragging */;\n  }\n  get dropped() {\n    return this.value === \"dropped\" /* Dropped */;\n  }\n  /**\n   * Sets the current status value.\n   *\n   * @param value - The new status value\n   */\n  set(value) {\n    this.value = value;\n  }\n};\n_init2 = __decoratorStart(null);\n_value = new WeakMap();\n__decorateElement(_init2, 4, \"value\", _value_dec, Status, _value);\n__decorateElement(_init2, 2, \"current\", _current_dec, Status);\n__decorateElement(_init2, 2, \"idle\", _idle_dec, Status);\n__decorateElement(_init2, 2, \"initializing\", _initializing_dec, Status);\n__decorateElement(_init2, 2, \"initialized\", _initialized_dec, Status);\n__decorateElement(_init2, 2, \"dragging\", _dragging_dec, Status);\n__decorateElement(_init2, 2, \"dropped\", _dropped_dec, Status);\n__decoratorMetadata(_init2, Status);\n\n// src/core/manager/actions.ts\nvar DragActions = class {\n  /**\n   * Creates a new instance of drag actions.\n   *\n   * @param manager - The drag and drop manager instance\n   */\n  constructor(manager) {\n    this.manager = manager;\n  }\n  /**\n   * Sets the source of the drag operation.\n   *\n   * @param source - The draggable entity or its unique identifier\n   */\n  setDragSource(source) {\n    const { dragOperation } = this.manager;\n    dragOperation.sourceIdentifier = typeof source === \"string\" || typeof source === \"number\" ? source : source.id;\n  }\n  /**\n   * Sets the target of the drop operation.\n   *\n   * @param identifier - The unique identifier of the droppable entity or null/undefined\n   * @returns A promise that resolves to true if the drop was prevented\n   */\n  setDropTarget(identifier) {\n    return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n      const { dragOperation } = this.manager;\n      const id = identifier != null ? identifier : null;\n      if (dragOperation.targetIdentifier === id) {\n        return Promise.resolve(false);\n      }\n      dragOperation.targetIdentifier = id;\n      const event = defaultPreventable({\n        operation: dragOperation.snapshot()\n      });\n      if (dragOperation.status.dragging) {\n        this.manager.monitor.dispatch(\"dragover\", event);\n      }\n      return this.manager.renderer.rendering.then(() => event.defaultPrevented);\n    });\n  }\n  /**\n   * Starts a new drag operation.\n   *\n   * @param args - Configuration for the drag operation\n   * @param args.event - The event that initiated the drag\n   * @param args.source - The source draggable entity or its identifier\n   * @param args.coordinates - The initial coordinates of the drag\n   * @returns true if the drag operation started successfully\n   * @throws {Error} If there is no drag source or another operation is active\n   */\n  start(args) {\n    return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n      const { dragOperation } = this.manager;\n      if (args.source != null) {\n        this.setDragSource(args.source);\n      }\n      const sourceInstance = dragOperation.source;\n      if (!sourceInstance) {\n        throw new Error(\"Cannot start a drag operation without a drag source\");\n      }\n      if (!dragOperation.status.idle) {\n        throw new Error(\n          \"Cannot start a drag operation while another is active\"\n        );\n      }\n      const controller = new AbortController();\n      const { event: nativeEvent, coordinates } = args;\n      (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n        dragOperation.status.set(\"initialization-pending\" /* InitializationPending */);\n        dragOperation.shape = null;\n        dragOperation.canceled = false;\n        dragOperation.activatorEvent = nativeEvent != null ? nativeEvent : null;\n        dragOperation.position.reset(coordinates);\n      });\n      const beforeStartEvent = defaultPreventable({\n        operation: dragOperation.snapshot()\n      });\n      this.manager.monitor.dispatch(\"beforedragstart\", beforeStartEvent);\n      if (beforeStartEvent.defaultPrevented) {\n        dragOperation.reset();\n        controller.abort();\n        return controller;\n      }\n      dragOperation.status.set(\"initializing\" /* Initializing */);\n      dragOperation.controller = controller;\n      this.manager.renderer.rendering.then(() => {\n        if (controller.signal.aborted) return;\n        const { status } = dragOperation;\n        if (status.current !== \"initializing\" /* Initializing */) return;\n        dragOperation.status.set(\"dragging\" /* Dragging */);\n        this.manager.monitor.dispatch(\"dragstart\", {\n          nativeEvent,\n          operation: dragOperation.snapshot(),\n          cancelable: false\n        });\n      });\n      return controller;\n    });\n  }\n  /**\n   * Moves the dragged entity to a new position.\n   *\n   * @param args - Configuration for the move operation\n   * @param args.by - Relative coordinates to move by\n   * @param args.to - Absolute coordinates to move to\n   * @param args.event - The event that triggered the move\n   * @param args.cancelable - Whether the move can be canceled\n   * @param args.propagate - Whether to dispatch dragmove events\n   */\n  move(args) {\n    return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n      var _a, _b;\n      const { dragOperation } = this.manager;\n      const { status, controller } = dragOperation;\n      if (!status.dragging || !controller || controller.signal.aborted) {\n        return;\n      }\n      const event = defaultPreventable(\n        {\n          nativeEvent: args.event,\n          operation: dragOperation.snapshot(),\n          by: args.by,\n          to: args.to\n        },\n        (_a = args.cancelable) != null ? _a : true\n      );\n      if ((_b = args.propagate) != null ? _b : true) {\n        this.manager.monitor.dispatch(\"dragmove\", event);\n      }\n      queueMicrotask(() => {\n        var _a2, _b2, _c3, _d, _e;\n        if (event.defaultPrevented) {\n          return;\n        }\n        const coordinates = (_e = args.to) != null ? _e : {\n          x: dragOperation.position.current.x + ((_b2 = (_a2 = args.by) == null ? void 0 : _a2.x) != null ? _b2 : 0),\n          y: dragOperation.position.current.y + ((_d = (_c3 = args.by) == null ? void 0 : _c3.y) != null ? _d : 0)\n        };\n        dragOperation.position.current = coordinates;\n      });\n    });\n  }\n  /**\n   * Stops the current drag operation.\n   *\n   * @param args - Configuration for stopping the operation\n   * @param args.event - The event that triggered the stop\n   * @param args.canceled - Whether the operation was canceled\n   * @remarks\n   * This method:\n   * - Dispatches a dragend event\n   * - Allows suspension of the operation\n   * - Handles cleanup of the operation state\n   */\n  stop(args = {}) {\n    return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n      var _a, _b;\n      const { dragOperation } = this.manager;\n      const { controller } = dragOperation;\n      if (!controller || controller.signal.aborted) return;\n      let promise;\n      const suspend = () => {\n        const output = {\n          resume: () => {\n          },\n          abort: () => {\n          }\n        };\n        promise = new Promise((resolve, reject) => {\n          output.resume = resolve;\n          output.abort = reject;\n        });\n        return output;\n      };\n      controller.abort();\n      const end = () => {\n        this.manager.renderer.rendering.then(() => {\n          dragOperation.status.set(\"dropped\" /* Dropped */);\n          const dropping = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(\n            () => {\n              var _a2;\n              return ((_a2 = dragOperation.source) == null ? void 0 : _a2.status) === \"dropping\";\n            }\n          );\n          const cleanup = () => {\n            if (dragOperation.controller === controller) {\n              dragOperation.controller = void 0;\n            }\n            dragOperation.reset();\n          };\n          if (dropping) {\n            const { source } = dragOperation;\n            const dispose = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.effect)(() => {\n              if ((source == null ? void 0 : source.status) === \"idle\") {\n                dispose();\n                cleanup();\n              }\n            });\n          } else {\n            this.manager.renderer.rendering.then(cleanup);\n          }\n        });\n      };\n      dragOperation.canceled = (_a = args.canceled) != null ? _a : false;\n      this.manager.monitor.dispatch(\"dragend\", {\n        nativeEvent: args.event,\n        operation: dragOperation.snapshot(),\n        canceled: (_b = args.canceled) != null ? _b : false,\n        suspend\n      });\n      if (promise) {\n        promise.then(end).catch(() => dragOperation.reset());\n      } else {\n        end();\n      }\n    });\n  }\n};\nvar _disabled_dec2, _data_dec, _id_dec, _manager_dec, _init3, _manager, _id, _data, _disabled2;\n_manager_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _id_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _data_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _disabled_dec2 = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive];\nvar Entity = class {\n  /**\n   * Creates a new instance of the `Entity` class.\n   *\n   * @param input - An object containing the initial properties of the entity.\n   * @param manager - The manager that controls the drag and drop operations.\n   */\n  constructor(input, manager) {\n    __privateAdd(this, _manager, __runInitializers(_init3, 8, this)), __runInitializers(_init3, 11, this);\n    __privateAdd(this, _id, __runInitializers(_init3, 12, this)), __runInitializers(_init3, 15, this);\n    __privateAdd(this, _data, __runInitializers(_init3, 16, this)), __runInitializers(_init3, 19, this);\n    __privateAdd(this, _disabled2, __runInitializers(_init3, 20, this)), __runInitializers(_init3, 23, this);\n    const { effects: effects6, id, data = {}, disabled = false, register = true } = input;\n    let previousId = id;\n    this.manager = manager;\n    this.id = id;\n    this.data = data;\n    this.disabled = disabled;\n    this.effects = () => {\n      var _a;\n      return [\n        () => {\n          const { id: id2, manager: manager2 } = this;\n          if (id2 === previousId) {\n            return;\n          }\n          manager2 == null ? void 0 : manager2.registry.register(this);\n          return () => manager2 == null ? void 0 : manager2.registry.unregister(this);\n        },\n        ...(_a = effects6 == null ? void 0 : effects6()) != null ? _a : []\n      ];\n    };\n    this.register = this.register.bind(this);\n    this.unregister = this.unregister.bind(this);\n    this.destroy = this.destroy.bind(this);\n    if (manager && register) {\n      queueMicrotask(this.register);\n    }\n  }\n  /**\n   * A method that registers the entity with the manager.\n   * @returns CleanupFunction | void\n   */\n  register() {\n    var _a;\n    return (_a = this.manager) == null ? void 0 : _a.registry.register(this);\n  }\n  /**\n   * A method that unregisters the entity from the manager.\n   * @returns void\n   */\n  unregister() {\n    var _a;\n    (_a = this.manager) == null ? void 0 : _a.registry.unregister(this);\n  }\n  /**\n   * A method that cleans up the entity when it is no longer needed.\n   * @returns void\n   */\n  destroy() {\n    var _a;\n    (_a = this.manager) == null ? void 0 : _a.registry.unregister(this);\n  }\n};\n_init3 = __decoratorStart(null);\n_manager = new WeakMap();\n_id = new WeakMap();\n_data = new WeakMap();\n_disabled2 = new WeakMap();\n__decorateElement(_init3, 4, \"manager\", _manager_dec, Entity, _manager);\n__decorateElement(_init3, 4, \"id\", _id_dec, Entity, _id);\n__decorateElement(_init3, 4, \"data\", _data_dec, Entity, _data);\n__decorateElement(_init3, 4, \"disabled\", _disabled_dec2, Entity, _disabled2);\n__decoratorMetadata(_init3, Entity);\nvar EntityRegistry = class {\n  constructor() {\n    this.map = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.signal)(/* @__PURE__ */ new Map());\n    this.cleanupFunctions = /* @__PURE__ */ new WeakMap();\n    /**\n     * Registers a entity in the registry.\n     * @param key - The unique identifier of the entity.\n     * @param value - The entity to register.\n     * @returns A function that unregisters the entity.\n     */\n    this.register = (key, value) => {\n      const current = this.map.peek();\n      const currentValue = current.get(key);\n      const unregister = () => this.unregister(key, value);\n      if (currentValue === value) return unregister;\n      if (currentValue) {\n        const cleanup2 = this.cleanupFunctions.get(currentValue);\n        cleanup2 == null ? void 0 : cleanup2();\n        this.cleanupFunctions.delete(currentValue);\n      }\n      const updatedMap = new Map(current);\n      updatedMap.set(key, value);\n      this.map.value = updatedMap;\n      const cleanup = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.effects)(...value.effects());\n      this.cleanupFunctions.set(value, cleanup);\n      return unregister;\n    };\n    /**\n     * Unregisters an entity from the registry.\n     * @param key - The unique identifier of the entity.\n     * @param value - The entity instance to unregister.\n     */\n    this.unregister = (key, value) => {\n      const current = this.map.peek();\n      if (current.get(key) !== value) {\n        return;\n      }\n      const cleanup = this.cleanupFunctions.get(value);\n      cleanup == null ? void 0 : cleanup();\n      this.cleanupFunctions.delete(value);\n      const updatedMap = new Map(current);\n      updatedMap.delete(key);\n      this.map.value = updatedMap;\n    };\n  }\n  /**\n   * Iterator for the EntityRegistry class.\n   * @returns An iterator for the values in the map.\n   */\n  [Symbol.iterator]() {\n    return this.map.peek().values();\n  }\n  get value() {\n    return this.map.value.values();\n  }\n  /**\n   * Checks if a entity with the given identifier exists in the registry.\n   * @param identifier - The unique identifier of the entity.\n   * @returns True if the entity exists, false otherwise.\n   */\n  has(identifier) {\n    return this.map.value.has(identifier);\n  }\n  /**\n   * Retrieves a entity from the registry using its identifier.\n   * @param identifier - The unique identifier of the entity.\n   * @returns The entity if it exists, undefined otherwise.\n   */\n  get(identifier) {\n    return this.map.value.get(identifier);\n  }\n  /**\n   * Destroys all entries in the registry and clears the registry.\n   */\n  destroy() {\n    for (const entry of this) {\n      const cleanup = this.cleanupFunctions.get(entry);\n      cleanup == null ? void 0 : cleanup();\n      entry.destroy();\n    }\n    this.map.value = /* @__PURE__ */ new Map();\n  }\n};\nvar _isDragSource_dec, _isDragging_dec, _isDropping_dec, _status_dec, _modifiers_dec, _type_dec, _c, _init4, _type, _modifiers, _status;\nvar Draggable = class extends (_c = Entity, _type_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _modifiers_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _status_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _isDropping_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _isDragging_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _isDragSource_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _c) {\n  constructor(_a, manager) {\n    var _b = _a, { modifiers, type, sensors } = _b, input = __objRest(_b, [\"modifiers\", \"type\", \"sensors\"]);\n    super(input, manager);\n    __runInitializers(_init4, 5, this);\n    __privateAdd(this, _type, __runInitializers(_init4, 8, this)), __runInitializers(_init4, 11, this);\n    __privateAdd(this, _modifiers, __runInitializers(_init4, 12, this)), __runInitializers(_init4, 15, this);\n    __privateAdd(this, _status, __runInitializers(_init4, 16, this, this.isDragSource ? \"dragging\" : \"idle\")), __runInitializers(_init4, 19, this);\n    this.type = type;\n    this.sensors = sensors;\n    this.modifiers = modifiers;\n    this.alignment = input.alignment;\n  }\n  get isDropping() {\n    return this.status === \"dropping\" && this.isDragSource;\n  }\n  get isDragging() {\n    return this.status === \"dragging\" && this.isDragSource;\n  }\n  get isDragSource() {\n    var _a, _b;\n    return ((_b = (_a = this.manager) == null ? void 0 : _a.dragOperation.source) == null ? void 0 : _b.id) === this.id;\n  }\n};\n_init4 = __decoratorStart(_c);\n_type = new WeakMap();\n_modifiers = new WeakMap();\n_status = new WeakMap();\n__decorateElement(_init4, 4, \"type\", _type_dec, Draggable, _type);\n__decorateElement(_init4, 4, \"modifiers\", _modifiers_dec, Draggable, _modifiers);\n__decorateElement(_init4, 4, \"status\", _status_dec, Draggable, _status);\n__decorateElement(_init4, 2, \"isDropping\", _isDropping_dec, Draggable);\n__decorateElement(_init4, 2, \"isDragging\", _isDragging_dec, Draggable);\n__decorateElement(_init4, 2, \"isDragSource\", _isDragSource_dec, Draggable);\n__decoratorMetadata(_init4, Draggable);\nvar _isDropTarget_dec, _shape_dec, _collisionPriority_dec, _collisionDetector_dec, _type_dec2, _accept_dec, _c2, _init5, _accept, _type2, _collisionDetector, _collisionPriority, _shape;\nvar Droppable = class extends (_c2 = Entity, _accept_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _type_dec2 = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _collisionDetector_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _collisionPriority_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _shape_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _isDropTarget_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _c2) {\n  constructor(_a, manager) {\n    var _b = _a, { accept, collisionDetector, collisionPriority, type } = _b, input = __objRest(_b, [\"accept\", \"collisionDetector\", \"collisionPriority\", \"type\"]);\n    super(input, manager);\n    __runInitializers(_init5, 5, this);\n    __privateAdd(this, _accept, __runInitializers(_init5, 8, this)), __runInitializers(_init5, 11, this);\n    __privateAdd(this, _type2, __runInitializers(_init5, 12, this)), __runInitializers(_init5, 15, this);\n    __privateAdd(this, _collisionDetector, __runInitializers(_init5, 16, this)), __runInitializers(_init5, 19, this);\n    __privateAdd(this, _collisionPriority, __runInitializers(_init5, 20, this)), __runInitializers(_init5, 23, this);\n    __privateAdd(this, _shape, __runInitializers(_init5, 24, this)), __runInitializers(_init5, 27, this);\n    this.accept = accept;\n    this.collisionDetector = collisionDetector;\n    this.collisionPriority = collisionPriority;\n    this.type = type;\n  }\n  /**\n   * Checks whether or not the droppable accepts a given draggable.\n   *\n   * @param draggable - The draggable to check\n   * @returns true if the draggable can be dropped here\n   */\n  accepts(draggable) {\n    const { accept } = this;\n    if (!accept) {\n      return true;\n    }\n    if (typeof accept === \"function\") {\n      return accept(draggable);\n    }\n    if (!draggable.type) {\n      return false;\n    }\n    if (Array.isArray(accept)) {\n      return accept.includes(draggable.type);\n    }\n    return draggable.type === accept;\n  }\n  get isDropTarget() {\n    var _a, _b;\n    return ((_b = (_a = this.manager) == null ? void 0 : _a.dragOperation.target) == null ? void 0 : _b.id) === this.id;\n  }\n};\n_init5 = __decoratorStart(_c2);\n_accept = new WeakMap();\n_type2 = new WeakMap();\n_collisionDetector = new WeakMap();\n_collisionPriority = new WeakMap();\n_shape = new WeakMap();\n__decorateElement(_init5, 4, \"accept\", _accept_dec, Droppable, _accept);\n__decorateElement(_init5, 4, \"type\", _type_dec2, Droppable, _type2);\n__decorateElement(_init5, 4, \"collisionDetector\", _collisionDetector_dec, Droppable, _collisionDetector);\n__decorateElement(_init5, 4, \"collisionPriority\", _collisionPriority_dec, Droppable, _collisionPriority);\n__decorateElement(_init5, 4, \"shape\", _shape_dec, Droppable, _shape);\n__decorateElement(_init5, 2, \"isDropTarget\", _isDropTarget_dec, Droppable);\n__decoratorMetadata(_init5, Droppable);\n\n// src/core/sensors/sensor.ts\nvar Sensor = class extends Plugin {\n  /**\n   * Creates a new sensor instance.\n   *\n   * @param manager - The drag drop manager instance\n   * @param options - Optional sensor configuration\n   */\n  constructor(manager, options) {\n    super(manager, options);\n    this.manager = manager;\n    this.options = options;\n  }\n};\n\n// src/core/modifiers/modifier.ts\nvar Modifier = class extends Plugin {\n  /**\n   * Creates a new modifier instance.\n   *\n   * @param manager - The drag and drop manager that owns this modifier\n   * @param options - Optional configuration for the modifier\n   */\n  constructor(manager, options) {\n    super(manager, options);\n    this.manager = manager;\n    this.options = options;\n  }\n  /**\n   * Applies the modifier to the current drag operation.\n   *\n   * @param operation - The current state of the drag operation\n   * @returns The transformed coordinates\n   *\n   * @remarks\n   * Override this method to implement custom transformation logic.\n   * The default implementation returns the original transform unchanged.\n   */\n  apply(operation) {\n    return operation.transform;\n  }\n};\n\n// src/core/manager/registry.ts\nvar DragDropRegistry = class {\n  /**\n   * Creates a new registry instance.\n   *\n   * @param manager - The drag and drop manager that owns this registry\n   */\n  constructor(manager) {\n    /** Registry for draggable entities */\n    this.draggables = new EntityRegistry();\n    /** Registry for droppable entities */\n    this.droppables = new EntityRegistry();\n    this.plugins = new PluginRegistry(manager);\n    this.sensors = new PluginRegistry(manager);\n    this.modifiers = new PluginRegistry(manager);\n  }\n  register(input, options) {\n    if (input instanceof Draggable) {\n      return this.draggables.register(input.id, input);\n    }\n    if (input instanceof Droppable) {\n      return this.droppables.register(input.id, input);\n    }\n    if (input.prototype instanceof Modifier) {\n      return this.modifiers.register(input, options);\n    }\n    if (input.prototype instanceof Sensor) {\n      return this.sensors.register(input, options);\n    }\n    if (input.prototype instanceof Plugin) {\n      return this.plugins.register(input, options);\n    }\n    throw new Error(\"Invalid instance type\");\n  }\n  unregister(input) {\n    if (input instanceof Entity) {\n      if (input instanceof Draggable) {\n        return this.draggables.unregister(input.id, input);\n      }\n      if (input instanceof Droppable) {\n        return this.droppables.unregister(input.id, input);\n      }\n      return () => {\n      };\n    }\n    if (input.prototype instanceof Modifier) {\n      return this.modifiers.unregister(input);\n    }\n    if (input.prototype instanceof Sensor) {\n      return this.sensors.unregister(input);\n    }\n    if (input.prototype instanceof Plugin) {\n      return this.plugins.unregister(input);\n    }\n    throw new Error(\"Invalid instance type\");\n  }\n  /**\n   * Destroys all registered entities and cleans up resources.\n   *\n   * @remarks\n   * This method:\n   * - Destroys all draggable and droppable entities\n   * - Destroys all plugins, sensors, and modifiers\n   * - Cleans up any associated resources\n   */\n  destroy() {\n    this.draggables.destroy();\n    this.droppables.destroy();\n    this.plugins.destroy();\n    this.sensors.destroy();\n    this.modifiers.destroy();\n  }\n};\nvar _transform_dec, _target_dec, _source_dec, _modifiers_dec2, _targetIdentifier_dec, _sourceIdentifier_dec, _activatorEvent_dec, _canceled_dec, _shape_dec2, _manager2, _previousSource, _shape2, _init6, _canceled, _activatorEvent, _sourceIdentifier, _targetIdentifier, _modifiers2, _transform;\n_shape_dec2 = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _canceled_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _activatorEvent_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _sourceIdentifier_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _targetIdentifier_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _modifiers_dec2 = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.reactive], _source_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _target_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _transform_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived];\nvar DragOperation = class {\n  /**\n   * Creates a new drag operation instance.\n   *\n   * @param manager - The drag and drop manager that owns this operation\n   */\n  constructor(manager) {\n    __runInitializers(_init6, 5, this);\n    __privateAdd(this, _manager2);\n    __privateAdd(this, _previousSource);\n    __privateAdd(this, _shape2, new _dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.ValueHistory(\n      void 0,\n      (a, b) => a && b ? a.equals(b) : a === b\n    ));\n    /** Current status of the drag operation */\n    this.status = new Status();\n    __privateAdd(this, _canceled, __runInitializers(_init6, 8, this, false)), __runInitializers(_init6, 11, this);\n    __privateAdd(this, _activatorEvent, __runInitializers(_init6, 12, this, null)), __runInitializers(_init6, 15, this);\n    __privateAdd(this, _sourceIdentifier, __runInitializers(_init6, 16, this, null)), __runInitializers(_init6, 19, this);\n    __privateAdd(this, _targetIdentifier, __runInitializers(_init6, 20, this, null)), __runInitializers(_init6, 23, this);\n    __privateAdd(this, _modifiers2, __runInitializers(_init6, 24, this, [])), __runInitializers(_init6, 27, this);\n    /** Current position of the dragged entity */\n    this.position = new _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_2__.Position({ x: 0, y: 0 });\n    __privateAdd(this, _transform, { x: 0, y: 0 });\n    __privateSet(this, _manager2, manager);\n  }\n  get shape() {\n    const { current, initial, previous } = __privateGet(this, _shape2);\n    if (!current || !initial) {\n      return null;\n    }\n    return { current, initial, previous };\n  }\n  /**\n   * Sets the shape of the dragged entity.\n   *\n   * @param value - The new shape or null to reset\n   */\n  set shape(value) {\n    if (!value) {\n      __privateGet(this, _shape2).reset();\n    } else {\n      __privateGet(this, _shape2).current = value;\n    }\n  }\n  get source() {\n    var _a;\n    const identifier = this.sourceIdentifier;\n    if (identifier == null) return null;\n    const value = __privateGet(this, _manager2).registry.draggables.get(identifier);\n    if (value) {\n      __privateSet(this, _previousSource, value);\n    }\n    return (_a = value != null ? value : __privateGet(this, _previousSource)) != null ? _a : null;\n  }\n  get target() {\n    var _a;\n    const identifier = this.targetIdentifier;\n    return identifier != null ? (_a = __privateGet(this, _manager2).registry.droppables.get(identifier)) != null ? _a : null : null;\n  }\n  get transform() {\n    const { x, y } = this.position.delta;\n    let transform = { x, y };\n    for (const modifier of this.modifiers) {\n      transform = modifier.apply(__spreadProps(__spreadValues({}, this.snapshot()), {\n        transform\n      }));\n    }\n    __privateSet(this, _transform, transform);\n    return transform;\n  }\n  /**\n   * Creates a snapshot of the current drag operation state.\n   *\n   * @returns An immutable snapshot of the current operation state\n   */\n  snapshot() {\n    return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => ({\n      source: this.source,\n      target: this.target,\n      activatorEvent: this.activatorEvent,\n      transform: __privateGet(this, _transform),\n      shape: this.shape ? (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.snapshot)(this.shape) : null,\n      position: (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.snapshot)(this.position),\n      status: (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.snapshot)(this.status),\n      canceled: this.canceled\n    }));\n  }\n  /**\n   * Resets the drag operation to its initial state.\n   *\n   * @remarks\n   * This method:\n   * - Sets status to idle\n   * - Clears source and target identifiers\n   * - Resets shape history\n   * - Resets position and transform\n   * - Clears modifiers\n   */\n  reset() {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      this.status.set(\"idle\" /* Idle */);\n      this.sourceIdentifier = null;\n      this.targetIdentifier = null;\n      __privateGet(this, _shape2).reset();\n      this.position.reset({ x: 0, y: 0 });\n      __privateSet(this, _transform, { x: 0, y: 0 });\n      this.modifiers = [];\n    });\n  }\n};\n_init6 = __decoratorStart(null);\n_manager2 = new WeakMap();\n_previousSource = new WeakMap();\n_shape2 = new WeakMap();\n_canceled = new WeakMap();\n_activatorEvent = new WeakMap();\n_sourceIdentifier = new WeakMap();\n_targetIdentifier = new WeakMap();\n_modifiers2 = new WeakMap();\n_transform = new WeakMap();\n__decorateElement(_init6, 2, \"shape\", _shape_dec2, DragOperation);\n__decorateElement(_init6, 4, \"canceled\", _canceled_dec, DragOperation, _canceled);\n__decorateElement(_init6, 4, \"activatorEvent\", _activatorEvent_dec, DragOperation, _activatorEvent);\n__decorateElement(_init6, 4, \"sourceIdentifier\", _sourceIdentifier_dec, DragOperation, _sourceIdentifier);\n__decorateElement(_init6, 4, \"targetIdentifier\", _targetIdentifier_dec, DragOperation, _targetIdentifier);\n__decorateElement(_init6, 4, \"modifiers\", _modifiers_dec2, DragOperation, _modifiers2);\n__decorateElement(_init6, 2, \"source\", _source_dec, DragOperation);\n__decorateElement(_init6, 2, \"target\", _target_dec, DragOperation);\n__decorateElement(_init6, 2, \"transform\", _transform_dec, DragOperation);\n__decoratorMetadata(_init6, DragOperation);\n\n// src/core/manager/renderer.ts\nvar defaultRenderer = {\n  get rendering() {\n    return Promise.resolve();\n  }\n};\n\n// src/core/manager/manager.ts\nvar DragDropManager = class {\n  /**\n   * Creates a new drag and drop manager instance.\n   *\n   * @param config - Optional configuration for plugins, sensors, modifiers, and renderer\n   */\n  constructor(config) {\n    /**\n     * Cleans up resources and stops any active drag operations.\n     */\n    this.destroy = () => {\n      if (!this.dragOperation.status.idle) {\n        this.actions.stop({ canceled: true });\n      }\n      this.dragOperation.modifiers.forEach((modifier) => modifier.destroy());\n      this.registry.destroy();\n      this.collisionObserver.destroy();\n    };\n    const {\n      plugins = [],\n      sensors = [],\n      modifiers = [],\n      renderer = defaultRenderer\n    } = config != null ? config : {};\n    const monitor = new DragDropMonitor(this);\n    const registry = new DragDropRegistry(this);\n    this.registry = registry;\n    this.monitor = monitor;\n    this.renderer = renderer;\n    this.actions = new DragActions(this);\n    this.dragOperation = new DragOperation(this);\n    this.collisionObserver = new CollisionObserver(this);\n    this.plugins = [CollisionNotifier, ...plugins];\n    this.modifiers = modifiers;\n    this.sensors = sensors;\n    const { destroy } = this;\n    const cleanup = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.effects)(() => {\n      var _a, _b, _c3;\n      const currentModifiers = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => this.dragOperation.modifiers);\n      const managerModifiers = this.modifiers;\n      if (currentModifiers !== managerModifiers) {\n        currentModifiers.forEach((modifier) => modifier.destroy());\n      }\n      this.dragOperation.modifiers = (_c3 = (_b = (_a = this.dragOperation.source) == null ? void 0 : _a.modifiers) == null ? void 0 : _b.map((modifier) => {\n        const { plugin, options } = descriptor(modifier);\n        return new plugin(this, options);\n      })) != null ? _c3 : managerModifiers;\n    });\n    this.destroy = () => {\n      cleanup();\n      destroy();\n    };\n  }\n  /**\n   * Gets the list of active plugins.\n   *\n   * @returns Array of active plugin instances\n   */\n  get plugins() {\n    return this.registry.plugins.values;\n  }\n  /**\n   * Sets the list of plugins to be used by the manager.\n   *\n   * @param plugins - Array of plugin constructors or instances\n   */\n  set plugins(plugins) {\n    this.registry.plugins.values = plugins;\n  }\n  /**\n   * Gets the list of active modifiers.\n   *\n   * @returns Array of active modifier instances\n   */\n  get modifiers() {\n    return this.registry.modifiers.values;\n  }\n  /**\n   * Sets the list of modifiers to be used by the manager.\n   *\n   * @param modifiers - Array of modifier constructors or instances\n   */\n  set modifiers(modifiers) {\n    this.registry.modifiers.values = modifiers;\n  }\n  /**\n   * Gets the list of active sensors.\n   *\n   * @returns Array of active sensor instances\n   */\n  get sensors() {\n    return this.registry.sensors.values;\n  }\n  /**\n   * Sets the list of sensors to be used by the manager.\n   *\n   * @param sensors - Array of sensor constructors or instances\n   */\n  set sensors(sensors) {\n    this.registry.sensors.values = sensors;\n  }\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCthYnN0cmFjdEAwLjEuMjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2Fic3RyYWN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzSDtBQUN6RTs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwyQkFBMkI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLHdKQUF3SjtBQUN6TjtBQUNBO0FBQ0Esa0VBQWtFLE9BQU87QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEhBQTBIO0FBQzFIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0NBQXNDLFFBQVE7QUFDOUMsK0NBQStDO0FBQy9DO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRiwrQkFBK0I7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLG9EQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseURBQVM7QUFDcEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0RBQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNEQUFNO0FBQzFDLG1CQUFtQix1REFBTztBQUMxQjtBQUNBO0FBQ0EsNEJBQTRCLHlEQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlEQUFTO0FBQ2I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMEJBQTBCO0FBQ3RDLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsSUFBSSwrQkFBK0IsSUFBSTtBQUM5RTtBQUNBLG1CQUFtQix1REFBTztBQUMxQjtBQUNBLGdCQUFnQixtQ0FBbUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxnQkFBZ0IsNkJBQTZCO0FBQzdDLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFFBQVEseURBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx5QkFBeUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCO0FBQ3RCO0FBQ0EsY0FBYyxvREFBUSxtQkFBbUIsbURBQU8sZ0JBQWdCLG1EQUFPLHdCQUF3QixtREFBTyx1QkFBdUIsbURBQU8sb0JBQW9CLG1EQUFPLG1CQUFtQixtREFBTztBQUN6TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5REFBUztBQUNwQixjQUFjLGdCQUFnQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBLFdBQVcseURBQVM7QUFDcEIsY0FBYyxnQkFBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtDQUFrQztBQUNoRCxNQUFNLHFEQUFLO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFTO0FBQ3BCO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUIsY0FBYyxxQkFBcUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsV0FBVyx5REFBUztBQUNwQjtBQUNBLGNBQWMsZ0JBQWdCO0FBQzlCLGNBQWMsYUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0IsNEJBQTRCLHNEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0RBQVEsY0FBYyxvREFBUSxnQkFBZ0Isb0RBQVEscUJBQXFCLG9EQUFRO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0NBQWdDLHNDQUFzQztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkJBQTZCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsb0RBQVEscUJBQXFCLG9EQUFRLGtCQUFrQixvREFBUSxzQkFBc0IsbURBQU8sc0JBQXNCLG1EQUFPLHdCQUF3QixtREFBTztBQUNqTjtBQUNBLG1CQUFtQiwyQkFBMkI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG9EQUFRLGlCQUFpQixvREFBUSw2QkFBNkIsb0RBQVEsNkJBQTZCLG9EQUFRLGlCQUFpQixvREFBUSx3QkFBd0IsbURBQU87QUFDL047QUFDQSxtQkFBbUIscURBQXFEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQU8sb0JBQW9CLG9EQUFRLDBCQUEwQixvREFBUSw0QkFBNEIsb0RBQVEsNEJBQTRCLG9EQUFRLHNCQUFzQixvREFBUSxrQkFBa0IsbURBQU8sa0JBQWtCLG1EQUFPLHFCQUFxQixtREFBTztBQUN4UTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3REFBWTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVEQUFRLEdBQUcsWUFBWTtBQUMvQyxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZCQUE2QjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLHNCQUFzQjtBQUN0QjtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseURBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0RBQVE7QUFDbEMsZ0JBQWdCLHdEQUFRO0FBQ3hCLGNBQWMsd0RBQVE7QUFDdEI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFLO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsWUFBWTtBQUN4Qyx1Q0FBdUMsWUFBWTtBQUNuRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsb0JBQW9CLHVEQUFPO0FBQzNCO0FBQ0EsK0JBQStCLHlEQUFTO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTZOO0FBQzdOO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCthYnN0cmFjdEAwLjEuMjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2Fic3RyYWN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVudHJhY2tlZCwgZWZmZWN0LCBlZmZlY3RzLCByZWFjdGl2ZSwgZGVyaXZlZCwgVmFsdWVIaXN0b3J5LCBzbmFwc2hvdCwgYmF0Y2gsIHNpZ25hbCB9IGZyb20gJ0BkbmQta2l0L3N0YXRlJztcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnQGRuZC1raXQvZ2VvbWV0cnknO1xuXG52YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19rbm93blN5bWJvbCA9IChuYW1lLCBzeW1ib2wpID0+IChzeW1ib2wgPSBTeW1ib2xbbmFtZV0pID8gc3ltYm9sIDogU3ltYm9sLmZvcihcIlN5bWJvbC5cIiArIG5hbWUpO1xudmFyIF9fdHlwZUVycm9yID0gKG1zZykgPT4ge1xuICB0aHJvdyBUeXBlRXJyb3IobXNnKTtcbn07XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG52YXIgX19uYW1lID0gKHRhcmdldCwgdmFsdWUpID0+IF9fZGVmUHJvcCh0YXJnZXQsIFwibmFtZVwiLCB7IHZhbHVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG52YXIgX19vYmpSZXN0ID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0uY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbnZhciBfX2RlY29yYXRvclN0YXJ0ID0gKGJhc2UpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gWywgLCAsIF9fY3JlYXRlKChfYSA9IGJhc2UgPT0gbnVsbCA/IHZvaWQgMCA6IGJhc2VbX19rbm93blN5bWJvbChcIm1ldGFkYXRhXCIpXSkgIT0gbnVsbCA/IF9hIDogbnVsbCldO1xufTtcbnZhciBfX2RlY29yYXRvclN0cmluZ3MgPSBbXCJjbGFzc1wiLCBcIm1ldGhvZFwiLCBcImdldHRlclwiLCBcInNldHRlclwiLCBcImFjY2Vzc29yXCIsIFwiZmllbGRcIiwgXCJ2YWx1ZVwiLCBcImdldFwiLCBcInNldFwiXTtcbnZhciBfX2V4cGVjdEZuID0gKGZuKSA9PiBmbiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiID8gX190eXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKSA6IGZuO1xudmFyIF9fZGVjb3JhdG9yQ29udGV4dCA9IChraW5kLCBuYW1lLCBkb25lLCBtZXRhZGF0YSwgZm5zKSA9PiAoeyBraW5kOiBfX2RlY29yYXRvclN0cmluZ3Nba2luZF0sIG5hbWUsIG1ldGFkYXRhLCBhZGRJbml0aWFsaXplcjogKGZuKSA9PiBkb25lLl8gPyBfX3R5cGVFcnJvcihcIkFscmVhZHkgaW5pdGlhbGl6ZWRcIikgOiBmbnMucHVzaChfX2V4cGVjdEZuKGZuIHx8IG51bGwpKSB9KTtcbnZhciBfX2RlY29yYXRvck1ldGFkYXRhID0gKGFycmF5LCB0YXJnZXQpID0+IF9fZGVmTm9ybWFsUHJvcCh0YXJnZXQsIF9fa25vd25TeW1ib2woXCJtZXRhZGF0YVwiKSwgYXJyYXlbM10pO1xudmFyIF9fcnVuSW5pdGlhbGl6ZXJzID0gKGFycmF5LCBmbGFncywgc2VsZiwgdmFsdWUpID0+IHtcbiAgZm9yICh2YXIgaSA9IDAsIGZucyA9IGFycmF5W2ZsYWdzID4+IDFdLCBuID0gZm5zICYmIGZucy5sZW5ndGg7IGkgPCBuOyBpKyspIGZsYWdzICYgMSA/IGZuc1tpXS5jYWxsKHNlbGYpIDogdmFsdWUgPSBmbnNbaV0uY2FsbChzZWxmLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX19kZWNvcmF0ZUVsZW1lbnQgPSAoYXJyYXksIGZsYWdzLCBuYW1lLCBkZWNvcmF0b3JzLCB0YXJnZXQsIGV4dHJhKSA9PiB7XG4gIHZhciBmbiwgaXQsIGRvbmUsIGN0eCwgYWNjZXNzLCBrID0gZmxhZ3MgJiA3LCBzID0gISEoZmxhZ3MgJiA4KSwgcCA9ICEhKGZsYWdzICYgMTYpO1xuICB2YXIgaiA9IGsgPiAzID8gYXJyYXkubGVuZ3RoICsgMSA6IGsgPyBzID8gMSA6IDIgOiAwLCBrZXkgPSBfX2RlY29yYXRvclN0cmluZ3NbayArIDVdO1xuICB2YXIgaW5pdGlhbGl6ZXJzID0gayA+IDMgJiYgKGFycmF5W2ogLSAxXSA9IFtdKSwgZXh0cmFJbml0aWFsaXplcnMgPSBhcnJheVtqXSB8fCAoYXJyYXlbal0gPSBbXSk7XG4gIHZhciBkZXNjID0gayAmJiAoIXAgJiYgIXMgJiYgKHRhcmdldCA9IHRhcmdldC5wcm90b3R5cGUpLCBrIDwgNSAmJiAoayA+IDMgfHwgIXApICYmIF9fZ2V0T3duUHJvcERlc2MoayA8IDQgPyB0YXJnZXQgOiB7IGdldCBbbmFtZV0oKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBleHRyYSk7XG4gIH0sIHNldCBbbmFtZV0oeCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVTZXQodGhpcywgZXh0cmEsIHgpO1xuICB9IH0sIG5hbWUpKTtcbiAgayA/IHAgJiYgayA8IDQgJiYgX19uYW1lKGV4dHJhLCAoayA+IDIgPyBcInNldCBcIiA6IGsgPiAxID8gXCJnZXQgXCIgOiBcIlwiKSArIG5hbWUpIDogX19uYW1lKHRhcmdldCwgbmFtZSk7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY3R4ID0gX19kZWNvcmF0b3JDb250ZXh0KGssIG5hbWUsIGRvbmUgPSB7fSwgYXJyYXlbM10sIGV4dHJhSW5pdGlhbGl6ZXJzKTtcbiAgICBpZiAoaykge1xuICAgICAgY3R4LnN0YXRpYyA9IHMsIGN0eC5wcml2YXRlID0gcCwgYWNjZXNzID0gY3R4LmFjY2VzcyA9IHsgaGFzOiBwID8gKHgpID0+IF9fcHJpdmF0ZUluKHRhcmdldCwgeCkgOiAoeCkgPT4gbmFtZSBpbiB4IH07XG4gICAgICBpZiAoayBeIDMpIGFjY2Vzcy5nZXQgPSBwID8gKHgpID0+IChrIF4gMSA/IF9fcHJpdmF0ZUdldCA6IF9fcHJpdmF0ZU1ldGhvZCkoeCwgdGFyZ2V0LCBrIF4gNCA/IGV4dHJhIDogZGVzYy5nZXQpIDogKHgpID0+IHhbbmFtZV07XG4gICAgICBpZiAoayA+IDIpIGFjY2Vzcy5zZXQgPSBwID8gKHgsIHkpID0+IF9fcHJpdmF0ZVNldCh4LCB0YXJnZXQsIHksIGsgXiA0ID8gZXh0cmEgOiBkZXNjLnNldCkgOiAoeCwgeSkgPT4geFtuYW1lXSA9IHk7XG4gICAgfVxuICAgIGl0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGsgPyBrIDwgNCA/IHAgPyBleHRyYSA6IGRlc2Nba2V5XSA6IGsgPiA0ID8gdm9pZCAwIDogeyBnZXQ6IGRlc2MuZ2V0LCBzZXQ6IGRlc2Muc2V0IH0gOiB0YXJnZXQsIGN0eCksIGRvbmUuXyA9IDE7XG4gICAgaWYgKGsgXiA0IHx8IGl0ID09PSB2b2lkIDApIF9fZXhwZWN0Rm4oaXQpICYmIChrID4gNCA/IGluaXRpYWxpemVycy51bnNoaWZ0KGl0KSA6IGsgPyBwID8gZXh0cmEgPSBpdCA6IGRlc2Nba2V5XSA9IGl0IDogdGFyZ2V0ID0gaXQpO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBpdCAhPT0gXCJvYmplY3RcIiB8fCBpdCA9PT0gbnVsbCkgX190eXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgZWxzZSBfX2V4cGVjdEZuKGZuID0gaXQuZ2V0KSAmJiAoZGVzYy5nZXQgPSBmbiksIF9fZXhwZWN0Rm4oZm4gPSBpdC5zZXQpICYmIChkZXNjLnNldCA9IGZuKSwgX19leHBlY3RGbihmbiA9IGl0LmluaXQpICYmIGluaXRpYWxpemVycy51bnNoaWZ0KGZuKTtcbiAgfVxuICByZXR1cm4gayB8fCBfX2RlY29yYXRvck1ldGFkYXRhKGFycmF5LCB0YXJnZXQpLCBkZXNjICYmIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIGRlc2MpLCBwID8gayBeIDQgPyBleHRyYSA6IGRlc2MgOiB0YXJnZXQ7XG59O1xudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4gbWVtYmVyLmhhcyhvYmopIHx8IF9fdHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbnZhciBfX3ByaXZhdGVJbiA9IChtZW1iZXIsIG9iaikgPT4gT2JqZWN0KG9iaikgIT09IG9iaiA/IF9fdHlwZUVycm9yKCdDYW5ub3QgdXNlIHRoZSBcImluXCIgb3BlcmF0b3Igb24gdGhpcyB2YWx1ZScpIDogbWVtYmVyLmhhcyhvYmopO1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSk7XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4gbWVtYmVyLmhhcyhvYmopID8gX190eXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpIDogbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSksIHZhbHVlKTtcbnZhciBfX3ByaXZhdGVNZXRob2QgPSAob2JqLCBtZW1iZXIsIG1ldGhvZCkgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwiYWNjZXNzIHByaXZhdGUgbWV0aG9kXCIpLCBtZXRob2QpO1xuXG4vLyBzcmMvY29yZS9wbHVnaW5zL3V0aWxpdGllcy50c1xuZnVuY3Rpb24gY29uZmlndXJlKHBsdWdpbiwgb3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIHBsdWdpbixcbiAgICBvcHRpb25zXG4gIH07XG59XG5mdW5jdGlvbiBjb25maWd1cmF0b3IocGx1Z2luKSB7XG4gIHJldHVybiAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiBjb25maWd1cmUocGx1Z2luLCBvcHRpb25zKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGRlc2NyaXB0b3IocGx1Z2luKSB7XG4gIGlmICh0eXBlb2YgcGx1Z2luID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGx1Z2luLFxuICAgICAgb3B0aW9uczogdm9pZCAwXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcGx1Z2luO1xufVxuXG4vLyBzcmMvY29yZS9wbHVnaW5zL3BsdWdpbi50c1xudmFyIF9kaXNhYmxlZF9kZWMsIF9pbml0LCBfZGlzYWJsZWQsIF9jbGVhbnVwRnVuY3Rpb25zO1xuX2Rpc2FibGVkX2RlYyA9IFtyZWFjdGl2ZV07XG52YXIgUGx1Z2luID0gY2xhc3Mge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBwbHVnaW4gaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBtYW5hZ2VyIC0gVGhlIGRyYWcgYW5kIGRyb3AgbWFuYWdlciB0aGF0IG93bnMgdGhpcyBwbHVnaW5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgcGx1Z2luXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyLCBvcHRpb25zKSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfZGlzYWJsZWQsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCA4LCB0aGlzLCBmYWxzZSkpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdCwgMTEsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2xlYW51cEZ1bmN0aW9ucywgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgYSBkaXNhYmxlZCBwbHVnaW4gaW5zdGFuY2UuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgbWV0aG9kIHRyaWdnZXJzIGVmZmVjdHMgd2hlbiBjYWxsZWQuXG4gICAqL1xuICBlbmFibGUoKSB7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlcyBhbiBlbmFibGVkIHBsdWdpbiBpbnN0YW5jZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2QgdHJpZ2dlcnMgZWZmZWN0cyB3aGVuIGNhbGxlZC5cbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgcGx1Z2luIGluc3RhbmNlIGlzIGRpc2FibGVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWRcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2QgZG9lcyBub3QgdHJpZ2dlciBlZmZlY3RzIHdoZW4gYWNjZXNzZWQuXG4gICAqL1xuICBpc0Rpc2FibGVkKCkge1xuICAgIHJldHVybiB1bnRyYWNrZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzYWJsZWQ7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbmZpZ3VyZXMgYSBwbHVnaW4gaW5zdGFuY2Ugd2l0aCBuZXcgb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgbmV3IG9wdGlvbnMgdG8gYXBwbHlcbiAgICovXG4gIGNvbmZpZ3VyZShvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXJzIGFuIGVmZmVjdCB0aGF0IHdpbGwgYmUgY2xlYW5lZCB1cCB3aGVuIHRoZSBwbHVnaW4gaXMgZGVzdHJveWVkLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZWZmZWN0IGNhbGxiYWNrIHRvIHJlZ2lzdGVyXG4gICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gZGlzcG9zZSBvZiB0aGUgZWZmZWN0XG4gICAqL1xuICByZWdpc3RlckVmZmVjdChjYWxsYmFjaykge1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBlZmZlY3QoY2FsbGJhY2suYmluZCh0aGlzKSk7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9jbGVhbnVwRnVuY3Rpb25zKS5hZGQoZGlzcG9zZSk7XG4gICAgcmV0dXJuIGRpc3Bvc2U7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGEgcGx1Z2luIGluc3RhbmNlIGFuZCBjbGVhbnMgdXAgaXRzIHJlc291cmNlcy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2Q6XG4gICAqIC0gQ2FsbHMgYWxsIHJlZ2lzdGVyZWQgY2xlYW51cCBmdW5jdGlvbnNcbiAgICogLSBTaG91bGQgYmUgb3ZlcnJpZGRlbiBieSBzdWJjbGFzc2VzIHRvIGNsZWFuIHVwIGFkZGl0aW9uYWwgcmVzb3VyY2VzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xlYW51cEZ1bmN0aW9ucykuZm9yRWFjaCgoY2xlYW51cCkgPT4gY2xlYW51cCgpKTtcbiAgfVxuICAvKipcbiAgICogQ29uZmlndXJlcyBhIHBsdWdpbiBjb25zdHJ1Y3RvciB3aXRoIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgdG8gY29uZmlndXJlIHRoZSBjb25zdHJ1Y3RvciB3aXRoXG4gICAqIEByZXR1cm5zIFRoZSBjb25maWd1cmVkIHBsdWdpbiBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUgb3B0aW9ucyB0aGF0IHRoZVxuICAgKiBwbHVnaW4gY29uc3RydWN0b3Igd2lsbCB1c2UgdG8gY3JlYXRlIHBsdWdpbiBpbnN0YW5jZXMuXG4gICAqL1xuICBzdGF0aWMgY29uZmlndXJlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY29uZmlndXJlKHRoaXMsIG9wdGlvbnMpO1xuICB9XG59O1xuX2luaXQgPSBfX2RlY29yYXRvclN0YXJ0KG51bGwpO1xuX2Rpc2FibGVkID0gbmV3IFdlYWtNYXAoKTtcbl9jbGVhbnVwRnVuY3Rpb25zID0gbmV3IFdlYWtNYXAoKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0LCA0LCBcImRpc2FibGVkXCIsIF9kaXNhYmxlZF9kZWMsIFBsdWdpbiwgX2Rpc2FibGVkKTtcbl9fZGVjb3JhdG9yTWV0YWRhdGEoX2luaXQsIFBsdWdpbik7XG52YXIgQ29yZVBsdWdpbiA9IGNsYXNzIGV4dGVuZHMgUGx1Z2luIHtcbn07XG5cbi8vIHNyYy9jb3JlL3BsdWdpbnMvcmVnaXN0cnkudHNcbnZhciBfcHJldmlvdXNWYWx1ZXM7XG52YXIgUGx1Z2luUmVnaXN0cnkgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHBsdWdpbiByZWdpc3RyeS5cbiAgICpcbiAgICogQHBhcmFtIG1hbmFnZXIgLSBUaGUgZHJhZyBhbmQgZHJvcCBtYW5hZ2VyIHRoYXQgb3ducyB0aGlzIHJlZ2lzdHJ5XG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLmluc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9wcmV2aW91c1ZhbHVlcywgW10pO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIGFsbCByZWdpc3RlcmVkIHBsdWdpbiBpbnN0YW5jZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGFsbCBhY3RpdmUgcGx1Z2luIGluc3RhbmNlc1xuICAgKi9cbiAgZ2V0IHZhbHVlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmluc3RhbmNlcy52YWx1ZXMoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgcGx1Z2lucyB0byBiZSB1c2VkIGJ5IHRoZSByZWdpc3RyeS5cbiAgICpcbiAgICogQHBhcmFtIGVudHJpZXMgLSBBcnJheSBvZiBwbHVnaW4gY29uc3RydWN0b3JzIG9yIGRlc2NyaXB0b3JzXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgbWV0aG9kOlxuICAgKiAtIEZpbHRlcnMgb3V0IGR1cGxpY2F0ZSBwbHVnaW5zXG4gICAqIC0gVW5yZWdpc3RlcnMgcGx1Z2lucyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdXNlXG4gICAqIC0gUmVnaXN0ZXJzIG5ldyBwbHVnaW5zIHdpdGggdGhlaXIgb3B0aW9uc1xuICAgKi9cbiAgc2V0IHZhbHVlcyhlbnRyaWVzKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvcnMgPSBlbnRyaWVzLm1hcChkZXNjcmlwdG9yKS5yZWR1Y2VSaWdodCgoYWNjLCBkZXNjcmlwdG9yMikgPT4ge1xuICAgICAgaWYgKGFjYy5zb21lKCh7IHBsdWdpbiB9KSA9PiBwbHVnaW4gPT09IGRlc2NyaXB0b3IyLnBsdWdpbikpIHtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH1cbiAgICAgIHJldHVybiBbZGVzY3JpcHRvcjIsIC4uLmFjY107XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGNvbnN0cnVjdG9ycyA9IGRlc2NyaXB0b3JzLm1hcCgoeyBwbHVnaW4gfSkgPT4gcGx1Z2luKTtcbiAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBfX3ByaXZhdGVHZXQodGhpcywgX3ByZXZpb3VzVmFsdWVzKSkge1xuICAgICAgaWYgKCFjb25zdHJ1Y3RvcnMuaW5jbHVkZXMocGx1Z2luKSkge1xuICAgICAgICBpZiAocGx1Z2luLnByb3RvdHlwZSBpbnN0YW5jZW9mIENvcmVQbHVnaW4pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVucmVnaXN0ZXIocGx1Z2luKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCB7IHBsdWdpbiwgb3B0aW9ucyB9IG9mIGRlc2NyaXB0b3JzKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyKHBsdWdpbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcHJldmlvdXNWYWx1ZXMsIGNvbnN0cnVjdG9ycyk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBwbHVnaW4gaW5zdGFuY2UgYnkgaXRzIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIHBsdWdpbiBjb25zdHJ1Y3RvciB0byBsb29rIHVwXG4gICAqIEByZXR1cm5zIFRoZSBwbHVnaW4gaW5zdGFuY2Ugb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZFxuICAgKi9cbiAgZ2V0KHBsdWdpbikge1xuICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KHBsdWdpbik7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBuZXcgcGx1Z2luIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gcGx1Z2luIC0gVGhlIHBsdWdpbiBjb25zdHJ1Y3RvciB0byByZWdpc3RlclxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBwbHVnaW5cbiAgICogQHJldHVybnMgVGhlIHJlZ2lzdGVyZWQgcGx1Z2luIGluc3RhbmNlXG4gICAqIEByZW1hcmtzXG4gICAqIElmIHRoZSBwbHVnaW4gaXMgYWxyZWFkeSByZWdpc3RlcmVkLCBpdHMgb3B0aW9ucyB3aWxsIGJlIHVwZGF0ZWRcbiAgICogYW5kIHRoZSBleGlzdGluZyBpbnN0YW5jZSB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgcmVnaXN0ZXIocGx1Z2luLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmdldChwbHVnaW4pO1xuICAgIGlmIChleGlzdGluZ0luc3RhbmNlKSB7XG4gICAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZS5vcHRpb25zICE9PSBvcHRpb25zKSB7XG4gICAgICAgIGV4aXN0aW5nSW5zdGFuY2Uub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhpc3RpbmdJbnN0YW5jZTtcbiAgICB9XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgcGx1Z2luKHRoaXMubWFuYWdlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5pbnN0YW5jZXMuc2V0KHBsdWdpbiwgaW5zdGFuY2UpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuICAvKipcbiAgICogVW5yZWdpc3RlcnMgYSBwbHVnaW4gaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBwbHVnaW4gLSBUaGUgcGx1Z2luIGNvbnN0cnVjdG9yIHRvIHVucmVnaXN0ZXJcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2Q6XG4gICAqIC0gRGVzdHJveXMgdGhlIHBsdWdpbiBpbnN0YW5jZVxuICAgKiAtIFJlbW92ZXMgaXQgZnJvbSB0aGUgcmVnaXN0cnlcbiAgICovXG4gIHVucmVnaXN0ZXIocGx1Z2luKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQocGx1Z2luKTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIGluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuaW5zdGFuY2VzLmRlbGV0ZShwbHVnaW4pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgYWxsIHJlZ2lzdGVyZWQgcGx1Z2luIGluc3RhbmNlcy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2Q6XG4gICAqIC0gQ2FsbHMgZGVzdHJveSgpIG9uIGFsbCBwbHVnaW4gaW5zdGFuY2VzXG4gICAqIC0gQ2xlYXJzIHRoZSByZWdpc3RyeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiB0aGlzLmluc3RhbmNlcy52YWx1ZXMoKSkge1xuICAgICAgcGx1Z2luLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5pbnN0YW5jZXMuY2xlYXIoKTtcbiAgfVxufTtcbl9wcmV2aW91c1ZhbHVlcyA9IG5ldyBXZWFrTWFwKCk7XG5cbi8vIHNyYy9jb3JlL2NvbGxpc2lvbi91dGlsaXRpZXMudHNcbmZ1bmN0aW9uIHNvcnRDb2xsaXNpb25zKGEsIGIpIHtcbiAgaWYgKGEucHJpb3JpdHkgPT09IGIucHJpb3JpdHkpIHtcbiAgICBpZiAoYS50eXBlID09PSBiLnR5cGUpIHtcbiAgICAgIHJldHVybiBiLnZhbHVlIC0gYS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGIudHlwZSAtIGEudHlwZTtcbiAgfVxuICByZXR1cm4gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XG59XG5cbi8vIHNyYy9jb3JlL2NvbGxpc2lvbi9vYnNlcnZlci50c1xudmFyIERFRkFVTFRfVkFMVUUgPSBbXTtcbnZhciBfcHJldmlvdXNDb29yZGluYXRlcywgX2NvbGxpc2lvbnM7XG52YXIgQ29sbGlzaW9uT2JzZXJ2ZXIgPSBjbGFzcyBleHRlbmRzIFBsdWdpbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IENvbGxpc2lvbk9ic2VydmVyIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gbWFuYWdlciAtIFRoZSBkcmFnIGRyb3AgbWFuYWdlciBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKG1hbmFnZXIpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcHJldmlvdXNDb29yZGluYXRlcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jb2xsaXNpb25zKTtcbiAgICB0aGlzLmNvbXB1dGVDb2xsaXNpb25zID0gdGhpcy5jb21wdXRlQ29sbGlzaW9ucy5iaW5kKHRoaXMpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfY29sbGlzaW9ucywgc2lnbmFsKERFRkFVTFRfVkFMVUUpKTtcbiAgICB0aGlzLmRlc3Ryb3kgPSBlZmZlY3RzKFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb2xsaXNpb25zID0gdGhpcy5jb21wdXRlQ29sbGlzaW9ucygpO1xuICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IHVudHJhY2tlZChcbiAgICAgICAgICAoKSA9PiB0aGlzLm1hbmFnZXIuZHJhZ09wZXJhdGlvbi5wb3NpdGlvbi5jdXJyZW50XG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb2xsaXNpb25zICE9PSBERUZBVUxUX1ZBTFVFKSB7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNDb29yZGluYXRlcyA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfcHJldmlvdXNDb29yZGluYXRlcyk7XG4gICAgICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF9wcmV2aW91c0Nvb3JkaW5hdGVzLCBjb29yZGluYXRlcyk7XG4gICAgICAgICAgaWYgKHByZXZpb3VzQ29vcmRpbmF0ZXMgJiYgY29vcmRpbmF0ZXMueCA9PSBwcmV2aW91c0Nvb3JkaW5hdGVzLnggJiYgY29vcmRpbmF0ZXMueSA9PSBwcmV2aW91c0Nvb3JkaW5hdGVzLnkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF9wcmV2aW91c0Nvb3JkaW5hdGVzLCB2b2lkIDApO1xuICAgICAgICB9XG4gICAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfY29sbGlzaW9ucykudmFsdWUgPSBjb2xsaXNpb25zO1xuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSB0aGlzLm1hbmFnZXI7XG4gICAgICAgIGlmIChkcmFnT3BlcmF0aW9uLnN0YXR1cy5pbml0aWFsaXplZCkge1xuICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEZvcmNlcyBhbiBpbW1lZGlhdGUgdXBkYXRlIG9mIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBpbW1lZGlhdGUgLSBJZiB0cnVlLCB1cGRhdGVzIGNvbGxpc2lvbnMgaW1tZWRpYXRlbHkuIElmIGZhbHNlLCByZXNldHMgcHJldmlvdXMgY29vcmRpbmF0ZXMuXG4gICAqL1xuICBmb3JjZVVwZGF0ZShpbW1lZGlhdGUgPSB0cnVlKSB7XG4gICAgdW50cmFja2VkKCgpID0+IHtcbiAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9jb2xsaXNpb25zKS52YWx1ZSA9IHRoaXMuY29tcHV0ZUNvbGxpc2lvbnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcHJldmlvdXNDb29yZGluYXRlcywgdm9pZCAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZXMgY29sbGlzaW9ucyBiZXR3ZWVuIGRyYWdnYWJsZSBhbmQgZHJvcHBhYmxlIGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gZW50cmllcyAtIE9wdGlvbmFsIGFycmF5IG9mIGRyb3BwYWJsZSBlbGVtZW50cyB0byBjaGVjay4gSWYgbm90IHByb3ZpZGVkLCB1c2VzIGFsbCByZWdpc3RlcmVkIGRyb3BwYWJsZXMuXG4gICAqIEBwYXJhbSBjb2xsaXNpb25EZXRlY3RvciAtIE9wdGlvbmFsIGN1c3RvbSBjb2xsaXNpb24gZGV0ZWN0b3IgZnVuY3Rpb25cbiAgICogQHJldHVybnMgQXJyYXkgb2YgZGV0ZWN0ZWQgY29sbGlzaW9ucywgc29ydGVkIGJ5IHByaW9yaXR5XG4gICAqL1xuICBjb21wdXRlQ29sbGlzaW9ucyhlbnRyaWVzLCBjb2xsaXNpb25EZXRlY3Rvcikge1xuICAgIGNvbnN0IHsgcmVnaXN0cnksIGRyYWdPcGVyYXRpb24gfSA9IHRoaXMubWFuYWdlcjtcbiAgICBjb25zdCB7IHNvdXJjZSwgc2hhcGUsIHN0YXR1cyB9ID0gZHJhZ09wZXJhdGlvbjtcbiAgICBpZiAoIXN0YXR1cy5pbml0aWFsaXplZCB8fCAhc2hhcGUpIHtcbiAgICAgIHJldHVybiBERUZBVUxUX1ZBTFVFO1xuICAgIH1cbiAgICBjb25zdCBjb2xsaXNpb25zID0gW107XG4gICAgY29uc3QgcG90ZW50aWFsVGFyZ2V0cyA9IFtdO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcyAhPSBudWxsID8gZW50cmllcyA6IHJlZ2lzdHJ5LmRyb3BwYWJsZXMpIHtcbiAgICAgIGlmIChlbnRyeS5kaXNhYmxlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzb3VyY2UgJiYgIWVudHJ5LmFjY2VwdHMoc291cmNlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRldGVjdENvbGxpc2lvbiA9IGNvbGxpc2lvbkRldGVjdG9yICE9IG51bGwgPyBjb2xsaXNpb25EZXRlY3RvciA6IGVudHJ5LmNvbGxpc2lvbkRldGVjdG9yO1xuICAgICAgaWYgKCFkZXRlY3RDb2xsaXNpb24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBwb3RlbnRpYWxUYXJnZXRzLnB1c2goZW50cnkpO1xuICAgICAgdm9pZCBlbnRyeS5zaGFwZTtcbiAgICAgIGNvbnN0IGNvbGxpc2lvbiA9IHVudHJhY2tlZChcbiAgICAgICAgKCkgPT4gZGV0ZWN0Q29sbGlzaW9uKHtcbiAgICAgICAgICBkcm9wcGFibGU6IGVudHJ5LFxuICAgICAgICAgIGRyYWdPcGVyYXRpb25cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICAgIGlmIChlbnRyeS5jb2xsaXNpb25Qcmlvcml0eSAhPSBudWxsKSB7XG4gICAgICAgICAgY29sbGlzaW9uLnByaW9yaXR5ID0gZW50cnkuY29sbGlzaW9uUHJpb3JpdHk7XG4gICAgICAgIH1cbiAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwb3RlbnRpYWxUYXJnZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIERFRkFVTFRfVkFMVUU7XG4gICAgfVxuICAgIGNvbGxpc2lvbnMuc29ydChzb3J0Q29sbGlzaW9ucyk7XG4gICAgcmV0dXJuIGNvbGxpc2lvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgY29sbGlzaW9ucyBzaWduYWwgdmFsdWUuXG4gICAqL1xuICBnZXQgY29sbGlzaW9ucygpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9jb2xsaXNpb25zKS52YWx1ZTtcbiAgfVxufTtcbl9wcmV2aW91c0Nvb3JkaW5hdGVzID0gbmV3IFdlYWtNYXAoKTtcbl9jb2xsaXNpb25zID0gbmV3IFdlYWtNYXAoKTtcblxuLy8gc3JjL2NvcmUvbWFuYWdlci9ldmVudHMudHNcbnZhciBNb25pdG9yID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlZ2lzdHJ5ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIHNwZWNpZmllZCBldmVudCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW4gZm9yXG4gICAqIEBwYXJhbSBoYW5kbGVyIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgb2NjdXJzXG4gICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lclxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgeyByZWdpc3RyeSB9ID0gdGhpcztcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBuZXcgU2V0KHJlZ2lzdHJ5LmdldChuYW1lKSk7XG4gICAgbGlzdGVuZXJzLmFkZChoYW5kbGVyKTtcbiAgICByZWdpc3RyeS5zZXQobmFtZSwgbGlzdGVuZXJzKTtcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAqIEBwYXJhbSBoYW5kbGVyIC0gVGhlIGZ1bmN0aW9uIHRvIHJlbW92ZVxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgeyByZWdpc3RyeSB9ID0gdGhpcztcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBuZXcgU2V0KHJlZ2lzdHJ5LmdldChuYW1lKSk7XG4gICAgbGlzdGVuZXJzLmRlbGV0ZShoYW5kbGVyKTtcbiAgICByZWdpc3RyeS5zZXQobmFtZSwgbGlzdGVuZXJzKTtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBldmVudCB0byBhbGwgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGRpc3BhdGNoXG4gICAqIEBwYXJhbSBhcmdzIC0gQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAqL1xuICBkaXNwYXRjaChuYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgeyByZWdpc3RyeSB9ID0gdGhpcztcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSByZWdpc3RyeS5nZXQobmFtZSk7XG4gICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxufTtcbnZhciBEcmFnRHJvcE1vbml0b3IgPSBjbGFzcyBleHRlbmRzIE1vbml0b3Ige1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBkcmFnIGFuZCBkcm9wIG1vbml0b3IuXG4gICAqXG4gICAqIEBwYXJhbSBtYW5hZ2VyIC0gVGhlIGRyYWcgYW5kIGRyb3AgbWFuYWdlciB0byBtb25pdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICB9XG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGEgZHJhZyBhbmQgZHJvcCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBldmVudCB0byBkaXNwYXRjaFxuICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgZGF0YSB0byBkaXNwYXRjaFxuICAgKi9cbiAgZGlzcGF0Y2godHlwZSwgZXZlbnQpIHtcbiAgICBjb25zdCBhcmdzID0gW2V2ZW50LCB0aGlzLm1hbmFnZXJdO1xuICAgIHN1cGVyLmRpc3BhdGNoKHR5cGUsIC4uLmFyZ3MpO1xuICB9XG59O1xuZnVuY3Rpb24gZGVmYXVsdFByZXZlbnRhYmxlKGV2ZW50LCBjYW5jZWxhYmxlID0gdHJ1ZSkge1xuICBsZXQgZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZXZlbnQpLCB7XG4gICAgY2FuY2VsYWJsZSxcbiAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0UHJldmVudGVkO1xuICAgIH0sXG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICBpZiAoIWNhbmNlbGFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3JjL2NvcmUvY29sbGlzaW9uL25vdGlmaWVyLnRzXG52YXIgQ29sbGlzaW9uTm90aWZpZXIgPSBjbGFzcyBleHRlbmRzIENvcmVQbHVnaW4ge1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIobWFuYWdlcik7XG4gICAgY29uc3QgaXNFcXVhbCA9IChhLCBiKSA9PiBhLm1hcCgoeyBpZCB9KSA9PiBpZCkuam9pbihcIlwiKSA9PT0gYi5tYXAoKHsgaWQgfSkgPT4gaWQpLmpvaW4oXCJcIik7XG4gICAgbGV0IHByZXZpb3VzQ29sbGlzaW9ucyA9IFtdO1xuICAgIHRoaXMuZGVzdHJveSA9IGVmZmVjdHMoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZHJhZ09wZXJhdGlvbiwgY29sbGlzaW9uT2JzZXJ2ZXIgfSA9IG1hbmFnZXI7XG4gICAgICAgIGlmIChkcmFnT3BlcmF0aW9uLnN0YXR1cy5pbml0aWFsaXppbmcpIHtcbiAgICAgICAgICBwcmV2aW91c0NvbGxpc2lvbnMgPSBbXTtcbiAgICAgICAgICBjb2xsaXNpb25PYnNlcnZlci5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgeyBjb2xsaXNpb25PYnNlcnZlciwgbW9uaXRvciB9ID0gbWFuYWdlcjtcbiAgICAgICAgY29uc3QgeyBjb2xsaXNpb25zIH0gPSBjb2xsaXNpb25PYnNlcnZlcjtcbiAgICAgICAgaWYgKGNvbGxpc2lvbk9ic2VydmVyLmlzRGlzYWJsZWQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBldmVudCA9IGRlZmF1bHRQcmV2ZW50YWJsZSh7XG4gICAgICAgICAgY29sbGlzaW9uc1xuICAgICAgICB9KTtcbiAgICAgICAgbW9uaXRvci5kaXNwYXRjaChcImNvbGxpc2lvblwiLCBldmVudCk7XG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0VxdWFsKGNvbGxpc2lvbnMsIHByZXZpb3VzQ29sbGlzaW9ucykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNDb2xsaXNpb25zID0gY29sbGlzaW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbZmlyc3RDb2xsaXNpb25dID0gY29sbGlzaW9ucztcbiAgICAgICAgdW50cmFja2VkKCgpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgaWYgKChmaXJzdENvbGxpc2lvbiA9PSBudWxsID8gdm9pZCAwIDogZmlyc3RDb2xsaXNpb24uaWQpICE9PSAoKF9hID0gbWFuYWdlci5kcmFnT3BlcmF0aW9uLnRhcmdldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlkKSkge1xuICAgICAgICAgICAgY29sbGlzaW9uT2JzZXJ2ZXIuZGlzYWJsZSgpO1xuICAgICAgICAgICAgbWFuYWdlci5hY3Rpb25zLnNldERyb3BUYXJnZXQoZmlyc3RDb2xsaXNpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGZpcnN0Q29sbGlzaW9uLmlkKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgY29sbGlzaW9uT2JzZXJ2ZXIuZW5hYmxlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb3JlL2NvbGxpc2lvbi90eXBlcy50c1xudmFyIENvbGxpc2lvblByaW9yaXR5ID0gLyogQF9fUFVSRV9fICovICgoQ29sbGlzaW9uUHJpb3JpdHkyKSA9PiB7XG4gIENvbGxpc2lvblByaW9yaXR5MltDb2xsaXNpb25Qcmlvcml0eTJbXCJMb3dlc3RcIl0gPSAwXSA9IFwiTG93ZXN0XCI7XG4gIENvbGxpc2lvblByaW9yaXR5MltDb2xsaXNpb25Qcmlvcml0eTJbXCJMb3dcIl0gPSAxXSA9IFwiTG93XCI7XG4gIENvbGxpc2lvblByaW9yaXR5MltDb2xsaXNpb25Qcmlvcml0eTJbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XG4gIENvbGxpc2lvblByaW9yaXR5MltDb2xsaXNpb25Qcmlvcml0eTJbXCJIaWdoXCJdID0gM10gPSBcIkhpZ2hcIjtcbiAgQ29sbGlzaW9uUHJpb3JpdHkyW0NvbGxpc2lvblByaW9yaXR5MltcIkhpZ2hlc3RcIl0gPSA0XSA9IFwiSGlnaGVzdFwiO1xuICByZXR1cm4gQ29sbGlzaW9uUHJpb3JpdHkyO1xufSkoQ29sbGlzaW9uUHJpb3JpdHkgfHwge30pO1xudmFyIENvbGxpc2lvblR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChDb2xsaXNpb25UeXBlMikgPT4ge1xuICBDb2xsaXNpb25UeXBlMltDb2xsaXNpb25UeXBlMltcIkNvbGxpc2lvblwiXSA9IDBdID0gXCJDb2xsaXNpb25cIjtcbiAgQ29sbGlzaW9uVHlwZTJbQ29sbGlzaW9uVHlwZTJbXCJTaGFwZUludGVyc2VjdGlvblwiXSA9IDFdID0gXCJTaGFwZUludGVyc2VjdGlvblwiO1xuICBDb2xsaXNpb25UeXBlMltDb2xsaXNpb25UeXBlMltcIlBvaW50ZXJJbnRlcnNlY3Rpb25cIl0gPSAyXSA9IFwiUG9pbnRlckludGVyc2VjdGlvblwiO1xuICByZXR1cm4gQ29sbGlzaW9uVHlwZTI7XG59KShDb2xsaXNpb25UeXBlIHx8IHt9KTtcbnZhciBfZHJvcHBlZF9kZWMsIF9kcmFnZ2luZ19kZWMsIF9pbml0aWFsaXplZF9kZWMsIF9pbml0aWFsaXppbmdfZGVjLCBfaWRsZV9kZWMsIF9jdXJyZW50X2RlYywgX3ZhbHVlX2RlYywgX2luaXQyLCBfdmFsdWU7XG5fdmFsdWVfZGVjID0gW3JlYWN0aXZlXSwgX2N1cnJlbnRfZGVjID0gW2Rlcml2ZWRdLCBfaWRsZV9kZWMgPSBbZGVyaXZlZF0sIF9pbml0aWFsaXppbmdfZGVjID0gW2Rlcml2ZWRdLCBfaW5pdGlhbGl6ZWRfZGVjID0gW2Rlcml2ZWRdLCBfZHJhZ2dpbmdfZGVjID0gW2Rlcml2ZWRdLCBfZHJvcHBlZF9kZWMgPSBbZGVyaXZlZF07XG52YXIgU3RhdHVzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBfX3J1bkluaXRpYWxpemVycyhfaW5pdDIsIDUsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfdmFsdWUsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0MiwgOCwgdGhpcywgXCJpZGxlXCIgLyogSWRsZSAqLykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDIsIDExLCB0aGlzKTtcbiAgfVxuICBnZXQgY3VycmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gXCJpZGxlXCIgLyogSWRsZSAqLztcbiAgfVxuICBnZXQgaW5pdGlhbGl6aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBcImluaXRpYWxpemluZ1wiIC8qIEluaXRpYWxpemluZyAqLztcbiAgfVxuICBnZXQgaW5pdGlhbGl6ZWQoKSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcztcbiAgICByZXR1cm4gdmFsdWUgIT09IFwiaWRsZVwiIC8qIElkbGUgKi8gJiYgdmFsdWUgIT09IFwiaW5pdGlhbGl6YXRpb24tcGVuZGluZ1wiIC8qIEluaXRpYWxpemF0aW9uUGVuZGluZyAqLztcbiAgfVxuICBnZXQgZHJhZ2dpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IFwiZHJhZ2dpbmdcIiAvKiBEcmFnZ2luZyAqLztcbiAgfVxuICBnZXQgZHJvcHBlZCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gXCJkcm9wcGVkXCIgLyogRHJvcHBlZCAqLztcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0dXMgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBuZXcgc3RhdHVzIHZhbHVlXG4gICAqL1xuICBzZXQodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbn07XG5faW5pdDIgPSBfX2RlY29yYXRvclN0YXJ0KG51bGwpO1xuX3ZhbHVlID0gbmV3IFdlYWtNYXAoKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0MiwgNCwgXCJ2YWx1ZVwiLCBfdmFsdWVfZGVjLCBTdGF0dXMsIF92YWx1ZSk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDIsIDIsIFwiY3VycmVudFwiLCBfY3VycmVudF9kZWMsIFN0YXR1cyk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDIsIDIsIFwiaWRsZVwiLCBfaWRsZV9kZWMsIFN0YXR1cyk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDIsIDIsIFwiaW5pdGlhbGl6aW5nXCIsIF9pbml0aWFsaXppbmdfZGVjLCBTdGF0dXMpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQyLCAyLCBcImluaXRpYWxpemVkXCIsIF9pbml0aWFsaXplZF9kZWMsIFN0YXR1cyk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDIsIDIsIFwiZHJhZ2dpbmdcIiwgX2RyYWdnaW5nX2RlYywgU3RhdHVzKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0MiwgMiwgXCJkcm9wcGVkXCIsIF9kcm9wcGVkX2RlYywgU3RhdHVzKTtcbl9fZGVjb3JhdG9yTWV0YWRhdGEoX2luaXQyLCBTdGF0dXMpO1xuXG4vLyBzcmMvY29yZS9tYW5hZ2VyL2FjdGlvbnMudHNcbnZhciBEcmFnQWN0aW9ucyA9IGNsYXNzIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgZHJhZyBhY3Rpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gbWFuYWdlciAtIFRoZSBkcmFnIGFuZCBkcm9wIG1hbmFnZXIgaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzb3VyY2Ugb2YgdGhlIGRyYWcgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIGRyYWdnYWJsZSBlbnRpdHkgb3IgaXRzIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAqL1xuICBzZXREcmFnU291cmNlKHNvdXJjZSkge1xuICAgIGNvbnN0IHsgZHJhZ09wZXJhdGlvbiB9ID0gdGhpcy5tYW5hZ2VyO1xuICAgIGRyYWdPcGVyYXRpb24uc291cmNlSWRlbnRpZmllciA9IHR5cGVvZiBzb3VyY2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHNvdXJjZSA9PT0gXCJudW1iZXJcIiA/IHNvdXJjZSA6IHNvdXJjZS5pZDtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgdGFyZ2V0IG9mIHRoZSBkcm9wIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGlkZW50aWZpZXIgLSBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGRyb3BwYWJsZSBlbnRpdHkgb3IgbnVsbC91bmRlZmluZWRcbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgZHJvcCB3YXMgcHJldmVudGVkXG4gICAqL1xuICBzZXREcm9wVGFyZ2V0KGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gdW50cmFja2VkKCgpID0+IHtcbiAgICAgIGNvbnN0IHsgZHJhZ09wZXJhdGlvbiB9ID0gdGhpcy5tYW5hZ2VyO1xuICAgICAgY29uc3QgaWQgPSBpZGVudGlmaWVyICE9IG51bGwgPyBpZGVudGlmaWVyIDogbnVsbDtcbiAgICAgIGlmIChkcmFnT3BlcmF0aW9uLnRhcmdldElkZW50aWZpZXIgPT09IGlkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICAgICAgfVxuICAgICAgZHJhZ09wZXJhdGlvbi50YXJnZXRJZGVudGlmaWVyID0gaWQ7XG4gICAgICBjb25zdCBldmVudCA9IGRlZmF1bHRQcmV2ZW50YWJsZSh7XG4gICAgICAgIG9wZXJhdGlvbjogZHJhZ09wZXJhdGlvbi5zbmFwc2hvdCgpXG4gICAgICB9KTtcbiAgICAgIGlmIChkcmFnT3BlcmF0aW9uLnN0YXR1cy5kcmFnZ2luZykge1xuICAgICAgICB0aGlzLm1hbmFnZXIubW9uaXRvci5kaXNwYXRjaChcImRyYWdvdmVyXCIsIGV2ZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm1hbmFnZXIucmVuZGVyZXIucmVuZGVyaW5nLnRoZW4oKCkgPT4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0cyBhIG5ldyBkcmFnIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGFyZ3MgLSBDb25maWd1cmF0aW9uIGZvciB0aGUgZHJhZyBvcGVyYXRpb25cbiAgICogQHBhcmFtIGFyZ3MuZXZlbnQgLSBUaGUgZXZlbnQgdGhhdCBpbml0aWF0ZWQgdGhlIGRyYWdcbiAgICogQHBhcmFtIGFyZ3Muc291cmNlIC0gVGhlIHNvdXJjZSBkcmFnZ2FibGUgZW50aXR5IG9yIGl0cyBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSBhcmdzLmNvb3JkaW5hdGVzIC0gVGhlIGluaXRpYWwgY29vcmRpbmF0ZXMgb2YgdGhlIGRyYWdcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZHJhZyBvcGVyYXRpb24gc3RhcnRlZCBzdWNjZXNzZnVsbHlcbiAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIGlzIG5vIGRyYWcgc291cmNlIG9yIGFub3RoZXIgb3BlcmF0aW9uIGlzIGFjdGl2ZVxuICAgKi9cbiAgc3RhcnQoYXJncykge1xuICAgIHJldHVybiB1bnRyYWNrZWQoKCkgPT4ge1xuICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSB0aGlzLm1hbmFnZXI7XG4gICAgICBpZiAoYXJncy5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNldERyYWdTb3VyY2UoYXJncy5zb3VyY2UpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc291cmNlSW5zdGFuY2UgPSBkcmFnT3BlcmF0aW9uLnNvdXJjZTtcbiAgICAgIGlmICghc291cmNlSW5zdGFuY2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHN0YXJ0IGEgZHJhZyBvcGVyYXRpb24gd2l0aG91dCBhIGRyYWcgc291cmNlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFkcmFnT3BlcmF0aW9uLnN0YXR1cy5pZGxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkNhbm5vdCBzdGFydCBhIGRyYWcgb3BlcmF0aW9uIHdoaWxlIGFub3RoZXIgaXMgYWN0aXZlXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCB7IGV2ZW50OiBuYXRpdmVFdmVudCwgY29vcmRpbmF0ZXMgfSA9IGFyZ3M7XG4gICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgIGRyYWdPcGVyYXRpb24uc3RhdHVzLnNldChcImluaXRpYWxpemF0aW9uLXBlbmRpbmdcIiAvKiBJbml0aWFsaXphdGlvblBlbmRpbmcgKi8pO1xuICAgICAgICBkcmFnT3BlcmF0aW9uLnNoYXBlID0gbnVsbDtcbiAgICAgICAgZHJhZ09wZXJhdGlvbi5jYW5jZWxlZCA9IGZhbHNlO1xuICAgICAgICBkcmFnT3BlcmF0aW9uLmFjdGl2YXRvckV2ZW50ID0gbmF0aXZlRXZlbnQgIT0gbnVsbCA/IG5hdGl2ZUV2ZW50IDogbnVsbDtcbiAgICAgICAgZHJhZ09wZXJhdGlvbi5wb3NpdGlvbi5yZXNldChjb29yZGluYXRlcyk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGJlZm9yZVN0YXJ0RXZlbnQgPSBkZWZhdWx0UHJldmVudGFibGUoe1xuICAgICAgICBvcGVyYXRpb246IGRyYWdPcGVyYXRpb24uc25hcHNob3QoKVxuICAgICAgfSk7XG4gICAgICB0aGlzLm1hbmFnZXIubW9uaXRvci5kaXNwYXRjaChcImJlZm9yZWRyYWdzdGFydFwiLCBiZWZvcmVTdGFydEV2ZW50KTtcbiAgICAgIGlmIChiZWZvcmVTdGFydEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgZHJhZ09wZXJhdGlvbi5yZXNldCgpO1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIHJldHVybiBjb250cm9sbGVyO1xuICAgICAgfVxuICAgICAgZHJhZ09wZXJhdGlvbi5zdGF0dXMuc2V0KFwiaW5pdGlhbGl6aW5nXCIgLyogSW5pdGlhbGl6aW5nICovKTtcbiAgICAgIGRyYWdPcGVyYXRpb24uY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgICB0aGlzLm1hbmFnZXIucmVuZGVyZXIucmVuZGVyaW5nLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHN0YXR1cyB9ID0gZHJhZ09wZXJhdGlvbjtcbiAgICAgICAgaWYgKHN0YXR1cy5jdXJyZW50ICE9PSBcImluaXRpYWxpemluZ1wiIC8qIEluaXRpYWxpemluZyAqLykgcmV0dXJuO1xuICAgICAgICBkcmFnT3BlcmF0aW9uLnN0YXR1cy5zZXQoXCJkcmFnZ2luZ1wiIC8qIERyYWdnaW5nICovKTtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLm1vbml0b3IuZGlzcGF0Y2goXCJkcmFnc3RhcnRcIiwge1xuICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgIG9wZXJhdGlvbjogZHJhZ09wZXJhdGlvbi5zbmFwc2hvdCgpLFxuICAgICAgICAgIGNhbmNlbGFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29udHJvbGxlcjtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogTW92ZXMgdGhlIGRyYWdnZWQgZW50aXR5IHRvIGEgbmV3IHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYXJncyAtIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBtb3ZlIG9wZXJhdGlvblxuICAgKiBAcGFyYW0gYXJncy5ieSAtIFJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIG1vdmUgYnlcbiAgICogQHBhcmFtIGFyZ3MudG8gLSBBYnNvbHV0ZSBjb29yZGluYXRlcyB0byBtb3ZlIHRvXG4gICAqIEBwYXJhbSBhcmdzLmV2ZW50IC0gVGhlIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoZSBtb3ZlXG4gICAqIEBwYXJhbSBhcmdzLmNhbmNlbGFibGUgLSBXaGV0aGVyIHRoZSBtb3ZlIGNhbiBiZSBjYW5jZWxlZFxuICAgKiBAcGFyYW0gYXJncy5wcm9wYWdhdGUgLSBXaGV0aGVyIHRvIGRpc3BhdGNoIGRyYWdtb3ZlIGV2ZW50c1xuICAgKi9cbiAgbW92ZShhcmdzKSB7XG4gICAgcmV0dXJuIHVudHJhY2tlZCgoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSB0aGlzLm1hbmFnZXI7XG4gICAgICBjb25zdCB7IHN0YXR1cywgY29udHJvbGxlciB9ID0gZHJhZ09wZXJhdGlvbjtcbiAgICAgIGlmICghc3RhdHVzLmRyYWdnaW5nIHx8ICFjb250cm9sbGVyIHx8IGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZXZlbnQgPSBkZWZhdWx0UHJldmVudGFibGUoXG4gICAgICAgIHtcbiAgICAgICAgICBuYXRpdmVFdmVudDogYXJncy5ldmVudCxcbiAgICAgICAgICBvcGVyYXRpb246IGRyYWdPcGVyYXRpb24uc25hcHNob3QoKSxcbiAgICAgICAgICBieTogYXJncy5ieSxcbiAgICAgICAgICB0bzogYXJncy50b1xuICAgICAgICB9LFxuICAgICAgICAoX2EgPSBhcmdzLmNhbmNlbGFibGUpICE9IG51bGwgPyBfYSA6IHRydWVcbiAgICAgICk7XG4gICAgICBpZiAoKF9iID0gYXJncy5wcm9wYWdhdGUpICE9IG51bGwgPyBfYiA6IHRydWUpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLm1vbml0b3IuZGlzcGF0Y2goXCJkcmFnbW92ZVwiLCBldmVudCk7XG4gICAgICB9XG4gICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgIHZhciBfYTIsIF9iMiwgX2MzLCBfZCwgX2U7XG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gKF9lID0gYXJncy50bykgIT0gbnVsbCA/IF9lIDoge1xuICAgICAgICAgIHg6IGRyYWdPcGVyYXRpb24ucG9zaXRpb24uY3VycmVudC54ICsgKChfYjIgPSAoX2EyID0gYXJncy5ieSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi54KSAhPSBudWxsID8gX2IyIDogMCksXG4gICAgICAgICAgeTogZHJhZ09wZXJhdGlvbi5wb3NpdGlvbi5jdXJyZW50LnkgKyAoKF9kID0gKF9jMyA9IGFyZ3MuYnkpID09IG51bGwgPyB2b2lkIDAgOiBfYzMueSkgIT0gbnVsbCA/IF9kIDogMClcbiAgICAgICAgfTtcbiAgICAgICAgZHJhZ09wZXJhdGlvbi5wb3NpdGlvbi5jdXJyZW50ID0gY29vcmRpbmF0ZXM7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU3RvcHMgdGhlIGN1cnJlbnQgZHJhZyBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBhcmdzIC0gQ29uZmlndXJhdGlvbiBmb3Igc3RvcHBpbmcgdGhlIG9wZXJhdGlvblxuICAgKiBAcGFyYW0gYXJncy5ldmVudCAtIFRoZSBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGUgc3RvcFxuICAgKiBAcGFyYW0gYXJncy5jYW5jZWxlZCAtIFdoZXRoZXIgdGhlIG9wZXJhdGlvbiB3YXMgY2FuY2VsZWRcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2Q6XG4gICAqIC0gRGlzcGF0Y2hlcyBhIGRyYWdlbmQgZXZlbnRcbiAgICogLSBBbGxvd3Mgc3VzcGVuc2lvbiBvZiB0aGUgb3BlcmF0aW9uXG4gICAqIC0gSGFuZGxlcyBjbGVhbnVwIG9mIHRoZSBvcGVyYXRpb24gc3RhdGVcbiAgICovXG4gIHN0b3AoYXJncyA9IHt9KSB7XG4gICAgcmV0dXJuIHVudHJhY2tlZCgoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSB0aGlzLm1hbmFnZXI7XG4gICAgICBjb25zdCB7IGNvbnRyb2xsZXIgfSA9IGRyYWdPcGVyYXRpb247XG4gICAgICBpZiAoIWNvbnRyb2xsZXIgfHwgY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgbGV0IHByb21pc2U7XG4gICAgICBjb25zdCBzdXNwZW5kID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSB7XG4gICAgICAgICAgcmVzdW1lOiAoKSA9PiB7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhYm9ydDogKCkgPT4ge1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBvdXRwdXQucmVzdW1lID0gcmVzb2x2ZTtcbiAgICAgICAgICBvdXRwdXQuYWJvcnQgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgfTtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIGNvbnN0IGVuZCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLnJlbmRlcmVyLnJlbmRlcmluZy50aGVuKCgpID0+IHtcbiAgICAgICAgICBkcmFnT3BlcmF0aW9uLnN0YXR1cy5zZXQoXCJkcm9wcGVkXCIgLyogRHJvcHBlZCAqLyk7XG4gICAgICAgICAgY29uc3QgZHJvcHBpbmcgPSB1bnRyYWNrZWQoXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIHZhciBfYTI7XG4gICAgICAgICAgICAgIHJldHVybiAoKF9hMiA9IGRyYWdPcGVyYXRpb24uc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnN0YXR1cykgPT09IFwiZHJvcHBpbmdcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZHJhZ09wZXJhdGlvbi5jb250cm9sbGVyID09PSBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIGRyYWdPcGVyYXRpb24uY29udHJvbGxlciA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRyYWdPcGVyYXRpb24ucmVzZXQoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChkcm9wcGluZykge1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2UgfSA9IGRyYWdPcGVyYXRpb247XG4gICAgICAgICAgICBjb25zdCBkaXNwb3NlID0gZWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKChzb3VyY2UgPT0gbnVsbCA/IHZvaWQgMCA6IHNvdXJjZS5zdGF0dXMpID09PSBcImlkbGVcIikge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIucmVuZGVyZXIucmVuZGVyaW5nLnRoZW4oY2xlYW51cCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBkcmFnT3BlcmF0aW9uLmNhbmNlbGVkID0gKF9hID0gYXJncy5jYW5jZWxlZCkgIT0gbnVsbCA/IF9hIDogZmFsc2U7XG4gICAgICB0aGlzLm1hbmFnZXIubW9uaXRvci5kaXNwYXRjaChcImRyYWdlbmRcIiwge1xuICAgICAgICBuYXRpdmVFdmVudDogYXJncy5ldmVudCxcbiAgICAgICAgb3BlcmF0aW9uOiBkcmFnT3BlcmF0aW9uLnNuYXBzaG90KCksXG4gICAgICAgIGNhbmNlbGVkOiAoX2IgPSBhcmdzLmNhbmNlbGVkKSAhPSBudWxsID8gX2IgOiBmYWxzZSxcbiAgICAgICAgc3VzcGVuZFxuICAgICAgfSk7XG4gICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlLnRoZW4oZW5kKS5jYXRjaCgoKSA9PiBkcmFnT3BlcmF0aW9uLnJlc2V0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG52YXIgX2Rpc2FibGVkX2RlYzIsIF9kYXRhX2RlYywgX2lkX2RlYywgX21hbmFnZXJfZGVjLCBfaW5pdDMsIF9tYW5hZ2VyLCBfaWQsIF9kYXRhLCBfZGlzYWJsZWQyO1xuX21hbmFnZXJfZGVjID0gW3JlYWN0aXZlXSwgX2lkX2RlYyA9IFtyZWFjdGl2ZV0sIF9kYXRhX2RlYyA9IFtyZWFjdGl2ZV0sIF9kaXNhYmxlZF9kZWMyID0gW3JlYWN0aXZlXTtcbnZhciBFbnRpdHkgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBgRW50aXR5YCBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIGlucHV0IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGluaXRpYWwgcHJvcGVydGllcyBvZiB0aGUgZW50aXR5LlxuICAgKiBAcGFyYW0gbWFuYWdlciAtIFRoZSBtYW5hZ2VyIHRoYXQgY29udHJvbHMgdGhlIGRyYWcgYW5kIGRyb3Agb3BlcmF0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGlucHV0LCBtYW5hZ2VyKSB7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9tYW5hZ2VyLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDMsIDgsIHRoaXMpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQzLCAxMSwgdGhpcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9pZCwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQzLCAxMiwgdGhpcykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDMsIDE1LCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2RhdGEsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0MywgMTYsIHRoaXMpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQzLCAxOSwgdGhpcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9kaXNhYmxlZDIsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0MywgMjAsIHRoaXMpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQzLCAyMywgdGhpcyk7XG4gICAgY29uc3QgeyBlZmZlY3RzOiBlZmZlY3RzNiwgaWQsIGRhdGEgPSB7fSwgZGlzYWJsZWQgPSBmYWxzZSwgcmVnaXN0ZXIgPSB0cnVlIH0gPSBpbnB1dDtcbiAgICBsZXQgcHJldmlvdXNJZCA9IGlkO1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIHRoaXMuZWZmZWN0cyA9ICgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGlkOiBpZDIsIG1hbmFnZXI6IG1hbmFnZXIyIH0gPSB0aGlzO1xuICAgICAgICAgIGlmIChpZDIgPT09IHByZXZpb3VzSWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFuYWdlcjIgPT0gbnVsbCA/IHZvaWQgMCA6IG1hbmFnZXIyLnJlZ2lzdHJ5LnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgIHJldHVybiAoKSA9PiBtYW5hZ2VyMiA9PSBudWxsID8gdm9pZCAwIDogbWFuYWdlcjIucmVnaXN0cnkudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgLi4uKF9hID0gZWZmZWN0czYgPT0gbnVsbCA/IHZvaWQgMCA6IGVmZmVjdHM2KCkpICE9IG51bGwgPyBfYSA6IFtdXG4gICAgICBdO1xuICAgIH07XG4gICAgdGhpcy5yZWdpc3RlciA9IHRoaXMucmVnaXN0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVucmVnaXN0ZXIgPSB0aGlzLnVucmVnaXN0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlc3Ryb3kgPSB0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKTtcbiAgICBpZiAobWFuYWdlciAmJiByZWdpc3Rlcikge1xuICAgICAgcXVldWVNaWNyb3Rhc2sodGhpcy5yZWdpc3Rlcik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0aGF0IHJlZ2lzdGVycyB0aGUgZW50aXR5IHdpdGggdGhlIG1hbmFnZXIuXG4gICAqIEByZXR1cm5zIENsZWFudXBGdW5jdGlvbiB8IHZvaWRcbiAgICovXG4gIHJlZ2lzdGVyKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gdGhpcy5tYW5hZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVnaXN0cnkucmVnaXN0ZXIodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIEEgbWV0aG9kIHRoYXQgdW5yZWdpc3RlcnMgdGhlIGVudGl0eSBmcm9tIHRoZSBtYW5hZ2VyLlxuICAgKiBAcmV0dXJucyB2b2lkXG4gICAqL1xuICB1bnJlZ2lzdGVyKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZWdpc3RyeS51bnJlZ2lzdGVyKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBBIG1ldGhvZCB0aGF0IGNsZWFucyB1cCB0aGUgZW50aXR5IHdoZW4gaXQgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy5tYW5hZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVnaXN0cnkudW5yZWdpc3Rlcih0aGlzKTtcbiAgfVxufTtcbl9pbml0MyA9IF9fZGVjb3JhdG9yU3RhcnQobnVsbCk7XG5fbWFuYWdlciA9IG5ldyBXZWFrTWFwKCk7XG5faWQgPSBuZXcgV2Vha01hcCgpO1xuX2RhdGEgPSBuZXcgV2Vha01hcCgpO1xuX2Rpc2FibGVkMiA9IG5ldyBXZWFrTWFwKCk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDMsIDQsIFwibWFuYWdlclwiLCBfbWFuYWdlcl9kZWMsIEVudGl0eSwgX21hbmFnZXIpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQzLCA0LCBcImlkXCIsIF9pZF9kZWMsIEVudGl0eSwgX2lkKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0MywgNCwgXCJkYXRhXCIsIF9kYXRhX2RlYywgRW50aXR5LCBfZGF0YSk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDMsIDQsIFwiZGlzYWJsZWRcIiwgX2Rpc2FibGVkX2RlYzIsIEVudGl0eSwgX2Rpc2FibGVkMik7XG5fX2RlY29yYXRvck1ldGFkYXRhKF9pbml0MywgRW50aXR5KTtcbnZhciBFbnRpdHlSZWdpc3RyeSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXAgPSBzaWduYWwoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgdGhpcy5jbGVhbnVwRnVuY3Rpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgZW50aXR5IGluIHRoZSByZWdpc3RyeS5cbiAgICAgKiBAcGFyYW0ga2V5IC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBlbnRpdHkuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGVudGl0eSB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgdW5yZWdpc3RlcnMgdGhlIGVudGl0eS5cbiAgICAgKi9cbiAgICB0aGlzLnJlZ2lzdGVyID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLm1hcC5wZWVrKCk7XG4gICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjdXJyZW50LmdldChrZXkpO1xuICAgICAgY29uc3QgdW5yZWdpc3RlciA9ICgpID0+IHRoaXMudW5yZWdpc3RlcihrZXksIHZhbHVlKTtcbiAgICAgIGlmIChjdXJyZW50VmFsdWUgPT09IHZhbHVlKSByZXR1cm4gdW5yZWdpc3RlcjtcbiAgICAgIGlmIChjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgY29uc3QgY2xlYW51cDIgPSB0aGlzLmNsZWFudXBGdW5jdGlvbnMuZ2V0KGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIGNsZWFudXAyID09IG51bGwgPyB2b2lkIDAgOiBjbGVhbnVwMigpO1xuICAgICAgICB0aGlzLmNsZWFudXBGdW5jdGlvbnMuZGVsZXRlKGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGVkTWFwID0gbmV3IE1hcChjdXJyZW50KTtcbiAgICAgIHVwZGF0ZWRNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5tYXAudmFsdWUgPSB1cGRhdGVkTWFwO1xuICAgICAgY29uc3QgY2xlYW51cCA9IGVmZmVjdHMoLi4udmFsdWUuZWZmZWN0cygpKTtcbiAgICAgIHRoaXMuY2xlYW51cEZ1bmN0aW9ucy5zZXQodmFsdWUsIGNsZWFudXApO1xuICAgICAgcmV0dXJuIHVucmVnaXN0ZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyBhbiBlbnRpdHkgZnJvbSB0aGUgcmVnaXN0cnkuXG4gICAgICogQHBhcmFtIGtleSAtIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgZW50aXR5LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBlbnRpdHkgaW5zdGFuY2UgdG8gdW5yZWdpc3Rlci5cbiAgICAgKi9cbiAgICB0aGlzLnVucmVnaXN0ZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMubWFwLnBlZWsoKTtcbiAgICAgIGlmIChjdXJyZW50LmdldChrZXkpICE9PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjbGVhbnVwID0gdGhpcy5jbGVhbnVwRnVuY3Rpb25zLmdldCh2YWx1ZSk7XG4gICAgICBjbGVhbnVwID09IG51bGwgPyB2b2lkIDAgOiBjbGVhbnVwKCk7XG4gICAgICB0aGlzLmNsZWFudXBGdW5jdGlvbnMuZGVsZXRlKHZhbHVlKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRNYXAgPSBuZXcgTWFwKGN1cnJlbnQpO1xuICAgICAgdXBkYXRlZE1hcC5kZWxldGUoa2V5KTtcbiAgICAgIHRoaXMubWFwLnZhbHVlID0gdXBkYXRlZE1hcDtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBJdGVyYXRvciBmb3IgdGhlIEVudGl0eVJlZ2lzdHJ5IGNsYXNzLlxuICAgKiBAcmV0dXJucyBBbiBpdGVyYXRvciBmb3IgdGhlIHZhbHVlcyBpbiB0aGUgbWFwLlxuICAgKi9cbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLnBlZWsoKS52YWx1ZXMoKTtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLnZhbHVlLnZhbHVlcygpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBlbnRpdHkgd2l0aCB0aGUgZ2l2ZW4gaWRlbnRpZmllciBleGlzdHMgaW4gdGhlIHJlZ2lzdHJ5LlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciAtIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgZW50aXR5LlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbnRpdHkgZXhpc3RzLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBoYXMoaWRlbnRpZmllcikge1xuICAgIHJldHVybiB0aGlzLm1hcC52YWx1ZS5oYXMoaWRlbnRpZmllcik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIGVudGl0eSBmcm9tIHRoZSByZWdpc3RyeSB1c2luZyBpdHMgaWRlbnRpZmllci5cbiAgICogQHBhcmFtIGlkZW50aWZpZXIgLSBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGVudGl0eS5cbiAgICogQHJldHVybnMgVGhlIGVudGl0eSBpZiBpdCBleGlzdHMsIHVuZGVmaW5lZCBvdGhlcndpc2UuXG4gICAqL1xuICBnZXQoaWRlbnRpZmllcikge1xuICAgIHJldHVybiB0aGlzLm1hcC52YWx1ZS5nZXQoaWRlbnRpZmllcik7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIGFsbCBlbnRyaWVzIGluIHRoZSByZWdpc3RyeSBhbmQgY2xlYXJzIHRoZSByZWdpc3RyeS5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gdGhpcy5jbGVhbnVwRnVuY3Rpb25zLmdldChlbnRyeSk7XG4gICAgICBjbGVhbnVwID09IG51bGwgPyB2b2lkIDAgOiBjbGVhbnVwKCk7XG4gICAgICBlbnRyeS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMubWFwLnZhbHVlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxufTtcbnZhciBfaXNEcmFnU291cmNlX2RlYywgX2lzRHJhZ2dpbmdfZGVjLCBfaXNEcm9wcGluZ19kZWMsIF9zdGF0dXNfZGVjLCBfbW9kaWZpZXJzX2RlYywgX3R5cGVfZGVjLCBfYywgX2luaXQ0LCBfdHlwZSwgX21vZGlmaWVycywgX3N0YXR1cztcbnZhciBEcmFnZ2FibGUgPSBjbGFzcyBleHRlbmRzIChfYyA9IEVudGl0eSwgX3R5cGVfZGVjID0gW3JlYWN0aXZlXSwgX21vZGlmaWVyc19kZWMgPSBbcmVhY3RpdmVdLCBfc3RhdHVzX2RlYyA9IFtyZWFjdGl2ZV0sIF9pc0Ryb3BwaW5nX2RlYyA9IFtkZXJpdmVkXSwgX2lzRHJhZ2dpbmdfZGVjID0gW2Rlcml2ZWRdLCBfaXNEcmFnU291cmNlX2RlYyA9IFtkZXJpdmVkXSwgX2MpIHtcbiAgY29uc3RydWN0b3IoX2EsIG1hbmFnZXIpIHtcbiAgICB2YXIgX2IgPSBfYSwgeyBtb2RpZmllcnMsIHR5cGUsIHNlbnNvcnMgfSA9IF9iLCBpbnB1dCA9IF9fb2JqUmVzdChfYiwgW1wibW9kaWZpZXJzXCIsIFwidHlwZVwiLCBcInNlbnNvcnNcIl0pO1xuICAgIHN1cGVyKGlucHV0LCBtYW5hZ2VyKTtcbiAgICBfX3J1bkluaXRpYWxpemVycyhfaW5pdDQsIDUsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfdHlwZSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ0LCA4LCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NCwgMTEsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfbW9kaWZpZXJzLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDQsIDEyLCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NCwgMTUsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfc3RhdHVzLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDQsIDE2LCB0aGlzLCB0aGlzLmlzRHJhZ1NvdXJjZSA/IFwiZHJhZ2dpbmdcIiA6IFwiaWRsZVwiKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NCwgMTksIHRoaXMpO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zZW5zb3JzID0gc2Vuc29ycztcbiAgICB0aGlzLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICB0aGlzLmFsaWdubWVudCA9IGlucHV0LmFsaWdubWVudDtcbiAgfVxuICBnZXQgaXNEcm9wcGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09IFwiZHJvcHBpbmdcIiAmJiB0aGlzLmlzRHJhZ1NvdXJjZTtcbiAgfVxuICBnZXQgaXNEcmFnZ2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXMgPT09IFwiZHJhZ2dpbmdcIiAmJiB0aGlzLmlzRHJhZ1NvdXJjZTtcbiAgfVxuICBnZXQgaXNEcmFnU291cmNlKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuICgoX2IgPSAoX2EgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kcmFnT3BlcmF0aW9uLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmlkKSA9PT0gdGhpcy5pZDtcbiAgfVxufTtcbl9pbml0NCA9IF9fZGVjb3JhdG9yU3RhcnQoX2MpO1xuX3R5cGUgPSBuZXcgV2Vha01hcCgpO1xuX21vZGlmaWVycyA9IG5ldyBXZWFrTWFwKCk7XG5fc3RhdHVzID0gbmV3IFdlYWtNYXAoKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NCwgNCwgXCJ0eXBlXCIsIF90eXBlX2RlYywgRHJhZ2dhYmxlLCBfdHlwZSk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDQsIDQsIFwibW9kaWZpZXJzXCIsIF9tb2RpZmllcnNfZGVjLCBEcmFnZ2FibGUsIF9tb2RpZmllcnMpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQ0LCA0LCBcInN0YXR1c1wiLCBfc3RhdHVzX2RlYywgRHJhZ2dhYmxlLCBfc3RhdHVzKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NCwgMiwgXCJpc0Ryb3BwaW5nXCIsIF9pc0Ryb3BwaW5nX2RlYywgRHJhZ2dhYmxlKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NCwgMiwgXCJpc0RyYWdnaW5nXCIsIF9pc0RyYWdnaW5nX2RlYywgRHJhZ2dhYmxlKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NCwgMiwgXCJpc0RyYWdTb3VyY2VcIiwgX2lzRHJhZ1NvdXJjZV9kZWMsIERyYWdnYWJsZSk7XG5fX2RlY29yYXRvck1ldGFkYXRhKF9pbml0NCwgRHJhZ2dhYmxlKTtcbnZhciBfaXNEcm9wVGFyZ2V0X2RlYywgX3NoYXBlX2RlYywgX2NvbGxpc2lvblByaW9yaXR5X2RlYywgX2NvbGxpc2lvbkRldGVjdG9yX2RlYywgX3R5cGVfZGVjMiwgX2FjY2VwdF9kZWMsIF9jMiwgX2luaXQ1LCBfYWNjZXB0LCBfdHlwZTIsIF9jb2xsaXNpb25EZXRlY3RvciwgX2NvbGxpc2lvblByaW9yaXR5LCBfc2hhcGU7XG52YXIgRHJvcHBhYmxlID0gY2xhc3MgZXh0ZW5kcyAoX2MyID0gRW50aXR5LCBfYWNjZXB0X2RlYyA9IFtyZWFjdGl2ZV0sIF90eXBlX2RlYzIgPSBbcmVhY3RpdmVdLCBfY29sbGlzaW9uRGV0ZWN0b3JfZGVjID0gW3JlYWN0aXZlXSwgX2NvbGxpc2lvblByaW9yaXR5X2RlYyA9IFtyZWFjdGl2ZV0sIF9zaGFwZV9kZWMgPSBbcmVhY3RpdmVdLCBfaXNEcm9wVGFyZ2V0X2RlYyA9IFtkZXJpdmVkXSwgX2MyKSB7XG4gIGNvbnN0cnVjdG9yKF9hLCBtYW5hZ2VyKSB7XG4gICAgdmFyIF9iID0gX2EsIHsgYWNjZXB0LCBjb2xsaXNpb25EZXRlY3RvciwgY29sbGlzaW9uUHJpb3JpdHksIHR5cGUgfSA9IF9iLCBpbnB1dCA9IF9fb2JqUmVzdChfYiwgW1wiYWNjZXB0XCIsIFwiY29sbGlzaW9uRGV0ZWN0b3JcIiwgXCJjb2xsaXNpb25Qcmlvcml0eVwiLCBcInR5cGVcIl0pO1xuICAgIHN1cGVyKGlucHV0LCBtYW5hZ2VyKTtcbiAgICBfX3J1bkluaXRpYWxpemVycyhfaW5pdDUsIDUsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfYWNjZXB0LCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDUsIDgsIHRoaXMpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ1LCAxMSwgdGhpcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF90eXBlMiwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ1LCAxMiwgdGhpcykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDUsIDE1LCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2NvbGxpc2lvbkRldGVjdG9yLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDUsIDE2LCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NSwgMTksIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY29sbGlzaW9uUHJpb3JpdHksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NSwgMjAsIHRoaXMpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ1LCAyMywgdGhpcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9zaGFwZSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ1LCAyNCwgdGhpcykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDUsIDI3LCB0aGlzKTtcbiAgICB0aGlzLmFjY2VwdCA9IGFjY2VwdDtcbiAgICB0aGlzLmNvbGxpc2lvbkRldGVjdG9yID0gY29sbGlzaW9uRGV0ZWN0b3I7XG4gICAgdGhpcy5jb2xsaXNpb25Qcmlvcml0eSA9IGNvbGxpc2lvblByaW9yaXR5O1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGUgZHJvcHBhYmxlIGFjY2VwdHMgYSBnaXZlbiBkcmFnZ2FibGUuXG4gICAqXG4gICAqIEBwYXJhbSBkcmFnZ2FibGUgLSBUaGUgZHJhZ2dhYmxlIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGRyYWdnYWJsZSBjYW4gYmUgZHJvcHBlZCBoZXJlXG4gICAqL1xuICBhY2NlcHRzKGRyYWdnYWJsZSkge1xuICAgIGNvbnN0IHsgYWNjZXB0IH0gPSB0aGlzO1xuICAgIGlmICghYWNjZXB0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhY2NlcHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIGFjY2VwdChkcmFnZ2FibGUpO1xuICAgIH1cbiAgICBpZiAoIWRyYWdnYWJsZS50eXBlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGFjY2VwdCkpIHtcbiAgICAgIHJldHVybiBhY2NlcHQuaW5jbHVkZXMoZHJhZ2dhYmxlLnR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gZHJhZ2dhYmxlLnR5cGUgPT09IGFjY2VwdDtcbiAgfVxuICBnZXQgaXNEcm9wVGFyZ2V0KCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuICgoX2IgPSAoX2EgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kcmFnT3BlcmF0aW9uLnRhcmdldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmlkKSA9PT0gdGhpcy5pZDtcbiAgfVxufTtcbl9pbml0NSA9IF9fZGVjb3JhdG9yU3RhcnQoX2MyKTtcbl9hY2NlcHQgPSBuZXcgV2Vha01hcCgpO1xuX3R5cGUyID0gbmV3IFdlYWtNYXAoKTtcbl9jb2xsaXNpb25EZXRlY3RvciA9IG5ldyBXZWFrTWFwKCk7XG5fY29sbGlzaW9uUHJpb3JpdHkgPSBuZXcgV2Vha01hcCgpO1xuX3NoYXBlID0gbmV3IFdlYWtNYXAoKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NSwgNCwgXCJhY2NlcHRcIiwgX2FjY2VwdF9kZWMsIERyb3BwYWJsZSwgX2FjY2VwdCk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDUsIDQsIFwidHlwZVwiLCBfdHlwZV9kZWMyLCBEcm9wcGFibGUsIF90eXBlMik7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDUsIDQsIFwiY29sbGlzaW9uRGV0ZWN0b3JcIiwgX2NvbGxpc2lvbkRldGVjdG9yX2RlYywgRHJvcHBhYmxlLCBfY29sbGlzaW9uRGV0ZWN0b3IpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQ1LCA0LCBcImNvbGxpc2lvblByaW9yaXR5XCIsIF9jb2xsaXNpb25Qcmlvcml0eV9kZWMsIERyb3BwYWJsZSwgX2NvbGxpc2lvblByaW9yaXR5KTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NSwgNCwgXCJzaGFwZVwiLCBfc2hhcGVfZGVjLCBEcm9wcGFibGUsIF9zaGFwZSk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDUsIDIsIFwiaXNEcm9wVGFyZ2V0XCIsIF9pc0Ryb3BUYXJnZXRfZGVjLCBEcm9wcGFibGUpO1xuX19kZWNvcmF0b3JNZXRhZGF0YShfaW5pdDUsIERyb3BwYWJsZSk7XG5cbi8vIHNyYy9jb3JlL3NlbnNvcnMvc2Vuc29yLnRzXG52YXIgU2Vuc29yID0gY2xhc3MgZXh0ZW5kcyBQbHVnaW4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBzZW5zb3IgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBtYW5hZ2VyIC0gVGhlIGRyYWcgZHJvcCBtYW5hZ2VyIGluc3RhbmNlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgc2Vuc29yIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihtYW5hZ2VyLCBvcHRpb25zKTtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbn07XG5cbi8vIHNyYy9jb3JlL21vZGlmaWVycy9tb2RpZmllci50c1xudmFyIE1vZGlmaWVyID0gY2xhc3MgZXh0ZW5kcyBQbHVnaW4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBtb2RpZmllciBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIG1hbmFnZXIgLSBUaGUgZHJhZyBhbmQgZHJvcCBtYW5hZ2VyIHRoYXQgb3ducyB0aGlzIG1vZGlmaWVyXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIG1vZGlmaWVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyLCBvcHRpb25zKSB7XG4gICAgc3VwZXIobWFuYWdlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBtb2RpZmllciB0byB0aGUgY3VycmVudCBkcmFnIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBkcmFnIG9wZXJhdGlvblxuICAgKiBAcmV0dXJucyBUaGUgdHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW1wbGVtZW50IGN1c3RvbSB0cmFuc2Zvcm1hdGlvbiBsb2dpYy5cbiAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gcmV0dXJucyB0aGUgb3JpZ2luYWwgdHJhbnNmb3JtIHVuY2hhbmdlZC5cbiAgICovXG4gIGFwcGx5KG9wZXJhdGlvbikge1xuICAgIHJldHVybiBvcGVyYXRpb24udHJhbnNmb3JtO1xuICB9XG59O1xuXG4vLyBzcmMvY29yZS9tYW5hZ2VyL3JlZ2lzdHJ5LnRzXG52YXIgRHJhZ0Ryb3BSZWdpc3RyeSA9IGNsYXNzIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVnaXN0cnkgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBtYW5hZ2VyIC0gVGhlIGRyYWcgYW5kIGRyb3AgbWFuYWdlciB0aGF0IG93bnMgdGhpcyByZWdpc3RyeVxuICAgKi9cbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIC8qKiBSZWdpc3RyeSBmb3IgZHJhZ2dhYmxlIGVudGl0aWVzICovXG4gICAgdGhpcy5kcmFnZ2FibGVzID0gbmV3IEVudGl0eVJlZ2lzdHJ5KCk7XG4gICAgLyoqIFJlZ2lzdHJ5IGZvciBkcm9wcGFibGUgZW50aXRpZXMgKi9cbiAgICB0aGlzLmRyb3BwYWJsZXMgPSBuZXcgRW50aXR5UmVnaXN0cnkoKTtcbiAgICB0aGlzLnBsdWdpbnMgPSBuZXcgUGx1Z2luUmVnaXN0cnkobWFuYWdlcik7XG4gICAgdGhpcy5zZW5zb3JzID0gbmV3IFBsdWdpblJlZ2lzdHJ5KG1hbmFnZXIpO1xuICAgIHRoaXMubW9kaWZpZXJzID0gbmV3IFBsdWdpblJlZ2lzdHJ5KG1hbmFnZXIpO1xuICB9XG4gIHJlZ2lzdGVyKGlucHV0LCBvcHRpb25zKSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgRHJhZ2dhYmxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGVzLnJlZ2lzdGVyKGlucHV0LmlkLCBpbnB1dCk7XG4gICAgfVxuICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIERyb3BwYWJsZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZHJvcHBhYmxlcy5yZWdpc3RlcihpbnB1dC5pZCwgaW5wdXQpO1xuICAgIH1cbiAgICBpZiAoaW5wdXQucHJvdG90eXBlIGluc3RhbmNlb2YgTW9kaWZpZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGlmaWVycy5yZWdpc3RlcihpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5wcm90b3R5cGUgaW5zdGFuY2VvZiBTZW5zb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbnNvcnMucmVnaXN0ZXIoaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoaW5wdXQucHJvdG90eXBlIGluc3RhbmNlb2YgUGx1Z2luKSB7XG4gICAgICByZXR1cm4gdGhpcy5wbHVnaW5zLnJlZ2lzdGVyKGlucHV0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnN0YW5jZSB0eXBlXCIpO1xuICB9XG4gIHVucmVnaXN0ZXIoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBFbnRpdHkpIHtcbiAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIERyYWdnYWJsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGVzLnVucmVnaXN0ZXIoaW5wdXQuaWQsIGlucHV0KTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIERyb3BwYWJsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kcm9wcGFibGVzLnVucmVnaXN0ZXIoaW5wdXQuaWQsIGlucHV0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoaW5wdXQucHJvdG90eXBlIGluc3RhbmNlb2YgTW9kaWZpZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLm1vZGlmaWVycy51bnJlZ2lzdGVyKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LnByb3RvdHlwZSBpbnN0YW5jZW9mIFNlbnNvcikge1xuICAgICAgcmV0dXJuIHRoaXMuc2Vuc29ycy51bnJlZ2lzdGVyKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LnByb3RvdHlwZSBpbnN0YW5jZW9mIFBsdWdpbikge1xuICAgICAgcmV0dXJuIHRoaXMucGx1Z2lucy51bnJlZ2lzdGVyKGlucHV0KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnN0YW5jZSB0eXBlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbGwgcmVnaXN0ZXJlZCBlbnRpdGllcyBhbmQgY2xlYW5zIHVwIHJlc291cmNlcy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2Q6XG4gICAqIC0gRGVzdHJveXMgYWxsIGRyYWdnYWJsZSBhbmQgZHJvcHBhYmxlIGVudGl0aWVzXG4gICAqIC0gRGVzdHJveXMgYWxsIHBsdWdpbnMsIHNlbnNvcnMsIGFuZCBtb2RpZmllcnNcbiAgICogLSBDbGVhbnMgdXAgYW55IGFzc29jaWF0ZWQgcmVzb3VyY2VzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZHJhZ2dhYmxlcy5kZXN0cm95KCk7XG4gICAgdGhpcy5kcm9wcGFibGVzLmRlc3Ryb3koKTtcbiAgICB0aGlzLnBsdWdpbnMuZGVzdHJveSgpO1xuICAgIHRoaXMuc2Vuc29ycy5kZXN0cm95KCk7XG4gICAgdGhpcy5tb2RpZmllcnMuZGVzdHJveSgpO1xuICB9XG59O1xudmFyIF90cmFuc2Zvcm1fZGVjLCBfdGFyZ2V0X2RlYywgX3NvdXJjZV9kZWMsIF9tb2RpZmllcnNfZGVjMiwgX3RhcmdldElkZW50aWZpZXJfZGVjLCBfc291cmNlSWRlbnRpZmllcl9kZWMsIF9hY3RpdmF0b3JFdmVudF9kZWMsIF9jYW5jZWxlZF9kZWMsIF9zaGFwZV9kZWMyLCBfbWFuYWdlcjIsIF9wcmV2aW91c1NvdXJjZSwgX3NoYXBlMiwgX2luaXQ2LCBfY2FuY2VsZWQsIF9hY3RpdmF0b3JFdmVudCwgX3NvdXJjZUlkZW50aWZpZXIsIF90YXJnZXRJZGVudGlmaWVyLCBfbW9kaWZpZXJzMiwgX3RyYW5zZm9ybTtcbl9zaGFwZV9kZWMyID0gW2Rlcml2ZWRdLCBfY2FuY2VsZWRfZGVjID0gW3JlYWN0aXZlXSwgX2FjdGl2YXRvckV2ZW50X2RlYyA9IFtyZWFjdGl2ZV0sIF9zb3VyY2VJZGVudGlmaWVyX2RlYyA9IFtyZWFjdGl2ZV0sIF90YXJnZXRJZGVudGlmaWVyX2RlYyA9IFtyZWFjdGl2ZV0sIF9tb2RpZmllcnNfZGVjMiA9IFtyZWFjdGl2ZV0sIF9zb3VyY2VfZGVjID0gW2Rlcml2ZWRdLCBfdGFyZ2V0X2RlYyA9IFtkZXJpdmVkXSwgX3RyYW5zZm9ybV9kZWMgPSBbZGVyaXZlZF07XG52YXIgRHJhZ09wZXJhdGlvbiA9IGNsYXNzIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZHJhZyBvcGVyYXRpb24gaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBtYW5hZ2VyIC0gVGhlIGRyYWcgYW5kIGRyb3AgbWFuYWdlciB0aGF0IG93bnMgdGhpcyBvcGVyYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICBfX3J1bkluaXRpYWxpemVycyhfaW5pdDYsIDUsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfbWFuYWdlcjIpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcHJldmlvdXNTb3VyY2UpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfc2hhcGUyLCBuZXcgVmFsdWVIaXN0b3J5KFxuICAgICAgdm9pZCAwLFxuICAgICAgKGEsIGIpID0+IGEgJiYgYiA/IGEuZXF1YWxzKGIpIDogYSA9PT0gYlxuICAgICkpO1xuICAgIC8qKiBDdXJyZW50IHN0YXR1cyBvZiB0aGUgZHJhZyBvcGVyYXRpb24gKi9cbiAgICB0aGlzLnN0YXR1cyA9IG5ldyBTdGF0dXMoKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2NhbmNlbGVkLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDYsIDgsIHRoaXMsIGZhbHNlKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NiwgMTEsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfYWN0aXZhdG9yRXZlbnQsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NiwgMTIsIHRoaXMsIG51bGwpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ2LCAxNSwgdGhpcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9zb3VyY2VJZGVudGlmaWVyLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDYsIDE2LCB0aGlzLCBudWxsKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NiwgMTksIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfdGFyZ2V0SWRlbnRpZmllciwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ2LCAyMCwgdGhpcywgbnVsbCkpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDYsIDIzLCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX21vZGlmaWVyczIsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NiwgMjQsIHRoaXMsIFtdKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NiwgMjcsIHRoaXMpO1xuICAgIC8qKiBDdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBkcmFnZ2VkIGVudGl0eSAqL1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgUG9zaXRpb24oeyB4OiAwLCB5OiAwIH0pO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfdHJhbnNmb3JtLCB7IHg6IDAsIHk6IDAgfSk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9tYW5hZ2VyMiwgbWFuYWdlcik7XG4gIH1cbiAgZ2V0IHNoYXBlKCkge1xuICAgIGNvbnN0IHsgY3VycmVudCwgaW5pdGlhbCwgcHJldmlvdXMgfSA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfc2hhcGUyKTtcbiAgICBpZiAoIWN1cnJlbnQgfHwgIWluaXRpYWwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4geyBjdXJyZW50LCBpbml0aWFsLCBwcmV2aW91cyB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzaGFwZSBvZiB0aGUgZHJhZ2dlZCBlbnRpdHkuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBuZXcgc2hhcGUgb3IgbnVsbCB0byByZXNldFxuICAgKi9cbiAgc2V0IHNoYXBlKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9zaGFwZTIpLnJlc2V0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfc2hhcGUyKS5jdXJyZW50ID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIGdldCBzb3VyY2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGlkZW50aWZpZXIgPSB0aGlzLnNvdXJjZUlkZW50aWZpZXI7XG4gICAgaWYgKGlkZW50aWZpZXIgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgdmFsdWUgPSBfX3ByaXZhdGVHZXQodGhpcywgX21hbmFnZXIyKS5yZWdpc3RyeS5kcmFnZ2FibGVzLmdldChpZGVudGlmaWVyKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcHJldmlvdXNTb3VyY2UsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIChfYSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IF9fcHJpdmF0ZUdldCh0aGlzLCBfcHJldmlvdXNTb3VyY2UpKSAhPSBudWxsID8gX2EgOiBudWxsO1xuICB9XG4gIGdldCB0YXJnZXQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGlkZW50aWZpZXIgPSB0aGlzLnRhcmdldElkZW50aWZpZXI7XG4gICAgcmV0dXJuIGlkZW50aWZpZXIgIT0gbnVsbCA/IChfYSA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfbWFuYWdlcjIpLnJlZ2lzdHJ5LmRyb3BwYWJsZXMuZ2V0KGlkZW50aWZpZXIpKSAhPSBudWxsID8gX2EgOiBudWxsIDogbnVsbDtcbiAgfVxuICBnZXQgdHJhbnNmb3JtKCkge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5wb3NpdGlvbi5kZWx0YTtcbiAgICBsZXQgdHJhbnNmb3JtID0geyB4LCB5IH07XG4gICAgZm9yIChjb25zdCBtb2RpZmllciBvZiB0aGlzLm1vZGlmaWVycykge1xuICAgICAgdHJhbnNmb3JtID0gbW9kaWZpZXIuYXBwbHkoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgdGhpcy5zbmFwc2hvdCgpKSwge1xuICAgICAgICB0cmFuc2Zvcm1cbiAgICAgIH0pKTtcbiAgICB9XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF90cmFuc2Zvcm0sIHRyYW5zZm9ybSk7XG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IGRyYWcgb3BlcmF0aW9uIHN0YXRlLlxuICAgKlxuICAgKiBAcmV0dXJucyBBbiBpbW11dGFibGUgc25hcHNob3Qgb2YgdGhlIGN1cnJlbnQgb3BlcmF0aW9uIHN0YXRlXG4gICAqL1xuICBzbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gdW50cmFja2VkKCgpID0+ICh7XG4gICAgICBzb3VyY2U6IHRoaXMuc291cmNlLFxuICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCxcbiAgICAgIGFjdGl2YXRvckV2ZW50OiB0aGlzLmFjdGl2YXRvckV2ZW50LFxuICAgICAgdHJhbnNmb3JtOiBfX3ByaXZhdGVHZXQodGhpcywgX3RyYW5zZm9ybSksXG4gICAgICBzaGFwZTogdGhpcy5zaGFwZSA/IHNuYXBzaG90KHRoaXMuc2hhcGUpIDogbnVsbCxcbiAgICAgIHBvc2l0aW9uOiBzbmFwc2hvdCh0aGlzLnBvc2l0aW9uKSxcbiAgICAgIHN0YXR1czogc25hcHNob3QodGhpcy5zdGF0dXMpLFxuICAgICAgY2FuY2VsZWQ6IHRoaXMuY2FuY2VsZWRcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZHJhZyBvcGVyYXRpb24gdG8gaXRzIGluaXRpYWwgc3RhdGUuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgbWV0aG9kOlxuICAgKiAtIFNldHMgc3RhdHVzIHRvIGlkbGVcbiAgICogLSBDbGVhcnMgc291cmNlIGFuZCB0YXJnZXQgaWRlbnRpZmllcnNcbiAgICogLSBSZXNldHMgc2hhcGUgaGlzdG9yeVxuICAgKiAtIFJlc2V0cyBwb3NpdGlvbiBhbmQgdHJhbnNmb3JtXG4gICAqIC0gQ2xlYXJzIG1vZGlmaWVyc1xuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgYmF0Y2goKCkgPT4ge1xuICAgICAgdGhpcy5zdGF0dXMuc2V0KFwiaWRsZVwiIC8qIElkbGUgKi8pO1xuICAgICAgdGhpcy5zb3VyY2VJZGVudGlmaWVyID0gbnVsbDtcbiAgICAgIHRoaXMudGFyZ2V0SWRlbnRpZmllciA9IG51bGw7XG4gICAgICBfX3ByaXZhdGVHZXQodGhpcywgX3NoYXBlMikucmVzZXQoKTtcbiAgICAgIHRoaXMucG9zaXRpb24ucmVzZXQoeyB4OiAwLCB5OiAwIH0pO1xuICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF90cmFuc2Zvcm0sIHsgeDogMCwgeTogMCB9KTtcbiAgICAgIHRoaXMubW9kaWZpZXJzID0gW107XG4gICAgfSk7XG4gIH1cbn07XG5faW5pdDYgPSBfX2RlY29yYXRvclN0YXJ0KG51bGwpO1xuX21hbmFnZXIyID0gbmV3IFdlYWtNYXAoKTtcbl9wcmV2aW91c1NvdXJjZSA9IG5ldyBXZWFrTWFwKCk7XG5fc2hhcGUyID0gbmV3IFdlYWtNYXAoKTtcbl9jYW5jZWxlZCA9IG5ldyBXZWFrTWFwKCk7XG5fYWN0aXZhdG9yRXZlbnQgPSBuZXcgV2Vha01hcCgpO1xuX3NvdXJjZUlkZW50aWZpZXIgPSBuZXcgV2Vha01hcCgpO1xuX3RhcmdldElkZW50aWZpZXIgPSBuZXcgV2Vha01hcCgpO1xuX21vZGlmaWVyczIgPSBuZXcgV2Vha01hcCgpO1xuX3RyYW5zZm9ybSA9IG5ldyBXZWFrTWFwKCk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDYsIDIsIFwic2hhcGVcIiwgX3NoYXBlX2RlYzIsIERyYWdPcGVyYXRpb24pO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQ2LCA0LCBcImNhbmNlbGVkXCIsIF9jYW5jZWxlZF9kZWMsIERyYWdPcGVyYXRpb24sIF9jYW5jZWxlZCk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDYsIDQsIFwiYWN0aXZhdG9yRXZlbnRcIiwgX2FjdGl2YXRvckV2ZW50X2RlYywgRHJhZ09wZXJhdGlvbiwgX2FjdGl2YXRvckV2ZW50KTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NiwgNCwgXCJzb3VyY2VJZGVudGlmaWVyXCIsIF9zb3VyY2VJZGVudGlmaWVyX2RlYywgRHJhZ09wZXJhdGlvbiwgX3NvdXJjZUlkZW50aWZpZXIpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQ2LCA0LCBcInRhcmdldElkZW50aWZpZXJcIiwgX3RhcmdldElkZW50aWZpZXJfZGVjLCBEcmFnT3BlcmF0aW9uLCBfdGFyZ2V0SWRlbnRpZmllcik7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDYsIDQsIFwibW9kaWZpZXJzXCIsIF9tb2RpZmllcnNfZGVjMiwgRHJhZ09wZXJhdGlvbiwgX21vZGlmaWVyczIpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQ2LCAyLCBcInNvdXJjZVwiLCBfc291cmNlX2RlYywgRHJhZ09wZXJhdGlvbik7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDYsIDIsIFwidGFyZ2V0XCIsIF90YXJnZXRfZGVjLCBEcmFnT3BlcmF0aW9uKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NiwgMiwgXCJ0cmFuc2Zvcm1cIiwgX3RyYW5zZm9ybV9kZWMsIERyYWdPcGVyYXRpb24pO1xuX19kZWNvcmF0b3JNZXRhZGF0YShfaW5pdDYsIERyYWdPcGVyYXRpb24pO1xuXG4vLyBzcmMvY29yZS9tYW5hZ2VyL3JlbmRlcmVyLnRzXG52YXIgZGVmYXVsdFJlbmRlcmVyID0ge1xuICBnZXQgcmVuZGVyaW5nKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLy8gc3JjL2NvcmUvbWFuYWdlci9tYW5hZ2VyLnRzXG52YXIgRHJhZ0Ryb3BNYW5hZ2VyID0gY2xhc3Mge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBkcmFnIGFuZCBkcm9wIG1hbmFnZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciBwbHVnaW5zLCBzZW5zb3JzLCBtb2RpZmllcnMsIGFuZCByZW5kZXJlclxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIHJlc291cmNlcyBhbmQgc3RvcHMgYW55IGFjdGl2ZSBkcmFnIG9wZXJhdGlvbnMuXG4gICAgICovXG4gICAgdGhpcy5kZXN0cm95ID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRyYWdPcGVyYXRpb24uc3RhdHVzLmlkbGUpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25zLnN0b3AoeyBjYW5jZWxlZDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhZ09wZXJhdGlvbi5tb2RpZmllcnMuZm9yRWFjaCgobW9kaWZpZXIpID0+IG1vZGlmaWVyLmRlc3Ryb3koKSk7XG4gICAgICB0aGlzLnJlZ2lzdHJ5LmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuY29sbGlzaW9uT2JzZXJ2ZXIuZGVzdHJveSgpO1xuICAgIH07XG4gICAgY29uc3Qge1xuICAgICAgcGx1Z2lucyA9IFtdLFxuICAgICAgc2Vuc29ycyA9IFtdLFxuICAgICAgbW9kaWZpZXJzID0gW10sXG4gICAgICByZW5kZXJlciA9IGRlZmF1bHRSZW5kZXJlclxuICAgIH0gPSBjb25maWcgIT0gbnVsbCA/IGNvbmZpZyA6IHt9O1xuICAgIGNvbnN0IG1vbml0b3IgPSBuZXcgRHJhZ0Ryb3BNb25pdG9yKHRoaXMpO1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IERyYWdEcm9wUmVnaXN0cnkodGhpcyk7XG4gICAgdGhpcy5yZWdpc3RyeSA9IHJlZ2lzdHJ5O1xuICAgIHRoaXMubW9uaXRvciA9IG1vbml0b3I7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuYWN0aW9ucyA9IG5ldyBEcmFnQWN0aW9ucyh0aGlzKTtcbiAgICB0aGlzLmRyYWdPcGVyYXRpb24gPSBuZXcgRHJhZ09wZXJhdGlvbih0aGlzKTtcbiAgICB0aGlzLmNvbGxpc2lvbk9ic2VydmVyID0gbmV3IENvbGxpc2lvbk9ic2VydmVyKHRoaXMpO1xuICAgIHRoaXMucGx1Z2lucyA9IFtDb2xsaXNpb25Ob3RpZmllciwgLi4ucGx1Z2luc107XG4gICAgdGhpcy5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gICAgdGhpcy5zZW5zb3JzID0gc2Vuc29ycztcbiAgICBjb25zdCB7IGRlc3Ryb3kgfSA9IHRoaXM7XG4gICAgY29uc3QgY2xlYW51cCA9IGVmZmVjdHMoKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYiwgX2MzO1xuICAgICAgY29uc3QgY3VycmVudE1vZGlmaWVycyA9IHVudHJhY2tlZCgoKSA9PiB0aGlzLmRyYWdPcGVyYXRpb24ubW9kaWZpZXJzKTtcbiAgICAgIGNvbnN0IG1hbmFnZXJNb2RpZmllcnMgPSB0aGlzLm1vZGlmaWVycztcbiAgICAgIGlmIChjdXJyZW50TW9kaWZpZXJzICE9PSBtYW5hZ2VyTW9kaWZpZXJzKSB7XG4gICAgICAgIGN1cnJlbnRNb2RpZmllcnMuZm9yRWFjaCgobW9kaWZpZXIpID0+IG1vZGlmaWVyLmRlc3Ryb3koKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRyYWdPcGVyYXRpb24ubW9kaWZpZXJzID0gKF9jMyA9IChfYiA9IChfYSA9IHRoaXMuZHJhZ09wZXJhdGlvbi5zb3VyY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5tYXAoKG1vZGlmaWVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcGx1Z2luLCBvcHRpb25zIH0gPSBkZXNjcmlwdG9yKG1vZGlmaWVyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwbHVnaW4odGhpcywgb3B0aW9ucyk7XG4gICAgICB9KSkgIT0gbnVsbCA/IF9jMyA6IG1hbmFnZXJNb2RpZmllcnM7XG4gICAgfSk7XG4gICAgdGhpcy5kZXN0cm95ID0gKCkgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgZGVzdHJveSgpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIGxpc3Qgb2YgYWN0aXZlIHBsdWdpbnMuXG4gICAqXG4gICAqIEByZXR1cm5zIEFycmF5IG9mIGFjdGl2ZSBwbHVnaW4gaW5zdGFuY2VzXG4gICAqL1xuICBnZXQgcGx1Z2lucygpIHtcbiAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS5wbHVnaW5zLnZhbHVlcztcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBwbHVnaW5zIHRvIGJlIHVzZWQgYnkgdGhlIG1hbmFnZXIuXG4gICAqXG4gICAqIEBwYXJhbSBwbHVnaW5zIC0gQXJyYXkgb2YgcGx1Z2luIGNvbnN0cnVjdG9ycyBvciBpbnN0YW5jZXNcbiAgICovXG4gIHNldCBwbHVnaW5zKHBsdWdpbnMpIHtcbiAgICB0aGlzLnJlZ2lzdHJ5LnBsdWdpbnMudmFsdWVzID0gcGx1Z2lucztcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgbGlzdCBvZiBhY3RpdmUgbW9kaWZpZXJzLlxuICAgKlxuICAgKiBAcmV0dXJucyBBcnJheSBvZiBhY3RpdmUgbW9kaWZpZXIgaW5zdGFuY2VzXG4gICAqL1xuICBnZXQgbW9kaWZpZXJzKCkge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5Lm1vZGlmaWVycy52YWx1ZXM7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIHRvIGJlIHVzZWQgYnkgdGhlIG1hbmFnZXIuXG4gICAqXG4gICAqIEBwYXJhbSBtb2RpZmllcnMgLSBBcnJheSBvZiBtb2RpZmllciBjb25zdHJ1Y3RvcnMgb3IgaW5zdGFuY2VzXG4gICAqL1xuICBzZXQgbW9kaWZpZXJzKG1vZGlmaWVycykge1xuICAgIHRoaXMucmVnaXN0cnkubW9kaWZpZXJzLnZhbHVlcyA9IG1vZGlmaWVycztcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgbGlzdCBvZiBhY3RpdmUgc2Vuc29ycy5cbiAgICpcbiAgICogQHJldHVybnMgQXJyYXkgb2YgYWN0aXZlIHNlbnNvciBpbnN0YW5jZXNcbiAgICovXG4gIGdldCBzZW5zb3JzKCkge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5LnNlbnNvcnMudmFsdWVzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsaXN0IG9mIHNlbnNvcnMgdG8gYmUgdXNlZCBieSB0aGUgbWFuYWdlci5cbiAgICpcbiAgICogQHBhcmFtIHNlbnNvcnMgLSBBcnJheSBvZiBzZW5zb3IgY29uc3RydWN0b3JzIG9yIGluc3RhbmNlc1xuICAgKi9cbiAgc2V0IHNlbnNvcnMoc2Vuc29ycykge1xuICAgIHRoaXMucmVnaXN0cnkuc2Vuc29ycy52YWx1ZXMgPSBzZW5zb3JzO1xuICB9XG59O1xuXG5leHBvcnQgeyBDb2xsaXNpb25Qcmlvcml0eSwgQ29sbGlzaW9uVHlwZSwgQ29yZVBsdWdpbiwgRHJhZ0Ryb3BNYW5hZ2VyLCBTdGF0dXMgYXMgRHJhZ09wZXJhdGlvblN0YXR1cywgRHJhZ2dhYmxlLCBEcm9wcGFibGUsIE1vZGlmaWVyLCBQbHVnaW4sIFBsdWdpblJlZ2lzdHJ5LCBTZW5zb3IsIGNvbmZpZ3VyYXRvciwgY29uZmlndXJlLCBkZXNjcmlwdG9yLCBzb3J0Q29sbGlzaW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+collision@0.1.21/node_modules/@dnd-kit/collision/dist/index.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+collision@0.1.21/node_modules/@dnd-kit/collision/dist/index.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closestCenter: () => (/* binding */ closestCenter),\n/* harmony export */   closestCorners: () => (/* binding */ closestCorners),\n/* harmony export */   defaultCollisionDetection: () => (/* binding */ defaultCollisionDetection),\n/* harmony export */   directionBiased: () => (/* binding */ directionBiased),\n/* harmony export */   pointerDistance: () => (/* binding */ pointerDistance),\n/* harmony export */   pointerIntersection: () => (/* binding */ pointerIntersection),\n/* harmony export */   shapeIntersection: () => (/* binding */ shapeIntersection)\n/* harmony export */ });\n/* harmony import */ var _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/abstract */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js\");\n/* harmony import */ var _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dnd-kit/geometry */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs\");\n// src/algorithms/pointerIntersection.ts\n\n\nvar pointerIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const pointerCoordinates = dragOperation.position.current;\n  if (!pointerCoordinates) {\n    return null;\n  }\n  const { id } = droppable;\n  if (!droppable.shape) {\n    return null;\n  }\n  if (droppable.shape.containsPoint(pointerCoordinates)) {\n    const distance = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Point.distance(droppable.shape.center, pointerCoordinates);\n    return {\n      id,\n      value: 1 / distance,\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionType.PointerIntersection,\n      priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionPriority.High\n    };\n  }\n  return null;\n};\n\n// src/algorithms/shapeIntersection.ts\n\n\nvar shapeIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const { shape } = dragOperation;\n  if (!droppable.shape || !(shape == null ? void 0 : shape.current)) {\n    return null;\n  }\n  const intersectionArea = shape.current.intersectionArea(droppable.shape);\n  if (intersectionArea) {\n    const { position } = dragOperation;\n    const distance = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Point.distance(droppable.shape.center, position.current);\n    const intersectionRatio = intersectionArea / (shape.current.area + droppable.shape.area - intersectionArea);\n    const value = intersectionRatio / distance;\n    return {\n      id: droppable.id,\n      value,\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionType.ShapeIntersection,\n      priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionPriority.Normal\n    };\n  }\n  return null;\n};\n\n// src/algorithms/default.ts\nvar defaultCollisionDetection = (args) => {\n  var _a;\n  return (_a = pointerIntersection(args)) != null ? _a : shapeIntersection(args);\n};\n\n// src/algorithms/closestCorners.ts\n\n\nvar closestCorners = (input) => {\n  const { dragOperation, droppable } = input;\n  const { shape, position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const shapeCorners = shape ? _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Rectangle.from(shape.current.boundingRectangle).corners : void 0;\n  const distance = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Rectangle.from(\n    droppable.shape.boundingRectangle\n  ).corners.reduce(\n    (acc, corner, index) => {\n      var _a;\n      return acc + _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Point.distance(\n        _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Point.from(corner),\n        (_a = shapeCorners == null ? void 0 : shapeCorners[index]) != null ? _a : position.current\n      );\n    },\n    0\n  );\n  const value = distance / 4;\n  return {\n    id: droppable.id,\n    value: 1 / value,\n    type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionType.Collision,\n    priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionPriority.Normal\n  };\n};\n\n// src/algorithms/closestCenter.ts\n\n\nvar closestCenter = (input) => {\n  var _a;\n  const { dragOperation, droppable } = input;\n  const { shape, position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const collision = defaultCollisionDetection(input);\n  if (collision) {\n    return collision;\n  }\n  const distance = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Point.distance(\n    droppable.shape.center,\n    (_a = shape == null ? void 0 : shape.current.center) != null ? _a : position.current\n  );\n  const value = 1 / distance;\n  return {\n    id: droppable.id,\n    value,\n    type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionType.Collision,\n    priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionPriority.Normal\n  };\n};\n\n// src/algorithms/directionBiased.ts\n\n\nvar directionBiased = ({\n  dragOperation,\n  droppable\n}) => {\n  if (!droppable.shape) {\n    return null;\n  }\n  const { position, shape } = dragOperation;\n  const { direction } = position;\n  if (!shape) {\n    return null;\n  }\n  if (direction === null) {\n    return defaultCollisionDetection({ dragOperation, droppable });\n  }\n  const { center, boundingRectangle } = shape.current;\n  if (direction === \"down\" && boundingRectangle.bottom >= droppable.shape.center.y || direction === \"up\" && boundingRectangle.top <= droppable.shape.center.y || direction === \"left\" && boundingRectangle.left <= droppable.shape.center.x || direction === \"right\" && boundingRectangle.right >= droppable.shape.center.x) {\n    return {\n      id: droppable.id,\n      value: 1 / _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Point.distance(droppable.shape.center, center),\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionType.Collision,\n      priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionPriority.Normal\n    };\n  }\n  return null;\n};\n\n// src/algorithms/pointerDistance.ts\n\n\nvar pointerDistance = (input) => {\n  const { dragOperation, droppable } = input;\n  const { position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const distance = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Point.distance(droppable.shape.center, position.current);\n  const value = 1 / distance;\n  return {\n    id: droppable.id,\n    value,\n    type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionType.Collision,\n    priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_1__.CollisionPriority.Normal\n  };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtjb2xsaXNpb25AMC4xLjIxL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9jb2xsaXNpb24vZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNxRTtBQUMzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEtBQUs7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvREFBSztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDREQUFhO0FBQ3pCLGdCQUFnQixnRUFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkc7QUFDekQ7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFVBQVUsUUFBUTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCLHFCQUFxQixvREFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBYztBQUMxQixnQkFBZ0IsZ0VBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkc7QUFDOUM7QUFDL0Q7QUFDQSxVQUFVLDJCQUEyQjtBQUNyQyxVQUFVLGtCQUFrQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isd0RBQVM7QUFDeEMsbUJBQW1CLHdEQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9EQUFNO0FBQ3pCLFFBQVEsb0RBQU07QUFDZDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNERBQWM7QUFDeEIsY0FBYyxnRUFBa0I7QUFDaEM7QUFDQTs7QUFFQTtBQUM2RztBQUN6RDtBQUNwRDtBQUNBO0FBQ0EsVUFBVSwyQkFBMkI7QUFDckMsVUFBVSxrQkFBa0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0RBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDREQUFjO0FBQ3hCLGNBQWMsZ0VBQWtCO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDNkc7QUFDekQ7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0JBQWtCO0FBQzVCLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwQkFBMEI7QUFDakU7QUFDQSxVQUFVLDRCQUE0QjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0RBQU07QUFDdkIsWUFBWSw0REFBYztBQUMxQixnQkFBZ0IsZ0VBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZHO0FBQ3pEO0FBQ3BEO0FBQ0EsVUFBVSwyQkFBMkI7QUFDckMsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvREFBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNERBQWM7QUFDeEIsY0FBYyxnRUFBa0I7QUFDaEM7QUFDQTtBQVNFIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrY29sbGlzaW9uQDAuMS4yMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29sbGlzaW9uL2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FsZ29yaXRobXMvcG9pbnRlckludGVyc2VjdGlvbi50c1xuaW1wb3J0IHsgQ29sbGlzaW9uUHJpb3JpdHksIENvbGxpc2lvblR5cGUgfSBmcm9tIFwiQGRuZC1raXQvYWJzdHJhY3RcIjtcbmltcG9ydCB7IFBvaW50IH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG52YXIgcG9pbnRlckludGVyc2VjdGlvbiA9ICh7XG4gIGRyYWdPcGVyYXRpb24sXG4gIGRyb3BwYWJsZVxufSkgPT4ge1xuICBjb25zdCBwb2ludGVyQ29vcmRpbmF0ZXMgPSBkcmFnT3BlcmF0aW9uLnBvc2l0aW9uLmN1cnJlbnQ7XG4gIGlmICghcG9pbnRlckNvb3JkaW5hdGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgeyBpZCB9ID0gZHJvcHBhYmxlO1xuICBpZiAoIWRyb3BwYWJsZS5zaGFwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChkcm9wcGFibGUuc2hhcGUuY29udGFpbnNQb2ludChwb2ludGVyQ29vcmRpbmF0ZXMpKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBQb2ludC5kaXN0YW5jZShkcm9wcGFibGUuc2hhcGUuY2VudGVyLCBwb2ludGVyQ29vcmRpbmF0ZXMpO1xuICAgIHJldHVybiB7XG4gICAgICBpZCxcbiAgICAgIHZhbHVlOiAxIC8gZGlzdGFuY2UsXG4gICAgICB0eXBlOiBDb2xsaXNpb25UeXBlLlBvaW50ZXJJbnRlcnNlY3Rpb24sXG4gICAgICBwcmlvcml0eTogQ29sbGlzaW9uUHJpb3JpdHkuSGlnaFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBzcmMvYWxnb3JpdGhtcy9zaGFwZUludGVyc2VjdGlvbi50c1xuaW1wb3J0IHsgQ29sbGlzaW9uUHJpb3JpdHkgYXMgQ29sbGlzaW9uUHJpb3JpdHkyLCBDb2xsaXNpb25UeXBlIGFzIENvbGxpc2lvblR5cGUyIH0gZnJvbSBcIkBkbmQta2l0L2Fic3RyYWN0XCI7XG5pbXBvcnQgeyBQb2ludCBhcyBQb2ludDIgfSBmcm9tIFwiQGRuZC1raXQvZ2VvbWV0cnlcIjtcbnZhciBzaGFwZUludGVyc2VjdGlvbiA9ICh7XG4gIGRyYWdPcGVyYXRpb24sXG4gIGRyb3BwYWJsZVxufSkgPT4ge1xuICBjb25zdCB7IHNoYXBlIH0gPSBkcmFnT3BlcmF0aW9uO1xuICBpZiAoIWRyb3BwYWJsZS5zaGFwZSB8fCAhKHNoYXBlID09IG51bGwgPyB2b2lkIDAgOiBzaGFwZS5jdXJyZW50KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGludGVyc2VjdGlvbkFyZWEgPSBzaGFwZS5jdXJyZW50LmludGVyc2VjdGlvbkFyZWEoZHJvcHBhYmxlLnNoYXBlKTtcbiAgaWYgKGludGVyc2VjdGlvbkFyZWEpIHtcbiAgICBjb25zdCB7IHBvc2l0aW9uIH0gPSBkcmFnT3BlcmF0aW9uO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gUG9pbnQyLmRpc3RhbmNlKGRyb3BwYWJsZS5zaGFwZS5jZW50ZXIsIHBvc2l0aW9uLmN1cnJlbnQpO1xuICAgIGNvbnN0IGludGVyc2VjdGlvblJhdGlvID0gaW50ZXJzZWN0aW9uQXJlYSAvIChzaGFwZS5jdXJyZW50LmFyZWEgKyBkcm9wcGFibGUuc2hhcGUuYXJlYSAtIGludGVyc2VjdGlvbkFyZWEpO1xuICAgIGNvbnN0IHZhbHVlID0gaW50ZXJzZWN0aW9uUmF0aW8gLyBkaXN0YW5jZTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGRyb3BwYWJsZS5pZCxcbiAgICAgIHZhbHVlLFxuICAgICAgdHlwZTogQ29sbGlzaW9uVHlwZTIuU2hhcGVJbnRlcnNlY3Rpb24sXG4gICAgICBwcmlvcml0eTogQ29sbGlzaW9uUHJpb3JpdHkyLk5vcm1hbFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBzcmMvYWxnb3JpdGhtcy9kZWZhdWx0LnRzXG52YXIgZGVmYXVsdENvbGxpc2lvbkRldGVjdGlvbiA9IChhcmdzKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IHBvaW50ZXJJbnRlcnNlY3Rpb24oYXJncykpICE9IG51bGwgPyBfYSA6IHNoYXBlSW50ZXJzZWN0aW9uKGFyZ3MpO1xufTtcblxuLy8gc3JjL2FsZ29yaXRobXMvY2xvc2VzdENvcm5lcnMudHNcbmltcG9ydCB7IENvbGxpc2lvblByaW9yaXR5IGFzIENvbGxpc2lvblByaW9yaXR5MywgQ29sbGlzaW9uVHlwZSBhcyBDb2xsaXNpb25UeXBlMyB9IGZyb20gXCJAZG5kLWtpdC9hYnN0cmFjdFwiO1xuaW1wb3J0IHsgUG9pbnQgYXMgUG9pbnQzLCBSZWN0YW5nbGUgfSBmcm9tIFwiQGRuZC1raXQvZ2VvbWV0cnlcIjtcbnZhciBjbG9zZXN0Q29ybmVycyA9IChpbnB1dCkgPT4ge1xuICBjb25zdCB7IGRyYWdPcGVyYXRpb24sIGRyb3BwYWJsZSB9ID0gaW5wdXQ7XG4gIGNvbnN0IHsgc2hhcGUsIHBvc2l0aW9uIH0gPSBkcmFnT3BlcmF0aW9uO1xuICBpZiAoIWRyb3BwYWJsZS5zaGFwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHNoYXBlQ29ybmVycyA9IHNoYXBlID8gUmVjdGFuZ2xlLmZyb20oc2hhcGUuY3VycmVudC5ib3VuZGluZ1JlY3RhbmdsZSkuY29ybmVycyA6IHZvaWQgMDtcbiAgY29uc3QgZGlzdGFuY2UgPSBSZWN0YW5nbGUuZnJvbShcbiAgICBkcm9wcGFibGUuc2hhcGUuYm91bmRpbmdSZWN0YW5nbGVcbiAgKS5jb3JuZXJzLnJlZHVjZShcbiAgICAoYWNjLCBjb3JuZXIsIGluZGV4KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gYWNjICsgUG9pbnQzLmRpc3RhbmNlKFxuICAgICAgICBQb2ludDMuZnJvbShjb3JuZXIpLFxuICAgICAgICAoX2EgPSBzaGFwZUNvcm5lcnMgPT0gbnVsbCA/IHZvaWQgMCA6IHNoYXBlQ29ybmVyc1tpbmRleF0pICE9IG51bGwgPyBfYSA6IHBvc2l0aW9uLmN1cnJlbnRcbiAgICAgICk7XG4gICAgfSxcbiAgICAwXG4gICk7XG4gIGNvbnN0IHZhbHVlID0gZGlzdGFuY2UgLyA0O1xuICByZXR1cm4ge1xuICAgIGlkOiBkcm9wcGFibGUuaWQsXG4gICAgdmFsdWU6IDEgLyB2YWx1ZSxcbiAgICB0eXBlOiBDb2xsaXNpb25UeXBlMy5Db2xsaXNpb24sXG4gICAgcHJpb3JpdHk6IENvbGxpc2lvblByaW9yaXR5My5Ob3JtYWxcbiAgfTtcbn07XG5cbi8vIHNyYy9hbGdvcml0aG1zL2Nsb3Nlc3RDZW50ZXIudHNcbmltcG9ydCB7IENvbGxpc2lvblByaW9yaXR5IGFzIENvbGxpc2lvblByaW9yaXR5NCwgQ29sbGlzaW9uVHlwZSBhcyBDb2xsaXNpb25UeXBlNCB9IGZyb20gXCJAZG5kLWtpdC9hYnN0cmFjdFwiO1xuaW1wb3J0IHsgUG9pbnQgYXMgUG9pbnQ0IH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG52YXIgY2xvc2VzdENlbnRlciA9IChpbnB1dCkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgZHJhZ09wZXJhdGlvbiwgZHJvcHBhYmxlIH0gPSBpbnB1dDtcbiAgY29uc3QgeyBzaGFwZSwgcG9zaXRpb24gfSA9IGRyYWdPcGVyYXRpb247XG4gIGlmICghZHJvcHBhYmxlLnNoYXBlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgY29sbGlzaW9uID0gZGVmYXVsdENvbGxpc2lvbkRldGVjdGlvbihpbnB1dCk7XG4gIGlmIChjb2xsaXNpb24pIHtcbiAgICByZXR1cm4gY29sbGlzaW9uO1xuICB9XG4gIGNvbnN0IGRpc3RhbmNlID0gUG9pbnQ0LmRpc3RhbmNlKFxuICAgIGRyb3BwYWJsZS5zaGFwZS5jZW50ZXIsXG4gICAgKF9hID0gc2hhcGUgPT0gbnVsbCA/IHZvaWQgMCA6IHNoYXBlLmN1cnJlbnQuY2VudGVyKSAhPSBudWxsID8gX2EgOiBwb3NpdGlvbi5jdXJyZW50XG4gICk7XG4gIGNvbnN0IHZhbHVlID0gMSAvIGRpc3RhbmNlO1xuICByZXR1cm4ge1xuICAgIGlkOiBkcm9wcGFibGUuaWQsXG4gICAgdmFsdWUsXG4gICAgdHlwZTogQ29sbGlzaW9uVHlwZTQuQ29sbGlzaW9uLFxuICAgIHByaW9yaXR5OiBDb2xsaXNpb25Qcmlvcml0eTQuTm9ybWFsXG4gIH07XG59O1xuXG4vLyBzcmMvYWxnb3JpdGhtcy9kaXJlY3Rpb25CaWFzZWQudHNcbmltcG9ydCB7IENvbGxpc2lvblByaW9yaXR5IGFzIENvbGxpc2lvblByaW9yaXR5NSwgQ29sbGlzaW9uVHlwZSBhcyBDb2xsaXNpb25UeXBlNSB9IGZyb20gXCJAZG5kLWtpdC9hYnN0cmFjdFwiO1xuaW1wb3J0IHsgUG9pbnQgYXMgUG9pbnQ1IH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG52YXIgZGlyZWN0aW9uQmlhc2VkID0gKHtcbiAgZHJhZ09wZXJhdGlvbixcbiAgZHJvcHBhYmxlXG59KSA9PiB7XG4gIGlmICghZHJvcHBhYmxlLnNoYXBlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgeyBwb3NpdGlvbiwgc2hhcGUgfSA9IGRyYWdPcGVyYXRpb247XG4gIGNvbnN0IHsgZGlyZWN0aW9uIH0gPSBwb3NpdGlvbjtcbiAgaWYgKCFzaGFwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChkaXJlY3Rpb24gPT09IG51bGwpIHtcbiAgICByZXR1cm4gZGVmYXVsdENvbGxpc2lvbkRldGVjdGlvbih7IGRyYWdPcGVyYXRpb24sIGRyb3BwYWJsZSB9KTtcbiAgfVxuICBjb25zdCB7IGNlbnRlciwgYm91bmRpbmdSZWN0YW5nbGUgfSA9IHNoYXBlLmN1cnJlbnQ7XG4gIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiICYmIGJvdW5kaW5nUmVjdGFuZ2xlLmJvdHRvbSA+PSBkcm9wcGFibGUuc2hhcGUuY2VudGVyLnkgfHwgZGlyZWN0aW9uID09PSBcInVwXCIgJiYgYm91bmRpbmdSZWN0YW5nbGUudG9wIDw9IGRyb3BwYWJsZS5zaGFwZS5jZW50ZXIueSB8fCBkaXJlY3Rpb24gPT09IFwibGVmdFwiICYmIGJvdW5kaW5nUmVjdGFuZ2xlLmxlZnQgPD0gZHJvcHBhYmxlLnNoYXBlLmNlbnRlci54IHx8IGRpcmVjdGlvbiA9PT0gXCJyaWdodFwiICYmIGJvdW5kaW5nUmVjdGFuZ2xlLnJpZ2h0ID49IGRyb3BwYWJsZS5zaGFwZS5jZW50ZXIueCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZHJvcHBhYmxlLmlkLFxuICAgICAgdmFsdWU6IDEgLyBQb2ludDUuZGlzdGFuY2UoZHJvcHBhYmxlLnNoYXBlLmNlbnRlciwgY2VudGVyKSxcbiAgICAgIHR5cGU6IENvbGxpc2lvblR5cGU1LkNvbGxpc2lvbixcbiAgICAgIHByaW9yaXR5OiBDb2xsaXNpb25Qcmlvcml0eTUuTm9ybWFsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIHNyYy9hbGdvcml0aG1zL3BvaW50ZXJEaXN0YW5jZS50c1xuaW1wb3J0IHsgQ29sbGlzaW9uUHJpb3JpdHkgYXMgQ29sbGlzaW9uUHJpb3JpdHk2LCBDb2xsaXNpb25UeXBlIGFzIENvbGxpc2lvblR5cGU2IH0gZnJvbSBcIkBkbmQta2l0L2Fic3RyYWN0XCI7XG5pbXBvcnQgeyBQb2ludCBhcyBQb2ludDYgfSBmcm9tIFwiQGRuZC1raXQvZ2VvbWV0cnlcIjtcbnZhciBwb2ludGVyRGlzdGFuY2UgPSAoaW5wdXQpID0+IHtcbiAgY29uc3QgeyBkcmFnT3BlcmF0aW9uLCBkcm9wcGFibGUgfSA9IGlucHV0O1xuICBjb25zdCB7IHBvc2l0aW9uIH0gPSBkcmFnT3BlcmF0aW9uO1xuICBpZiAoIWRyb3BwYWJsZS5zaGFwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGRpc3RhbmNlID0gUG9pbnQ2LmRpc3RhbmNlKGRyb3BwYWJsZS5zaGFwZS5jZW50ZXIsIHBvc2l0aW9uLmN1cnJlbnQpO1xuICBjb25zdCB2YWx1ZSA9IDEgLyBkaXN0YW5jZTtcbiAgcmV0dXJuIHtcbiAgICBpZDogZHJvcHBhYmxlLmlkLFxuICAgIHZhbHVlLFxuICAgIHR5cGU6IENvbGxpc2lvblR5cGU2LkNvbGxpc2lvbixcbiAgICBwcmlvcml0eTogQ29sbGlzaW9uUHJpb3JpdHk2Lk5vcm1hbFxuICB9O1xufTtcbmV4cG9ydCB7XG4gIGNsb3Nlc3RDZW50ZXIsXG4gIGNsb3Nlc3RDb3JuZXJzLFxuICBkZWZhdWx0Q29sbGlzaW9uRGV0ZWN0aW9uLFxuICBkaXJlY3Rpb25CaWFzZWQsXG4gIHBvaW50ZXJEaXN0YW5jZSxcbiAgcG9pbnRlckludGVyc2VjdGlvbixcbiAgc2hhcGVJbnRlcnNlY3Rpb25cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+collision@0.1.21/node_modules/@dnd-kit/collision/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Accessibility: () => (/* binding */ Accessibility),\n/* harmony export */   AutoScroller: () => (/* binding */ AutoScroller),\n/* harmony export */   Cursor: () => (/* binding */ Cursor),\n/* harmony export */   DragDropManager: () => (/* binding */ DragDropManager),\n/* harmony export */   Draggable: () => (/* binding */ Draggable),\n/* harmony export */   Droppable: () => (/* binding */ Droppable),\n/* harmony export */   Feedback: () => (/* binding */ Feedback),\n/* harmony export */   KeyboardSensor: () => (/* binding */ KeyboardSensor),\n/* harmony export */   PointerSensor: () => (/* binding */ PointerSensor),\n/* harmony export */   PreventSelection: () => (/* binding */ PreventSelection),\n/* harmony export */   ScrollListener: () => (/* binding */ ScrollListener),\n/* harmony export */   Scroller: () => (/* binding */ Scroller),\n/* harmony export */   defaultPreset: () => (/* binding */ defaultPreset)\n/* harmony export */ });\n/* harmony import */ var _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dnd-kit/abstract */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js\");\n/* harmony import */ var _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/dom/utilities */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/utilities.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\n/* harmony import */ var _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @dnd-kit/geometry */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs\");\n/* harmony import */ var _dnd_kit_collision__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @dnd-kit/collision */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+collision@0.1.21/node_modules/@dnd-kit/collision/dist/index.js\");\n\n\n\n\n\n\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __decoratorStart = (base) => {\n  var _a4;\n  return [, , , __create((_a4 = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a4 : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) flags & 1 ? fns[i].call(self) : value = fns[i].call(self, value);\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var fn, it, done, ctx, access, k = flags & 7, s = !!(flags & 8), p = !!(flags & 16);\n  var j = k > 3 ? array.length + 1 : k ? s ? 1 : 2 : 0, key = __decoratorStrings[k + 5];\n  var initializers = k > 3 && (array[j - 1] = []), extraInitializers = array[j] || (array[j] = []);\n  var desc = k && (!p && !s && (target = target.prototype), k < 5 && (k > 3 || !p) && __getOwnPropDesc(k < 4 ? target : { get [name]() {\n    return __privateGet(this, extra);\n  }, set [name](x) {\n    return __privateSet(this, extra, x);\n  } }, name));\n  k ? p && k < 4 && __name(extra, (k > 2 ? \"set \" : k > 1 ? \"get \" : \"\") + name) : __name(target, name);\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    if (k) {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: p ? (x) => __privateIn(target, x) : (x) => name in x };\n      if (k ^ 3) access.get = p ? (x) => (k ^ 1 ? __privateGet : __privateMethod)(x, target, k ^ 4 ? extra : desc.get) : (x) => x[name];\n      if (k > 2) access.set = p ? (x, y) => __privateSet(x, target, y, k ^ 4 ? extra : desc.set) : (x, y) => x[name] = y;\n    }\n    it = (0, decorators[i])(k ? k < 4 ? p ? extra : desc[key] : k > 4 ? void 0 : { get: desc.get, set: desc.set } : target, ctx), done._ = 1;\n    if (k ^ 4 || it === void 0) __expectFn(it) && (k > 4 ? initializers.unshift(it) : k ? p ? extra = it : desc[key] = it : target = it);\n    else if (typeof it !== \"object\" || it === null) __typeError(\"Object expected\");\n    else __expectFn(fn = it.get) && (desc.get = fn), __expectFn(fn = it.set) && (desc.set = fn), __expectFn(fn = it.init) && initializers.unshift(fn);\n  }\n  return k || __decoratorMetadata(array, target), desc && __defProp(target, name, desc), p ? k ^ 4 ? extra : desc : target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateIn = (member, obj) => Object(obj) !== obj ? __typeError('Cannot use the \"in\" operator on this value') : member.has(obj);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\n// src/core/plugins/accessibility/defaults.ts\nvar defaultAttributes = {\n  role: \"button\",\n  roleDescription: \"draggable\"};\nvar defaultDescriptionIdPrefix = `dnd-kit-description`;\nvar defaultAnnouncementIdPrefix = `dnd-kit-announcement`;\nvar defaultScreenReaderInstructions = {\n  draggable: `To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel.`\n};\nvar defaultAnnouncements = {\n  dragstart({ operation: { source } }) {\n    if (!source) return;\n    return `Picked up draggable item ${source.id}.`;\n  },\n  dragover({ operation: { source, target } }) {\n    if (!source || source.id === (target == null ? void 0 : target.id)) return;\n    if (target) {\n      return `Draggable item ${source.id} was moved over droppable target ${target.id}.`;\n    }\n    return `Draggable item ${source.id} is no longer over a droppable target.`;\n  },\n  dragend({ operation: { source, target }, canceled }) {\n    if (!source) return;\n    if (canceled) {\n      return `Dragging was cancelled. Draggable item ${source.id} was dropped.`;\n    }\n    if (target) {\n      return `Draggable item ${source.id} was dropped over droppable target ${target.id}`;\n    }\n    return `Draggable item ${source.id} was dropped.`;\n  }\n};\n\n// src/core/plugins/accessibility/utilities.ts\nfunction isFocusable(element) {\n  const tagName = element.tagName.toLowerCase();\n  return [\"input\", \"select\", \"textarea\", \"a\", \"button\"].includes(tagName);\n}\n\n// src/core/plugins/accessibility/HiddenText.ts\nfunction createHiddenText(id, value) {\n  const element = document.createElement(\"div\");\n  element.id = id;\n  element.style.setProperty(\"display\", \"none\");\n  element.textContent = value;\n  return element;\n}\n\n// src/core/plugins/accessibility/LiveRegion.ts\nfunction createLiveRegion(id) {\n  const element = document.createElement(\"div\");\n  element.id = id;\n  element.setAttribute(\"role\", \"status\");\n  element.setAttribute(\"aria-live\", \"polite\");\n  element.setAttribute(\"aria-atomic\", \"true\");\n  element.style.setProperty(\"position\", \"fixed\");\n  element.style.setProperty(\"width\", \"1px\");\n  element.style.setProperty(\"height\", \"1px\");\n  element.style.setProperty(\"margin\", \"-1px\");\n  element.style.setProperty(\"border\", \"0\");\n  element.style.setProperty(\"padding\", \"0\");\n  element.style.setProperty(\"overflow\", \"hidden\");\n  element.style.setProperty(\"clip\", \"rect(0 0 0 0)\");\n  element.style.setProperty(\"clip-path\", \"inset(100%)\");\n  element.style.setProperty(\"white-space\", \"nowrap\");\n  return element;\n}\n\n// src/core/plugins/accessibility/Accessibility.ts\nvar debouncedEvents = [\"dragover\", \"dragmove\"];\nvar Accessibility = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  constructor(manager, options) {\n    super(manager);\n    const {\n      id,\n      idPrefix: {\n        description: descriptionPrefix = defaultDescriptionIdPrefix,\n        announcement: announcementPrefix = defaultAnnouncementIdPrefix\n      } = {},\n      announcements = defaultAnnouncements,\n      screenReaderInstructions = defaultScreenReaderInstructions,\n      debounce: debounceMs = 500\n    } = options != null ? options : {};\n    const descriptionId = id ? `${descriptionPrefix}-${id}` : (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.generateUniqueId)(descriptionPrefix);\n    const announcementId = id ? `${announcementPrefix}-${id}` : (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.generateUniqueId)(announcementPrefix);\n    let hiddenTextElement;\n    let liveRegionElement;\n    let liveRegionTextNode;\n    let latestAnnouncement;\n    const updateAnnouncement = (value = latestAnnouncement) => {\n      if (!liveRegionTextNode || !value) return;\n      if ((liveRegionTextNode == null ? void 0 : liveRegionTextNode.nodeValue) !== value) {\n        liveRegionTextNode.nodeValue = value;\n      }\n    };\n    const scheduleUpdateAnnouncement = () => _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.scheduler.schedule(updateAnnouncement);\n    const debouncedUpdateAnnouncement = debounce(\n      scheduleUpdateAnnouncement,\n      debounceMs\n    );\n    const eventListeners = Object.entries(announcements).map(\n      ([eventName, getAnnouncement]) => {\n        return this.manager.monitor.addEventListener(\n          eventName,\n          (event, manager2) => {\n            const element = liveRegionTextNode;\n            if (!element) return;\n            const announcement = getAnnouncement == null ? void 0 : getAnnouncement(event, manager2);\n            if (announcement && element.nodeValue !== announcement) {\n              latestAnnouncement = announcement;\n              if (debouncedEvents.includes(eventName)) {\n                debouncedUpdateAnnouncement();\n              } else {\n                scheduleUpdateAnnouncement();\n                debouncedUpdateAnnouncement.cancel();\n              }\n            }\n          }\n        );\n      }\n    );\n    const initialize = () => {\n      let elements = [];\n      if (!(hiddenTextElement == null ? void 0 : hiddenTextElement.isConnected)) {\n        hiddenTextElement = createHiddenText(\n          descriptionId,\n          screenReaderInstructions.draggable\n        );\n        elements.push(hiddenTextElement);\n      }\n      if (!(liveRegionElement == null ? void 0 : liveRegionElement.isConnected)) {\n        liveRegionElement = createLiveRegion(announcementId);\n        liveRegionTextNode = document.createTextNode(\"\");\n        liveRegionElement.appendChild(liveRegionTextNode);\n        elements.push(liveRegionElement);\n      }\n      if (elements.length > 0) {\n        document.body.append(...elements);\n      }\n    };\n    const mutations = /* @__PURE__ */ new Set();\n    function executeMutations() {\n      for (const operation of mutations) {\n        operation();\n      }\n    }\n    this.registerEffect(() => {\n      var _a4;\n      mutations.clear();\n      for (const draggable of this.manager.registry.draggables.value) {\n        const activator = (_a4 = draggable.handle) != null ? _a4 : draggable.element;\n        if (activator) {\n          if (!hiddenTextElement || !liveRegionElement) {\n            mutations.add(initialize);\n          }\n          if ((!isFocusable(activator) || (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isSafari)()) && !activator.hasAttribute(\"tabindex\")) {\n            mutations.add(() => activator.setAttribute(\"tabindex\", \"0\"));\n          }\n          if (!activator.hasAttribute(\"role\") && !(activator.tagName.toLowerCase() === \"button\")) {\n            mutations.add(\n              () => activator.setAttribute(\"role\", defaultAttributes.role)\n            );\n          }\n          if (!activator.hasAttribute(\"aria-roledescription\")) {\n            mutations.add(\n              () => activator.setAttribute(\n                \"aria-roledescription\",\n                defaultAttributes.roleDescription\n              )\n            );\n          }\n          if (!activator.hasAttribute(\"aria-describedby\")) {\n            mutations.add(\n              () => activator.setAttribute(\"aria-describedby\", descriptionId)\n            );\n          }\n          for (const key of [\"aria-pressed\", \"aria-grabbed\"]) {\n            const value = String(draggable.isDragging);\n            if (activator.getAttribute(key) !== value) {\n              mutations.add(() => activator.setAttribute(key, value));\n            }\n          }\n          const disabled = String(draggable.disabled);\n          if (activator.getAttribute(\"aria-disabled\") !== disabled) {\n            mutations.add(\n              () => activator.setAttribute(\"aria-disabled\", disabled)\n            );\n          }\n        }\n      }\n      if (mutations.size > 0) {\n        _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.scheduler.schedule(executeMutations);\n      }\n    });\n    this.destroy = () => {\n      super.destroy();\n      hiddenTextElement == null ? void 0 : hiddenTextElement.remove();\n      liveRegionElement == null ? void 0 : liveRegionElement.remove();\n      eventListeners.forEach((unsubscribe) => unsubscribe());\n    };\n  }\n};\nfunction debounce(fn, wait) {\n  let timeout;\n  const debounced = () => {\n    clearTimeout(timeout);\n    timeout = setTimeout(fn, wait);\n  };\n  debounced.cancel = () => clearTimeout(timeout);\n  return debounced;\n}\nvar Cursor = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  constructor(manager, options) {\n    super(manager, options);\n    this.manager = manager;\n    const doc = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.computed)(\n      () => {\n        var _a4;\n        return (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)((_a4 = this.manager.dragOperation.source) == null ? void 0 : _a4.element);\n      }\n    );\n    this.destroy = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.effect)(() => {\n      var _a4;\n      const { dragOperation } = this.manager;\n      const { cursor = \"grabbing\", nonce } = (_a4 = this.options) != null ? _a4 : {};\n      if (dragOperation.status.initialized) {\n        const document2 = doc.value;\n        const style = document2.createElement(\"style\");\n        if (nonce) {\n          style.setAttribute(\"nonce\", nonce);\n        }\n        style.textContent = `* { cursor: ${cursor} !important; }`;\n        document2.head.appendChild(style);\n        return () => style.remove();\n      }\n    });\n  }\n};\n\n// src/core/plugins/feedback/constants.ts\nvar ATTR_PREFIX = \"data-dnd-\";\nvar DROPPING_ATTRIBUTE = `${ATTR_PREFIX}dropping`;\nvar CSS_PREFIX = \"--dnd-\";\nvar ATTRIBUTE = `${ATTR_PREFIX}dragging`;\nvar PLACEHOLDER_ATTRIBUTE = `${ATTR_PREFIX}placeholder`;\nvar IGNORED_ATTRIBUTES = [\n  ATTRIBUTE,\n  PLACEHOLDER_ATTRIBUTE,\n  \"popover\",\n  \"aria-pressed\",\n  \"aria-grabbing\"\n];\nvar IGNORED_STYLES = [\"view-transition-name\"];\nvar CSS_RULES = `\n  :root [${ATTRIBUTE}] {\n    position: fixed !important;\n    pointer-events: none !important;\n    touch-action: none;\n    z-index: calc(infinity);\n    will-change: translate;\n    top: var(${CSS_PREFIX}top, 0px) !important;\n    left: var(${CSS_PREFIX}left, 0px) !important;\n    right: unset !important;\n    bottom: unset !important;\n    width: var(${CSS_PREFIX}width, auto);\n    max-width: var(${CSS_PREFIX}width, auto);\n    height: var(${CSS_PREFIX}height, auto);\n    max-height: var(${CSS_PREFIX}height, auto);\n    transition: var(${CSS_PREFIX}transition) !important;\n  }\n\n  :root [${PLACEHOLDER_ATTRIBUTE}] {\n    transition: none;\n  }\n\n  :root [${PLACEHOLDER_ATTRIBUTE}='hidden'] {\n    visibility: hidden;\n  }\n\n  [${ATTRIBUTE}] * {\n    pointer-events: none !important;\n  }\n\n  [${ATTRIBUTE}]:not([${DROPPING_ATTRIBUTE}]) {\n    translate: var(${CSS_PREFIX}translate) !important;\n  }\n\n  [${ATTRIBUTE}][style*='${CSS_PREFIX}scale'] {\n    scale: var(${CSS_PREFIX}scale) !important;\n    transform-origin: var(${CSS_PREFIX}transform-origin) !important;\n  }\n\n  @layer {\n    :where([${ATTRIBUTE}][popover]) {\n      overflow: visible;\n      background: unset;\n      border: unset;\n      margin: unset;\n      padding: unset;\n      color: inherit;\n\n      &:is(input, button) {\n        border: revert;\n        background: revert;\n      }\n    }\n  }\n  [${ATTRIBUTE}]::backdrop, [${ATTR_PREFIX}overlay]:not([${ATTRIBUTE}]) {\n    display: none;\n    visibility: hidden;\n  }\n`.replace(/\\n+/g, \" \").replace(/\\s+/g, \" \").trim();\nfunction createPlaceholder(source, type = \"hidden\") {\n  return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => {\n    const { element, manager } = source;\n    if (!element || !manager) return;\n    const containedDroppables = findContainedDroppables(\n      element,\n      manager.registry.droppables\n    );\n    const cleanup = [];\n    const placeholder = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(element);\n    const { remove } = placeholder;\n    proxyDroppableElements(containedDroppables, placeholder, cleanup);\n    configurePlaceholder(placeholder, type);\n    placeholder.remove = () => {\n      cleanup.forEach((fn) => fn());\n      remove.call(placeholder);\n    };\n    return placeholder;\n  });\n}\nfunction findContainedDroppables(element, droppables) {\n  const containedDroppables = /* @__PURE__ */ new Map();\n  for (const droppable of droppables) {\n    if (!droppable.element) continue;\n    if (element === droppable.element || element.contains(droppable.element)) {\n      const identifierAttribute = `${ATTR_PREFIX}${(0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.generateUniqueId)(\"dom-id\")}`;\n      droppable.element.setAttribute(identifierAttribute, \"\");\n      containedDroppables.set(droppable, identifierAttribute);\n    }\n  }\n  return containedDroppables;\n}\nfunction proxyDroppableElements(containedDroppables, placeholder, cleanup) {\n  for (const [droppable, identifierAttribute] of containedDroppables) {\n    if (!droppable.element) continue;\n    const selector = `[${identifierAttribute}]`;\n    const clonedElement = placeholder.matches(selector) ? placeholder : placeholder.querySelector(selector);\n    droppable.element.removeAttribute(identifierAttribute);\n    if (!clonedElement) continue;\n    const originalElement = droppable.element;\n    droppable.proxy = clonedElement;\n    clonedElement.removeAttribute(identifierAttribute);\n    _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ProxiedElements.set(originalElement, clonedElement);\n    cleanup.push(() => {\n      _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ProxiedElements.delete(originalElement);\n      droppable.proxy = void 0;\n    });\n  }\n}\nfunction configurePlaceholder(placeholder, type = \"hidden\") {\n  placeholder.setAttribute(\"inert\", \"true\");\n  placeholder.setAttribute(\"tab-index\", \"-1\");\n  placeholder.setAttribute(\"aria-hidden\", \"true\");\n  placeholder.setAttribute(PLACEHOLDER_ATTRIBUTE, type);\n}\nfunction isSameFrame(element, target) {\n  if (element === target) return true;\n  return (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getFrameElement)(element) === (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getFrameElement)(target);\n}\nfunction preventPopoverClose(event) {\n  const { target } = event;\n  if (\"newState\" in event && event.newState === \"closed\" && (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isElement)(target) && target.hasAttribute(\"popover\")) {\n    requestAnimationFrame(() => (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.showPopover)(target));\n  }\n}\nfunction isTableRow(element) {\n  return element.tagName === \"TR\";\n}\n\n// src/core/plugins/feedback/Feedback.ts\nvar styleSheetRegistry = /* @__PURE__ */ new Map();\nvar _overlay_dec, _a, _init, _overlay, _Feedback_instances, render_fn, injectStyles_fn;\nvar _Feedback = class _Feedback extends (_a = _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin, _overlay_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _a) {\n  constructor(manager, options) {\n    super(manager, options);\n    __privateAdd(this, _Feedback_instances);\n    __privateAdd(this, _overlay, __runInitializers(_init, 8, this)), __runInitializers(_init, 11, this);\n    this.state = {\n      initial: {},\n      current: {}\n    };\n    this.registerEffect(__privateMethod(this, _Feedback_instances, injectStyles_fn));\n    this.registerEffect(__privateMethod(this, _Feedback_instances, render_fn));\n  }\n  destroy() {\n    super.destroy();\n    for (const [doc, registration] of styleSheetRegistry.entries()) {\n      if (registration.instances.has(this)) {\n        registration.instances.delete(this);\n        if (registration.instances.size === 0) {\n          registration.cleanup();\n          styleSheetRegistry.delete(doc);\n        }\n      }\n    }\n  }\n};\n_init = __decoratorStart(_a);\n_overlay = new WeakMap();\n_Feedback_instances = new WeakSet();\nrender_fn = function() {\n  var _a4, _b2, _c3;\n  const { state, manager, options } = this;\n  const { dragOperation } = manager;\n  const { position, source, status } = dragOperation;\n  if (status.idle) {\n    state.current = {};\n    state.initial = {};\n    return;\n  }\n  if (!source) return;\n  const { element, feedback } = source;\n  if (!element || feedback === \"none\" || !status.initialized || status.initializing) {\n    return;\n  }\n  const { initial } = state;\n  const feedbackElement = (_a4 = this.overlay) != null ? _a4 : element;\n  const frameTransform = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getFrameTransform)(feedbackElement);\n  const elementFrameTransform = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getFrameTransform)(element);\n  const crossFrame = !isSameFrame(element, feedbackElement);\n  const shape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(element, {\n    frameTransform: crossFrame ? elementFrameTransform : null,\n    ignoreTransforms: !crossFrame\n  });\n  const scaleDelta = {\n    x: elementFrameTransform.scaleX / frameTransform.scaleX,\n    y: elementFrameTransform.scaleY / frameTransform.scaleY\n  };\n  let { width, height, top, left } = shape;\n  if (crossFrame) {\n    width = width / scaleDelta.x;\n    height = height / scaleDelta.y;\n  }\n  let elementMutationObserver;\n  let documentMutationObserver;\n  const styles = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.Styles(feedbackElement);\n  const {\n    transition,\n    translate,\n    boxSizing,\n    paddingBlockStart,\n    paddingBlockEnd,\n    paddingInlineStart,\n    paddingInlineEnd,\n    borderInlineStartWidth,\n    borderInlineEndWidth,\n    borderBlockStartWidth,\n    borderBlockEndWidth\n  } = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getComputedStyles)(element);\n  const clone = feedback === \"clone\";\n  const contentBox = boxSizing === \"content-box\";\n  const widthOffset = contentBox ? parseInt(paddingInlineStart) + parseInt(paddingInlineEnd) + parseInt(borderInlineStartWidth) + parseInt(borderInlineEndWidth) : 0;\n  const heightOffset = contentBox ? parseInt(paddingBlockStart) + parseInt(paddingBlockEnd) + parseInt(borderBlockStartWidth) + parseInt(borderBlockEndWidth) : 0;\n  const placeholder = feedback !== \"move\" && !this.overlay ? createPlaceholder(source, clone ? \"clone\" : \"hidden\") : null;\n  const isKeyboardOperation = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(\n    () => (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isKeyboardEvent)(manager.dragOperation.activatorEvent)\n  );\n  if (translate !== \"none\") {\n    const parsedTranslate = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.parseTranslate)(translate);\n    if (parsedTranslate && !initial.translate) {\n      initial.translate = parsedTranslate;\n    }\n  }\n  if (!initial.transformOrigin) {\n    const current = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => position.current);\n    initial.transformOrigin = {\n      x: (current.x - left * frameTransform.scaleX - frameTransform.x) / (width * frameTransform.scaleX),\n      y: (current.y - top * frameTransform.scaleY - frameTransform.y) / (height * frameTransform.scaleY)\n    };\n  }\n  const { transformOrigin } = initial;\n  const relativeTop = top * frameTransform.scaleY + frameTransform.y;\n  const relativeLeft = left * frameTransform.scaleX + frameTransform.x;\n  if (!initial.coordinates) {\n    initial.coordinates = {\n      x: relativeLeft,\n      y: relativeTop\n    };\n    if (scaleDelta.x !== 1 || scaleDelta.y !== 1) {\n      const { scaleX, scaleY } = elementFrameTransform;\n      const { x: tX2, y: tY2 } = transformOrigin;\n      initial.coordinates.x += (width * scaleX - width) * tX2;\n      initial.coordinates.y += (height * scaleY - height) * tY2;\n    }\n  }\n  if (!initial.dimensions) {\n    initial.dimensions = { width, height };\n  }\n  if (!initial.frameTransform) {\n    initial.frameTransform = frameTransform;\n  }\n  const coordinatesDelta = {\n    x: initial.coordinates.x - relativeLeft,\n    y: initial.coordinates.y - relativeTop\n  };\n  const sizeDelta = {\n    width: (initial.dimensions.width * initial.frameTransform.scaleX - width * frameTransform.scaleX) * transformOrigin.x,\n    height: (initial.dimensions.height * initial.frameTransform.scaleY - height * frameTransform.scaleY) * transformOrigin.y\n  };\n  const delta = {\n    x: coordinatesDelta.x / frameTransform.scaleX + sizeDelta.width,\n    y: coordinatesDelta.y / frameTransform.scaleY + sizeDelta.height\n  };\n  const projected = {\n    left: left + delta.x,\n    top: top + delta.y\n  };\n  feedbackElement.setAttribute(ATTRIBUTE, \"true\");\n  const transform = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => dragOperation.transform);\n  const initialTranslate = (_b2 = initial.translate) != null ? _b2 : { x: 0, y: 0 };\n  const tX = transform.x * frameTransform.scaleX + initialTranslate.x;\n  const tY = transform.y * frameTransform.scaleY + initialTranslate.y;\n  const translateString = `${tX}px ${tY}px 0`;\n  const transitionString = transition ? `${transition}, translate 0ms linear` : \"\";\n  styles.set(\n    {\n      width: width - widthOffset,\n      height: height - heightOffset,\n      top: projected.top,\n      left: projected.left,\n      translate: translateString,\n      transition: transitionString,\n      scale: crossFrame ? `${scaleDelta.x} ${scaleDelta.y}` : \"\",\n      \"transform-origin\": `${transformOrigin.x * 100}% ${transformOrigin.y * 100}%`\n    },\n    CSS_PREFIX\n  );\n  if (placeholder) {\n    element.insertAdjacentElement(\"afterend\", placeholder);\n    if (options == null ? void 0 : options.rootElement) {\n      const root = typeof options.rootElement === \"function\" ? options.rootElement(source) : options.rootElement;\n      root.appendChild(element);\n    }\n  }\n  if ((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.supportsPopover)(feedbackElement)) {\n    if (!feedbackElement.hasAttribute(\"popover\")) {\n      feedbackElement.setAttribute(\"popover\", \"manual\");\n    }\n    (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.showPopover)(feedbackElement);\n    feedbackElement.addEventListener(\"beforetoggle\", preventPopoverClose);\n  }\n  const resizeObserver = new ResizeObserver(() => {\n    if (!placeholder) return;\n    const placeholderShape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(placeholder, {\n      frameTransform,\n      ignoreTransforms: true\n    });\n    const origin = transformOrigin != null ? transformOrigin : { x: 1, y: 1 };\n    const dX = (width - placeholderShape.width) * origin.x + delta.x;\n    const dY = (height - placeholderShape.height) * origin.y + delta.y;\n    styles.set(\n      {\n        width: placeholderShape.width - widthOffset,\n        height: placeholderShape.height - heightOffset,\n        top: top + dY,\n        left: left + dX\n      },\n      CSS_PREFIX\n    );\n    elementMutationObserver == null ? void 0 : elementMutationObserver.takeRecords();\n    if (isTableRow(element) && isTableRow(placeholder)) {\n      const cells = Array.from(element.cells);\n      const placeholderCells = Array.from(placeholder.cells);\n      for (const [index, cell] of cells.entries()) {\n        const placeholderCell = placeholderCells[index];\n        cell.style.width = `${placeholderCell.offsetWidth}px`;\n      }\n    }\n    dragOperation.shape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(feedbackElement);\n  });\n  const initialShape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(feedbackElement);\n  (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => dragOperation.shape = initialShape);\n  const feedbackWindow = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getWindow)(feedbackElement);\n  const handleWindowResize = (event) => {\n    this.manager.actions.stop({ event });\n  };\n  if (isKeyboardOperation) {\n    feedbackWindow.addEventListener(\"resize\", handleWindowResize);\n  }\n  if ((0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => source.status) === \"idle\") {\n    requestAnimationFrame(() => source.status = \"dragging\");\n  }\n  if (placeholder) {\n    resizeObserver.observe(placeholder);\n    elementMutationObserver = new MutationObserver((mutations) => {\n      let hasChildrenMutations = false;\n      for (const mutation of mutations) {\n        if (mutation.target !== element) {\n          hasChildrenMutations = true;\n          continue;\n        }\n        if (mutation.type !== \"attributes\") {\n          continue;\n        }\n        const attributeName = mutation.attributeName;\n        if (attributeName.startsWith(\"aria-\") || IGNORED_ATTRIBUTES.includes(attributeName)) {\n          continue;\n        }\n        const attributeValue = element.getAttribute(attributeName);\n        if (attributeName === \"style\") {\n          if ((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.supportsStyle)(element) && (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.supportsStyle)(placeholder)) {\n            const styles2 = element.style;\n            for (const key of Array.from(placeholder.style)) {\n              if (styles2.getPropertyValue(key) === \"\") {\n                placeholder.style.removeProperty(key);\n              }\n            }\n            for (const key of Array.from(styles2)) {\n              if (IGNORED_STYLES.includes(key) || key.startsWith(CSS_PREFIX)) {\n                continue;\n              }\n              const value = styles2.getPropertyValue(key);\n              placeholder.style.setProperty(key, value);\n            }\n          }\n        } else if (attributeValue !== null) {\n          placeholder.setAttribute(attributeName, attributeValue);\n        } else {\n          placeholder.removeAttribute(attributeName);\n        }\n      }\n      if (hasChildrenMutations && clone) {\n        placeholder.innerHTML = element.innerHTML;\n      }\n    });\n    elementMutationObserver.observe(element, {\n      attributes: true,\n      subtree: true,\n      childList: true\n    });\n    documentMutationObserver = new MutationObserver((entries) => {\n      for (const entry of entries) {\n        if (entry.addedNodes.length === 0) continue;\n        for (const node of Array.from(entry.addedNodes)) {\n          if (node.contains(element) && element.nextElementSibling !== placeholder) {\n            element.insertAdjacentElement(\"afterend\", placeholder);\n            (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.showPopover)(feedbackElement);\n            return;\n          }\n          if (node.contains(placeholder) && placeholder.previousElementSibling !== element) {\n            placeholder.insertAdjacentElement(\"beforebegin\", element);\n            (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.showPopover)(feedbackElement);\n            return;\n          }\n        }\n      }\n    });\n    documentMutationObserver.observe(element.ownerDocument.body, {\n      childList: true,\n      subtree: true\n    });\n  }\n  const id = (_c3 = manager.dragOperation.source) == null ? void 0 : _c3.id;\n  const restoreFocus = () => {\n    var _a5;\n    if (!isKeyboardOperation || id == null) {\n      return;\n    }\n    const draggable = manager.registry.draggables.get(id);\n    const element2 = (_a5 = draggable == null ? void 0 : draggable.handle) != null ? _a5 : draggable == null ? void 0 : draggable.element;\n    if ((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(element2)) {\n      element2.focus();\n    }\n  };\n  const cleanup = () => {\n    elementMutationObserver == null ? void 0 : elementMutationObserver.disconnect();\n    documentMutationObserver == null ? void 0 : documentMutationObserver.disconnect();\n    resizeObserver.disconnect();\n    feedbackWindow.removeEventListener(\"resize\", handleWindowResize);\n    if ((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.supportsPopover)(feedbackElement)) {\n      feedbackElement.removeEventListener(\n        \"beforetoggle\",\n        preventPopoverClose\n      );\n      feedbackElement.removeAttribute(\"popover\");\n    }\n    feedbackElement.removeAttribute(ATTRIBUTE);\n    styles.reset();\n    source.status = \"idle\";\n    const moved = state.current.translate != null;\n    if (placeholder && (moved || placeholder.parentElement !== feedbackElement.parentElement) && feedbackElement.isConnected) {\n      placeholder.replaceWith(feedbackElement);\n    }\n    placeholder == null ? void 0 : placeholder.remove();\n  };\n  const cleanupEffects = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.effects)(\n    // Update transform on move\n    () => {\n      var _a5;\n      const { transform: transform2, status: status2 } = dragOperation;\n      if (!transform2.x && !transform2.y && !state.current.translate) {\n        return;\n      }\n      if (status2.dragging) {\n        const initialTranslate2 = (_a5 = initial.translate) != null ? _a5 : { x: 0, y: 0 };\n        const translate2 = {\n          x: transform2.x / frameTransform.scaleX + initialTranslate2.x,\n          y: transform2.y / frameTransform.scaleY + initialTranslate2.y\n        };\n        const previousTranslate = state.current.translate;\n        const modifiers = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => dragOperation.modifiers);\n        const currentShape = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => {\n          var _a6;\n          return (_a6 = dragOperation.shape) == null ? void 0 : _a6.current;\n        });\n        const translateTransition = isKeyboardOperation ? \"250ms cubic-bezier(0.25, 1, 0.5, 1)\" : \"0ms linear\";\n        styles.set(\n          {\n            transition: `${transition}, translate ${translateTransition}`,\n            translate: `${translate2.x}px ${translate2.y}px 0`\n          },\n          CSS_PREFIX\n        );\n        elementMutationObserver == null ? void 0 : elementMutationObserver.takeRecords();\n        if (currentShape && currentShape !== initialShape && previousTranslate && !modifiers.length) {\n          const delta2 = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.Point.delta(translate2, previousTranslate);\n          dragOperation.shape = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.Rectangle.from(\n            currentShape.boundingRectangle\n          ).translate(\n            // Need to take into account frame transform when optimistically updating shape\n            delta2.x * frameTransform.scaleX,\n            delta2.y * frameTransform.scaleY\n          );\n        } else {\n          dragOperation.shape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(feedbackElement);\n        }\n        state.current.translate = translate2;\n      }\n    },\n    // Drop animation\n    function() {\n      if (dragOperation.status.dropped) {\n        this.dispose();\n        source.status = \"dropping\";\n        let translate2 = state.current.translate;\n        const moved = translate2 != null;\n        if (!translate2 && element !== feedbackElement) {\n          translate2 = {\n            x: 0,\n            y: 0\n          };\n        }\n        if (!translate2) {\n          cleanup();\n          return;\n        }\n        const dropAnimation = () => {\n          var _a5, _b3;\n          {\n            (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.showPopover)(feedbackElement);\n            const [, animation] = (_a5 = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getFinalKeyframe)(\n              feedbackElement,\n              (keyframe) => \"translate\" in keyframe\n            )) != null ? _a5 : [];\n            animation == null ? void 0 : animation.pause();\n            const target = placeholder != null ? placeholder : element;\n            const options2 = {\n              frameTransform: isSameFrame(feedbackElement, target) ? null : void 0\n            };\n            const current = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(feedbackElement, options2);\n            const currentTranslate = (_b3 = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.parseTranslate)((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getComputedStyles)(feedbackElement).translate)) != null ? _b3 : translate2;\n            const final = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(target, options2);\n            const delta2 = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.Rectangle.delta(current, final, source.alignment);\n            const finalTranslate = {\n              x: currentTranslate.x - delta2.x,\n              y: currentTranslate.y - delta2.y\n            };\n            const heightKeyframes = Math.round(current.intrinsicHeight) !== Math.round(final.intrinsicHeight) ? {\n              minHeight: [\n                `${current.intrinsicHeight}px`,\n                `${final.intrinsicHeight}px`\n              ],\n              maxHeight: [\n                `${current.intrinsicHeight}px`,\n                `${final.intrinsicHeight}px`\n              ]\n            } : {};\n            const widthKeyframes = Math.round(current.intrinsicWidth) !== Math.round(final.intrinsicWidth) ? {\n              minWidth: [\n                `${current.intrinsicWidth}px`,\n                `${final.intrinsicWidth}px`\n              ],\n              maxWidth: [\n                `${current.intrinsicWidth}px`,\n                `${final.intrinsicWidth}px`\n              ]\n            } : {};\n            styles.set({ transition }, CSS_PREFIX);\n            feedbackElement.setAttribute(DROPPING_ATTRIBUTE, \"\");\n            elementMutationObserver == null ? void 0 : elementMutationObserver.takeRecords();\n            (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.animateTransform)({\n              element: feedbackElement,\n              keyframes: __spreadProps(__spreadValues(__spreadValues({}, heightKeyframes), widthKeyframes), {\n                translate: [\n                  `${currentTranslate.x}px ${currentTranslate.y}px 0`,\n                  `${finalTranslate.x}px ${finalTranslate.y}px 0`\n                ]\n              }),\n              options: {\n                duration: moved || feedbackElement !== element ? 250 : 0,\n                easing: \"ease\"\n              }\n            }).then(() => {\n              feedbackElement.removeAttribute(DROPPING_ATTRIBUTE);\n              animation == null ? void 0 : animation.finish();\n              cleanup();\n              requestAnimationFrame(restoreFocus);\n            });\n          }\n        };\n        manager.renderer.rendering.then(dropAnimation);\n      }\n    }\n  );\n  return () => {\n    cleanup();\n    cleanupEffects();\n  };\n};\ninjectStyles_fn = function() {\n  var _a4, _b2, _c3;\n  const { status, source, target } = this.manager.dragOperation;\n  const { nonce } = (_a4 = this.options) != null ? _a4 : {};\n  if (status.initializing) {\n    const sourceDocument = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)((_b2 = source == null ? void 0 : source.element) != null ? _b2 : null);\n    const targetDocument = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)((_c3 = target == null ? void 0 : target.element) != null ? _c3 : null);\n    const documents = /* @__PURE__ */ new Set([sourceDocument, targetDocument]);\n    for (const doc of documents) {\n      let registration = styleSheetRegistry.get(doc);\n      if (!registration) {\n        const style = document.createElement(\"style\");\n        style.textContent = CSS_RULES;\n        if (nonce) {\n          style.setAttribute(\"nonce\", nonce);\n        }\n        doc.head.prepend(style);\n        const mutationObserver = new MutationObserver((entries) => {\n          for (const entry of entries) {\n            if (entry.type === \"childList\") {\n              const removedNodes = Array.from(entry.removedNodes);\n              if (removedNodes.length > 0 && removedNodes.includes(style)) {\n                doc.head.prepend(style);\n              }\n            }\n          }\n        });\n        mutationObserver.observe(doc.head, { childList: true });\n        registration = {\n          cleanup: () => {\n            mutationObserver.disconnect();\n            style.remove();\n          },\n          instances: /* @__PURE__ */ new Set()\n        };\n        styleSheetRegistry.set(doc, registration);\n      }\n      registration.instances.add(this);\n    }\n  }\n};\n__decorateElement(_init, 4, \"overlay\", _overlay_dec, _Feedback, _overlay);\n__decoratorMetadata(_init, _Feedback);\n_Feedback.configure = (0,_dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.configurator)(_Feedback);\nvar Feedback = _Feedback;\nvar LOCKED = true;\nvar UNLOCKED = false;\nvar _dec, _a2, _dec2, _b, _init2, __b, __a;\n_b = (_dec2 = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Forward), _a2 = (_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Reverse);\nvar ScrollLock = class {\n  constructor() {\n    __privateAdd(this, __b, __runInitializers(_init2, 8, this, LOCKED)), __runInitializers(_init2, 11, this);\n    __privateAdd(this, __a, __runInitializers(_init2, 12, this, LOCKED)), __runInitializers(_init2, 15, this);\n  }\n  isLocked(direction) {\n    if (direction === _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Idle) {\n      return false;\n    }\n    if (direction == null) {\n      return this[_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Forward] === LOCKED && this[_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Reverse] === LOCKED;\n    }\n    return this[direction] === LOCKED;\n  }\n  unlock(direction) {\n    if (direction === _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Idle) {\n      return;\n    }\n    this[direction] = UNLOCKED;\n  }\n};\n_init2 = __decoratorStart(null);\n__b = new WeakMap();\n__a = new WeakMap();\n__decorateElement(_init2, 4, _b, _dec2, ScrollLock, __b);\n__decorateElement(_init2, 4, _a2, _dec, ScrollLock, __a);\n__decoratorMetadata(_init2, ScrollLock);\n\n// src/core/plugins/scrolling/ScrollIntent.ts\nvar DIRECTIONS = [_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Forward, _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Reverse];\nvar ScrollIntent = class {\n  constructor() {\n    this.x = new ScrollLock();\n    this.y = new ScrollLock();\n  }\n  isLocked() {\n    return this.x.isLocked() && this.y.isLocked();\n  }\n};\nvar ScrollIntentTracker = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  constructor(manager) {\n    super(manager);\n    const scrollIntent = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.signal)(new ScrollIntent());\n    let previousDelta = null;\n    this.signal = scrollIntent;\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.effect)(() => {\n      const { status } = manager.dragOperation;\n      if (!status.initialized) {\n        previousDelta = null;\n        scrollIntent.value = new ScrollIntent();\n        return;\n      }\n      const { delta } = manager.dragOperation.position;\n      if (previousDelta) {\n        const directions = {\n          x: getDirection(delta.x, previousDelta.x),\n          y: getDirection(delta.y, previousDelta.y)\n        };\n        const intent = scrollIntent.peek();\n        (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.batch)(() => {\n          for (const axis of _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.Axes) {\n            for (const direction of DIRECTIONS) {\n              if (directions[axis] === direction) {\n                intent[axis].unlock(direction);\n              }\n            }\n          }\n          scrollIntent.value = intent;\n        });\n      }\n      previousDelta = delta;\n    });\n  }\n  get current() {\n    return this.signal.peek();\n  }\n};\nfunction getDirection(a, b) {\n  return Math.sign(a - b);\n}\n\n// src/core/plugins/scrolling/Scroller.ts\nvar _autoScrolling_dec, _a3, _init3, _autoScrolling, _meta, _scroll;\nvar Scroller = class extends (_a3 = _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.CorePlugin, _autoScrolling_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _a3) {\n  constructor(manager) {\n    super(manager);\n    __privateAdd(this, _autoScrolling, __runInitializers(_init3, 8, this, false)), __runInitializers(_init3, 11, this);\n    __privateAdd(this, _meta);\n    __privateAdd(this, _scroll, () => {\n      if (!__privateGet(this, _meta)) {\n        return;\n      }\n      const { element, by } = __privateGet(this, _meta);\n      if (by.y) element.scrollTop += by.y;\n      if (by.x) element.scrollLeft += by.x;\n    });\n    this.scroll = (options) => {\n      var _a4;\n      if (this.disabled) {\n        return false;\n      }\n      const elements = this.getScrollableElements();\n      if (!elements) {\n        __privateSet(this, _meta, void 0);\n        return false;\n      }\n      const { position } = this.manager.dragOperation;\n      const currentPosition = position == null ? void 0 : position.current;\n      if (currentPosition) {\n        const { by } = options != null ? options : {};\n        const intent = by ? {\n          x: getScrollIntent(by.x),\n          y: getScrollIntent(by.y)\n        } : void 0;\n        const scrollIntent = intent ? void 0 : this.scrollIntentTracker.current;\n        if (scrollIntent == null ? void 0 : scrollIntent.isLocked()) {\n          return false;\n        }\n        for (const scrollableElement of elements) {\n          const elementCanScroll = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.canScroll)(scrollableElement, by);\n          if (elementCanScroll.x || elementCanScroll.y) {\n            const { speed, direction } = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.detectScrollIntent)(\n              scrollableElement,\n              currentPosition,\n              intent\n            );\n            if (scrollIntent) {\n              for (const axis of _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.Axes) {\n                if (scrollIntent[axis].isLocked(direction[axis])) {\n                  speed[axis] = 0;\n                  direction[axis] = 0;\n                }\n              }\n            }\n            if (direction.x || direction.y) {\n              const { x, y } = by != null ? by : direction;\n              const scrollLeftBy = x * speed.x;\n              const scrollTopBy = y * speed.y;\n              if (scrollLeftBy || scrollTopBy) {\n                const previousScrollBy = (_a4 = __privateGet(this, _meta)) == null ? void 0 : _a4.by;\n                if (this.autoScrolling && previousScrollBy) {\n                  const scrollIntentMismatch = previousScrollBy.x && !scrollLeftBy || previousScrollBy.y && !scrollTopBy;\n                  if (scrollIntentMismatch) continue;\n                }\n                __privateSet(this, _meta, {\n                  element: scrollableElement,\n                  by: {\n                    x: scrollLeftBy,\n                    y: scrollTopBy\n                  }\n                });\n                _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.scheduler.schedule(__privateGet(this, _scroll));\n                return true;\n              }\n            }\n          }\n        }\n      }\n      __privateSet(this, _meta, void 0);\n      return false;\n    };\n    let previousElementFromPoint = null;\n    let previousScrollableElements = null;\n    const elementFromPoint = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.computed)(() => {\n      const { position, source } = manager.dragOperation;\n      if (!position) {\n        return null;\n      }\n      const element = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getElementFromPoint)(\n        (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)(source == null ? void 0 : source.element),\n        position.current\n      );\n      if (element) {\n        previousElementFromPoint = element;\n      }\n      return element != null ? element : previousElementFromPoint;\n    });\n    const scrollableElements = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.computed)(() => {\n      const element = elementFromPoint.value;\n      const { documentElement } = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)(element);\n      if (!element || element === documentElement) {\n        const { target } = manager.dragOperation;\n        const targetElement = target == null ? void 0 : target.element;\n        if (targetElement) {\n          const elements = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getScrollableAncestors)(targetElement, {\n            excludeElement: false\n          });\n          previousScrollableElements = elements;\n          return elements;\n        }\n      }\n      if (element) {\n        const elements = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getScrollableAncestors)(element, {\n          excludeElement: false\n        });\n        if (this.autoScrolling && previousScrollableElements && elements.size < (previousScrollableElements == null ? void 0 : previousScrollableElements.size)) {\n          return previousScrollableElements;\n        }\n        previousScrollableElements = elements;\n        return elements;\n      }\n      previousScrollableElements = null;\n      return null;\n    }, _dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.deepEqual);\n    this.getScrollableElements = () => {\n      return scrollableElements.value;\n    };\n    this.scrollIntentTracker = new ScrollIntentTracker(manager);\n    this.destroy = manager.monitor.addEventListener(\"dragmove\", (event) => {\n      if (this.disabled || event.defaultPrevented || !(0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isKeyboardEvent)(manager.dragOperation.activatorEvent) || !event.by) {\n        return;\n      }\n      if (this.scroll({ by: event.by })) {\n        event.preventDefault();\n      }\n    });\n  }\n};\n_init3 = __decoratorStart(_a3);\n_autoScrolling = new WeakMap();\n_meta = new WeakMap();\n_scroll = new WeakMap();\n__decorateElement(_init3, 4, \"autoScrolling\", _autoScrolling_dec, Scroller, _autoScrolling);\n__decoratorMetadata(_init3, Scroller);\nfunction getScrollIntent(value) {\n  if (value > 0) {\n    return _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Forward;\n  }\n  if (value < 0) {\n    return _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Reverse;\n  }\n  return _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.ScrollDirection.Idle;\n}\n\n// src/utilities/scheduling/scheduler.ts\nvar Scheduler = class {\n  constructor(scheduler5) {\n    this.scheduler = scheduler5;\n    this.pending = false;\n    this.tasks = /* @__PURE__ */ new Set();\n    this.resolvers = /* @__PURE__ */ new Set();\n    this.flush = () => {\n      const { tasks, resolvers } = this;\n      this.pending = false;\n      this.tasks = /* @__PURE__ */ new Set();\n      this.resolvers = /* @__PURE__ */ new Set();\n      for (const task of tasks) {\n        task();\n      }\n      for (const resolve of resolvers) {\n        resolve();\n      }\n    };\n  }\n  schedule(task) {\n    this.tasks.add(task);\n    if (!this.pending) {\n      this.pending = true;\n      this.scheduler(this.flush);\n    }\n    return new Promise((resolve) => this.resolvers.add(resolve));\n  }\n};\nvar scheduler3 = new Scheduler((callback) => {\n  if (typeof requestAnimationFrame === \"function\") {\n    requestAnimationFrame(callback);\n  } else {\n    callback();\n  }\n});\n\n// src/core/plugins/scrolling/AutoScroller.ts\nvar AUTOSCROLL_INTERVAL = 10;\nvar AutoScroller = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  constructor(manager, _options) {\n    super(manager);\n    const scroller = manager.registry.plugins.get(Scroller);\n    if (!scroller) {\n      throw new Error(\"AutoScroller plugin depends on Scroller plugin\");\n    }\n    this.destroy = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.effect)(() => {\n      if (this.disabled) {\n        return;\n      }\n      const { position: _, status } = manager.dragOperation;\n      if (status.dragging) {\n        const canScroll2 = scroller.scroll();\n        if (canScroll2) {\n          scroller.autoScrolling = true;\n          const interval = setInterval(\n            () => scheduler3.schedule(scroller.scroll),\n            AUTOSCROLL_INTERVAL\n          );\n          return () => {\n            clearInterval(interval);\n          };\n        } else {\n          scroller.autoScrolling = false;\n        }\n      }\n    });\n  }\n};\nvar listenerOptions = {\n  capture: true,\n  passive: true\n};\nvar _timeout;\nvar ScrollListener = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.CorePlugin {\n  constructor(manager) {\n    super(manager);\n    __privateAdd(this, _timeout);\n    this.handleScroll = () => {\n      if (__privateGet(this, _timeout) == null) {\n        __privateSet(this, _timeout, setTimeout(() => {\n          this.manager.collisionObserver.forceUpdate(false);\n          __privateSet(this, _timeout, void 0);\n        }, 50));\n      }\n    };\n    const { dragOperation } = this.manager;\n    this.destroy = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.effect)(() => {\n      var _a4, _b2, _c3;\n      const enabled = dragOperation.status.dragging;\n      if (enabled) {\n        const root = (_c3 = (_b2 = (_a4 = dragOperation.source) == null ? void 0 : _a4.element) == null ? void 0 : _b2.ownerDocument) != null ? _c3 : document;\n        root.addEventListener(\"scroll\", this.handleScroll, listenerOptions);\n        return () => {\n          root.removeEventListener(\n            \"scroll\",\n            this.handleScroll,\n            listenerOptions\n          );\n        };\n      }\n    });\n  }\n};\n_timeout = new WeakMap();\nvar PreventSelection = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  constructor(manager, options) {\n    super(manager, options);\n    this.manager = manager;\n    this.destroy = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.effect)(() => {\n      var _a4;\n      const { dragOperation } = this.manager;\n      const { nonce } = (_a4 = this.options) != null ? _a4 : {};\n      if (dragOperation.status.initialized) {\n        const style = document.createElement(\"style\");\n        if (nonce) {\n          style.setAttribute(\"nonce\", nonce);\n        }\n        style.textContent = `* { user-select: none !important; -webkit-user-select: none !important; }`;\n        document.head.appendChild(style);\n        removeSelection();\n        document.addEventListener(\"selectionchange\", removeSelection, {\n          capture: true\n        });\n        return () => {\n          document.removeEventListener(\"selectionchange\", removeSelection, {\n            capture: true\n          });\n          style.remove();\n        };\n      }\n    });\n  }\n};\nfunction removeSelection() {\n  var _a4;\n  (_a4 = document.getSelection()) == null ? void 0 : _a4.removeAllRanges();\n}\nvar defaults = Object.freeze({\n  offset: 10,\n  keyboardCodes: {\n    start: [\"Space\", \"Enter\"],\n    cancel: [\"Escape\"],\n    end: [\"Space\", \"Enter\", \"Tab\"],\n    up: [\"ArrowUp\"],\n    down: [\"ArrowDown\"],\n    left: [\"ArrowLeft\"],\n    right: [\"ArrowRight\"]\n  },\n  shouldActivate(args) {\n    var _a4;\n    const { event, source } = args;\n    const target = (_a4 = source.handle) != null ? _a4 : source.element;\n    return event.target === target;\n  }\n});\nvar _cleanupFunctions;\nvar _KeyboardSensor = class _KeyboardSensor extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Sensor {\n  constructor(manager, options) {\n    super(manager);\n    this.manager = manager;\n    this.options = options;\n    __privateAdd(this, _cleanupFunctions, []);\n    this.listeners = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.Listeners();\n    this.handleSourceKeyDown = (event, source, options) => {\n      if (this.disabled || event.defaultPrevented) {\n        return;\n      }\n      if (!(0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isElement)(event.target)) {\n        return;\n      }\n      if (source.disabled) {\n        return;\n      }\n      const {\n        keyboardCodes = defaults.keyboardCodes,\n        shouldActivate = defaults.shouldActivate\n      } = options != null ? options : {};\n      if (!keyboardCodes.start.includes(event.code)) {\n        return;\n      }\n      if (!this.manager.dragOperation.status.idle) {\n        return;\n      }\n      if (shouldActivate({ event, source, manager: this.manager })) {\n        this.handleStart(event, source, options);\n      }\n    };\n  }\n  bind(source, options = this.options) {\n    const unbind = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.effect)(() => {\n      var _a4;\n      const target = (_a4 = source.handle) != null ? _a4 : source.element;\n      const listener = (event) => {\n        if ((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isKeyboardEvent)(event)) {\n          this.handleSourceKeyDown(event, source, options);\n        }\n      };\n      if (target) {\n        target.addEventListener(\"keydown\", listener);\n        return () => {\n          target.removeEventListener(\"keydown\", listener);\n        };\n      }\n    });\n    return unbind;\n  }\n  handleStart(event, source, options) {\n    const { element } = source;\n    if (!element) {\n      throw new Error(\"Source draggable does not have an associated element\");\n    }\n    event.preventDefault();\n    event.stopImmediatePropagation();\n    (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.scrollIntoViewIfNeeded)(element);\n    const { center } = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(element);\n    const controller = this.manager.actions.start({\n      event,\n      coordinates: {\n        x: center.x,\n        y: center.y\n      },\n      source\n    });\n    if (controller.signal.aborted) return this.cleanup();\n    this.sideEffects();\n    const sourceDocument = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)(element);\n    const listeners = [\n      this.listeners.bind(sourceDocument, [\n        {\n          type: \"keydown\",\n          listener: (event2) => this.handleKeyDown(event2, source, options),\n          options: { capture: true }\n        }\n      ])\n    ];\n    __privateGet(this, _cleanupFunctions).push(...listeners);\n  }\n  handleKeyDown(event, _source, options) {\n    const { keyboardCodes = defaults.keyboardCodes } = options != null ? options : {};\n    if (isKeycode(event, [...keyboardCodes.end, ...keyboardCodes.cancel])) {\n      event.preventDefault();\n      const canceled = isKeycode(event, keyboardCodes.cancel);\n      this.handleEnd(event, canceled);\n      return;\n    }\n    if (isKeycode(event, keyboardCodes.up)) {\n      this.handleMove(\"up\", event);\n    } else if (isKeycode(event, keyboardCodes.down)) {\n      this.handleMove(\"down\", event);\n    }\n    if (isKeycode(event, keyboardCodes.left)) {\n      this.handleMove(\"left\", event);\n    } else if (isKeycode(event, keyboardCodes.right)) {\n      this.handleMove(\"right\", event);\n    }\n  }\n  handleEnd(event, canceled) {\n    this.manager.actions.stop({\n      event,\n      canceled\n    });\n    this.cleanup();\n  }\n  handleMove(direction, event) {\n    var _a4, _b2;\n    const { shape } = this.manager.dragOperation;\n    const factor = event.shiftKey ? 5 : 1;\n    let by = {\n      x: 0,\n      y: 0\n    };\n    let offset = (_b2 = (_a4 = this.options) == null ? void 0 : _a4.offset) != null ? _b2 : defaults.offset;\n    if (typeof offset === \"number\") {\n      offset = { x: offset, y: offset };\n    }\n    if (!shape) {\n      return;\n    }\n    switch (direction) {\n      case \"up\":\n        by = { x: 0, y: -offset.y * factor };\n        break;\n      case \"down\":\n        by = { x: 0, y: offset.y * factor };\n        break;\n      case \"left\":\n        by = { x: -offset.x * factor, y: 0 };\n        break;\n      case \"right\":\n        by = { x: offset.x * factor, y: 0 };\n        break;\n    }\n    if (by.x || by.y) {\n      event.preventDefault();\n      this.manager.actions.move({\n        event,\n        by\n      });\n    }\n  }\n  sideEffects() {\n    const autoScroller = this.manager.registry.plugins.get(AutoScroller);\n    if ((autoScroller == null ? void 0 : autoScroller.disabled) === false) {\n      autoScroller.disable();\n      __privateGet(this, _cleanupFunctions).push(() => {\n        autoScroller.enable();\n      });\n    }\n  }\n  cleanup() {\n    __privateGet(this, _cleanupFunctions).forEach((cleanup) => cleanup());\n    __privateSet(this, _cleanupFunctions, []);\n  }\n  destroy() {\n    this.cleanup();\n    this.listeners.clear();\n  }\n};\n_cleanupFunctions = new WeakMap();\n_KeyboardSensor.configure = (0,_dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.configurator)(_KeyboardSensor);\n_KeyboardSensor.defaults = defaults;\nvar KeyboardSensor = _KeyboardSensor;\nfunction isKeycode(event, codes) {\n  return codes.includes(event.code);\n}\nvar defaults2 = Object.freeze({\n  activationConstraints(event, source) {\n    var _a4;\n    const { pointerType, target } = event;\n    if (pointerType === \"mouse\" && (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isElement)(target) && (source.handle === target || ((_a4 = source.handle) == null ? void 0 : _a4.contains(target)))) {\n      return void 0;\n    }\n    if (pointerType === \"touch\") {\n      return {\n        delay: { value: 250, tolerance: 5 }\n      };\n    }\n    if ((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isTextInput)(target) && !event.defaultPrevented) {\n      return {\n        delay: { value: 200, tolerance: 0 }\n      };\n    }\n    return {\n      delay: { value: 200, tolerance: 10 },\n      distance: { value: 5 }\n    };\n  }\n});\nvar _cleanup, _clearTimeout;\nvar _PointerSensor = class _PointerSensor extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Sensor {\n  constructor(manager, options) {\n    super(manager);\n    this.manager = manager;\n    this.options = options;\n    __privateAdd(this, _cleanup, /* @__PURE__ */ new Set());\n    __privateAdd(this, _clearTimeout);\n    this.listeners = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.Listeners();\n    this.latest = {\n      event: void 0,\n      coordinates: void 0\n    };\n    this.handleMove = () => {\n      const { event, coordinates: to } = this.latest;\n      if (!event || !to) {\n        return;\n      }\n      this.manager.actions.move({ event, to });\n    };\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handlePointerUp = this.handlePointerUp.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n  }\n  activationConstraints(event, source) {\n    var _a4;\n    const { activationConstraints = defaults2.activationConstraints } = (_a4 = this.options) != null ? _a4 : {};\n    const constraints = typeof activationConstraints === \"function\" ? activationConstraints(event, source) : activationConstraints;\n    return constraints;\n  }\n  bind(source, options = this.options) {\n    const unbind = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.effect)(() => {\n      var _a4;\n      const controller = new AbortController();\n      const { signal: signal3 } = controller;\n      const listener = (event) => {\n        if ((0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isPointerEvent)(event)) {\n          this.handlePointerDown(event, source, options);\n        }\n      };\n      let targets = [(_a4 = source.handle) != null ? _a4 : source.element];\n      if (options == null ? void 0 : options.activatorElements) {\n        if (Array.isArray(options.activatorElements)) {\n          targets = options.activatorElements;\n        } else {\n          targets = options.activatorElements(source);\n        }\n      }\n      for (const target of targets) {\n        if (!target) continue;\n        patchWindow(target.ownerDocument.defaultView);\n        target.addEventListener(\"pointerdown\", listener, { signal: signal3 });\n      }\n      return () => controller.abort();\n    });\n    return unbind;\n  }\n  handlePointerDown(event, source, options = {}) {\n    if (this.disabled || !event.isPrimary || event.button !== 0 || !(0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isElement)(event.target) || source.disabled || isCapturedBySensor(event) || !this.manager.dragOperation.status.idle) {\n      return;\n    }\n    const { target } = event;\n    const isNativeDraggable = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.isHTMLElement)(target) && target.draggable && target.getAttribute(\"draggable\") === \"true\";\n    const offset = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getFrameTransform)(source.element);\n    this.initialCoordinates = {\n      x: event.clientX * offset.scaleX + offset.x,\n      y: event.clientY * offset.scaleY + offset.y\n    };\n    const constraints = this.activationConstraints(event, source);\n    event.sensor = this;\n    if (!(constraints == null ? void 0 : constraints.delay) && !(constraints == null ? void 0 : constraints.distance)) {\n      this.handleStart(source, event);\n    } else {\n      const { delay } = constraints;\n      if (delay) {\n        const timeout = setTimeout(\n          () => this.handleStart(source, event),\n          delay.value\n        );\n        __privateSet(this, _clearTimeout, () => {\n          clearTimeout(timeout);\n          __privateSet(this, _clearTimeout, void 0);\n        });\n      }\n    }\n    const ownerDocument = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)(event.target);\n    const unbindListeners = this.listeners.bind(ownerDocument, [\n      {\n        type: \"pointermove\",\n        listener: (event2) => this.handlePointerMove(event2, source)\n      },\n      {\n        type: \"pointerup\",\n        listener: this.handlePointerUp,\n        options: {\n          capture: true\n        }\n      },\n      {\n        // Cancel activation if there is a competing Drag and Drop interaction\n        type: \"dragstart\",\n        listener: isNativeDraggable ? this.handleCancel : preventDefault,\n        options: {\n          capture: true\n        }\n      }\n    ]);\n    const cleanup = () => {\n      var _a4;\n      unbindListeners();\n      (_a4 = __privateGet(this, _clearTimeout)) == null ? void 0 : _a4.call(this);\n      this.initialCoordinates = void 0;\n    };\n    __privateGet(this, _cleanup).add(cleanup);\n  }\n  handlePointerMove(event, source) {\n    const coordinates = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    const offset = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getFrameTransform)(source.element);\n    coordinates.x = coordinates.x * offset.scaleX + offset.x;\n    coordinates.y = coordinates.y * offset.scaleY + offset.y;\n    if (this.manager.dragOperation.status.dragging) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.latest.event = event;\n      this.latest.coordinates = coordinates;\n      _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.scheduler.schedule(this.handleMove);\n      return;\n    }\n    if (!this.initialCoordinates) {\n      return;\n    }\n    const delta = {\n      x: coordinates.x - this.initialCoordinates.x,\n      y: coordinates.y - this.initialCoordinates.y\n    };\n    const constraints = this.activationConstraints(event, source);\n    const { distance, delay } = constraints != null ? constraints : {};\n    if (distance) {\n      if (distance.tolerance != null && (0,_dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.exceedsDistance)(delta, distance.tolerance)) {\n        return this.handleCancel(event);\n      }\n      if ((0,_dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.exceedsDistance)(delta, distance.value)) {\n        return this.handleStart(source, event);\n      }\n    }\n    if (delay) {\n      if ((0,_dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_4__.exceedsDistance)(delta, delay.tolerance)) {\n        return this.handleCancel(event);\n      }\n    }\n  }\n  handlePointerUp(event) {\n    const { status } = this.manager.dragOperation;\n    if (!status.idle) {\n      event.preventDefault();\n      event.stopPropagation();\n      const canceled = !status.initialized;\n      this.manager.actions.stop({ event, canceled });\n    }\n    this.cleanup();\n  }\n  handleKeyDown(event) {\n    if (event.key === \"Escape\") {\n      event.preventDefault();\n      this.handleCancel(event);\n    }\n  }\n  handleStart(source, event) {\n    var _a4;\n    const { manager, initialCoordinates } = this;\n    (_a4 = __privateGet(this, _clearTimeout)) == null ? void 0 : _a4.call(this);\n    if (!initialCoordinates || !manager.dragOperation.status.idle) {\n      return;\n    }\n    if (event.defaultPrevented) {\n      return;\n    }\n    const controller = manager.actions.start({\n      coordinates: initialCoordinates,\n      event,\n      source\n    });\n    if (controller.signal.aborted) return this.cleanup();\n    event.preventDefault();\n    const ownerDocument = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.getDocument)(event.target);\n    const pointerCaptureTarget = ownerDocument.body;\n    pointerCaptureTarget.setPointerCapture(event.pointerId);\n    const unbind = this.listeners.bind(ownerDocument, [\n      {\n        // Prevent scrolling on touch devices\n        type: \"touchmove\",\n        listener: preventDefault,\n        options: {\n          passive: false\n        }\n      },\n      {\n        // Prevent click events\n        type: \"click\",\n        listener: preventDefault\n      },\n      {\n        type: \"contextmenu\",\n        listener: preventDefault\n      },\n      {\n        type: \"keydown\",\n        listener: this.handleKeyDown\n      },\n      {\n        type: \"lostpointercapture\",\n        listener: (event2) => {\n          if (event2.target !== pointerCaptureTarget) return;\n          this.handlePointerUp(event2);\n        }\n      }\n    ]);\n    __privateGet(this, _cleanup).add(unbind);\n  }\n  handleCancel(event) {\n    const { dragOperation } = this.manager;\n    if (dragOperation.status.initialized) {\n      this.manager.actions.stop({ event, canceled: true });\n    }\n    this.cleanup();\n  }\n  cleanup() {\n    this.latest = {\n      event: void 0,\n      coordinates: void 0\n    };\n    __privateGet(this, _cleanup).forEach((cleanup) => cleanup());\n    __privateGet(this, _cleanup).clear();\n  }\n  destroy() {\n    this.cleanup();\n    this.listeners.clear();\n  }\n};\n_cleanup = new WeakMap();\n_clearTimeout = new WeakMap();\n_PointerSensor.configure = (0,_dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.configurator)(_PointerSensor);\n_PointerSensor.defaults = defaults2;\nvar PointerSensor = _PointerSensor;\nfunction isCapturedBySensor(event) {\n  return \"sensor\" in event;\n}\nfunction preventDefault(event) {\n  event.preventDefault();\n}\nfunction noop() {\n}\nvar windows = /* @__PURE__ */ new WeakSet();\nfunction patchWindow(window) {\n  if (!window || windows.has(window)) {\n    return;\n  }\n  window.addEventListener(\"touchmove\", noop, {\n    capture: false,\n    passive: false\n  });\n  windows.add(window);\n}\n\n// src/core/manager/manager.ts\nvar defaultPreset = {\n  modifiers: [],\n  plugins: [Accessibility, AutoScroller, Cursor, Feedback, PreventSelection],\n  sensors: [PointerSensor, KeyboardSensor]\n};\nvar DragDropManager = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.DragDropManager {\n  constructor(input = {}) {\n    const {\n      plugins = defaultPreset.plugins,\n      sensors = defaultPreset.sensors,\n      modifiers = []\n    } = input;\n    super(__spreadProps(__spreadValues({}, input), {\n      plugins: [ScrollListener, Scroller, ...plugins],\n      sensors,\n      modifiers\n    }));\n  }\n};\nvar _feedback_dec, _element_dec, _handle_dec, _c, _init4, _handle, _element, _feedback;\nvar Draggable = class extends (_c = _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Draggable, _handle_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _element_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _feedback_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _c) {\n  constructor(_a4, manager) {\n    var _b2 = _a4, {\n      element,\n      effects: effects2 = () => [],\n      handle,\n      feedback = \"default\"\n    } = _b2, input = __objRest(_b2, [\n      \"element\",\n      \"effects\",\n      \"handle\",\n      \"feedback\"\n    ]);\n    super(\n      __spreadValues({\n        effects: () => [\n          ...effects2(),\n          () => {\n            var _a5, _b3;\n            const { manager: manager2 } = this;\n            if (!manager2) return;\n            const sensors = (_b3 = (_a5 = this.sensors) == null ? void 0 : _a5.map(_dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.descriptor)) != null ? _b3 : [\n              ...manager2.sensors\n            ];\n            const unbindFunctions = sensors.map((entry) => {\n              const sensorInstance = entry instanceof _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Sensor ? entry : manager2.registry.register(entry.plugin);\n              const options = entry instanceof _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Sensor ? void 0 : entry.options;\n              const unbind = sensorInstance.bind(this, options);\n              return unbind;\n            });\n            return function cleanup() {\n              unbindFunctions.forEach((unbind) => unbind());\n            };\n          }\n        ]\n      }, input),\n      manager\n    );\n    __privateAdd(this, _handle, __runInitializers(_init4, 8, this)), __runInitializers(_init4, 11, this);\n    __privateAdd(this, _element, __runInitializers(_init4, 12, this)), __runInitializers(_init4, 15, this);\n    __privateAdd(this, _feedback, __runInitializers(_init4, 16, this)), __runInitializers(_init4, 19, this);\n    this.element = element;\n    this.handle = handle;\n    this.feedback = feedback;\n  }\n};\n_init4 = __decoratorStart(_c);\n_handle = new WeakMap();\n_element = new WeakMap();\n_feedback = new WeakMap();\n__decorateElement(_init4, 4, \"handle\", _handle_dec, Draggable, _handle);\n__decorateElement(_init4, 4, \"element\", _element_dec, Draggable, _element);\n__decorateElement(_init4, 4, \"feedback\", _feedback_dec, Draggable, _feedback);\n__decoratorMetadata(_init4, Draggable);\nvar _proxy_dec, _element_dec2, _c2, _init5, _element2, _d, element_get, element_set, _Droppable_instances, _proxy;\nvar Droppable = class extends (_c2 = _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Droppable, _element_dec2 = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _proxy_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.reactive], _c2) {\n  constructor(_a4, manager) {\n    var _b2 = _a4, { element, effects: effects2 = () => [] } = _b2, input = __objRest(_b2, [\"element\", \"effects\"]);\n    const { collisionDetector = _dnd_kit_collision__WEBPACK_IMPORTED_MODULE_5__.defaultCollisionDetection } = input;\n    const updateShape = (boundingClientRect) => {\n      const { manager: manager2, element: element2 } = this;\n      if (!element2 || boundingClientRect === null) {\n        this.shape = void 0;\n        return void 0;\n      }\n      if (!manager2) return;\n      const updatedShape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.DOMRectangle(element2);\n      const shape = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.untracked)(() => this.shape);\n      if (updatedShape && (shape == null ? void 0 : shape.equals(updatedShape))) {\n        return shape;\n      }\n      this.shape = updatedShape;\n      return updatedShape;\n    };\n    const observePosition = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.signal)(false);\n    super(\n      __spreadProps(__spreadValues({}, input), {\n        collisionDetector,\n        effects: () => [\n          ...effects2(),\n          () => {\n            const { element: element2, manager: manager2 } = this;\n            if (!manager2) return;\n            const { dragOperation } = manager2;\n            const { source } = dragOperation;\n            observePosition.value = Boolean(\n              source && dragOperation.status.initialized && element2 && !this.disabled && this.accepts(source)\n            );\n          },\n          () => {\n            const { element: element2 } = this;\n            if (observePosition.value && element2) {\n              const positionObserver = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_1__.PositionObserver(\n                element2,\n                updateShape\n              );\n              return () => {\n                positionObserver.disconnect();\n                this.shape = void 0;\n              };\n            }\n          },\n          () => {\n            var _a5;\n            if ((_a5 = this.manager) == null ? void 0 : _a5.dragOperation.status.initialized) {\n              return () => {\n                this.shape = void 0;\n              };\n            }\n          }\n        ]\n      }),\n      manager\n    );\n    __privateAdd(this, _Droppable_instances);\n    __privateAdd(this, _element2, __runInitializers(_init5, 8, this)), __runInitializers(_init5, 11, this);\n    __privateAdd(this, _proxy, __runInitializers(_init5, 12, this)), __runInitializers(_init5, 15, this);\n    this.element = element;\n    this.refreshShape = () => updateShape();\n  }\n  set element(element) {\n    __privateSet(this, _Droppable_instances, element, element_set);\n  }\n  get element() {\n    var _a4;\n    return (_a4 = this.proxy) != null ? _a4 : __privateGet(this, _Droppable_instances, element_get);\n  }\n};\n_init5 = __decoratorStart(_c2);\n_element2 = new WeakMap();\n_Droppable_instances = new WeakSet();\n_proxy = new WeakMap();\n_d = __decorateElement(_init5, 20, \"#element\", _element_dec2, _Droppable_instances, _element2), element_get = _d.get, element_set = _d.set;\n__decorateElement(_init5, 4, \"proxy\", _proxy_dec, Droppable, _proxy);\n__decoratorMetadata(_init5, Droppable);\n\n\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtkb21AMC4xLjIxL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9kb20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtTDtBQUMyVjtBQUNwYTtBQUM5QjtBQUNiOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDJCQUEyQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsd0pBQXdKO0FBQ3pOO0FBQ0E7QUFDQSxrRUFBa0UsT0FBTztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwSEFBMEg7QUFDMUg7QUFDQSxHQUFHO0FBQ0g7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QywrQ0FBK0M7QUFDL0M7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLCtCQUErQjtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWEsVUFBVTtBQUNyQztBQUNBLHVDQUF1QyxVQUFVO0FBQ2pELEdBQUc7QUFDSCxhQUFhLGFBQWEsa0JBQWtCO0FBQzVDO0FBQ0E7QUFDQSwrQkFBK0IsV0FBVyxrQ0FBa0MsVUFBVTtBQUN0RjtBQUNBLDZCQUE2QixXQUFXO0FBQ3hDLEdBQUc7QUFDSCxZQUFZLGFBQWEsZ0JBQWdCLFlBQVk7QUFDckQ7QUFDQTtBQUNBLHVEQUF1RCxXQUFXO0FBQ2xFO0FBQ0E7QUFDQSwrQkFBK0IsV0FBVyxvQ0FBb0MsVUFBVTtBQUN4RjtBQUNBLDZCQUE2QixXQUFXO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQ0FBa0MscURBQU07QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLElBQUk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sa0NBQWtDLGtCQUFrQixHQUFHLEdBQUcsSUFBSSx3RUFBZ0I7QUFDOUUsbUNBQW1DLG1CQUFtQixHQUFHLEdBQUcsSUFBSSx3RUFBZ0I7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNkRBQVM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGdFQUFRO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZEQUFTO0FBQ2pCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscURBQU07QUFDakM7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdEQUFRO0FBQ3hCO0FBQ0E7QUFDQSxlQUFlLG1FQUFXO0FBQzFCO0FBQ0E7QUFDQSxtQkFBbUIsc0RBQU07QUFDekI7QUFDQSxjQUFjLGdCQUFnQjtBQUM5QixjQUFjLDZCQUE2QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsVUFBVSxRQUFRLGFBQWE7QUFDaEU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRCQUE0QixZQUFZO0FBQ3hDO0FBQ0EsbUJBQW1CLFlBQVk7QUFDL0IsK0JBQStCLFlBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBLGlCQUFpQixXQUFXO0FBQzVCLHFCQUFxQixXQUFXO0FBQ2hDLGtCQUFrQixXQUFXO0FBQzdCLHNCQUFzQixXQUFXO0FBQ2pDLHNCQUFzQixXQUFXO0FBQ2pDOztBQUVBLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ0E7O0FBRUEsV0FBVyxzQkFBc0I7QUFDakM7QUFDQTs7QUFFQSxLQUFLLFVBQVU7QUFDZjtBQUNBOztBQUVBLEtBQUssVUFBVSxTQUFTLG1CQUFtQjtBQUMzQyxxQkFBcUIsV0FBVztBQUNoQzs7QUFFQSxLQUFLLFVBQVUsWUFBWSxXQUFXO0FBQ3RDLGlCQUFpQixXQUFXO0FBQzVCLDRCQUE0QixXQUFXO0FBQ3ZDOztBQUVBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLFVBQVUsZ0JBQWdCLFlBQVksZ0JBQWdCLFVBQVU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMseURBQVM7QUFDbEIsWUFBWSxtQkFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9FQUFZO0FBQ3BDLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsWUFBWSxFQUFFLHdFQUFnQixXQUFXO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvQkFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtRUFBZTtBQUNuQjtBQUNBLE1BQU0sbUVBQWU7QUFDckI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVFQUFlLGNBQWMsdUVBQWU7QUFDckQ7QUFDQTtBQUNBLFVBQVUsU0FBUztBQUNuQiw0REFBNEQsaUVBQVM7QUFDckUsZ0NBQWdDLG1FQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHFEQUFNLGtCQUFrQixvREFBUTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDBCQUEwQjtBQUNwQyxVQUFVLGdCQUFnQjtBQUMxQixVQUFVLDJCQUEyQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9CQUFvQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxVQUFVLFVBQVU7QUFDcEI7QUFDQSx5QkFBeUIseUVBQWlCO0FBQzFDLGdDQUFnQyx5RUFBaUI7QUFDakQ7QUFDQSxvQkFBb0IsZ0VBQVk7QUFDaEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkJBQTJCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwREFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUseUVBQWlCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseURBQVM7QUFDdkMsVUFBVSx1RUFBZTtBQUN6QjtBQUNBO0FBQ0EsNEJBQTRCLHNFQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseURBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0JBQWtCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQixjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBUztBQUM3Qix1RUFBdUU7QUFDdkU7QUFDQTtBQUNBLDZCQUE2QixHQUFHLEtBQUssR0FBRztBQUN4QywyQ0FBMkMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGNBQWMsRUFBRSxhQUFhO0FBQzFELDZCQUE2Qix3QkFBd0IsSUFBSSx3QkFBd0I7QUFDakYsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUVBQWU7QUFDckI7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtRUFBVztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGdFQUFZO0FBQzdDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw0QkFBNEI7QUFDMUQ7QUFDQTtBQUNBLDhCQUE4QixnRUFBWTtBQUMxQyxHQUFHO0FBQ0gsMkJBQTJCLGdFQUFZO0FBQ3ZDLEVBQUUseURBQVM7QUFDWCx5QkFBeUIsaUVBQVM7QUFDbEM7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0seURBQVM7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxRUFBYSxhQUFhLHFFQUFhO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUVBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFFQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVFQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBTztBQUNoQztBQUNBO0FBQ0E7QUFDQSxjQUFjLHlDQUF5QztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlEQUFTO0FBQ25DLDZCQUE2Qix5REFBUztBQUN0QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixXQUFXLGNBQWMsb0JBQW9CO0FBQ3hFLDBCQUEwQixhQUFhLEtBQUssYUFBYTtBQUN6RCxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsb0RBQUs7QUFDOUIsZ0NBQWdDLHdEQUFTO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixvQ0FBb0MsZ0VBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUFXO0FBQ3ZCLHlDQUF5Qyx3RUFBZ0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnRUFBWTtBQUM1Qyw0Q0FBNEMsc0VBQWMsQ0FBQyx5RUFBaUI7QUFDNUUsOEJBQThCLGdFQUFZO0FBQzFDLDJCQUEyQix3REFBUztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0JBQXdCO0FBQzNDLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBLG1CQUFtQix3QkFBd0I7QUFDM0MsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQyxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCO0FBQzFDLG1CQUFtQixxQkFBcUI7QUFDeEM7QUFDQSxjQUFjO0FBQ2QseUJBQXlCLFlBQVk7QUFDckM7QUFDQTtBQUNBLFlBQVksd0VBQWdCO0FBQzVCO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0EscUJBQXFCLG1CQUFtQixLQUFLLG1CQUFtQjtBQUNoRSxxQkFBcUIsaUJBQWlCLEtBQUssaUJBQWlCO0FBQzVEO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx5QkFBeUI7QUFDbkMsVUFBVSxRQUFRO0FBQ2xCO0FBQ0EsMkJBQTJCLG1FQUFXO0FBQ3RDLDJCQUEyQixtRUFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCw2Q0FBNkMsaUJBQWlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtEQUFZO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvREFBUSxHQUFHLG1FQUFlLDBCQUEwQixvREFBUSxHQUFHLG1FQUFlO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtRUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQWUsNkJBQTZCLG1FQUFlO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1FQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsbUVBQWUsVUFBVSxtRUFBZTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MscURBQU07QUFDOUM7QUFDQTtBQUNBLHlCQUF5QixzREFBTTtBQUMvQjtBQUNBO0FBQ0EsSUFBSSxzREFBTTtBQUNWLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscURBQUs7QUFDYiw2QkFBNkIsbURBQUk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0MseURBQVUsd0JBQXdCLG9EQUFRO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBO0FBQ0EsZ0JBQWdCLEtBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsaUVBQVM7QUFDNUM7QUFDQSxvQkFBb0IsbUJBQW1CLEVBQUUsMEVBQWtCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsbURBQUk7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGdCQUFnQiw2REFBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFRO0FBQ3JDLGNBQWMsbUJBQW1CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyRUFBbUI7QUFDekMsUUFBUSxtRUFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsK0JBQStCLHdEQUFRO0FBQ3ZDO0FBQ0EsY0FBYyxrQkFBa0IsRUFBRSxtRUFBVztBQUM3QztBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQSwyQkFBMkIsOEVBQXNCO0FBQ2pEO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOEVBQXNCO0FBQy9DO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUUscURBQVM7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx1RUFBZTtBQUNyRTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUVBQWU7QUFDMUI7QUFDQTtBQUNBLFdBQVcsbUVBQWU7QUFDMUI7QUFDQSxTQUFTLG1FQUFlO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxpQ0FBaUMscURBQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0JBQXNCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHlEQUFVO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCLG1CQUFtQixzREFBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMscURBQU07QUFDM0M7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFNO0FBQ3pCO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEJBQThCLHVDQUF1QztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxvREFBb0QscURBQU07QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2REFBUztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUVBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0NBQXNDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0RBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1RUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDhFQUFzQjtBQUMxQixZQUFZLFNBQVMsTUFBTSxnRUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsbUVBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlDQUF5QztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzQkFBc0I7QUFDbEMsbUNBQW1DLGlFQUFTO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxRQUFRLG1FQUFXO0FBQ25CO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkJBQTJCO0FBQzFDLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esa0RBQWtELHFEQUFNO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2REFBUztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5QkFBeUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFdBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBEQUEwRDtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzREFBTTtBQUN6QjtBQUNBO0FBQ0EsY0FBYyxrQkFBa0I7QUFDaEM7QUFDQSxZQUFZLHNFQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxpQkFBaUI7QUFDNUU7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DLG9FQUFvRSxpRUFBUztBQUM3RTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCLDhCQUE4QixxRUFBYTtBQUMzQyxtQkFBbUIseUVBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQixtRUFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIseUVBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw2REFBUztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQkFBa0I7QUFDOUI7QUFDQSx3Q0FBd0Msa0VBQWU7QUFDdkQ7QUFDQTtBQUNBLFVBQVUsa0VBQWU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtFQUFlO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsaUJBQWlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhCQUE4QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwwQkFBMEIsbUVBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQSxrQ0FBa0MsdUJBQXVCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsOERBQWlCO0FBQ3JELHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTix5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3REFBVyxpQkFBaUIsb0RBQVEsbUJBQW1CLG9EQUFRLG9CQUFvQixvREFBUTtBQUMvSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQSxtRkFBbUYseURBQVU7QUFDN0Y7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHFEQUFNO0FBQzVELCtDQUErQyxxREFBTTtBQUNyRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsd0RBQVcsbUJBQW1CLG9EQUFRLGlCQUFpQixvREFBUTtBQUNwRztBQUNBLHFCQUFxQix3Q0FBd0M7QUFDN0QsWUFBWSxvQkFBb0IseUVBQXlCLEdBQUc7QUFDNUQ7QUFDQSxjQUFjLHVDQUF1QztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFZO0FBQzNDLG9CQUFvQix5REFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQU07QUFDbEM7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUNBQXVDO0FBQzNEO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQyxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0EsMkNBQTJDLG9FQUFnQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUwTDtBQUMxTDtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrZG9tQDAuMS4yMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvZG9tL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbmZpZ3VyYXRvciwgU2Vuc29yLCBQbHVnaW4sIENvcmVQbHVnaW4sIERyYWdEcm9wTWFuYWdlciBhcyBEcmFnRHJvcE1hbmFnZXIkMSwgRHJhZ2dhYmxlIGFzIERyYWdnYWJsZSQxLCBEcm9wcGFibGUgYXMgRHJvcHBhYmxlJDEsIGRlc2NyaXB0b3IgfSBmcm9tICdAZG5kLWtpdC9hYnN0cmFjdCc7XG5pbXBvcnQgeyBTY3JvbGxEaXJlY3Rpb24sIExpc3RlbmVycywgaXNFbGVtZW50LCBzY3JvbGxJbnRvVmlld0lmTmVlZGVkLCBET01SZWN0YW5nbGUsIGdldERvY3VtZW50LCBpc0hUTUxFbGVtZW50LCBnZXRGcmFtZVRyYW5zZm9ybSwgc2NoZWR1bGVyLCBpc1RleHRJbnB1dCwgaXNLZXlib2FyZEV2ZW50LCBpc1BvaW50ZXJFdmVudCwgY2FuU2Nyb2xsLCBkZXRlY3RTY3JvbGxJbnRlbnQsIGdldEVsZW1lbnRGcm9tUG9pbnQsIGdldFNjcm9sbGFibGVBbmNlc3RvcnMsIGdlbmVyYXRlVW5pcXVlSWQsIGlzU2FmYXJpLCBTdHlsZXMsIGdldENvbXB1dGVkU3R5bGVzLCBwYXJzZVRyYW5zbGF0ZSwgc3VwcG9ydHNQb3BvdmVyLCBzaG93UG9wb3ZlciwgZ2V0V2luZG93LCBzdXBwb3J0c1N0eWxlLCBnZXRGcmFtZUVsZW1lbnQsIGNsb25lRWxlbWVudCwgZ2V0RmluYWxLZXlmcmFtZSwgYW5pbWF0ZVRyYW5zZm9ybSwgUHJveGllZEVsZW1lbnRzLCBQb3NpdGlvbk9ic2VydmVyIH0gZnJvbSAnQGRuZC1raXQvZG9tL3V0aWxpdGllcyc7XG5pbXBvcnQgeyBlZmZlY3QsIGNvbXB1dGVkLCBkZWVwRXF1YWwsIHNpZ25hbCwgYmF0Y2gsIHVudHJhY2tlZCwgZWZmZWN0cywgcmVhY3RpdmUgfSBmcm9tICdAZG5kLWtpdC9zdGF0ZSc7XG5pbXBvcnQgeyBleGNlZWRzRGlzdGFuY2UsIEF4ZXMsIFBvaW50LCBSZWN0YW5nbGUgfSBmcm9tICdAZG5kLWtpdC9nZW9tZXRyeSc7XG5pbXBvcnQgeyBkZWZhdWx0Q29sbGlzaW9uRGV0ZWN0aW9uIH0gZnJvbSAnQGRuZC1raXQvY29sbGlzaW9uJztcblxudmFyIF9fY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fa25vd25TeW1ib2wgPSAobmFtZSwgc3ltYm9sKSA9PiAoc3ltYm9sID0gU3ltYm9sW25hbWVdKSA/IHN5bWJvbCA6IFN5bWJvbC5mb3IoXCJTeW1ib2wuXCIgKyBuYW1lKTtcbnZhciBfX3R5cGVFcnJvciA9IChtc2cpID0+IHtcbiAgdGhyb3cgVHlwZUVycm9yKG1zZyk7XG59O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG52YXIgX19kZWNvcmF0b3JTdGFydCA9IChiYXNlKSA9PiB7XG4gIHZhciBfYTQ7XG4gIHJldHVybiBbLCAsICwgX19jcmVhdGUoKF9hNCA9IGJhc2UgPT0gbnVsbCA/IHZvaWQgMCA6IGJhc2VbX19rbm93blN5bWJvbChcIm1ldGFkYXRhXCIpXSkgIT0gbnVsbCA/IF9hNCA6IG51bGwpXTtcbn07XG52YXIgX19kZWNvcmF0b3JTdHJpbmdzID0gW1wiY2xhc3NcIiwgXCJtZXRob2RcIiwgXCJnZXR0ZXJcIiwgXCJzZXR0ZXJcIiwgXCJhY2Nlc3NvclwiLCBcImZpZWxkXCIsIFwidmFsdWVcIiwgXCJnZXRcIiwgXCJzZXRcIl07XG52YXIgX19leHBlY3RGbiA9IChmbikgPT4gZm4gIT09IHZvaWQgMCAmJiB0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIiA/IF9fdHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIikgOiBmbjtcbnZhciBfX2RlY29yYXRvckNvbnRleHQgPSAoa2luZCwgbmFtZSwgZG9uZSwgbWV0YWRhdGEsIGZucykgPT4gKHsga2luZDogX19kZWNvcmF0b3JTdHJpbmdzW2tpbmRdLCBuYW1lLCBtZXRhZGF0YSwgYWRkSW5pdGlhbGl6ZXI6IChmbikgPT4gZG9uZS5fID8gX190eXBlRXJyb3IoXCJBbHJlYWR5IGluaXRpYWxpemVkXCIpIDogZm5zLnB1c2goX19leHBlY3RGbihmbiB8fCBudWxsKSkgfSk7XG52YXIgX19kZWNvcmF0b3JNZXRhZGF0YSA9IChhcnJheSwgdGFyZ2V0KSA9PiBfX2RlZk5vcm1hbFByb3AodGFyZ2V0LCBfX2tub3duU3ltYm9sKFwibWV0YWRhdGFcIiksIGFycmF5WzNdKTtcbnZhciBfX3J1bkluaXRpYWxpemVycyA9IChhcnJheSwgZmxhZ3MsIHNlbGYsIHZhbHVlKSA9PiB7XG4gIGZvciAodmFyIGkgPSAwLCBmbnMgPSBhcnJheVtmbGFncyA+PiAxXSwgbiA9IGZucyAmJiBmbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSBmbGFncyAmIDEgPyBmbnNbaV0uY2FsbChzZWxmKSA6IHZhbHVlID0gZm5zW2ldLmNhbGwoc2VsZiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9fZGVjb3JhdGVFbGVtZW50ID0gKGFycmF5LCBmbGFncywgbmFtZSwgZGVjb3JhdG9ycywgdGFyZ2V0LCBleHRyYSkgPT4ge1xuICB2YXIgZm4sIGl0LCBkb25lLCBjdHgsIGFjY2VzcywgayA9IGZsYWdzICYgNywgcyA9ICEhKGZsYWdzICYgOCksIHAgPSAhIShmbGFncyAmIDE2KTtcbiAgdmFyIGogPSBrID4gMyA/IGFycmF5Lmxlbmd0aCArIDEgOiBrID8gcyA/IDEgOiAyIDogMCwga2V5ID0gX19kZWNvcmF0b3JTdHJpbmdzW2sgKyA1XTtcbiAgdmFyIGluaXRpYWxpemVycyA9IGsgPiAzICYmIChhcnJheVtqIC0gMV0gPSBbXSksIGV4dHJhSW5pdGlhbGl6ZXJzID0gYXJyYXlbal0gfHwgKGFycmF5W2pdID0gW10pO1xuICB2YXIgZGVzYyA9IGsgJiYgKCFwICYmICFzICYmICh0YXJnZXQgPSB0YXJnZXQucHJvdG90eXBlKSwgayA8IDUgJiYgKGsgPiAzIHx8ICFwKSAmJiBfX2dldE93blByb3BEZXNjKGsgPCA0ID8gdGFyZ2V0IDogeyBnZXQgW25hbWVdKCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgZXh0cmEpO1xuICB9LCBzZXQgW25hbWVdKHgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlU2V0KHRoaXMsIGV4dHJhLCB4KTtcbiAgfSB9LCBuYW1lKSk7XG4gIGsgPyBwICYmIGsgPCA0ICYmIF9fbmFtZShleHRyYSwgKGsgPiAyID8gXCJzZXQgXCIgOiBrID4gMSA/IFwiZ2V0IFwiIDogXCJcIikgKyBuYW1lKSA6IF9fbmFtZSh0YXJnZXQsIG5hbWUpO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGN0eCA9IF9fZGVjb3JhdG9yQ29udGV4dChrLCBuYW1lLCBkb25lID0ge30sIGFycmF5WzNdLCBleHRyYUluaXRpYWxpemVycyk7XG4gICAgaWYgKGspIHtcbiAgICAgIGN0eC5zdGF0aWMgPSBzLCBjdHgucHJpdmF0ZSA9IHAsIGFjY2VzcyA9IGN0eC5hY2Nlc3MgPSB7IGhhczogcCA/ICh4KSA9PiBfX3ByaXZhdGVJbih0YXJnZXQsIHgpIDogKHgpID0+IG5hbWUgaW4geCB9O1xuICAgICAgaWYgKGsgXiAzKSBhY2Nlc3MuZ2V0ID0gcCA/ICh4KSA9PiAoayBeIDEgPyBfX3ByaXZhdGVHZXQgOiBfX3ByaXZhdGVNZXRob2QpKHgsIHRhcmdldCwgayBeIDQgPyBleHRyYSA6IGRlc2MuZ2V0KSA6ICh4KSA9PiB4W25hbWVdO1xuICAgICAgaWYgKGsgPiAyKSBhY2Nlc3Muc2V0ID0gcCA/ICh4LCB5KSA9PiBfX3ByaXZhdGVTZXQoeCwgdGFyZ2V0LCB5LCBrIF4gNCA/IGV4dHJhIDogZGVzYy5zZXQpIDogKHgsIHkpID0+IHhbbmFtZV0gPSB5O1xuICAgIH1cbiAgICBpdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShrID8gayA8IDQgPyBwID8gZXh0cmEgOiBkZXNjW2tleV0gOiBrID4gNCA/IHZvaWQgMCA6IHsgZ2V0OiBkZXNjLmdldCwgc2V0OiBkZXNjLnNldCB9IDogdGFyZ2V0LCBjdHgpLCBkb25lLl8gPSAxO1xuICAgIGlmIChrIF4gNCB8fCBpdCA9PT0gdm9pZCAwKSBfX2V4cGVjdEZuKGl0KSAmJiAoayA+IDQgPyBpbml0aWFsaXplcnMudW5zaGlmdChpdCkgOiBrID8gcCA/IGV4dHJhID0gaXQgOiBkZXNjW2tleV0gPSBpdCA6IHRhcmdldCA9IGl0KTtcbiAgICBlbHNlIGlmICh0eXBlb2YgaXQgIT09IFwib2JqZWN0XCIgfHwgaXQgPT09IG51bGwpIF9fdHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgIGVsc2UgX19leHBlY3RGbihmbiA9IGl0LmdldCkgJiYgKGRlc2MuZ2V0ID0gZm4pLCBfX2V4cGVjdEZuKGZuID0gaXQuc2V0KSAmJiAoZGVzYy5zZXQgPSBmbiksIF9fZXhwZWN0Rm4oZm4gPSBpdC5pbml0KSAmJiBpbml0aWFsaXplcnMudW5zaGlmdChmbik7XG4gIH1cbiAgcmV0dXJuIGsgfHwgX19kZWNvcmF0b3JNZXRhZGF0YShhcnJheSwgdGFyZ2V0KSwgZGVzYyAmJiBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCBkZXNjKSwgcCA/IGsgXiA0ID8gZXh0cmEgOiBkZXNjIDogdGFyZ2V0O1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IG1lbWJlci5oYXMob2JqKSB8fCBfX3R5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG52YXIgX19wcml2YXRlSW4gPSAobWVtYmVyLCBvYmopID0+IE9iamVjdChvYmopICE9PSBvYmogPyBfX3R5cGVFcnJvcignQ2Fubm90IHVzZSB0aGUgXCJpblwiIG9wZXJhdG9yIG9uIHRoaXMgdmFsdWUnKSA6IG1lbWJlci5oYXMob2JqKTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaikpO1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IG1lbWJlci5oYXMob2JqKSA/IF9fdHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKSA6IG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xudmFyIF9fcHJpdmF0ZVNldCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSk7XG52YXIgX19wcml2YXRlTWV0aG9kID0gKG9iaiwgbWVtYmVyLCBtZXRob2QpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcImFjY2VzcyBwcml2YXRlIG1ldGhvZFwiKSwgbWV0aG9kKTtcblxuLy8gc3JjL2NvcmUvcGx1Z2lucy9hY2Nlc3NpYmlsaXR5L2RlZmF1bHRzLnRzXG52YXIgZGVmYXVsdEF0dHJpYnV0ZXMgPSB7XG4gIHJvbGU6IFwiYnV0dG9uXCIsXG4gIHJvbGVEZXNjcmlwdGlvbjogXCJkcmFnZ2FibGVcIn07XG52YXIgZGVmYXVsdERlc2NyaXB0aW9uSWRQcmVmaXggPSBgZG5kLWtpdC1kZXNjcmlwdGlvbmA7XG52YXIgZGVmYXVsdEFubm91bmNlbWVudElkUHJlZml4ID0gYGRuZC1raXQtYW5ub3VuY2VtZW50YDtcbnZhciBkZWZhdWx0U2NyZWVuUmVhZGVySW5zdHJ1Y3Rpb25zID0ge1xuICBkcmFnZ2FibGU6IGBUbyBwaWNrIHVwIGEgZHJhZ2dhYmxlIGl0ZW0sIHByZXNzIHRoZSBzcGFjZSBiYXIuIFdoaWxlIGRyYWdnaW5nLCB1c2UgdGhlIGFycm93IGtleXMgdG8gbW92ZSB0aGUgaXRlbSBpbiBhIGdpdmVuIGRpcmVjdGlvbi4gUHJlc3Mgc3BhY2UgYWdhaW4gdG8gZHJvcCB0aGUgaXRlbSBpbiBpdHMgbmV3IHBvc2l0aW9uLCBvciBwcmVzcyBlc2NhcGUgdG8gY2FuY2VsLmBcbn07XG52YXIgZGVmYXVsdEFubm91bmNlbWVudHMgPSB7XG4gIGRyYWdzdGFydCh7IG9wZXJhdGlvbjogeyBzb3VyY2UgfSB9KSB7XG4gICAgaWYgKCFzb3VyY2UpIHJldHVybjtcbiAgICByZXR1cm4gYFBpY2tlZCB1cCBkcmFnZ2FibGUgaXRlbSAke3NvdXJjZS5pZH0uYDtcbiAgfSxcbiAgZHJhZ292ZXIoeyBvcGVyYXRpb246IHsgc291cmNlLCB0YXJnZXQgfSB9KSB7XG4gICAgaWYgKCFzb3VyY2UgfHwgc291cmNlLmlkID09PSAodGFyZ2V0ID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXQuaWQpKSByZXR1cm47XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgcmV0dXJuIGBEcmFnZ2FibGUgaXRlbSAke3NvdXJjZS5pZH0gd2FzIG1vdmVkIG92ZXIgZHJvcHBhYmxlIHRhcmdldCAke3RhcmdldC5pZH0uYDtcbiAgICB9XG4gICAgcmV0dXJuIGBEcmFnZ2FibGUgaXRlbSAke3NvdXJjZS5pZH0gaXMgbm8gbG9uZ2VyIG92ZXIgYSBkcm9wcGFibGUgdGFyZ2V0LmA7XG4gIH0sXG4gIGRyYWdlbmQoeyBvcGVyYXRpb246IHsgc291cmNlLCB0YXJnZXQgfSwgY2FuY2VsZWQgfSkge1xuICAgIGlmICghc291cmNlKSByZXR1cm47XG4gICAgaWYgKGNhbmNlbGVkKSB7XG4gICAgICByZXR1cm4gYERyYWdnaW5nIHdhcyBjYW5jZWxsZWQuIERyYWdnYWJsZSBpdGVtICR7c291cmNlLmlkfSB3YXMgZHJvcHBlZC5gO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICByZXR1cm4gYERyYWdnYWJsZSBpdGVtICR7c291cmNlLmlkfSB3YXMgZHJvcHBlZCBvdmVyIGRyb3BwYWJsZSB0YXJnZXQgJHt0YXJnZXQuaWR9YDtcbiAgICB9XG4gICAgcmV0dXJuIGBEcmFnZ2FibGUgaXRlbSAke3NvdXJjZS5pZH0gd2FzIGRyb3BwZWQuYDtcbiAgfVxufTtcblxuLy8gc3JjL2NvcmUvcGx1Z2lucy9hY2Nlc3NpYmlsaXR5L3V0aWxpdGllcy50c1xuZnVuY3Rpb24gaXNGb2N1c2FibGUoZWxlbWVudCkge1xuICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBbXCJpbnB1dFwiLCBcInNlbGVjdFwiLCBcInRleHRhcmVhXCIsIFwiYVwiLCBcImJ1dHRvblwiXS5pbmNsdWRlcyh0YWdOYW1lKTtcbn1cblxuLy8gc3JjL2NvcmUvcGx1Z2lucy9hY2Nlc3NpYmlsaXR5L0hpZGRlblRleHQudHNcbmZ1bmN0aW9uIGNyZWF0ZUhpZGRlblRleHQoaWQsIHZhbHVlKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBlbGVtZW50LmlkID0gaWQ7XG4gIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLy8gc3JjL2NvcmUvcGx1Z2lucy9hY2Nlc3NpYmlsaXR5L0xpdmVSZWdpb24udHNcbmZ1bmN0aW9uIGNyZWF0ZUxpdmVSZWdpb24oaWQpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGVsZW1lbnQuaWQgPSBpZDtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwic3RhdHVzXCIpO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLCBcInBvbGl0ZVwiKTtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWF0b21pY1wiLCBcInRydWVcIik7XG4gIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJwb3NpdGlvblwiLCBcImZpeGVkXCIpO1xuICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwid2lkdGhcIiwgXCIxcHhcIik7XG4gIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgXCIxcHhcIik7XG4gIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJtYXJnaW5cIiwgXCItMXB4XCIpO1xuICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiYm9yZGVyXCIsIFwiMFwiKTtcbiAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcInBhZGRpbmdcIiwgXCIwXCIpO1xuICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIik7XG4gIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCJjbGlwXCIsIFwicmVjdCgwIDAgMCAwKVwiKTtcbiAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcImNsaXAtcGF0aFwiLCBcImluc2V0KDEwMCUpXCIpO1xuICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwid2hpdGUtc3BhY2VcIiwgXCJub3dyYXBcIik7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vLyBzcmMvY29yZS9wbHVnaW5zL2FjY2Vzc2liaWxpdHkvQWNjZXNzaWJpbGl0eS50c1xudmFyIGRlYm91bmNlZEV2ZW50cyA9IFtcImRyYWdvdmVyXCIsIFwiZHJhZ21vdmVcIl07XG52YXIgQWNjZXNzaWJpbGl0eSA9IGNsYXNzIGV4dGVuZHMgUGx1Z2luIHtcbiAgY29uc3RydWN0b3IobWFuYWdlciwgb3B0aW9ucykge1xuICAgIHN1cGVyKG1hbmFnZXIpO1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgaWRQcmVmaXg6IHtcbiAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uUHJlZml4ID0gZGVmYXVsdERlc2NyaXB0aW9uSWRQcmVmaXgsXG4gICAgICAgIGFubm91bmNlbWVudDogYW5ub3VuY2VtZW50UHJlZml4ID0gZGVmYXVsdEFubm91bmNlbWVudElkUHJlZml4XG4gICAgICB9ID0ge30sXG4gICAgICBhbm5vdW5jZW1lbnRzID0gZGVmYXVsdEFubm91bmNlbWVudHMsXG4gICAgICBzY3JlZW5SZWFkZXJJbnN0cnVjdGlvbnMgPSBkZWZhdWx0U2NyZWVuUmVhZGVySW5zdHJ1Y3Rpb25zLFxuICAgICAgZGVib3VuY2U6IGRlYm91bmNlTXMgPSA1MDBcbiAgICB9ID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uSWQgPSBpZCA/IGAke2Rlc2NyaXB0aW9uUHJlZml4fS0ke2lkfWAgOiBnZW5lcmF0ZVVuaXF1ZUlkKGRlc2NyaXB0aW9uUHJlZml4KTtcbiAgICBjb25zdCBhbm5vdW5jZW1lbnRJZCA9IGlkID8gYCR7YW5ub3VuY2VtZW50UHJlZml4fS0ke2lkfWAgOiBnZW5lcmF0ZVVuaXF1ZUlkKGFubm91bmNlbWVudFByZWZpeCk7XG4gICAgbGV0IGhpZGRlblRleHRFbGVtZW50O1xuICAgIGxldCBsaXZlUmVnaW9uRWxlbWVudDtcbiAgICBsZXQgbGl2ZVJlZ2lvblRleHROb2RlO1xuICAgIGxldCBsYXRlc3RBbm5vdW5jZW1lbnQ7XG4gICAgY29uc3QgdXBkYXRlQW5ub3VuY2VtZW50ID0gKHZhbHVlID0gbGF0ZXN0QW5ub3VuY2VtZW50KSA9PiB7XG4gICAgICBpZiAoIWxpdmVSZWdpb25UZXh0Tm9kZSB8fCAhdmFsdWUpIHJldHVybjtcbiAgICAgIGlmICgobGl2ZVJlZ2lvblRleHROb2RlID09IG51bGwgPyB2b2lkIDAgOiBsaXZlUmVnaW9uVGV4dE5vZGUubm9kZVZhbHVlKSAhPT0gdmFsdWUpIHtcbiAgICAgICAgbGl2ZVJlZ2lvblRleHROb2RlLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2NoZWR1bGVVcGRhdGVBbm5vdW5jZW1lbnQgPSAoKSA9PiBzY2hlZHVsZXIuc2NoZWR1bGUodXBkYXRlQW5ub3VuY2VtZW50KTtcbiAgICBjb25zdCBkZWJvdW5jZWRVcGRhdGVBbm5vdW5jZW1lbnQgPSBkZWJvdW5jZShcbiAgICAgIHNjaGVkdWxlVXBkYXRlQW5ub3VuY2VtZW50LFxuICAgICAgZGVib3VuY2VNc1xuICAgICk7XG4gICAgY29uc3QgZXZlbnRMaXN0ZW5lcnMgPSBPYmplY3QuZW50cmllcyhhbm5vdW5jZW1lbnRzKS5tYXAoXG4gICAgICAoW2V2ZW50TmFtZSwgZ2V0QW5ub3VuY2VtZW50XSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tYW5hZ2VyLm1vbml0b3IuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgKGV2ZW50LCBtYW5hZ2VyMikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGxpdmVSZWdpb25UZXh0Tm9kZTtcbiAgICAgICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgYW5ub3VuY2VtZW50ID0gZ2V0QW5ub3VuY2VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBnZXRBbm5vdW5jZW1lbnQoZXZlbnQsIG1hbmFnZXIyKTtcbiAgICAgICAgICAgIGlmIChhbm5vdW5jZW1lbnQgJiYgZWxlbWVudC5ub2RlVmFsdWUgIT09IGFubm91bmNlbWVudCkge1xuICAgICAgICAgICAgICBsYXRlc3RBbm5vdW5jZW1lbnQgPSBhbm5vdW5jZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChkZWJvdW5jZWRFdmVudHMuaW5jbHVkZXMoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZUFubm91bmNlbWVudCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlQW5ub3VuY2VtZW50KCk7XG4gICAgICAgICAgICAgICAgZGVib3VuY2VkVXBkYXRlQW5ub3VuY2VtZW50LmNhbmNlbCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgaW5pdGlhbGl6ZSA9ICgpID0+IHtcbiAgICAgIGxldCBlbGVtZW50cyA9IFtdO1xuICAgICAgaWYgKCEoaGlkZGVuVGV4dEVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGhpZGRlblRleHRFbGVtZW50LmlzQ29ubmVjdGVkKSkge1xuICAgICAgICBoaWRkZW5UZXh0RWxlbWVudCA9IGNyZWF0ZUhpZGRlblRleHQoXG4gICAgICAgICAgZGVzY3JpcHRpb25JZCxcbiAgICAgICAgICBzY3JlZW5SZWFkZXJJbnN0cnVjdGlvbnMuZHJhZ2dhYmxlXG4gICAgICAgICk7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goaGlkZGVuVGV4dEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKCEobGl2ZVJlZ2lvbkVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGxpdmVSZWdpb25FbGVtZW50LmlzQ29ubmVjdGVkKSkge1xuICAgICAgICBsaXZlUmVnaW9uRWxlbWVudCA9IGNyZWF0ZUxpdmVSZWdpb24oYW5ub3VuY2VtZW50SWQpO1xuICAgICAgICBsaXZlUmVnaW9uVGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgICAgbGl2ZVJlZ2lvbkVsZW1lbnQuYXBwZW5kQ2hpbGQobGl2ZVJlZ2lvblRleHROb2RlKTtcbiAgICAgICAgZWxlbWVudHMucHVzaChsaXZlUmVnaW9uRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCguLi5lbGVtZW50cyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtdXRhdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIGV4ZWN1dGVNdXRhdGlvbnMoKSB7XG4gICAgICBmb3IgKGNvbnN0IG9wZXJhdGlvbiBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgb3BlcmF0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVnaXN0ZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgdmFyIF9hNDtcbiAgICAgIG11dGF0aW9ucy5jbGVhcigpO1xuICAgICAgZm9yIChjb25zdCBkcmFnZ2FibGUgb2YgdGhpcy5tYW5hZ2VyLnJlZ2lzdHJ5LmRyYWdnYWJsZXMudmFsdWUpIHtcbiAgICAgICAgY29uc3QgYWN0aXZhdG9yID0gKF9hNCA9IGRyYWdnYWJsZS5oYW5kbGUpICE9IG51bGwgPyBfYTQgOiBkcmFnZ2FibGUuZWxlbWVudDtcbiAgICAgICAgaWYgKGFjdGl2YXRvcikge1xuICAgICAgICAgIGlmICghaGlkZGVuVGV4dEVsZW1lbnQgfHwgIWxpdmVSZWdpb25FbGVtZW50KSB7XG4gICAgICAgICAgICBtdXRhdGlvbnMuYWRkKGluaXRpYWxpemUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKCFpc0ZvY3VzYWJsZShhY3RpdmF0b3IpIHx8IGlzU2FmYXJpKCkpICYmICFhY3RpdmF0b3IuaGFzQXR0cmlidXRlKFwidGFiaW5kZXhcIikpIHtcbiAgICAgICAgICAgIG11dGF0aW9ucy5hZGQoKCkgPT4gYWN0aXZhdG9yLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMFwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghYWN0aXZhdG9yLmhhc0F0dHJpYnV0ZShcInJvbGVcIikgJiYgIShhY3RpdmF0b3IudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImJ1dHRvblwiKSkge1xuICAgICAgICAgICAgbXV0YXRpb25zLmFkZChcbiAgICAgICAgICAgICAgKCkgPT4gYWN0aXZhdG9yLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgZGVmYXVsdEF0dHJpYnV0ZXMucm9sZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghYWN0aXZhdG9yLmhhc0F0dHJpYnV0ZShcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICBtdXRhdGlvbnMuYWRkKFxuICAgICAgICAgICAgICAoKSA9PiBhY3RpdmF0b3Iuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICBkZWZhdWx0QXR0cmlidXRlcy5yb2xlRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFhY3RpdmF0b3IuaGFzQXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiKSkge1xuICAgICAgICAgICAgbXV0YXRpb25zLmFkZChcbiAgICAgICAgICAgICAgKCkgPT4gYWN0aXZhdG9yLnNldEF0dHJpYnV0ZShcImFyaWEtZGVzY3JpYmVkYnlcIiwgZGVzY3JpcHRpb25JZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFtcImFyaWEtcHJlc3NlZFwiLCBcImFyaWEtZ3JhYmJlZFwiXSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBTdHJpbmcoZHJhZ2dhYmxlLmlzRHJhZ2dpbmcpO1xuICAgICAgICAgICAgaWYgKGFjdGl2YXRvci5nZXRBdHRyaWJ1dGUoa2V5KSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgbXV0YXRpb25zLmFkZCgoKSA9PiBhY3RpdmF0b3Iuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZGlzYWJsZWQgPSBTdHJpbmcoZHJhZ2dhYmxlLmRpc2FibGVkKTtcbiAgICAgICAgICBpZiAoYWN0aXZhdG9yLmdldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIikgIT09IGRpc2FibGVkKSB7XG4gICAgICAgICAgICBtdXRhdGlvbnMuYWRkKFxuICAgICAgICAgICAgICAoKSA9PiBhY3RpdmF0b3Iuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCBkaXNhYmxlZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobXV0YXRpb25zLnNpemUgPiAwKSB7XG4gICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZShleGVjdXRlTXV0YXRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICBoaWRkZW5UZXh0RWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogaGlkZGVuVGV4dEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICBsaXZlUmVnaW9uRWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogbGl2ZVJlZ2lvbkVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICBldmVudExpc3RlbmVycy5mb3JFYWNoKCh1bnN1YnNjcmliZSkgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgfTtcbiAgfVxufTtcbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB3YWl0KSB7XG4gIGxldCB0aW1lb3V0O1xuICBjb25zdCBkZWJvdW5jZWQgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZuLCB3YWl0KTtcbiAgfTtcbiAgZGVib3VuY2VkLmNhbmNlbCA9ICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cbnZhciBDdXJzb3IgPSBjbGFzcyBleHRlbmRzIFBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihtYW5hZ2VyLCBvcHRpb25zKTtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIGNvbnN0IGRvYyA9IGNvbXB1dGVkKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB2YXIgX2E0O1xuICAgICAgICByZXR1cm4gZ2V0RG9jdW1lbnQoKF9hNCA9IHRoaXMubWFuYWdlci5kcmFnT3BlcmF0aW9uLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hNC5lbGVtZW50KTtcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuZGVzdHJveSA9IGVmZmVjdCgoKSA9PiB7XG4gICAgICB2YXIgX2E0O1xuICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSB0aGlzLm1hbmFnZXI7XG4gICAgICBjb25zdCB7IGN1cnNvciA9IFwiZ3JhYmJpbmdcIiwgbm9uY2UgfSA9IChfYTQgPSB0aGlzLm9wdGlvbnMpICE9IG51bGwgPyBfYTQgOiB7fTtcbiAgICAgIGlmIChkcmFnT3BlcmF0aW9uLnN0YXR1cy5pbml0aWFsaXplZCkge1xuICAgICAgICBjb25zdCBkb2N1bWVudDIgPSBkb2MudmFsdWU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQyLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgaWYgKG5vbmNlKSB7XG4gICAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gYCogeyBjdXJzb3I6ICR7Y3Vyc29yfSAhaW1wb3J0YW50OyB9YDtcbiAgICAgICAgZG9jdW1lbnQyLmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4gc3R5bGUucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb3JlL3BsdWdpbnMvZmVlZGJhY2svY29uc3RhbnRzLnRzXG52YXIgQVRUUl9QUkVGSVggPSBcImRhdGEtZG5kLVwiO1xudmFyIERST1BQSU5HX0FUVFJJQlVURSA9IGAke0FUVFJfUFJFRklYfWRyb3BwaW5nYDtcbnZhciBDU1NfUFJFRklYID0gXCItLWRuZC1cIjtcbnZhciBBVFRSSUJVVEUgPSBgJHtBVFRSX1BSRUZJWH1kcmFnZ2luZ2A7XG52YXIgUExBQ0VIT0xERVJfQVRUUklCVVRFID0gYCR7QVRUUl9QUkVGSVh9cGxhY2Vob2xkZXJgO1xudmFyIElHTk9SRURfQVRUUklCVVRFUyA9IFtcbiAgQVRUUklCVVRFLFxuICBQTEFDRUhPTERFUl9BVFRSSUJVVEUsXG4gIFwicG9wb3ZlclwiLFxuICBcImFyaWEtcHJlc3NlZFwiLFxuICBcImFyaWEtZ3JhYmJpbmdcIlxuXTtcbnZhciBJR05PUkVEX1NUWUxFUyA9IFtcInZpZXctdHJhbnNpdGlvbi1uYW1lXCJdO1xudmFyIENTU19SVUxFUyA9IGBcbiAgOnJvb3QgWyR7QVRUUklCVVRFfV0ge1xuICAgIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lICFpbXBvcnRhbnQ7XG4gICAgdG91Y2gtYWN0aW9uOiBub25lO1xuICAgIHotaW5kZXg6IGNhbGMoaW5maW5pdHkpO1xuICAgIHdpbGwtY2hhbmdlOiB0cmFuc2xhdGU7XG4gICAgdG9wOiB2YXIoJHtDU1NfUFJFRklYfXRvcCwgMHB4KSAhaW1wb3J0YW50O1xuICAgIGxlZnQ6IHZhcigke0NTU19QUkVGSVh9bGVmdCwgMHB4KSAhaW1wb3J0YW50O1xuICAgIHJpZ2h0OiB1bnNldCAhaW1wb3J0YW50O1xuICAgIGJvdHRvbTogdW5zZXQgIWltcG9ydGFudDtcbiAgICB3aWR0aDogdmFyKCR7Q1NTX1BSRUZJWH13aWR0aCwgYXV0byk7XG4gICAgbWF4LXdpZHRoOiB2YXIoJHtDU1NfUFJFRklYfXdpZHRoLCBhdXRvKTtcbiAgICBoZWlnaHQ6IHZhcigke0NTU19QUkVGSVh9aGVpZ2h0LCBhdXRvKTtcbiAgICBtYXgtaGVpZ2h0OiB2YXIoJHtDU1NfUFJFRklYfWhlaWdodCwgYXV0byk7XG4gICAgdHJhbnNpdGlvbjogdmFyKCR7Q1NTX1BSRUZJWH10cmFuc2l0aW9uKSAhaW1wb3J0YW50O1xuICB9XG5cbiAgOnJvb3QgWyR7UExBQ0VIT0xERVJfQVRUUklCVVRFfV0ge1xuICAgIHRyYW5zaXRpb246IG5vbmU7XG4gIH1cblxuICA6cm9vdCBbJHtQTEFDRUhPTERFUl9BVFRSSUJVVEV9PSdoaWRkZW4nXSB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICB9XG5cbiAgWyR7QVRUUklCVVRFfV0gKiB7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmUgIWltcG9ydGFudDtcbiAgfVxuXG4gIFske0FUVFJJQlVURX1dOm5vdChbJHtEUk9QUElOR19BVFRSSUJVVEV9XSkge1xuICAgIHRyYW5zbGF0ZTogdmFyKCR7Q1NTX1BSRUZJWH10cmFuc2xhdGUpICFpbXBvcnRhbnQ7XG4gIH1cblxuICBbJHtBVFRSSUJVVEV9XVtzdHlsZSo9JyR7Q1NTX1BSRUZJWH1zY2FsZSddIHtcbiAgICBzY2FsZTogdmFyKCR7Q1NTX1BSRUZJWH1zY2FsZSkgIWltcG9ydGFudDtcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiB2YXIoJHtDU1NfUFJFRklYfXRyYW5zZm9ybS1vcmlnaW4pICFpbXBvcnRhbnQ7XG4gIH1cblxuICBAbGF5ZXIge1xuICAgIDp3aGVyZShbJHtBVFRSSUJVVEV9XVtwb3BvdmVyXSkge1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICBiYWNrZ3JvdW5kOiB1bnNldDtcbiAgICAgIGJvcmRlcjogdW5zZXQ7XG4gICAgICBtYXJnaW46IHVuc2V0O1xuICAgICAgcGFkZGluZzogdW5zZXQ7XG4gICAgICBjb2xvcjogaW5oZXJpdDtcblxuICAgICAgJjppcyhpbnB1dCwgYnV0dG9uKSB7XG4gICAgICAgIGJvcmRlcjogcmV2ZXJ0O1xuICAgICAgICBiYWNrZ3JvdW5kOiByZXZlcnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFske0FUVFJJQlVURX1dOjpiYWNrZHJvcCwgWyR7QVRUUl9QUkVGSVh9b3ZlcmxheV06bm90KFske0FUVFJJQlVURX1dKSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gIH1cbmAucmVwbGFjZSgvXFxuKy9nLCBcIiBcIikucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikudHJpbSgpO1xuZnVuY3Rpb24gY3JlYXRlUGxhY2Vob2xkZXIoc291cmNlLCB0eXBlID0gXCJoaWRkZW5cIikge1xuICByZXR1cm4gdW50cmFja2VkKCgpID0+IHtcbiAgICBjb25zdCB7IGVsZW1lbnQsIG1hbmFnZXIgfSA9IHNvdXJjZTtcbiAgICBpZiAoIWVsZW1lbnQgfHwgIW1hbmFnZXIpIHJldHVybjtcbiAgICBjb25zdCBjb250YWluZWREcm9wcGFibGVzID0gZmluZENvbnRhaW5lZERyb3BwYWJsZXMoXG4gICAgICBlbGVtZW50LFxuICAgICAgbWFuYWdlci5yZWdpc3RyeS5kcm9wcGFibGVzXG4gICAgKTtcbiAgICBjb25zdCBjbGVhbnVwID0gW107XG4gICAgY29uc3QgcGxhY2Vob2xkZXIgPSBjbG9uZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgY29uc3QgeyByZW1vdmUgfSA9IHBsYWNlaG9sZGVyO1xuICAgIHByb3h5RHJvcHBhYmxlRWxlbWVudHMoY29udGFpbmVkRHJvcHBhYmxlcywgcGxhY2Vob2xkZXIsIGNsZWFudXApO1xuICAgIGNvbmZpZ3VyZVBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyLCB0eXBlKTtcbiAgICBwbGFjZWhvbGRlci5yZW1vdmUgPSAoKSA9PiB7XG4gICAgICBjbGVhbnVwLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICAgIHJlbW92ZS5jYWxsKHBsYWNlaG9sZGVyKTtcbiAgICB9O1xuICAgIHJldHVybiBwbGFjZWhvbGRlcjtcbiAgfSk7XG59XG5mdW5jdGlvbiBmaW5kQ29udGFpbmVkRHJvcHBhYmxlcyhlbGVtZW50LCBkcm9wcGFibGVzKSB7XG4gIGNvbnN0IGNvbnRhaW5lZERyb3BwYWJsZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IGRyb3BwYWJsZSBvZiBkcm9wcGFibGVzKSB7XG4gICAgaWYgKCFkcm9wcGFibGUuZWxlbWVudCkgY29udGludWU7XG4gICAgaWYgKGVsZW1lbnQgPT09IGRyb3BwYWJsZS5lbGVtZW50IHx8IGVsZW1lbnQuY29udGFpbnMoZHJvcHBhYmxlLmVsZW1lbnQpKSB7XG4gICAgICBjb25zdCBpZGVudGlmaWVyQXR0cmlidXRlID0gYCR7QVRUUl9QUkVGSVh9JHtnZW5lcmF0ZVVuaXF1ZUlkKFwiZG9tLWlkXCIpfWA7XG4gICAgICBkcm9wcGFibGUuZWxlbWVudC5zZXRBdHRyaWJ1dGUoaWRlbnRpZmllckF0dHJpYnV0ZSwgXCJcIik7XG4gICAgICBjb250YWluZWREcm9wcGFibGVzLnNldChkcm9wcGFibGUsIGlkZW50aWZpZXJBdHRyaWJ1dGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29udGFpbmVkRHJvcHBhYmxlcztcbn1cbmZ1bmN0aW9uIHByb3h5RHJvcHBhYmxlRWxlbWVudHMoY29udGFpbmVkRHJvcHBhYmxlcywgcGxhY2Vob2xkZXIsIGNsZWFudXApIHtcbiAgZm9yIChjb25zdCBbZHJvcHBhYmxlLCBpZGVudGlmaWVyQXR0cmlidXRlXSBvZiBjb250YWluZWREcm9wcGFibGVzKSB7XG4gICAgaWYgKCFkcm9wcGFibGUuZWxlbWVudCkgY29udGludWU7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSBgWyR7aWRlbnRpZmllckF0dHJpYnV0ZX1dYDtcbiAgICBjb25zdCBjbG9uZWRFbGVtZW50ID0gcGxhY2Vob2xkZXIubWF0Y2hlcyhzZWxlY3RvcikgPyBwbGFjZWhvbGRlciA6IHBsYWNlaG9sZGVyLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIGRyb3BwYWJsZS5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShpZGVudGlmaWVyQXR0cmlidXRlKTtcbiAgICBpZiAoIWNsb25lZEVsZW1lbnQpIGNvbnRpbnVlO1xuICAgIGNvbnN0IG9yaWdpbmFsRWxlbWVudCA9IGRyb3BwYWJsZS5lbGVtZW50O1xuICAgIGRyb3BwYWJsZS5wcm94eSA9IGNsb25lZEVsZW1lbnQ7XG4gICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoaWRlbnRpZmllckF0dHJpYnV0ZSk7XG4gICAgUHJveGllZEVsZW1lbnRzLnNldChvcmlnaW5hbEVsZW1lbnQsIGNsb25lZEVsZW1lbnQpO1xuICAgIGNsZWFudXAucHVzaCgoKSA9PiB7XG4gICAgICBQcm94aWVkRWxlbWVudHMuZGVsZXRlKG9yaWdpbmFsRWxlbWVudCk7XG4gICAgICBkcm9wcGFibGUucHJveHkgPSB2b2lkIDA7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbmZpZ3VyZVBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyLCB0eXBlID0gXCJoaWRkZW5cIikge1xuICBwbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoXCJpbmVydFwiLCBcInRydWVcIik7XG4gIHBsYWNlaG9sZGVyLnNldEF0dHJpYnV0ZShcInRhYi1pbmRleFwiLCBcIi0xXCIpO1xuICBwbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gIHBsYWNlaG9sZGVyLnNldEF0dHJpYnV0ZShQTEFDRUhPTERFUl9BVFRSSUJVVEUsIHR5cGUpO1xufVxuZnVuY3Rpb24gaXNTYW1lRnJhbWUoZWxlbWVudCwgdGFyZ2V0KSB7XG4gIGlmIChlbGVtZW50ID09PSB0YXJnZXQpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZ2V0RnJhbWVFbGVtZW50KGVsZW1lbnQpID09PSBnZXRGcmFtZUVsZW1lbnQodGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRQb3BvdmVyQ2xvc2UoZXZlbnQpIHtcbiAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50O1xuICBpZiAoXCJuZXdTdGF0ZVwiIGluIGV2ZW50ICYmIGV2ZW50Lm5ld1N0YXRlID09PSBcImNsb3NlZFwiICYmIGlzRWxlbWVudCh0YXJnZXQpICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoXCJwb3BvdmVyXCIpKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNob3dQb3BvdmVyKHRhcmdldCkpO1xuICB9XG59XG5mdW5jdGlvbiBpc1RhYmxlUm93KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PT0gXCJUUlwiO1xufVxuXG4vLyBzcmMvY29yZS9wbHVnaW5zL2ZlZWRiYWNrL0ZlZWRiYWNrLnRzXG52YXIgc3R5bGVTaGVldFJlZ2lzdHJ5ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBfb3ZlcmxheV9kZWMsIF9hLCBfaW5pdCwgX292ZXJsYXksIF9GZWVkYmFja19pbnN0YW5jZXMsIHJlbmRlcl9mbiwgaW5qZWN0U3R5bGVzX2ZuO1xudmFyIF9GZWVkYmFjayA9IGNsYXNzIF9GZWVkYmFjayBleHRlbmRzIChfYSA9IFBsdWdpbiwgX292ZXJsYXlfZGVjID0gW3JlYWN0aXZlXSwgX2EpIHtcbiAgY29uc3RydWN0b3IobWFuYWdlciwgb3B0aW9ucykge1xuICAgIHN1cGVyKG1hbmFnZXIsIG9wdGlvbnMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfRmVlZGJhY2tfaW5zdGFuY2VzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX292ZXJsYXksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCA4LCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCAxMSwgdGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGluaXRpYWw6IHt9LFxuICAgICAgY3VycmVudDoge31cbiAgICB9O1xuICAgIHRoaXMucmVnaXN0ZXJFZmZlY3QoX19wcml2YXRlTWV0aG9kKHRoaXMsIF9GZWVkYmFja19pbnN0YW5jZXMsIGluamVjdFN0eWxlc19mbikpO1xuICAgIHRoaXMucmVnaXN0ZXJFZmZlY3QoX19wcml2YXRlTWV0aG9kKHRoaXMsIF9GZWVkYmFja19pbnN0YW5jZXMsIHJlbmRlcl9mbikpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIGZvciAoY29uc3QgW2RvYywgcmVnaXN0cmF0aW9uXSBvZiBzdHlsZVNoZWV0UmVnaXN0cnkuZW50cmllcygpKSB7XG4gICAgICBpZiAocmVnaXN0cmF0aW9uLmluc3RhbmNlcy5oYXModGhpcykpIHtcbiAgICAgICAgcmVnaXN0cmF0aW9uLmluc3RhbmNlcy5kZWxldGUodGhpcyk7XG4gICAgICAgIGlmIChyZWdpc3RyYXRpb24uaW5zdGFuY2VzLnNpemUgPT09IDApIHtcbiAgICAgICAgICByZWdpc3RyYXRpb24uY2xlYW51cCgpO1xuICAgICAgICAgIHN0eWxlU2hlZXRSZWdpc3RyeS5kZWxldGUoZG9jKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbl9pbml0ID0gX19kZWNvcmF0b3JTdGFydChfYSk7XG5fb3ZlcmxheSA9IG5ldyBXZWFrTWFwKCk7XG5fRmVlZGJhY2tfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKTtcbnJlbmRlcl9mbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX2E0LCBfYjIsIF9jMztcbiAgY29uc3QgeyBzdGF0ZSwgbWFuYWdlciwgb3B0aW9ucyB9ID0gdGhpcztcbiAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSBtYW5hZ2VyO1xuICBjb25zdCB7IHBvc2l0aW9uLCBzb3VyY2UsIHN0YXR1cyB9ID0gZHJhZ09wZXJhdGlvbjtcbiAgaWYgKHN0YXR1cy5pZGxlKSB7XG4gICAgc3RhdGUuY3VycmVudCA9IHt9O1xuICAgIHN0YXRlLmluaXRpYWwgPSB7fTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFzb3VyY2UpIHJldHVybjtcbiAgY29uc3QgeyBlbGVtZW50LCBmZWVkYmFjayB9ID0gc291cmNlO1xuICBpZiAoIWVsZW1lbnQgfHwgZmVlZGJhY2sgPT09IFwibm9uZVwiIHx8ICFzdGF0dXMuaW5pdGlhbGl6ZWQgfHwgc3RhdHVzLmluaXRpYWxpemluZykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB7IGluaXRpYWwgfSA9IHN0YXRlO1xuICBjb25zdCBmZWVkYmFja0VsZW1lbnQgPSAoX2E0ID0gdGhpcy5vdmVybGF5KSAhPSBudWxsID8gX2E0IDogZWxlbWVudDtcbiAgY29uc3QgZnJhbWVUcmFuc2Zvcm0gPSBnZXRGcmFtZVRyYW5zZm9ybShmZWVkYmFja0VsZW1lbnQpO1xuICBjb25zdCBlbGVtZW50RnJhbWVUcmFuc2Zvcm0gPSBnZXRGcmFtZVRyYW5zZm9ybShlbGVtZW50KTtcbiAgY29uc3QgY3Jvc3NGcmFtZSA9ICFpc1NhbWVGcmFtZShlbGVtZW50LCBmZWVkYmFja0VsZW1lbnQpO1xuICBjb25zdCBzaGFwZSA9IG5ldyBET01SZWN0YW5nbGUoZWxlbWVudCwge1xuICAgIGZyYW1lVHJhbnNmb3JtOiBjcm9zc0ZyYW1lID8gZWxlbWVudEZyYW1lVHJhbnNmb3JtIDogbnVsbCxcbiAgICBpZ25vcmVUcmFuc2Zvcm1zOiAhY3Jvc3NGcmFtZVxuICB9KTtcbiAgY29uc3Qgc2NhbGVEZWx0YSA9IHtcbiAgICB4OiBlbGVtZW50RnJhbWVUcmFuc2Zvcm0uc2NhbGVYIC8gZnJhbWVUcmFuc2Zvcm0uc2NhbGVYLFxuICAgIHk6IGVsZW1lbnRGcmFtZVRyYW5zZm9ybS5zY2FsZVkgLyBmcmFtZVRyYW5zZm9ybS5zY2FsZVlcbiAgfTtcbiAgbGV0IHsgd2lkdGgsIGhlaWdodCwgdG9wLCBsZWZ0IH0gPSBzaGFwZTtcbiAgaWYgKGNyb3NzRnJhbWUpIHtcbiAgICB3aWR0aCA9IHdpZHRoIC8gc2NhbGVEZWx0YS54O1xuICAgIGhlaWdodCA9IGhlaWdodCAvIHNjYWxlRGVsdGEueTtcbiAgfVxuICBsZXQgZWxlbWVudE11dGF0aW9uT2JzZXJ2ZXI7XG4gIGxldCBkb2N1bWVudE11dGF0aW9uT2JzZXJ2ZXI7XG4gIGNvbnN0IHN0eWxlcyA9IG5ldyBTdHlsZXMoZmVlZGJhY2tFbGVtZW50KTtcbiAgY29uc3Qge1xuICAgIHRyYW5zaXRpb24sXG4gICAgdHJhbnNsYXRlLFxuICAgIGJveFNpemluZyxcbiAgICBwYWRkaW5nQmxvY2tTdGFydCxcbiAgICBwYWRkaW5nQmxvY2tFbmQsXG4gICAgcGFkZGluZ0lubGluZVN0YXJ0LFxuICAgIHBhZGRpbmdJbmxpbmVFbmQsXG4gICAgYm9yZGVySW5saW5lU3RhcnRXaWR0aCxcbiAgICBib3JkZXJJbmxpbmVFbmRXaWR0aCxcbiAgICBib3JkZXJCbG9ja1N0YXJ0V2lkdGgsXG4gICAgYm9yZGVyQmxvY2tFbmRXaWR0aFxuICB9ID0gZ2V0Q29tcHV0ZWRTdHlsZXMoZWxlbWVudCk7XG4gIGNvbnN0IGNsb25lID0gZmVlZGJhY2sgPT09IFwiY2xvbmVcIjtcbiAgY29uc3QgY29udGVudEJveCA9IGJveFNpemluZyA9PT0gXCJjb250ZW50LWJveFwiO1xuICBjb25zdCB3aWR0aE9mZnNldCA9IGNvbnRlbnRCb3ggPyBwYXJzZUludChwYWRkaW5nSW5saW5lU3RhcnQpICsgcGFyc2VJbnQocGFkZGluZ0lubGluZUVuZCkgKyBwYXJzZUludChib3JkZXJJbmxpbmVTdGFydFdpZHRoKSArIHBhcnNlSW50KGJvcmRlcklubGluZUVuZFdpZHRoKSA6IDA7XG4gIGNvbnN0IGhlaWdodE9mZnNldCA9IGNvbnRlbnRCb3ggPyBwYXJzZUludChwYWRkaW5nQmxvY2tTdGFydCkgKyBwYXJzZUludChwYWRkaW5nQmxvY2tFbmQpICsgcGFyc2VJbnQoYm9yZGVyQmxvY2tTdGFydFdpZHRoKSArIHBhcnNlSW50KGJvcmRlckJsb2NrRW5kV2lkdGgpIDogMDtcbiAgY29uc3QgcGxhY2Vob2xkZXIgPSBmZWVkYmFjayAhPT0gXCJtb3ZlXCIgJiYgIXRoaXMub3ZlcmxheSA/IGNyZWF0ZVBsYWNlaG9sZGVyKHNvdXJjZSwgY2xvbmUgPyBcImNsb25lXCIgOiBcImhpZGRlblwiKSA6IG51bGw7XG4gIGNvbnN0IGlzS2V5Ym9hcmRPcGVyYXRpb24gPSB1bnRyYWNrZWQoXG4gICAgKCkgPT4gaXNLZXlib2FyZEV2ZW50KG1hbmFnZXIuZHJhZ09wZXJhdGlvbi5hY3RpdmF0b3JFdmVudClcbiAgKTtcbiAgaWYgKHRyYW5zbGF0ZSAhPT0gXCJub25lXCIpIHtcbiAgICBjb25zdCBwYXJzZWRUcmFuc2xhdGUgPSBwYXJzZVRyYW5zbGF0ZSh0cmFuc2xhdGUpO1xuICAgIGlmIChwYXJzZWRUcmFuc2xhdGUgJiYgIWluaXRpYWwudHJhbnNsYXRlKSB7XG4gICAgICBpbml0aWFsLnRyYW5zbGF0ZSA9IHBhcnNlZFRyYW5zbGF0ZTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpbml0aWFsLnRyYW5zZm9ybU9yaWdpbikge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB1bnRyYWNrZWQoKCkgPT4gcG9zaXRpb24uY3VycmVudCk7XG4gICAgaW5pdGlhbC50cmFuc2Zvcm1PcmlnaW4gPSB7XG4gICAgICB4OiAoY3VycmVudC54IC0gbGVmdCAqIGZyYW1lVHJhbnNmb3JtLnNjYWxlWCAtIGZyYW1lVHJhbnNmb3JtLngpIC8gKHdpZHRoICogZnJhbWVUcmFuc2Zvcm0uc2NhbGVYKSxcbiAgICAgIHk6IChjdXJyZW50LnkgLSB0b3AgKiBmcmFtZVRyYW5zZm9ybS5zY2FsZVkgLSBmcmFtZVRyYW5zZm9ybS55KSAvIChoZWlnaHQgKiBmcmFtZVRyYW5zZm9ybS5zY2FsZVkpXG4gICAgfTtcbiAgfVxuICBjb25zdCB7IHRyYW5zZm9ybU9yaWdpbiB9ID0gaW5pdGlhbDtcbiAgY29uc3QgcmVsYXRpdmVUb3AgPSB0b3AgKiBmcmFtZVRyYW5zZm9ybS5zY2FsZVkgKyBmcmFtZVRyYW5zZm9ybS55O1xuICBjb25zdCByZWxhdGl2ZUxlZnQgPSBsZWZ0ICogZnJhbWVUcmFuc2Zvcm0uc2NhbGVYICsgZnJhbWVUcmFuc2Zvcm0ueDtcbiAgaWYgKCFpbml0aWFsLmNvb3JkaW5hdGVzKSB7XG4gICAgaW5pdGlhbC5jb29yZGluYXRlcyA9IHtcbiAgICAgIHg6IHJlbGF0aXZlTGVmdCxcbiAgICAgIHk6IHJlbGF0aXZlVG9wXG4gICAgfTtcbiAgICBpZiAoc2NhbGVEZWx0YS54ICE9PSAxIHx8IHNjYWxlRGVsdGEueSAhPT0gMSkge1xuICAgICAgY29uc3QgeyBzY2FsZVgsIHNjYWxlWSB9ID0gZWxlbWVudEZyYW1lVHJhbnNmb3JtO1xuICAgICAgY29uc3QgeyB4OiB0WDIsIHk6IHRZMiB9ID0gdHJhbnNmb3JtT3JpZ2luO1xuICAgICAgaW5pdGlhbC5jb29yZGluYXRlcy54ICs9ICh3aWR0aCAqIHNjYWxlWCAtIHdpZHRoKSAqIHRYMjtcbiAgICAgIGluaXRpYWwuY29vcmRpbmF0ZXMueSArPSAoaGVpZ2h0ICogc2NhbGVZIC0gaGVpZ2h0KSAqIHRZMjtcbiAgICB9XG4gIH1cbiAgaWYgKCFpbml0aWFsLmRpbWVuc2lvbnMpIHtcbiAgICBpbml0aWFsLmRpbWVuc2lvbnMgPSB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuICBpZiAoIWluaXRpYWwuZnJhbWVUcmFuc2Zvcm0pIHtcbiAgICBpbml0aWFsLmZyYW1lVHJhbnNmb3JtID0gZnJhbWVUcmFuc2Zvcm07XG4gIH1cbiAgY29uc3QgY29vcmRpbmF0ZXNEZWx0YSA9IHtcbiAgICB4OiBpbml0aWFsLmNvb3JkaW5hdGVzLnggLSByZWxhdGl2ZUxlZnQsXG4gICAgeTogaW5pdGlhbC5jb29yZGluYXRlcy55IC0gcmVsYXRpdmVUb3BcbiAgfTtcbiAgY29uc3Qgc2l6ZURlbHRhID0ge1xuICAgIHdpZHRoOiAoaW5pdGlhbC5kaW1lbnNpb25zLndpZHRoICogaW5pdGlhbC5mcmFtZVRyYW5zZm9ybS5zY2FsZVggLSB3aWR0aCAqIGZyYW1lVHJhbnNmb3JtLnNjYWxlWCkgKiB0cmFuc2Zvcm1PcmlnaW4ueCxcbiAgICBoZWlnaHQ6IChpbml0aWFsLmRpbWVuc2lvbnMuaGVpZ2h0ICogaW5pdGlhbC5mcmFtZVRyYW5zZm9ybS5zY2FsZVkgLSBoZWlnaHQgKiBmcmFtZVRyYW5zZm9ybS5zY2FsZVkpICogdHJhbnNmb3JtT3JpZ2luLnlcbiAgfTtcbiAgY29uc3QgZGVsdGEgPSB7XG4gICAgeDogY29vcmRpbmF0ZXNEZWx0YS54IC8gZnJhbWVUcmFuc2Zvcm0uc2NhbGVYICsgc2l6ZURlbHRhLndpZHRoLFxuICAgIHk6IGNvb3JkaW5hdGVzRGVsdGEueSAvIGZyYW1lVHJhbnNmb3JtLnNjYWxlWSArIHNpemVEZWx0YS5oZWlnaHRcbiAgfTtcbiAgY29uc3QgcHJvamVjdGVkID0ge1xuICAgIGxlZnQ6IGxlZnQgKyBkZWx0YS54LFxuICAgIHRvcDogdG9wICsgZGVsdGEueVxuICB9O1xuICBmZWVkYmFja0VsZW1lbnQuc2V0QXR0cmlidXRlKEFUVFJJQlVURSwgXCJ0cnVlXCIpO1xuICBjb25zdCB0cmFuc2Zvcm0gPSB1bnRyYWNrZWQoKCkgPT4gZHJhZ09wZXJhdGlvbi50cmFuc2Zvcm0pO1xuICBjb25zdCBpbml0aWFsVHJhbnNsYXRlID0gKF9iMiA9IGluaXRpYWwudHJhbnNsYXRlKSAhPSBudWxsID8gX2IyIDogeyB4OiAwLCB5OiAwIH07XG4gIGNvbnN0IHRYID0gdHJhbnNmb3JtLnggKiBmcmFtZVRyYW5zZm9ybS5zY2FsZVggKyBpbml0aWFsVHJhbnNsYXRlLng7XG4gIGNvbnN0IHRZID0gdHJhbnNmb3JtLnkgKiBmcmFtZVRyYW5zZm9ybS5zY2FsZVkgKyBpbml0aWFsVHJhbnNsYXRlLnk7XG4gIGNvbnN0IHRyYW5zbGF0ZVN0cmluZyA9IGAke3RYfXB4ICR7dFl9cHggMGA7XG4gIGNvbnN0IHRyYW5zaXRpb25TdHJpbmcgPSB0cmFuc2l0aW9uID8gYCR7dHJhbnNpdGlvbn0sIHRyYW5zbGF0ZSAwbXMgbGluZWFyYCA6IFwiXCI7XG4gIHN0eWxlcy5zZXQoXG4gICAge1xuICAgICAgd2lkdGg6IHdpZHRoIC0gd2lkdGhPZmZzZXQsXG4gICAgICBoZWlnaHQ6IGhlaWdodCAtIGhlaWdodE9mZnNldCxcbiAgICAgIHRvcDogcHJvamVjdGVkLnRvcCxcbiAgICAgIGxlZnQ6IHByb2plY3RlZC5sZWZ0LFxuICAgICAgdHJhbnNsYXRlOiB0cmFuc2xhdGVTdHJpbmcsXG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uU3RyaW5nLFxuICAgICAgc2NhbGU6IGNyb3NzRnJhbWUgPyBgJHtzY2FsZURlbHRhLnh9ICR7c2NhbGVEZWx0YS55fWAgOiBcIlwiLFxuICAgICAgXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IGAke3RyYW5zZm9ybU9yaWdpbi54ICogMTAwfSUgJHt0cmFuc2Zvcm1PcmlnaW4ueSAqIDEwMH0lYFxuICAgIH0sXG4gICAgQ1NTX1BSRUZJWFxuICApO1xuICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICBlbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHBsYWNlaG9sZGVyKTtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5yb290RWxlbWVudCkge1xuICAgICAgY29uc3Qgcm9vdCA9IHR5cGVvZiBvcHRpb25zLnJvb3RFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnJvb3RFbGVtZW50KHNvdXJjZSkgOiBvcHRpb25zLnJvb3RFbGVtZW50O1xuICAgICAgcm9vdC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgaWYgKHN1cHBvcnRzUG9wb3ZlcihmZWVkYmFja0VsZW1lbnQpKSB7XG4gICAgaWYgKCFmZWVkYmFja0VsZW1lbnQuaGFzQXR0cmlidXRlKFwicG9wb3ZlclwiKSkge1xuICAgICAgZmVlZGJhY2tFbGVtZW50LnNldEF0dHJpYnV0ZShcInBvcG92ZXJcIiwgXCJtYW51YWxcIik7XG4gICAgfVxuICAgIHNob3dQb3BvdmVyKGZlZWRiYWNrRWxlbWVudCk7XG4gICAgZmVlZGJhY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV0b2dnbGVcIiwgcHJldmVudFBvcG92ZXJDbG9zZSk7XG4gIH1cbiAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgIGlmICghcGxhY2Vob2xkZXIpIHJldHVybjtcbiAgICBjb25zdCBwbGFjZWhvbGRlclNoYXBlID0gbmV3IERPTVJlY3RhbmdsZShwbGFjZWhvbGRlciwge1xuICAgICAgZnJhbWVUcmFuc2Zvcm0sXG4gICAgICBpZ25vcmVUcmFuc2Zvcm1zOiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3Qgb3JpZ2luID0gdHJhbnNmb3JtT3JpZ2luICE9IG51bGwgPyB0cmFuc2Zvcm1PcmlnaW4gOiB7IHg6IDEsIHk6IDEgfTtcbiAgICBjb25zdCBkWCA9ICh3aWR0aCAtIHBsYWNlaG9sZGVyU2hhcGUud2lkdGgpICogb3JpZ2luLnggKyBkZWx0YS54O1xuICAgIGNvbnN0IGRZID0gKGhlaWdodCAtIHBsYWNlaG9sZGVyU2hhcGUuaGVpZ2h0KSAqIG9yaWdpbi55ICsgZGVsdGEueTtcbiAgICBzdHlsZXMuc2V0KFxuICAgICAge1xuICAgICAgICB3aWR0aDogcGxhY2Vob2xkZXJTaGFwZS53aWR0aCAtIHdpZHRoT2Zmc2V0LFxuICAgICAgICBoZWlnaHQ6IHBsYWNlaG9sZGVyU2hhcGUuaGVpZ2h0IC0gaGVpZ2h0T2Zmc2V0LFxuICAgICAgICB0b3A6IHRvcCArIGRZLFxuICAgICAgICBsZWZ0OiBsZWZ0ICsgZFhcbiAgICAgIH0sXG4gICAgICBDU1NfUFJFRklYXG4gICAgKTtcbiAgICBlbGVtZW50TXV0YXRpb25PYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogZWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtcbiAgICBpZiAoaXNUYWJsZVJvdyhlbGVtZW50KSAmJiBpc1RhYmxlUm93KHBsYWNlaG9sZGVyKSkge1xuICAgICAgY29uc3QgY2VsbHMgPSBBcnJheS5mcm9tKGVsZW1lbnQuY2VsbHMpO1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXJDZWxscyA9IEFycmF5LmZyb20ocGxhY2Vob2xkZXIuY2VsbHMpO1xuICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNlbGxdIG9mIGNlbGxzLmVudHJpZXMoKSkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlckNlbGwgPSBwbGFjZWhvbGRlckNlbGxzW2luZGV4XTtcbiAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9IGAke3BsYWNlaG9sZGVyQ2VsbC5vZmZzZXRXaWR0aH1weGA7XG4gICAgICB9XG4gICAgfVxuICAgIGRyYWdPcGVyYXRpb24uc2hhcGUgPSBuZXcgRE9NUmVjdGFuZ2xlKGZlZWRiYWNrRWxlbWVudCk7XG4gIH0pO1xuICBjb25zdCBpbml0aWFsU2hhcGUgPSBuZXcgRE9NUmVjdGFuZ2xlKGZlZWRiYWNrRWxlbWVudCk7XG4gIHVudHJhY2tlZCgoKSA9PiBkcmFnT3BlcmF0aW9uLnNoYXBlID0gaW5pdGlhbFNoYXBlKTtcbiAgY29uc3QgZmVlZGJhY2tXaW5kb3cgPSBnZXRXaW5kb3coZmVlZGJhY2tFbGVtZW50KTtcbiAgY29uc3QgaGFuZGxlV2luZG93UmVzaXplID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5tYW5hZ2VyLmFjdGlvbnMuc3RvcCh7IGV2ZW50IH0pO1xuICB9O1xuICBpZiAoaXNLZXlib2FyZE9wZXJhdGlvbikge1xuICAgIGZlZWRiYWNrV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlV2luZG93UmVzaXplKTtcbiAgfVxuICBpZiAodW50cmFja2VkKCgpID0+IHNvdXJjZS5zdGF0dXMpID09PSBcImlkbGVcIikge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBzb3VyY2Uuc3RhdHVzID0gXCJkcmFnZ2luZ1wiKTtcbiAgfVxuICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHBsYWNlaG9sZGVyKTtcbiAgICBlbGVtZW50TXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIGxldCBoYXNDaGlsZHJlbk11dGF0aW9ucyA9IGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnRhcmdldCAhPT0gZWxlbWVudCkge1xuICAgICAgICAgIGhhc0NoaWxkcmVuTXV0YXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobXV0YXRpb24udHlwZSAhPT0gXCJhdHRyaWJ1dGVzXCIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gbXV0YXRpb24uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUuc3RhcnRzV2l0aChcImFyaWEtXCIpIHx8IElHTk9SRURfQVRUUklCVVRFUy5pbmNsdWRlcyhhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICBpZiAoc3VwcG9ydHNTdHlsZShlbGVtZW50KSAmJiBzdXBwb3J0c1N0eWxlKHBsYWNlaG9sZGVyKSkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzMiA9IGVsZW1lbnQuc3R5bGU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBBcnJheS5mcm9tKHBsYWNlaG9sZGVyLnN0eWxlKSkge1xuICAgICAgICAgICAgICBpZiAoc3R5bGVzMi5nZXRQcm9wZXJ0eVZhbHVlKGtleSkgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlci5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBBcnJheS5mcm9tKHN0eWxlczIpKSB7XG4gICAgICAgICAgICAgIGlmIChJR05PUkVEX1NUWUxFUy5pbmNsdWRlcyhrZXkpIHx8IGtleS5zdGFydHNXaXRoKENTU19QUkVGSVgpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZXMyLmdldFByb3BlcnR5VmFsdWUoa2V5KTtcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXIuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgcGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwbGFjZWhvbGRlci5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChoYXNDaGlsZHJlbk11dGF0aW9ucyAmJiBjbG9uZSkge1xuICAgICAgICBwbGFjZWhvbGRlci5pbm5lckhUTUwgPSBlbGVtZW50LmlubmVySFRNTDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBlbGVtZW50TXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlXG4gICAgfSk7XG4gICAgZG9jdW1lbnRNdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICBpZiAoZW50cnkuYWRkZWROb2Rlcy5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgQXJyYXkuZnJvbShlbnRyeS5hZGRlZE5vZGVzKSkge1xuICAgICAgICAgIGlmIChub2RlLmNvbnRhaW5zKGVsZW1lbnQpICYmIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nICE9PSBwbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICBzaG93UG9wb3ZlcihmZWVkYmFja0VsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobm9kZS5jb250YWlucyhwbGFjZWhvbGRlcikgJiYgcGxhY2Vob2xkZXIucHJldmlvdXNFbGVtZW50U2libGluZyAhPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgcGxhY2Vob2xkZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYmVmb3JlYmVnaW5cIiwgZWxlbWVudCk7XG4gICAgICAgICAgICBzaG93UG9wb3ZlcihmZWVkYmFja0VsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50TXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5LCB7XG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgY29uc3QgaWQgPSAoX2MzID0gbWFuYWdlci5kcmFnT3BlcmF0aW9uLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jMy5pZDtcbiAgY29uc3QgcmVzdG9yZUZvY3VzID0gKCkgPT4ge1xuICAgIHZhciBfYTU7XG4gICAgaWYgKCFpc0tleWJvYXJkT3BlcmF0aW9uIHx8IGlkID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZHJhZ2dhYmxlID0gbWFuYWdlci5yZWdpc3RyeS5kcmFnZ2FibGVzLmdldChpZCk7XG4gICAgY29uc3QgZWxlbWVudDIgPSAoX2E1ID0gZHJhZ2dhYmxlID09IG51bGwgPyB2b2lkIDAgOiBkcmFnZ2FibGUuaGFuZGxlKSAhPSBudWxsID8gX2E1IDogZHJhZ2dhYmxlID09IG51bGwgPyB2b2lkIDAgOiBkcmFnZ2FibGUuZWxlbWVudDtcbiAgICBpZiAoaXNIVE1MRWxlbWVudChlbGVtZW50MikpIHtcbiAgICAgIGVsZW1lbnQyLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgIGVsZW1lbnRNdXRhdGlvbk9ic2VydmVyID09IG51bGwgPyB2b2lkIDAgOiBlbGVtZW50TXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgZG9jdW1lbnRNdXRhdGlvbk9ic2VydmVyID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudE11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICBmZWVkYmFja1dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVdpbmRvd1Jlc2l6ZSk7XG4gICAgaWYgKHN1cHBvcnRzUG9wb3ZlcihmZWVkYmFja0VsZW1lbnQpKSB7XG4gICAgICBmZWVkYmFja0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJiZWZvcmV0b2dnbGVcIixcbiAgICAgICAgcHJldmVudFBvcG92ZXJDbG9zZVxuICAgICAgKTtcbiAgICAgIGZlZWRiYWNrRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJwb3BvdmVyXCIpO1xuICAgIH1cbiAgICBmZWVkYmFja0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKEFUVFJJQlVURSk7XG4gICAgc3R5bGVzLnJlc2V0KCk7XG4gICAgc291cmNlLnN0YXR1cyA9IFwiaWRsZVwiO1xuICAgIGNvbnN0IG1vdmVkID0gc3RhdGUuY3VycmVudC50cmFuc2xhdGUgIT0gbnVsbDtcbiAgICBpZiAocGxhY2Vob2xkZXIgJiYgKG1vdmVkIHx8IHBsYWNlaG9sZGVyLnBhcmVudEVsZW1lbnQgIT09IGZlZWRiYWNrRWxlbWVudC5wYXJlbnRFbGVtZW50KSAmJiBmZWVkYmFja0VsZW1lbnQuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHBsYWNlaG9sZGVyLnJlcGxhY2VXaXRoKGZlZWRiYWNrRWxlbWVudCk7XG4gICAgfVxuICAgIHBsYWNlaG9sZGVyID09IG51bGwgPyB2b2lkIDAgOiBwbGFjZWhvbGRlci5yZW1vdmUoKTtcbiAgfTtcbiAgY29uc3QgY2xlYW51cEVmZmVjdHMgPSBlZmZlY3RzKFxuICAgIC8vIFVwZGF0ZSB0cmFuc2Zvcm0gb24gbW92ZVxuICAgICgpID0+IHtcbiAgICAgIHZhciBfYTU7XG4gICAgICBjb25zdCB7IHRyYW5zZm9ybTogdHJhbnNmb3JtMiwgc3RhdHVzOiBzdGF0dXMyIH0gPSBkcmFnT3BlcmF0aW9uO1xuICAgICAgaWYgKCF0cmFuc2Zvcm0yLnggJiYgIXRyYW5zZm9ybTIueSAmJiAhc3RhdGUuY3VycmVudC50cmFuc2xhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXR1czIuZHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFRyYW5zbGF0ZTIgPSAoX2E1ID0gaW5pdGlhbC50cmFuc2xhdGUpICE9IG51bGwgPyBfYTUgOiB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlMiA9IHtcbiAgICAgICAgICB4OiB0cmFuc2Zvcm0yLnggLyBmcmFtZVRyYW5zZm9ybS5zY2FsZVggKyBpbml0aWFsVHJhbnNsYXRlMi54LFxuICAgICAgICAgIHk6IHRyYW5zZm9ybTIueSAvIGZyYW1lVHJhbnNmb3JtLnNjYWxlWSArIGluaXRpYWxUcmFuc2xhdGUyLnlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNUcmFuc2xhdGUgPSBzdGF0ZS5jdXJyZW50LnRyYW5zbGF0ZTtcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gdW50cmFja2VkKCgpID0+IGRyYWdPcGVyYXRpb24ubW9kaWZpZXJzKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNoYXBlID0gdW50cmFja2VkKCgpID0+IHtcbiAgICAgICAgICB2YXIgX2E2O1xuICAgICAgICAgIHJldHVybiAoX2E2ID0gZHJhZ09wZXJhdGlvbi5zaGFwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hNi5jdXJyZW50O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlVHJhbnNpdGlvbiA9IGlzS2V5Ym9hcmRPcGVyYXRpb24gPyBcIjI1MG1zIGN1YmljLWJlemllcigwLjI1LCAxLCAwLjUsIDEpXCIgOiBcIjBtcyBsaW5lYXJcIjtcbiAgICAgICAgc3R5bGVzLnNldChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBgJHt0cmFuc2l0aW9ufSwgdHJhbnNsYXRlICR7dHJhbnNsYXRlVHJhbnNpdGlvbn1gLFxuICAgICAgICAgICAgdHJhbnNsYXRlOiBgJHt0cmFuc2xhdGUyLnh9cHggJHt0cmFuc2xhdGUyLnl9cHggMGBcbiAgICAgICAgICB9LFxuICAgICAgICAgIENTU19QUkVGSVhcbiAgICAgICAgKTtcbiAgICAgICAgZWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGVsZW1lbnRNdXRhdGlvbk9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gICAgICAgIGlmIChjdXJyZW50U2hhcGUgJiYgY3VycmVudFNoYXBlICE9PSBpbml0aWFsU2hhcGUgJiYgcHJldmlvdXNUcmFuc2xhdGUgJiYgIW1vZGlmaWVycy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBkZWx0YTIgPSBQb2ludC5kZWx0YSh0cmFuc2xhdGUyLCBwcmV2aW91c1RyYW5zbGF0ZSk7XG4gICAgICAgICAgZHJhZ09wZXJhdGlvbi5zaGFwZSA9IFJlY3RhbmdsZS5mcm9tKFxuICAgICAgICAgICAgY3VycmVudFNoYXBlLmJvdW5kaW5nUmVjdGFuZ2xlXG4gICAgICAgICAgKS50cmFuc2xhdGUoXG4gICAgICAgICAgICAvLyBOZWVkIHRvIHRha2UgaW50byBhY2NvdW50IGZyYW1lIHRyYW5zZm9ybSB3aGVuIG9wdGltaXN0aWNhbGx5IHVwZGF0aW5nIHNoYXBlXG4gICAgICAgICAgICBkZWx0YTIueCAqIGZyYW1lVHJhbnNmb3JtLnNjYWxlWCxcbiAgICAgICAgICAgIGRlbHRhMi55ICogZnJhbWVUcmFuc2Zvcm0uc2NhbGVZXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkcmFnT3BlcmF0aW9uLnNoYXBlID0gbmV3IERPTVJlY3RhbmdsZShmZWVkYmFja0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmN1cnJlbnQudHJhbnNsYXRlID0gdHJhbnNsYXRlMjtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIERyb3AgYW5pbWF0aW9uXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZHJhZ09wZXJhdGlvbi5zdGF0dXMuZHJvcHBlZCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgc291cmNlLnN0YXR1cyA9IFwiZHJvcHBpbmdcIjtcbiAgICAgICAgbGV0IHRyYW5zbGF0ZTIgPSBzdGF0ZS5jdXJyZW50LnRyYW5zbGF0ZTtcbiAgICAgICAgY29uc3QgbW92ZWQgPSB0cmFuc2xhdGUyICE9IG51bGw7XG4gICAgICAgIGlmICghdHJhbnNsYXRlMiAmJiBlbGVtZW50ICE9PSBmZWVkYmFja0VsZW1lbnQpIHtcbiAgICAgICAgICB0cmFuc2xhdGUyID0ge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdHJhbnNsYXRlMikge1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHJvcEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICB2YXIgX2E1LCBfYjM7XG4gICAgICAgICAge1xuICAgICAgICAgICAgc2hvd1BvcG92ZXIoZmVlZGJhY2tFbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IFssIGFuaW1hdGlvbl0gPSAoX2E1ID0gZ2V0RmluYWxLZXlmcmFtZShcbiAgICAgICAgICAgICAgZmVlZGJhY2tFbGVtZW50LFxuICAgICAgICAgICAgICAoa2V5ZnJhbWUpID0+IFwidHJhbnNsYXRlXCIgaW4ga2V5ZnJhbWVcbiAgICAgICAgICAgICkpICE9IG51bGwgPyBfYTUgOiBbXTtcbiAgICAgICAgICAgIGFuaW1hdGlvbiA9PSBudWxsID8gdm9pZCAwIDogYW5pbWF0aW9uLnBhdXNlKCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBwbGFjZWhvbGRlciAhPSBudWxsID8gcGxhY2Vob2xkZXIgOiBlbGVtZW50O1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uczIgPSB7XG4gICAgICAgICAgICAgIGZyYW1lVHJhbnNmb3JtOiBpc1NhbWVGcmFtZShmZWVkYmFja0VsZW1lbnQsIHRhcmdldCkgPyBudWxsIDogdm9pZCAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IG5ldyBET01SZWN0YW5nbGUoZmVlZGJhY2tFbGVtZW50LCBvcHRpb25zMik7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VHJhbnNsYXRlID0gKF9iMyA9IHBhcnNlVHJhbnNsYXRlKGdldENvbXB1dGVkU3R5bGVzKGZlZWRiYWNrRWxlbWVudCkudHJhbnNsYXRlKSkgIT0gbnVsbCA/IF9iMyA6IHRyYW5zbGF0ZTI7XG4gICAgICAgICAgICBjb25zdCBmaW5hbCA9IG5ldyBET01SZWN0YW5nbGUodGFyZ2V0LCBvcHRpb25zMik7XG4gICAgICAgICAgICBjb25zdCBkZWx0YTIgPSBSZWN0YW5nbGUuZGVsdGEoY3VycmVudCwgZmluYWwsIHNvdXJjZS5hbGlnbm1lbnQpO1xuICAgICAgICAgICAgY29uc3QgZmluYWxUcmFuc2xhdGUgPSB7XG4gICAgICAgICAgICAgIHg6IGN1cnJlbnRUcmFuc2xhdGUueCAtIGRlbHRhMi54LFxuICAgICAgICAgICAgICB5OiBjdXJyZW50VHJhbnNsYXRlLnkgLSBkZWx0YTIueVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodEtleWZyYW1lcyA9IE1hdGgucm91bmQoY3VycmVudC5pbnRyaW5zaWNIZWlnaHQpICE9PSBNYXRoLnJvdW5kKGZpbmFsLmludHJpbnNpY0hlaWdodCkgPyB7XG4gICAgICAgICAgICAgIG1pbkhlaWdodDogW1xuICAgICAgICAgICAgICAgIGAke2N1cnJlbnQuaW50cmluc2ljSGVpZ2h0fXB4YCxcbiAgICAgICAgICAgICAgICBgJHtmaW5hbC5pbnRyaW5zaWNIZWlnaHR9cHhgXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIG1heEhlaWdodDogW1xuICAgICAgICAgICAgICAgIGAke2N1cnJlbnQuaW50cmluc2ljSGVpZ2h0fXB4YCxcbiAgICAgICAgICAgICAgICBgJHtmaW5hbC5pbnRyaW5zaWNIZWlnaHR9cHhgXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0gOiB7fTtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoS2V5ZnJhbWVzID0gTWF0aC5yb3VuZChjdXJyZW50LmludHJpbnNpY1dpZHRoKSAhPT0gTWF0aC5yb3VuZChmaW5hbC5pbnRyaW5zaWNXaWR0aCkgPyB7XG4gICAgICAgICAgICAgIG1pbldpZHRoOiBbXG4gICAgICAgICAgICAgICAgYCR7Y3VycmVudC5pbnRyaW5zaWNXaWR0aH1weGAsXG4gICAgICAgICAgICAgICAgYCR7ZmluYWwuaW50cmluc2ljV2lkdGh9cHhgXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIG1heFdpZHRoOiBbXG4gICAgICAgICAgICAgICAgYCR7Y3VycmVudC5pbnRyaW5zaWNXaWR0aH1weGAsXG4gICAgICAgICAgICAgICAgYCR7ZmluYWwuaW50cmluc2ljV2lkdGh9cHhgXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0gOiB7fTtcbiAgICAgICAgICAgIHN0eWxlcy5zZXQoeyB0cmFuc2l0aW9uIH0sIENTU19QUkVGSVgpO1xuICAgICAgICAgICAgZmVlZGJhY2tFbGVtZW50LnNldEF0dHJpYnV0ZShEUk9QUElOR19BVFRSSUJVVEUsIFwiXCIpO1xuICAgICAgICAgICAgZWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGVsZW1lbnRNdXRhdGlvbk9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gICAgICAgICAgICBhbmltYXRlVHJhbnNmb3JtKHtcbiAgICAgICAgICAgICAgZWxlbWVudDogZmVlZGJhY2tFbGVtZW50LFxuICAgICAgICAgICAgICBrZXlmcmFtZXM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGhlaWdodEtleWZyYW1lcyksIHdpZHRoS2V5ZnJhbWVzKSwge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogW1xuICAgICAgICAgICAgICAgICAgYCR7Y3VycmVudFRyYW5zbGF0ZS54fXB4ICR7Y3VycmVudFRyYW5zbGF0ZS55fXB4IDBgLFxuICAgICAgICAgICAgICAgICAgYCR7ZmluYWxUcmFuc2xhdGUueH1weCAke2ZpbmFsVHJhbnNsYXRlLnl9cHggMGBcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG1vdmVkIHx8IGZlZWRiYWNrRWxlbWVudCAhPT0gZWxlbWVudCA/IDI1MCA6IDAsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBcImVhc2VcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgZmVlZGJhY2tFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShEUk9QUElOR19BVFRSSUJVVEUpO1xuICAgICAgICAgICAgICBhbmltYXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGFuaW1hdGlvbi5maW5pc2goKTtcbiAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzdG9yZUZvY3VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbWFuYWdlci5yZW5kZXJlci5yZW5kZXJpbmcudGhlbihkcm9wQW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY2xlYW51cCgpO1xuICAgIGNsZWFudXBFZmZlY3RzKCk7XG4gIH07XG59O1xuaW5qZWN0U3R5bGVzX2ZuID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfYTQsIF9iMiwgX2MzO1xuICBjb25zdCB7IHN0YXR1cywgc291cmNlLCB0YXJnZXQgfSA9IHRoaXMubWFuYWdlci5kcmFnT3BlcmF0aW9uO1xuICBjb25zdCB7IG5vbmNlIH0gPSAoX2E0ID0gdGhpcy5vcHRpb25zKSAhPSBudWxsID8gX2E0IDoge307XG4gIGlmIChzdGF0dXMuaW5pdGlhbGl6aW5nKSB7XG4gICAgY29uc3Qgc291cmNlRG9jdW1lbnQgPSBnZXREb2N1bWVudCgoX2IyID0gc291cmNlID09IG51bGwgPyB2b2lkIDAgOiBzb3VyY2UuZWxlbWVudCkgIT0gbnVsbCA/IF9iMiA6IG51bGwpO1xuICAgIGNvbnN0IHRhcmdldERvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKF9jMyA9IHRhcmdldCA9PSBudWxsID8gdm9pZCAwIDogdGFyZ2V0LmVsZW1lbnQpICE9IG51bGwgPyBfYzMgOiBudWxsKTtcbiAgICBjb25zdCBkb2N1bWVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbc291cmNlRG9jdW1lbnQsIHRhcmdldERvY3VtZW50XSk7XG4gICAgZm9yIChjb25zdCBkb2Mgb2YgZG9jdW1lbnRzKSB7XG4gICAgICBsZXQgcmVnaXN0cmF0aW9uID0gc3R5bGVTaGVldFJlZ2lzdHJ5LmdldChkb2MpO1xuICAgICAgaWYgKCFyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gQ1NTX1JVTEVTO1xuICAgICAgICBpZiAobm9uY2UpIHtcbiAgICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jLmhlYWQucHJlcGVuZChzdHlsZSk7XG4gICAgICAgIGNvbnN0IG11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZE5vZGVzID0gQXJyYXkuZnJvbShlbnRyeS5yZW1vdmVkTm9kZXMpO1xuICAgICAgICAgICAgICBpZiAocmVtb3ZlZE5vZGVzLmxlbmd0aCA+IDAgJiYgcmVtb3ZlZE5vZGVzLmluY2x1ZGVzKHN0eWxlKSkge1xuICAgICAgICAgICAgICAgIGRvYy5oZWFkLnByZXBlbmQoc3R5bGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGRvYy5oZWFkLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICAgICAgcmVnaXN0cmF0aW9uID0ge1xuICAgICAgICAgIGNsZWFudXA6ICgpID0+IHtcbiAgICAgICAgICAgIG11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgc3R5bGUucmVtb3ZlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbnN0YW5jZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KClcbiAgICAgICAgfTtcbiAgICAgICAgc3R5bGVTaGVldFJlZ2lzdHJ5LnNldChkb2MsIHJlZ2lzdHJhdGlvbik7XG4gICAgICB9XG4gICAgICByZWdpc3RyYXRpb24uaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICB9XG4gIH1cbn07XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdCwgNCwgXCJvdmVybGF5XCIsIF9vdmVybGF5X2RlYywgX0ZlZWRiYWNrLCBfb3ZlcmxheSk7XG5fX2RlY29yYXRvck1ldGFkYXRhKF9pbml0LCBfRmVlZGJhY2spO1xuX0ZlZWRiYWNrLmNvbmZpZ3VyZSA9IGNvbmZpZ3VyYXRvcihfRmVlZGJhY2spO1xudmFyIEZlZWRiYWNrID0gX0ZlZWRiYWNrO1xudmFyIExPQ0tFRCA9IHRydWU7XG52YXIgVU5MT0NLRUQgPSBmYWxzZTtcbnZhciBfZGVjLCBfYTIsIF9kZWMyLCBfYiwgX2luaXQyLCBfX2IsIF9fYTtcbl9iID0gKF9kZWMyID0gW3JlYWN0aXZlXSwgU2Nyb2xsRGlyZWN0aW9uLkZvcndhcmQpLCBfYTIgPSAoX2RlYyA9IFtyZWFjdGl2ZV0sIFNjcm9sbERpcmVjdGlvbi5SZXZlcnNlKTtcbnZhciBTY3JvbGxMb2NrID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX19iLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDIsIDgsIHRoaXMsIExPQ0tFRCkpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDIsIDExLCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX19hLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDIsIDEyLCB0aGlzLCBMT0NLRUQpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQyLCAxNSwgdGhpcyk7XG4gIH1cbiAgaXNMb2NrZWQoZGlyZWN0aW9uKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gU2Nyb2xsRGlyZWN0aW9uLklkbGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRpcmVjdGlvbiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpc1tTY3JvbGxEaXJlY3Rpb24uRm9yd2FyZF0gPT09IExPQ0tFRCAmJiB0aGlzW1Njcm9sbERpcmVjdGlvbi5SZXZlcnNlXSA9PT0gTE9DS0VEO1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1tkaXJlY3Rpb25dID09PSBMT0NLRUQ7XG4gIH1cbiAgdW5sb2NrKGRpcmVjdGlvbikge1xuICAgIGlmIChkaXJlY3Rpb24gPT09IFNjcm9sbERpcmVjdGlvbi5JZGxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXNbZGlyZWN0aW9uXSA9IFVOTE9DS0VEO1xuICB9XG59O1xuX2luaXQyID0gX19kZWNvcmF0b3JTdGFydChudWxsKTtcbl9fYiA9IG5ldyBXZWFrTWFwKCk7XG5fX2EgPSBuZXcgV2Vha01hcCgpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQyLCA0LCBfYiwgX2RlYzIsIFNjcm9sbExvY2ssIF9fYik7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDIsIDQsIF9hMiwgX2RlYywgU2Nyb2xsTG9jaywgX19hKTtcbl9fZGVjb3JhdG9yTWV0YWRhdGEoX2luaXQyLCBTY3JvbGxMb2NrKTtcblxuLy8gc3JjL2NvcmUvcGx1Z2lucy9zY3JvbGxpbmcvU2Nyb2xsSW50ZW50LnRzXG52YXIgRElSRUNUSU9OUyA9IFtTY3JvbGxEaXJlY3Rpb24uRm9yd2FyZCwgU2Nyb2xsRGlyZWN0aW9uLlJldmVyc2VdO1xudmFyIFNjcm9sbEludGVudCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy54ID0gbmV3IFNjcm9sbExvY2soKTtcbiAgICB0aGlzLnkgPSBuZXcgU2Nyb2xsTG9jaygpO1xuICB9XG4gIGlzTG9ja2VkKCkge1xuICAgIHJldHVybiB0aGlzLnguaXNMb2NrZWQoKSAmJiB0aGlzLnkuaXNMb2NrZWQoKTtcbiAgfVxufTtcbnZhciBTY3JvbGxJbnRlbnRUcmFja2VyID0gY2xhc3MgZXh0ZW5kcyBQbHVnaW4ge1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyKSB7XG4gICAgc3VwZXIobWFuYWdlcik7XG4gICAgY29uc3Qgc2Nyb2xsSW50ZW50ID0gc2lnbmFsKG5ldyBTY3JvbGxJbnRlbnQoKSk7XG4gICAgbGV0IHByZXZpb3VzRGVsdGEgPSBudWxsO1xuICAgIHRoaXMuc2lnbmFsID0gc2Nyb2xsSW50ZW50O1xuICAgIGVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCB7IHN0YXR1cyB9ID0gbWFuYWdlci5kcmFnT3BlcmF0aW9uO1xuICAgICAgaWYgKCFzdGF0dXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgcHJldmlvdXNEZWx0YSA9IG51bGw7XG4gICAgICAgIHNjcm9sbEludGVudC52YWx1ZSA9IG5ldyBTY3JvbGxJbnRlbnQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBkZWx0YSB9ID0gbWFuYWdlci5kcmFnT3BlcmF0aW9uLnBvc2l0aW9uO1xuICAgICAgaWYgKHByZXZpb3VzRGVsdGEpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9ucyA9IHtcbiAgICAgICAgICB4OiBnZXREaXJlY3Rpb24oZGVsdGEueCwgcHJldmlvdXNEZWx0YS54KSxcbiAgICAgICAgICB5OiBnZXREaXJlY3Rpb24oZGVsdGEueSwgcHJldmlvdXNEZWx0YS55KVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbnRlbnQgPSBzY3JvbGxJbnRlbnQucGVlaygpO1xuICAgICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBheGlzIG9mIEF4ZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGlyZWN0aW9uIG9mIERJUkVDVElPTlMpIHtcbiAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbnNbYXhpc10gPT09IGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGludGVudFtheGlzXS51bmxvY2soZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzY3JvbGxJbnRlbnQudmFsdWUgPSBpbnRlbnQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNEZWx0YSA9IGRlbHRhO1xuICAgIH0pO1xuICB9XG4gIGdldCBjdXJyZW50KCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25hbC5wZWVrKCk7XG4gIH1cbn07XG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oYSwgYikge1xuICByZXR1cm4gTWF0aC5zaWduKGEgLSBiKTtcbn1cblxuLy8gc3JjL2NvcmUvcGx1Z2lucy9zY3JvbGxpbmcvU2Nyb2xsZXIudHNcbnZhciBfYXV0b1Njcm9sbGluZ19kZWMsIF9hMywgX2luaXQzLCBfYXV0b1Njcm9sbGluZywgX21ldGEsIF9zY3JvbGw7XG52YXIgU2Nyb2xsZXIgPSBjbGFzcyBleHRlbmRzIChfYTMgPSBDb3JlUGx1Z2luLCBfYXV0b1Njcm9sbGluZ19kZWMgPSBbcmVhY3RpdmVdLCBfYTMpIHtcbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKG1hbmFnZXIpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfYXV0b1Njcm9sbGluZywgX19ydW5Jbml0aWFsaXplcnMoX2luaXQzLCA4LCB0aGlzLCBmYWxzZSkpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDMsIDExLCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX21ldGEpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfc2Nyb2xsLCAoKSA9PiB7XG4gICAgICBpZiAoIV9fcHJpdmF0ZUdldCh0aGlzLCBfbWV0YSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBlbGVtZW50LCBieSB9ID0gX19wcml2YXRlR2V0KHRoaXMsIF9tZXRhKTtcbiAgICAgIGlmIChieS55KSBlbGVtZW50LnNjcm9sbFRvcCArPSBieS55O1xuICAgICAgaWYgKGJ5LngpIGVsZW1lbnQuc2Nyb2xsTGVmdCArPSBieS54O1xuICAgIH0pO1xuICAgIHRoaXMuc2Nyb2xsID0gKG9wdGlvbnMpID0+IHtcbiAgICAgIHZhciBfYTQ7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuZ2V0U2Nyb2xsYWJsZUVsZW1lbnRzKCk7XG4gICAgICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfbWV0YSwgdm9pZCAwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBwb3NpdGlvbiB9ID0gdGhpcy5tYW5hZ2VyLmRyYWdPcGVyYXRpb247XG4gICAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSBwb3NpdGlvbiA9PSBudWxsID8gdm9pZCAwIDogcG9zaXRpb24uY3VycmVudDtcbiAgICAgIGlmIChjdXJyZW50UG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgeyBieSB9ID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICBjb25zdCBpbnRlbnQgPSBieSA/IHtcbiAgICAgICAgICB4OiBnZXRTY3JvbGxJbnRlbnQoYnkueCksXG4gICAgICAgICAgeTogZ2V0U2Nyb2xsSW50ZW50KGJ5LnkpXG4gICAgICAgIH0gOiB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHNjcm9sbEludGVudCA9IGludGVudCA/IHZvaWQgMCA6IHRoaXMuc2Nyb2xsSW50ZW50VHJhY2tlci5jdXJyZW50O1xuICAgICAgICBpZiAoc2Nyb2xsSW50ZW50ID09IG51bGwgPyB2b2lkIDAgOiBzY3JvbGxJbnRlbnQuaXNMb2NrZWQoKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHNjcm9sbGFibGVFbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudENhblNjcm9sbCA9IGNhblNjcm9sbChzY3JvbGxhYmxlRWxlbWVudCwgYnkpO1xuICAgICAgICAgIGlmIChlbGVtZW50Q2FuU2Nyb2xsLnggfHwgZWxlbWVudENhblNjcm9sbC55KSB7XG4gICAgICAgICAgICBjb25zdCB7IHNwZWVkLCBkaXJlY3Rpb24gfSA9IGRldGVjdFNjcm9sbEludGVudChcbiAgICAgICAgICAgICAgc2Nyb2xsYWJsZUVsZW1lbnQsXG4gICAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbixcbiAgICAgICAgICAgICAgaW50ZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHNjcm9sbEludGVudCkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF4aXMgb2YgQXhlcykge1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxJbnRlbnRbYXhpc10uaXNMb2NrZWQoZGlyZWN0aW9uW2F4aXNdKSkge1xuICAgICAgICAgICAgICAgICAgc3BlZWRbYXhpc10gPSAwO1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uW2F4aXNdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24ueCB8fCBkaXJlY3Rpb24ueSkge1xuICAgICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGJ5ICE9IG51bGwgPyBieSA6IGRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgY29uc3Qgc2Nyb2xsTGVmdEJ5ID0geCAqIHNwZWVkLng7XG4gICAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcEJ5ID0geSAqIHNwZWVkLnk7XG4gICAgICAgICAgICAgIGlmIChzY3JvbGxMZWZ0QnkgfHwgc2Nyb2xsVG9wQnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1Njcm9sbEJ5ID0gKF9hNCA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfbWV0YSkpID09IG51bGwgPyB2b2lkIDAgOiBfYTQuYnk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXV0b1Njcm9sbGluZyAmJiBwcmV2aW91c1Njcm9sbEJ5KSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzY3JvbGxJbnRlbnRNaXNtYXRjaCA9IHByZXZpb3VzU2Nyb2xsQnkueCAmJiAhc2Nyb2xsTGVmdEJ5IHx8IHByZXZpb3VzU2Nyb2xsQnkueSAmJiAhc2Nyb2xsVG9wQnk7XG4gICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsSW50ZW50TWlzbWF0Y2gpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfX3ByaXZhdGVTZXQodGhpcywgX21ldGEsIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHNjcm9sbGFibGVFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgYnk6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogc2Nyb2xsTGVmdEJ5LFxuICAgICAgICAgICAgICAgICAgICB5OiBzY3JvbGxUb3BCeVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZShfX3ByaXZhdGVHZXQodGhpcywgX3Njcm9sbCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBfX3ByaXZhdGVTZXQodGhpcywgX21ldGEsIHZvaWQgMCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBsZXQgcHJldmlvdXNFbGVtZW50RnJvbVBvaW50ID0gbnVsbDtcbiAgICBsZXQgcHJldmlvdXNTY3JvbGxhYmxlRWxlbWVudHMgPSBudWxsO1xuICAgIGNvbnN0IGVsZW1lbnRGcm9tUG9pbnQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCB7IHBvc2l0aW9uLCBzb3VyY2UgfSA9IG1hbmFnZXIuZHJhZ09wZXJhdGlvbjtcbiAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gZ2V0RWxlbWVudEZyb21Qb2ludChcbiAgICAgICAgZ2V0RG9jdW1lbnQoc291cmNlID09IG51bGwgPyB2b2lkIDAgOiBzb3VyY2UuZWxlbWVudCksXG4gICAgICAgIHBvc2l0aW9uLmN1cnJlbnRcbiAgICAgICk7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBwcmV2aW91c0VsZW1lbnRGcm9tUG9pbnQgPSBlbGVtZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQgOiBwcmV2aW91c0VsZW1lbnRGcm9tUG9pbnQ7XG4gICAgfSk7XG4gICAgY29uc3Qgc2Nyb2xsYWJsZUVsZW1lbnRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRGcm9tUG9pbnQudmFsdWU7XG4gICAgICBjb25zdCB7IGRvY3VtZW50RWxlbWVudCB9ID0gZ2V0RG9jdW1lbnQoZWxlbWVudCk7XG4gICAgICBpZiAoIWVsZW1lbnQgfHwgZWxlbWVudCA9PT0gZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBtYW5hZ2VyLmRyYWdPcGVyYXRpb247XG4gICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSB0YXJnZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldC5lbGVtZW50O1xuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZ2V0U2Nyb2xsYWJsZUFuY2VzdG9ycyh0YXJnZXRFbGVtZW50LCB7XG4gICAgICAgICAgICBleGNsdWRlRWxlbWVudDogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcmV2aW91c1Njcm9sbGFibGVFbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBnZXRTY3JvbGxhYmxlQW5jZXN0b3JzKGVsZW1lbnQsIHtcbiAgICAgICAgICBleGNsdWRlRWxlbWVudDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmF1dG9TY3JvbGxpbmcgJiYgcHJldmlvdXNTY3JvbGxhYmxlRWxlbWVudHMgJiYgZWxlbWVudHMuc2l6ZSA8IChwcmV2aW91c1Njcm9sbGFibGVFbGVtZW50cyA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNTY3JvbGxhYmxlRWxlbWVudHMuc2l6ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJldmlvdXNTY3JvbGxhYmxlRWxlbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNTY3JvbGxhYmxlRWxlbWVudHMgPSBlbGVtZW50cztcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNTY3JvbGxhYmxlRWxlbWVudHMgPSBudWxsO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSwgZGVlcEVxdWFsKTtcbiAgICB0aGlzLmdldFNjcm9sbGFibGVFbGVtZW50cyA9ICgpID0+IHtcbiAgICAgIHJldHVybiBzY3JvbGxhYmxlRWxlbWVudHMudmFsdWU7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbEludGVudFRyYWNrZXIgPSBuZXcgU2Nyb2xsSW50ZW50VHJhY2tlcihtYW5hZ2VyKTtcbiAgICB0aGlzLmRlc3Ryb3kgPSBtYW5hZ2VyLm1vbml0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdtb3ZlXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCB8fCAhaXNLZXlib2FyZEV2ZW50KG1hbmFnZXIuZHJhZ09wZXJhdGlvbi5hY3RpdmF0b3JFdmVudCkgfHwgIWV2ZW50LmJ5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNjcm9sbCh7IGJ5OiBldmVudC5ieSB9KSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuX2luaXQzID0gX19kZWNvcmF0b3JTdGFydChfYTMpO1xuX2F1dG9TY3JvbGxpbmcgPSBuZXcgV2Vha01hcCgpO1xuX21ldGEgPSBuZXcgV2Vha01hcCgpO1xuX3Njcm9sbCA9IG5ldyBXZWFrTWFwKCk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDMsIDQsIFwiYXV0b1Njcm9sbGluZ1wiLCBfYXV0b1Njcm9sbGluZ19kZWMsIFNjcm9sbGVyLCBfYXV0b1Njcm9sbGluZyk7XG5fX2RlY29yYXRvck1ldGFkYXRhKF9pbml0MywgU2Nyb2xsZXIpO1xuZnVuY3Rpb24gZ2V0U2Nyb2xsSW50ZW50KHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA+IDApIHtcbiAgICByZXR1cm4gU2Nyb2xsRGlyZWN0aW9uLkZvcndhcmQ7XG4gIH1cbiAgaWYgKHZhbHVlIDwgMCkge1xuICAgIHJldHVybiBTY3JvbGxEaXJlY3Rpb24uUmV2ZXJzZTtcbiAgfVxuICByZXR1cm4gU2Nyb2xsRGlyZWN0aW9uLklkbGU7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvc2NoZWR1bGluZy9zY2hlZHVsZXIudHNcbnZhciBTY2hlZHVsZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHNjaGVkdWxlcjUpIHtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjU7XG4gICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy50YXNrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgdGhpcy5yZXNvbHZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHRoaXMuZmx1c2ggPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHRhc2tzLCByZXNvbHZlcnMgfSA9IHRoaXM7XG4gICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMudGFza3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgdGhpcy5yZXNvbHZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgZm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgIHRhc2soKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgcmVzb2x2ZSBvZiByZXNvbHZlcnMpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgc2NoZWR1bGUodGFzaykge1xuICAgIHRoaXMudGFza3MuYWRkKHRhc2spO1xuICAgIGlmICghdGhpcy5wZW5kaW5nKSB7XG4gICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zY2hlZHVsZXIodGhpcy5mbHVzaCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gdGhpcy5yZXNvbHZlcnMuYWRkKHJlc29sdmUpKTtcbiAgfVxufTtcbnZhciBzY2hlZHVsZXIzID0gbmV3IFNjaGVkdWxlcigoY2FsbGJhY2spID0+IHtcbiAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb3JlL3BsdWdpbnMvc2Nyb2xsaW5nL0F1dG9TY3JvbGxlci50c1xudmFyIEFVVE9TQ1JPTExfSU5URVJWQUwgPSAxMDtcbnZhciBBdXRvU2Nyb2xsZXIgPSBjbGFzcyBleHRlbmRzIFBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIsIF9vcHRpb25zKSB7XG4gICAgc3VwZXIobWFuYWdlcik7XG4gICAgY29uc3Qgc2Nyb2xsZXIgPSBtYW5hZ2VyLnJlZ2lzdHJ5LnBsdWdpbnMuZ2V0KFNjcm9sbGVyKTtcbiAgICBpZiAoIXNjcm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvU2Nyb2xsZXIgcGx1Z2luIGRlcGVuZHMgb24gU2Nyb2xsZXIgcGx1Z2luXCIpO1xuICAgIH1cbiAgICB0aGlzLmRlc3Ryb3kgPSBlZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBwb3NpdGlvbjogXywgc3RhdHVzIH0gPSBtYW5hZ2VyLmRyYWdPcGVyYXRpb247XG4gICAgICBpZiAoc3RhdHVzLmRyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGNhblNjcm9sbDIgPSBzY3JvbGxlci5zY3JvbGwoKTtcbiAgICAgICAgaWYgKGNhblNjcm9sbDIpIHtcbiAgICAgICAgICBzY3JvbGxlci5hdXRvU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKFxuICAgICAgICAgICAgKCkgPT4gc2NoZWR1bGVyMy5zY2hlZHVsZShzY3JvbGxlci5zY3JvbGwpLFxuICAgICAgICAgICAgQVVUT1NDUk9MTF9JTlRFUlZBTFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2Nyb2xsZXIuYXV0b1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXJPcHRpb25zID0ge1xuICBjYXB0dXJlOiB0cnVlLFxuICBwYXNzaXZlOiB0cnVlXG59O1xudmFyIF90aW1lb3V0O1xudmFyIFNjcm9sbExpc3RlbmVyID0gY2xhc3MgZXh0ZW5kcyBDb3JlUGx1Z2luIHtcbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKG1hbmFnZXIpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfdGltZW91dCk7XG4gICAgdGhpcy5oYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF90aW1lb3V0KSA9PSBudWxsKSB7XG4gICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfdGltZW91dCwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tYW5hZ2VyLmNvbGxpc2lvbk9ic2VydmVyLmZvcmNlVXBkYXRlKGZhbHNlKTtcbiAgICAgICAgICBfX3ByaXZhdGVTZXQodGhpcywgX3RpbWVvdXQsIHZvaWQgMCk7XG4gICAgICAgIH0sIDUwKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCB7IGRyYWdPcGVyYXRpb24gfSA9IHRoaXMubWFuYWdlcjtcbiAgICB0aGlzLmRlc3Ryb3kgPSBlZmZlY3QoKCkgPT4ge1xuICAgICAgdmFyIF9hNCwgX2IyLCBfYzM7XG4gICAgICBjb25zdCBlbmFibGVkID0gZHJhZ09wZXJhdGlvbi5zdGF0dXMuZHJhZ2dpbmc7XG4gICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICBjb25zdCByb290ID0gKF9jMyA9IChfYjIgPSAoX2E0ID0gZHJhZ09wZXJhdGlvbi5zb3VyY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTQuZWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5vd25lckRvY3VtZW50KSAhPSBudWxsID8gX2MzIDogZG9jdW1lbnQ7XG4gICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVNjcm9sbCwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICByb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcInNjcm9sbFwiLFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGwsXG4gICAgICAgICAgICBsaXN0ZW5lck9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuX3RpbWVvdXQgPSBuZXcgV2Vha01hcCgpO1xudmFyIFByZXZlbnRTZWxlY3Rpb24gPSBjbGFzcyBleHRlbmRzIFBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihtYW5hZ2VyLCBvcHRpb25zKTtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuZGVzdHJveSA9IGVmZmVjdCgoKSA9PiB7XG4gICAgICB2YXIgX2E0O1xuICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSB0aGlzLm1hbmFnZXI7XG4gICAgICBjb25zdCB7IG5vbmNlIH0gPSAoX2E0ID0gdGhpcy5vcHRpb25zKSAhPSBudWxsID8gX2E0IDoge307XG4gICAgICBpZiAoZHJhZ09wZXJhdGlvbi5zdGF0dXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIGlmIChub25jZSkge1xuICAgICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGAqIHsgdXNlci1zZWxlY3Q6IG5vbmUgIWltcG9ydGFudDsgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZSAhaW1wb3J0YW50OyB9YDtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIHJlbW92ZVNlbGVjdGlvbigpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHJlbW92ZVNlbGVjdGlvbiwge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCByZW1vdmVTZWxlY3Rpb24sIHtcbiAgICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdHlsZS5yZW1vdmUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIHJlbW92ZVNlbGVjdGlvbigpIHtcbiAgdmFyIF9hNDtcbiAgKF9hNCA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpKSA9PSBudWxsID8gdm9pZCAwIDogX2E0LnJlbW92ZUFsbFJhbmdlcygpO1xufVxudmFyIGRlZmF1bHRzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIG9mZnNldDogMTAsXG4gIGtleWJvYXJkQ29kZXM6IHtcbiAgICBzdGFydDogW1wiU3BhY2VcIiwgXCJFbnRlclwiXSxcbiAgICBjYW5jZWw6IFtcIkVzY2FwZVwiXSxcbiAgICBlbmQ6IFtcIlNwYWNlXCIsIFwiRW50ZXJcIiwgXCJUYWJcIl0sXG4gICAgdXA6IFtcIkFycm93VXBcIl0sXG4gICAgZG93bjogW1wiQXJyb3dEb3duXCJdLFxuICAgIGxlZnQ6IFtcIkFycm93TGVmdFwiXSxcbiAgICByaWdodDogW1wiQXJyb3dSaWdodFwiXVxuICB9LFxuICBzaG91bGRBY3RpdmF0ZShhcmdzKSB7XG4gICAgdmFyIF9hNDtcbiAgICBjb25zdCB7IGV2ZW50LCBzb3VyY2UgfSA9IGFyZ3M7XG4gICAgY29uc3QgdGFyZ2V0ID0gKF9hNCA9IHNvdXJjZS5oYW5kbGUpICE9IG51bGwgPyBfYTQgOiBzb3VyY2UuZWxlbWVudDtcbiAgICByZXR1cm4gZXZlbnQudGFyZ2V0ID09PSB0YXJnZXQ7XG4gIH1cbn0pO1xudmFyIF9jbGVhbnVwRnVuY3Rpb25zO1xudmFyIF9LZXlib2FyZFNlbnNvciA9IGNsYXNzIF9LZXlib2FyZFNlbnNvciBleHRlbmRzIFNlbnNvciB7XG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihtYW5hZ2VyKTtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jbGVhbnVwRnVuY3Rpb25zLCBbXSk7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5oYW5kbGVTb3VyY2VLZXlEb3duID0gKGV2ZW50LCBzb3VyY2UsIG9wdGlvbnMpID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0VsZW1lbnQoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc291cmNlLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHtcbiAgICAgICAga2V5Ym9hcmRDb2RlcyA9IGRlZmF1bHRzLmtleWJvYXJkQ29kZXMsXG4gICAgICAgIHNob3VsZEFjdGl2YXRlID0gZGVmYXVsdHMuc2hvdWxkQWN0aXZhdGVcbiAgICAgIH0gPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gICAgICBpZiAoIWtleWJvYXJkQ29kZXMuc3RhcnQuaW5jbHVkZXMoZXZlbnQuY29kZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLm1hbmFnZXIuZHJhZ09wZXJhdGlvbi5zdGF0dXMuaWRsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkQWN0aXZhdGUoeyBldmVudCwgc291cmNlLCBtYW5hZ2VyOiB0aGlzLm1hbmFnZXIgfSkpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVTdGFydChldmVudCwgc291cmNlLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGJpbmQoc291cmNlLCBvcHRpb25zID0gdGhpcy5vcHRpb25zKSB7XG4gICAgY29uc3QgdW5iaW5kID0gZWZmZWN0KCgpID0+IHtcbiAgICAgIHZhciBfYTQ7XG4gICAgICBjb25zdCB0YXJnZXQgPSAoX2E0ID0gc291cmNlLmhhbmRsZSkgIT0gbnVsbCA/IF9hNCA6IHNvdXJjZS5lbGVtZW50O1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGlzS2V5Ym9hcmRFdmVudChldmVudCkpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVNvdXJjZUtleURvd24oZXZlbnQsIHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdW5iaW5kO1xuICB9XG4gIGhhbmRsZVN0YXJ0KGV2ZW50LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHNvdXJjZTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvdXJjZSBkcmFnZ2FibGUgZG9lcyBub3QgaGF2ZSBhbiBhc3NvY2lhdGVkIGVsZW1lbnRcIik7XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChlbGVtZW50KTtcbiAgICBjb25zdCB7IGNlbnRlciB9ID0gbmV3IERPTVJlY3RhbmdsZShlbGVtZW50KTtcbiAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5tYW5hZ2VyLmFjdGlvbnMuc3RhcnQoe1xuICAgICAgZXZlbnQsXG4gICAgICBjb29yZGluYXRlczoge1xuICAgICAgICB4OiBjZW50ZXIueCxcbiAgICAgICAgeTogY2VudGVyLnlcbiAgICAgIH0sXG4gICAgICBzb3VyY2VcbiAgICB9KTtcbiAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkgcmV0dXJuIHRoaXMuY2xlYW51cCgpO1xuICAgIHRoaXMuc2lkZUVmZmVjdHMoKTtcbiAgICBjb25zdCBzb3VyY2VEb2N1bWVudCA9IGdldERvY3VtZW50KGVsZW1lbnQpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IFtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmJpbmQoc291cmNlRG9jdW1lbnQsIFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwia2V5ZG93blwiLFxuICAgICAgICAgIGxpc3RlbmVyOiAoZXZlbnQyKSA9PiB0aGlzLmhhbmRsZUtleURvd24oZXZlbnQyLCBzb3VyY2UsIG9wdGlvbnMpLFxuICAgICAgICAgIG9wdGlvbnM6IHsgY2FwdHVyZTogdHJ1ZSB9XG4gICAgICAgIH1cbiAgICAgIF0pXG4gICAgXTtcbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX2NsZWFudXBGdW5jdGlvbnMpLnB1c2goLi4ubGlzdGVuZXJzKTtcbiAgfVxuICBoYW5kbGVLZXlEb3duKGV2ZW50LCBfc291cmNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBrZXlib2FyZENvZGVzID0gZGVmYXVsdHMua2V5Ym9hcmRDb2RlcyB9ID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICAgIGlmIChpc0tleWNvZGUoZXZlbnQsIFsuLi5rZXlib2FyZENvZGVzLmVuZCwgLi4ua2V5Ym9hcmRDb2Rlcy5jYW5jZWxdKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGNhbmNlbGVkID0gaXNLZXljb2RlKGV2ZW50LCBrZXlib2FyZENvZGVzLmNhbmNlbCk7XG4gICAgICB0aGlzLmhhbmRsZUVuZChldmVudCwgY2FuY2VsZWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNLZXljb2RlKGV2ZW50LCBrZXlib2FyZENvZGVzLnVwKSkge1xuICAgICAgdGhpcy5oYW5kbGVNb3ZlKFwidXBcIiwgZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoaXNLZXljb2RlKGV2ZW50LCBrZXlib2FyZENvZGVzLmRvd24pKSB7XG4gICAgICB0aGlzLmhhbmRsZU1vdmUoXCJkb3duXCIsIGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGlzS2V5Y29kZShldmVudCwga2V5Ym9hcmRDb2Rlcy5sZWZ0KSkge1xuICAgICAgdGhpcy5oYW5kbGVNb3ZlKFwibGVmdFwiLCBldmVudCk7XG4gICAgfSBlbHNlIGlmIChpc0tleWNvZGUoZXZlbnQsIGtleWJvYXJkQ29kZXMucmlnaHQpKSB7XG4gICAgICB0aGlzLmhhbmRsZU1vdmUoXCJyaWdodFwiLCBldmVudCk7XG4gICAgfVxuICB9XG4gIGhhbmRsZUVuZChldmVudCwgY2FuY2VsZWQpIHtcbiAgICB0aGlzLm1hbmFnZXIuYWN0aW9ucy5zdG9wKHtcbiAgICAgIGV2ZW50LFxuICAgICAgY2FuY2VsZWRcbiAgICB9KTtcbiAgICB0aGlzLmNsZWFudXAoKTtcbiAgfVxuICBoYW5kbGVNb3ZlKGRpcmVjdGlvbiwgZXZlbnQpIHtcbiAgICB2YXIgX2E0LCBfYjI7XG4gICAgY29uc3QgeyBzaGFwZSB9ID0gdGhpcy5tYW5hZ2VyLmRyYWdPcGVyYXRpb247XG4gICAgY29uc3QgZmFjdG9yID0gZXZlbnQuc2hpZnRLZXkgPyA1IDogMTtcbiAgICBsZXQgYnkgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gICAgbGV0IG9mZnNldCA9IChfYjIgPSAoX2E0ID0gdGhpcy5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2E0Lm9mZnNldCkgIT0gbnVsbCA/IF9iMiA6IGRlZmF1bHRzLm9mZnNldDtcbiAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgb2Zmc2V0ID0geyB4OiBvZmZzZXQsIHk6IG9mZnNldCB9O1xuICAgIH1cbiAgICBpZiAoIXNoYXBlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgYnkgPSB7IHg6IDAsIHk6IC1vZmZzZXQueSAqIGZhY3RvciB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkb3duXCI6XG4gICAgICAgIGJ5ID0geyB4OiAwLCB5OiBvZmZzZXQueSAqIGZhY3RvciB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgIGJ5ID0geyB4OiAtb2Zmc2V0LnggKiBmYWN0b3IsIHk6IDAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgYnkgPSB7IHg6IG9mZnNldC54ICogZmFjdG9yLCB5OiAwIH07XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYnkueCB8fCBieS55KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5tYW5hZ2VyLmFjdGlvbnMubW92ZSh7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICBieVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNpZGVFZmZlY3RzKCkge1xuICAgIGNvbnN0IGF1dG9TY3JvbGxlciA9IHRoaXMubWFuYWdlci5yZWdpc3RyeS5wbHVnaW5zLmdldChBdXRvU2Nyb2xsZXIpO1xuICAgIGlmICgoYXV0b1Njcm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhdXRvU2Nyb2xsZXIuZGlzYWJsZWQpID09PSBmYWxzZSkge1xuICAgICAgYXV0b1Njcm9sbGVyLmRpc2FibGUoKTtcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xlYW51cEZ1bmN0aW9ucykucHVzaCgoKSA9PiB7XG4gICAgICAgIGF1dG9TY3JvbGxlci5lbmFibGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjbGVhbnVwKCkge1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xlYW51cEZ1bmN0aW9ucykuZm9yRWFjaCgoY2xlYW51cCkgPT4gY2xlYW51cCgpKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2NsZWFudXBGdW5jdGlvbnMsIFtdKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gIH1cbn07XG5fY2xlYW51cEZ1bmN0aW9ucyA9IG5ldyBXZWFrTWFwKCk7XG5fS2V5Ym9hcmRTZW5zb3IuY29uZmlndXJlID0gY29uZmlndXJhdG9yKF9LZXlib2FyZFNlbnNvcik7XG5fS2V5Ym9hcmRTZW5zb3IuZGVmYXVsdHMgPSBkZWZhdWx0cztcbnZhciBLZXlib2FyZFNlbnNvciA9IF9LZXlib2FyZFNlbnNvcjtcbmZ1bmN0aW9uIGlzS2V5Y29kZShldmVudCwgY29kZXMpIHtcbiAgcmV0dXJuIGNvZGVzLmluY2x1ZGVzKGV2ZW50LmNvZGUpO1xufVxudmFyIGRlZmF1bHRzMiA9IE9iamVjdC5mcmVlemUoe1xuICBhY3RpdmF0aW9uQ29uc3RyYWludHMoZXZlbnQsIHNvdXJjZSkge1xuICAgIHZhciBfYTQ7XG4gICAgY29uc3QgeyBwb2ludGVyVHlwZSwgdGFyZ2V0IH0gPSBldmVudDtcbiAgICBpZiAocG9pbnRlclR5cGUgPT09IFwibW91c2VcIiAmJiBpc0VsZW1lbnQodGFyZ2V0KSAmJiAoc291cmNlLmhhbmRsZSA9PT0gdGFyZ2V0IHx8ICgoX2E0ID0gc291cmNlLmhhbmRsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hNC5jb250YWlucyh0YXJnZXQpKSkpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChwb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWxheTogeyB2YWx1ZTogMjUwLCB0b2xlcmFuY2U6IDUgfVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzVGV4dElucHV0KHRhcmdldCkgJiYgIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5OiB7IHZhbHVlOiAyMDAsIHRvbGVyYW5jZTogMCB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZGVsYXk6IHsgdmFsdWU6IDIwMCwgdG9sZXJhbmNlOiAxMCB9LFxuICAgICAgZGlzdGFuY2U6IHsgdmFsdWU6IDUgfVxuICAgIH07XG4gIH1cbn0pO1xudmFyIF9jbGVhbnVwLCBfY2xlYXJUaW1lb3V0O1xudmFyIF9Qb2ludGVyU2Vuc29yID0gY2xhc3MgX1BvaW50ZXJTZW5zb3IgZXh0ZW5kcyBTZW5zb3Ige1xuICBjb25zdHJ1Y3RvcihtYW5hZ2VyLCBvcHRpb25zKSB7XG4gICAgc3VwZXIobWFuYWdlcik7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2xlYW51cCwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jbGVhclRpbWVvdXQpO1xuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IExpc3RlbmVycygpO1xuICAgIHRoaXMubGF0ZXN0ID0ge1xuICAgICAgZXZlbnQ6IHZvaWQgMCxcbiAgICAgIGNvb3JkaW5hdGVzOiB2b2lkIDBcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlTW92ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZXZlbnQsIGNvb3JkaW5hdGVzOiB0byB9ID0gdGhpcy5sYXRlc3Q7XG4gICAgICBpZiAoIWV2ZW50IHx8ICF0bykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLm1hbmFnZXIuYWN0aW9ucy5tb3ZlKHsgZXZlbnQsIHRvIH0pO1xuICAgIH07XG4gICAgdGhpcy5oYW5kbGVDYW5jZWwgPSB0aGlzLmhhbmRsZUNhbmNlbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlUG9pbnRlclVwID0gdGhpcy5oYW5kbGVQb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUtleURvd24gPSB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKTtcbiAgfVxuICBhY3RpdmF0aW9uQ29uc3RyYWludHMoZXZlbnQsIHNvdXJjZSkge1xuICAgIHZhciBfYTQ7XG4gICAgY29uc3QgeyBhY3RpdmF0aW9uQ29uc3RyYWludHMgPSBkZWZhdWx0czIuYWN0aXZhdGlvbkNvbnN0cmFpbnRzIH0gPSAoX2E0ID0gdGhpcy5vcHRpb25zKSAhPSBudWxsID8gX2E0IDoge307XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0eXBlb2YgYWN0aXZhdGlvbkNvbnN0cmFpbnRzID09PSBcImZ1bmN0aW9uXCIgPyBhY3RpdmF0aW9uQ29uc3RyYWludHMoZXZlbnQsIHNvdXJjZSkgOiBhY3RpdmF0aW9uQ29uc3RyYWludHM7XG4gICAgcmV0dXJuIGNvbnN0cmFpbnRzO1xuICB9XG4gIGJpbmQoc291cmNlLCBvcHRpb25zID0gdGhpcy5vcHRpb25zKSB7XG4gICAgY29uc3QgdW5iaW5kID0gZWZmZWN0KCgpID0+IHtcbiAgICAgIHZhciBfYTQ7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgY29uc3QgeyBzaWduYWw6IHNpZ25hbDMgfSA9IGNvbnRyb2xsZXI7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoaXNQb2ludGVyRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVQb2ludGVyRG93bihldmVudCwgc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxldCB0YXJnZXRzID0gWyhfYTQgPSBzb3VyY2UuaGFuZGxlKSAhPSBudWxsID8gX2E0IDogc291cmNlLmVsZW1lbnRdO1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYWN0aXZhdG9yRWxlbWVudHMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5hY3RpdmF0b3JFbGVtZW50cykpIHtcbiAgICAgICAgICB0YXJnZXRzID0gb3B0aW9ucy5hY3RpdmF0b3JFbGVtZW50cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRzID0gb3B0aW9ucy5hY3RpdmF0b3JFbGVtZW50cyhzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgICAgIGlmICghdGFyZ2V0KSBjb250aW51ZTtcbiAgICAgICAgcGF0Y2hXaW5kb3codGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGxpc3RlbmVyLCB7IHNpZ25hbDogc2lnbmFsMyB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKSA9PiBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHVuYmluZDtcbiAgfVxuICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAhZXZlbnQuaXNQcmltYXJ5IHx8IGV2ZW50LmJ1dHRvbiAhPT0gMCB8fCAhaXNFbGVtZW50KGV2ZW50LnRhcmdldCkgfHwgc291cmNlLmRpc2FibGVkIHx8IGlzQ2FwdHVyZWRCeVNlbnNvcihldmVudCkgfHwgIXRoaXMubWFuYWdlci5kcmFnT3BlcmF0aW9uLnN0YXR1cy5pZGxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcbiAgICBjb25zdCBpc05hdGl2ZURyYWdnYWJsZSA9IGlzSFRNTEVsZW1lbnQodGFyZ2V0KSAmJiB0YXJnZXQuZHJhZ2dhYmxlICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIikgPT09IFwidHJ1ZVwiO1xuICAgIGNvbnN0IG9mZnNldCA9IGdldEZyYW1lVHJhbnNmb3JtKHNvdXJjZS5lbGVtZW50KTtcbiAgICB0aGlzLmluaXRpYWxDb29yZGluYXRlcyA9IHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFggKiBvZmZzZXQuc2NhbGVYICsgb2Zmc2V0LngsXG4gICAgICB5OiBldmVudC5jbGllbnRZICogb2Zmc2V0LnNjYWxlWSArIG9mZnNldC55XG4gICAgfTtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuYWN0aXZhdGlvbkNvbnN0cmFpbnRzKGV2ZW50LCBzb3VyY2UpO1xuICAgIGV2ZW50LnNlbnNvciA9IHRoaXM7XG4gICAgaWYgKCEoY29uc3RyYWludHMgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnN0cmFpbnRzLmRlbGF5KSAmJiAhKGNvbnN0cmFpbnRzID09IG51bGwgPyB2b2lkIDAgOiBjb25zdHJhaW50cy5kaXN0YW5jZSkpIHtcbiAgICAgIHRoaXMuaGFuZGxlU3RhcnQoc291cmNlLCBldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgZGVsYXkgfSA9IGNvbnN0cmFpbnRzO1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IHRoaXMuaGFuZGxlU3RhcnQoc291cmNlLCBldmVudCksXG4gICAgICAgICAgZGVsYXkudmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF9jbGVhclRpbWVvdXQsICgpID0+IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF9jbGVhclRpbWVvdXQsIHZvaWQgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBvd25lckRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoZXZlbnQudGFyZ2V0KTtcbiAgICBjb25zdCB1bmJpbmRMaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5iaW5kKG93bmVyRG9jdW1lbnQsIFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJwb2ludGVybW92ZVwiLFxuICAgICAgICBsaXN0ZW5lcjogKGV2ZW50MikgPT4gdGhpcy5oYW5kbGVQb2ludGVyTW92ZShldmVudDIsIHNvdXJjZSlcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwicG9pbnRlcnVwXCIsXG4gICAgICAgIGxpc3RlbmVyOiB0aGlzLmhhbmRsZVBvaW50ZXJVcCxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLy8gQ2FuY2VsIGFjdGl2YXRpb24gaWYgdGhlcmUgaXMgYSBjb21wZXRpbmcgRHJhZyBhbmQgRHJvcCBpbnRlcmFjdGlvblxuICAgICAgICB0eXBlOiBcImRyYWdzdGFydFwiLFxuICAgICAgICBsaXN0ZW5lcjogaXNOYXRpdmVEcmFnZ2FibGUgPyB0aGlzLmhhbmRsZUNhbmNlbCA6IHByZXZlbnREZWZhdWx0LFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXSk7XG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIHZhciBfYTQ7XG4gICAgICB1bmJpbmRMaXN0ZW5lcnMoKTtcbiAgICAgIChfYTQgPSBfX3ByaXZhdGVHZXQodGhpcywgX2NsZWFyVGltZW91dCkpID09IG51bGwgPyB2b2lkIDAgOiBfYTQuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuaW5pdGlhbENvb3JkaW5hdGVzID0gdm9pZCAwO1xuICAgIH07XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9jbGVhbnVwKS5hZGQoY2xlYW51cCk7XG4gIH1cbiAgaGFuZGxlUG9pbnRlck1vdmUoZXZlbnQsIHNvdXJjZSkge1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICB9O1xuICAgIGNvbnN0IG9mZnNldCA9IGdldEZyYW1lVHJhbnNmb3JtKHNvdXJjZS5lbGVtZW50KTtcbiAgICBjb29yZGluYXRlcy54ID0gY29vcmRpbmF0ZXMueCAqIG9mZnNldC5zY2FsZVggKyBvZmZzZXQueDtcbiAgICBjb29yZGluYXRlcy55ID0gY29vcmRpbmF0ZXMueSAqIG9mZnNldC5zY2FsZVkgKyBvZmZzZXQueTtcbiAgICBpZiAodGhpcy5tYW5hZ2VyLmRyYWdPcGVyYXRpb24uc3RhdHVzLmRyYWdnaW5nKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmxhdGVzdC5ldmVudCA9IGV2ZW50O1xuICAgICAgdGhpcy5sYXRlc3QuY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcztcbiAgICAgIHNjaGVkdWxlci5zY2hlZHVsZSh0aGlzLmhhbmRsZU1vdmUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaW5pdGlhbENvb3JkaW5hdGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgeDogY29vcmRpbmF0ZXMueCAtIHRoaXMuaW5pdGlhbENvb3JkaW5hdGVzLngsXG4gICAgICB5OiBjb29yZGluYXRlcy55IC0gdGhpcy5pbml0aWFsQ29vcmRpbmF0ZXMueVxuICAgIH07XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmFjdGl2YXRpb25Db25zdHJhaW50cyhldmVudCwgc291cmNlKTtcbiAgICBjb25zdCB7IGRpc3RhbmNlLCBkZWxheSB9ID0gY29uc3RyYWludHMgIT0gbnVsbCA/IGNvbnN0cmFpbnRzIDoge307XG4gICAgaWYgKGRpc3RhbmNlKSB7XG4gICAgICBpZiAoZGlzdGFuY2UudG9sZXJhbmNlICE9IG51bGwgJiYgZXhjZWVkc0Rpc3RhbmNlKGRlbHRhLCBkaXN0YW5jZS50b2xlcmFuY2UpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUNhbmNlbChldmVudCk7XG4gICAgICB9XG4gICAgICBpZiAoZXhjZWVkc0Rpc3RhbmNlKGRlbHRhLCBkaXN0YW5jZS52YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU3RhcnQoc291cmNlLCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWxheSkge1xuICAgICAgaWYgKGV4Y2VlZHNEaXN0YW5jZShkZWx0YSwgZGVsYXkudG9sZXJhbmNlKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVDYW5jZWwoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBoYW5kbGVQb2ludGVyVXAoZXZlbnQpIHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gdGhpcy5tYW5hZ2VyLmRyYWdPcGVyYXRpb247XG4gICAgaWYgKCFzdGF0dXMuaWRsZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgY2FuY2VsZWQgPSAhc3RhdHVzLmluaXRpYWxpemVkO1xuICAgICAgdGhpcy5tYW5hZ2VyLmFjdGlvbnMuc3RvcCh7IGV2ZW50LCBjYW5jZWxlZCB9KTtcbiAgICB9XG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cbiAgaGFuZGxlS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmhhbmRsZUNhbmNlbChldmVudCk7XG4gICAgfVxuICB9XG4gIGhhbmRsZVN0YXJ0KHNvdXJjZSwgZXZlbnQpIHtcbiAgICB2YXIgX2E0O1xuICAgIGNvbnN0IHsgbWFuYWdlciwgaW5pdGlhbENvb3JkaW5hdGVzIH0gPSB0aGlzO1xuICAgIChfYTQgPSBfX3ByaXZhdGVHZXQodGhpcywgX2NsZWFyVGltZW91dCkpID09IG51bGwgPyB2b2lkIDAgOiBfYTQuY2FsbCh0aGlzKTtcbiAgICBpZiAoIWluaXRpYWxDb29yZGluYXRlcyB8fCAhbWFuYWdlci5kcmFnT3BlcmF0aW9uLnN0YXR1cy5pZGxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBtYW5hZ2VyLmFjdGlvbnMuc3RhcnQoe1xuICAgICAgY29vcmRpbmF0ZXM6IGluaXRpYWxDb29yZGluYXRlcyxcbiAgICAgIGV2ZW50LFxuICAgICAgc291cmNlXG4gICAgfSk7XG4gICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHJldHVybiB0aGlzLmNsZWFudXAoKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBnZXREb2N1bWVudChldmVudC50YXJnZXQpO1xuICAgIGNvbnN0IHBvaW50ZXJDYXB0dXJlVGFyZ2V0ID0gb3duZXJEb2N1bWVudC5ib2R5O1xuICAgIHBvaW50ZXJDYXB0dXJlVGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgY29uc3QgdW5iaW5kID0gdGhpcy5saXN0ZW5lcnMuYmluZChvd25lckRvY3VtZW50LCBbXG4gICAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgc2Nyb2xsaW5nIG9uIHRvdWNoIGRldmljZXNcbiAgICAgICAgdHlwZTogXCJ0b3VjaG1vdmVcIixcbiAgICAgICAgbGlzdGVuZXI6IHByZXZlbnREZWZhdWx0LFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLy8gUHJldmVudCBjbGljayBldmVudHNcbiAgICAgICAgdHlwZTogXCJjbGlja1wiLFxuICAgICAgICBsaXN0ZW5lcjogcHJldmVudERlZmF1bHRcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiY29udGV4dG1lbnVcIixcbiAgICAgICAgbGlzdGVuZXI6IHByZXZlbnREZWZhdWx0XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImtleWRvd25cIixcbiAgICAgICAgbGlzdGVuZXI6IHRoaXMuaGFuZGxlS2V5RG93blxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJsb3N0cG9pbnRlcmNhcHR1cmVcIixcbiAgICAgICAgbGlzdGVuZXI6IChldmVudDIpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQyLnRhcmdldCAhPT0gcG9pbnRlckNhcHR1cmVUYXJnZXQpIHJldHVybjtcbiAgICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJVcChldmVudDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXSk7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9jbGVhbnVwKS5hZGQodW5iaW5kKTtcbiAgfVxuICBoYW5kbGVDYW5jZWwoZXZlbnQpIHtcbiAgICBjb25zdCB7IGRyYWdPcGVyYXRpb24gfSA9IHRoaXMubWFuYWdlcjtcbiAgICBpZiAoZHJhZ09wZXJhdGlvbi5zdGF0dXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMubWFuYWdlci5hY3Rpb25zLnN0b3AoeyBldmVudCwgY2FuY2VsZWQ6IHRydWUgfSk7XG4gICAgfVxuICAgIHRoaXMuY2xlYW51cCgpO1xuICB9XG4gIGNsZWFudXAoKSB7XG4gICAgdGhpcy5sYXRlc3QgPSB7XG4gICAgICBldmVudDogdm9pZCAwLFxuICAgICAgY29vcmRpbmF0ZXM6IHZvaWQgMFxuICAgIH07XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9jbGVhbnVwKS5mb3JFYWNoKChjbGVhbnVwKSA9PiBjbGVhbnVwKCkpO1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xlYW51cCkuY2xlYXIoKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gIH1cbn07XG5fY2xlYW51cCA9IG5ldyBXZWFrTWFwKCk7XG5fY2xlYXJUaW1lb3V0ID0gbmV3IFdlYWtNYXAoKTtcbl9Qb2ludGVyU2Vuc29yLmNvbmZpZ3VyZSA9IGNvbmZpZ3VyYXRvcihfUG9pbnRlclNlbnNvcik7XG5fUG9pbnRlclNlbnNvci5kZWZhdWx0cyA9IGRlZmF1bHRzMjtcbnZhciBQb2ludGVyU2Vuc29yID0gX1BvaW50ZXJTZW5zb3I7XG5mdW5jdGlvbiBpc0NhcHR1cmVkQnlTZW5zb3IoZXZlbnQpIHtcbiAgcmV0dXJuIFwic2Vuc29yXCIgaW4gZXZlbnQ7XG59XG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuZnVuY3Rpb24gbm9vcCgpIHtcbn1cbnZhciB3aW5kb3dzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG5mdW5jdGlvbiBwYXRjaFdpbmRvdyh3aW5kb3cpIHtcbiAgaWYgKCF3aW5kb3cgfHwgd2luZG93cy5oYXMod2luZG93KSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBub29wLCB7XG4gICAgY2FwdHVyZTogZmFsc2UsXG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7XG4gIHdpbmRvd3MuYWRkKHdpbmRvdyk7XG59XG5cbi8vIHNyYy9jb3JlL21hbmFnZXIvbWFuYWdlci50c1xudmFyIGRlZmF1bHRQcmVzZXQgPSB7XG4gIG1vZGlmaWVyczogW10sXG4gIHBsdWdpbnM6IFtBY2Nlc3NpYmlsaXR5LCBBdXRvU2Nyb2xsZXIsIEN1cnNvciwgRmVlZGJhY2ssIFByZXZlbnRTZWxlY3Rpb25dLFxuICBzZW5zb3JzOiBbUG9pbnRlclNlbnNvciwgS2V5Ym9hcmRTZW5zb3JdXG59O1xudmFyIERyYWdEcm9wTWFuYWdlciA9IGNsYXNzIGV4dGVuZHMgRHJhZ0Ryb3BNYW5hZ2VyJDEge1xuICBjb25zdHJ1Y3RvcihpbnB1dCA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgcGx1Z2lucyA9IGRlZmF1bHRQcmVzZXQucGx1Z2lucyxcbiAgICAgIHNlbnNvcnMgPSBkZWZhdWx0UHJlc2V0LnNlbnNvcnMsXG4gICAgICBtb2RpZmllcnMgPSBbXVxuICAgIH0gPSBpbnB1dDtcbiAgICBzdXBlcihfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBpbnB1dCksIHtcbiAgICAgIHBsdWdpbnM6IFtTY3JvbGxMaXN0ZW5lciwgU2Nyb2xsZXIsIC4uLnBsdWdpbnNdLFxuICAgICAgc2Vuc29ycyxcbiAgICAgIG1vZGlmaWVyc1xuICAgIH0pKTtcbiAgfVxufTtcbnZhciBfZmVlZGJhY2tfZGVjLCBfZWxlbWVudF9kZWMsIF9oYW5kbGVfZGVjLCBfYywgX2luaXQ0LCBfaGFuZGxlLCBfZWxlbWVudCwgX2ZlZWRiYWNrO1xudmFyIERyYWdnYWJsZSA9IGNsYXNzIGV4dGVuZHMgKF9jID0gRHJhZ2dhYmxlJDEsIF9oYW5kbGVfZGVjID0gW3JlYWN0aXZlXSwgX2VsZW1lbnRfZGVjID0gW3JlYWN0aXZlXSwgX2ZlZWRiYWNrX2RlYyA9IFtyZWFjdGl2ZV0sIF9jKSB7XG4gIGNvbnN0cnVjdG9yKF9hNCwgbWFuYWdlcikge1xuICAgIHZhciBfYjIgPSBfYTQsIHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBlZmZlY3RzOiBlZmZlY3RzMiA9ICgpID0+IFtdLFxuICAgICAgaGFuZGxlLFxuICAgICAgZmVlZGJhY2sgPSBcImRlZmF1bHRcIlxuICAgIH0gPSBfYjIsIGlucHV0ID0gX19vYmpSZXN0KF9iMiwgW1xuICAgICAgXCJlbGVtZW50XCIsXG4gICAgICBcImVmZmVjdHNcIixcbiAgICAgIFwiaGFuZGxlXCIsXG4gICAgICBcImZlZWRiYWNrXCJcbiAgICBdKTtcbiAgICBzdXBlcihcbiAgICAgIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgZWZmZWN0czogKCkgPT4gW1xuICAgICAgICAgIC4uLmVmZmVjdHMyKCksXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hNSwgX2IzO1xuICAgICAgICAgICAgY29uc3QgeyBtYW5hZ2VyOiBtYW5hZ2VyMiB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmICghbWFuYWdlcjIpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNlbnNvcnMgPSAoX2IzID0gKF9hNSA9IHRoaXMuc2Vuc29ycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hNS5tYXAoZGVzY3JpcHRvcikpICE9IG51bGwgPyBfYjMgOiBbXG4gICAgICAgICAgICAgIC4uLm1hbmFnZXIyLnNlbnNvcnNcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCB1bmJpbmRGdW5jdGlvbnMgPSBzZW5zb3JzLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2Vuc29ySW5zdGFuY2UgPSBlbnRyeSBpbnN0YW5jZW9mIFNlbnNvciA/IGVudHJ5IDogbWFuYWdlcjIucmVnaXN0cnkucmVnaXN0ZXIoZW50cnkucGx1Z2luKTtcbiAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGVudHJ5IGluc3RhbmNlb2YgU2Vuc29yID8gdm9pZCAwIDogZW50cnkub3B0aW9ucztcbiAgICAgICAgICAgICAgY29uc3QgdW5iaW5kID0gc2Vuc29ySW5zdGFuY2UuYmluZCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuYmluZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgICAgIHVuYmluZEZ1bmN0aW9ucy5mb3JFYWNoKCh1bmJpbmQpID0+IHVuYmluZCgpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LCBpbnB1dCksXG4gICAgICBtYW5hZ2VyXG4gICAgKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2hhbmRsZSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ0LCA4LCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NCwgMTEsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfZWxlbWVudCwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQ0LCAxMiwgdGhpcykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDQsIDE1LCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2ZlZWRiYWNrLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDQsIDE2LCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NCwgMTksIHRoaXMpO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5oYW5kbGUgPSBoYW5kbGU7XG4gICAgdGhpcy5mZWVkYmFjayA9IGZlZWRiYWNrO1xuICB9XG59O1xuX2luaXQ0ID0gX19kZWNvcmF0b3JTdGFydChfYyk7XG5faGFuZGxlID0gbmV3IFdlYWtNYXAoKTtcbl9lbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbl9mZWVkYmFjayA9IG5ldyBXZWFrTWFwKCk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdDQsIDQsIFwiaGFuZGxlXCIsIF9oYW5kbGVfZGVjLCBEcmFnZ2FibGUsIF9oYW5kbGUpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQ0LCA0LCBcImVsZW1lbnRcIiwgX2VsZW1lbnRfZGVjLCBEcmFnZ2FibGUsIF9lbGVtZW50KTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NCwgNCwgXCJmZWVkYmFja1wiLCBfZmVlZGJhY2tfZGVjLCBEcmFnZ2FibGUsIF9mZWVkYmFjayk7XG5fX2RlY29yYXRvck1ldGFkYXRhKF9pbml0NCwgRHJhZ2dhYmxlKTtcbnZhciBfcHJveHlfZGVjLCBfZWxlbWVudF9kZWMyLCBfYzIsIF9pbml0NSwgX2VsZW1lbnQyLCBfZCwgZWxlbWVudF9nZXQsIGVsZW1lbnRfc2V0LCBfRHJvcHBhYmxlX2luc3RhbmNlcywgX3Byb3h5O1xudmFyIERyb3BwYWJsZSA9IGNsYXNzIGV4dGVuZHMgKF9jMiA9IERyb3BwYWJsZSQxLCBfZWxlbWVudF9kZWMyID0gW3JlYWN0aXZlXSwgX3Byb3h5X2RlYyA9IFtyZWFjdGl2ZV0sIF9jMikge1xuICBjb25zdHJ1Y3RvcihfYTQsIG1hbmFnZXIpIHtcbiAgICB2YXIgX2IyID0gX2E0LCB7IGVsZW1lbnQsIGVmZmVjdHM6IGVmZmVjdHMyID0gKCkgPT4gW10gfSA9IF9iMiwgaW5wdXQgPSBfX29ialJlc3QoX2IyLCBbXCJlbGVtZW50XCIsIFwiZWZmZWN0c1wiXSk7XG4gICAgY29uc3QgeyBjb2xsaXNpb25EZXRlY3RvciA9IGRlZmF1bHRDb2xsaXNpb25EZXRlY3Rpb24gfSA9IGlucHV0O1xuICAgIGNvbnN0IHVwZGF0ZVNoYXBlID0gKGJvdW5kaW5nQ2xpZW50UmVjdCkgPT4ge1xuICAgICAgY29uc3QgeyBtYW5hZ2VyOiBtYW5hZ2VyMiwgZWxlbWVudDogZWxlbWVudDIgfSA9IHRoaXM7XG4gICAgICBpZiAoIWVsZW1lbnQyIHx8IGJvdW5kaW5nQ2xpZW50UmVjdCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNoYXBlID0gdm9pZCAwO1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuICAgICAgaWYgKCFtYW5hZ2VyMikgcmV0dXJuO1xuICAgICAgY29uc3QgdXBkYXRlZFNoYXBlID0gbmV3IERPTVJlY3RhbmdsZShlbGVtZW50Mik7XG4gICAgICBjb25zdCBzaGFwZSA9IHVudHJhY2tlZCgoKSA9PiB0aGlzLnNoYXBlKTtcbiAgICAgIGlmICh1cGRhdGVkU2hhcGUgJiYgKHNoYXBlID09IG51bGwgPyB2b2lkIDAgOiBzaGFwZS5lcXVhbHModXBkYXRlZFNoYXBlKSkpIHtcbiAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgfVxuICAgICAgdGhpcy5zaGFwZSA9IHVwZGF0ZWRTaGFwZTtcbiAgICAgIHJldHVybiB1cGRhdGVkU2hhcGU7XG4gICAgfTtcbiAgICBjb25zdCBvYnNlcnZlUG9zaXRpb24gPSBzaWduYWwoZmFsc2UpO1xuICAgIHN1cGVyKFxuICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaW5wdXQpLCB7XG4gICAgICAgIGNvbGxpc2lvbkRldGVjdG9yLFxuICAgICAgICBlZmZlY3RzOiAoKSA9PiBbXG4gICAgICAgICAgLi4uZWZmZWN0czIoKSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQ6IGVsZW1lbnQyLCBtYW5hZ2VyOiBtYW5hZ2VyMiB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmICghbWFuYWdlcjIpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZ09wZXJhdGlvbiB9ID0gbWFuYWdlcjI7XG4gICAgICAgICAgICBjb25zdCB7IHNvdXJjZSB9ID0gZHJhZ09wZXJhdGlvbjtcbiAgICAgICAgICAgIG9ic2VydmVQb3NpdGlvbi52YWx1ZSA9IEJvb2xlYW4oXG4gICAgICAgICAgICAgIHNvdXJjZSAmJiBkcmFnT3BlcmF0aW9uLnN0YXR1cy5pbml0aWFsaXplZCAmJiBlbGVtZW50MiAmJiAhdGhpcy5kaXNhYmxlZCAmJiB0aGlzLmFjY2VwdHMoc291cmNlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudDogZWxlbWVudDIgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZVBvc2l0aW9uLnZhbHVlICYmIGVsZW1lbnQyKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uT2JzZXJ2ZXIgPSBuZXcgUG9zaXRpb25PYnNlcnZlcihcbiAgICAgICAgICAgICAgICBlbGVtZW50MixcbiAgICAgICAgICAgICAgICB1cGRhdGVTaGFwZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhcGUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E1O1xuICAgICAgICAgICAgaWYgKChfYTUgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTUuZHJhZ09wZXJhdGlvbi5zdGF0dXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXBlID0gdm9pZCAwO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSksXG4gICAgICBtYW5hZ2VyXG4gICAgKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX0Ryb3BwYWJsZV9pbnN0YW5jZXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfZWxlbWVudDIsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NSwgOCwgdGhpcykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDUsIDExLCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3Byb3h5LCBfX3J1bkluaXRpYWxpemVycyhfaW5pdDUsIDEyLCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0NSwgMTUsIHRoaXMpO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5yZWZyZXNoU2hhcGUgPSAoKSA9PiB1cGRhdGVTaGFwZSgpO1xuICB9XG4gIHNldCBlbGVtZW50KGVsZW1lbnQpIHtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX0Ryb3BwYWJsZV9pbnN0YW5jZXMsIGVsZW1lbnQsIGVsZW1lbnRfc2V0KTtcbiAgfVxuICBnZXQgZWxlbWVudCgpIHtcbiAgICB2YXIgX2E0O1xuICAgIHJldHVybiAoX2E0ID0gdGhpcy5wcm94eSkgIT0gbnVsbCA/IF9hNCA6IF9fcHJpdmF0ZUdldCh0aGlzLCBfRHJvcHBhYmxlX2luc3RhbmNlcywgZWxlbWVudF9nZXQpO1xuICB9XG59O1xuX2luaXQ1ID0gX19kZWNvcmF0b3JTdGFydChfYzIpO1xuX2VsZW1lbnQyID0gbmV3IFdlYWtNYXAoKTtcbl9Ecm9wcGFibGVfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKTtcbl9wcm94eSA9IG5ldyBXZWFrTWFwKCk7XG5fZCA9IF9fZGVjb3JhdGVFbGVtZW50KF9pbml0NSwgMjAsIFwiI2VsZW1lbnRcIiwgX2VsZW1lbnRfZGVjMiwgX0Ryb3BwYWJsZV9pbnN0YW5jZXMsIF9lbGVtZW50MiksIGVsZW1lbnRfZ2V0ID0gX2QuZ2V0LCBlbGVtZW50X3NldCA9IF9kLnNldDtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0NSwgNCwgXCJwcm94eVwiLCBfcHJveHlfZGVjLCBEcm9wcGFibGUsIF9wcm94eSk7XG5fX2RlY29yYXRvck1ldGFkYXRhKF9pbml0NSwgRHJvcHBhYmxlKTtcblxuZXhwb3J0IHsgQWNjZXNzaWJpbGl0eSwgQXV0b1Njcm9sbGVyLCBDdXJzb3IsIERyYWdEcm9wTWFuYWdlciwgRHJhZ2dhYmxlLCBEcm9wcGFibGUsIEZlZWRiYWNrLCBLZXlib2FyZFNlbnNvciwgUG9pbnRlclNlbnNvciwgUHJldmVudFNlbGVjdGlvbiwgU2Nyb2xsTGlzdGVuZXIsIFNjcm9sbGVyLCBkZWZhdWx0UHJlc2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/sortable.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/sortable.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptimisticSortingPlugin: () => (/* binding */ OptimisticSortingPlugin),\n/* harmony export */   Sortable: () => (/* binding */ Sortable2),\n/* harmony export */   SortableKeyboardPlugin: () => (/* binding */ SortableKeyboardPlugin),\n/* harmony export */   defaultSortableTransition: () => (/* binding */ defaultSortableTransition),\n/* harmony export */   isSortable: () => (/* binding */ isSortable)\n/* harmony export */ });\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\");\n/* harmony import */ var _dnd_kit_collision__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @dnd-kit/collision */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+collision@0.1.21/node_modules/@dnd-kit/collision/dist/index.js\");\n/* harmony import */ var _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/dom */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/index.js\");\n/* harmony import */ var _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/dom/utilities */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/utilities.js\");\n/* harmony import */ var _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dnd-kit/abstract */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js\");\n/* harmony import */ var _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @dnd-kit/geometry */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs\");\n\n\n\n\n\n\n\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __decoratorStart = (base) => {\n  var _a;\n  return [, , , __create((_a = void 0 ) != null ? _a : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) flags & 1 ? fns[i].call(self) : value = fns[i].call(self, value);\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var fn, it, done, ctx, access, k = flags & 7, s = false, p = false;\n  var j = array.length + 1 , key = __decoratorStrings[k + 5];\n  var initializers = (array[j - 1] = []), extraInitializers = array[j] || (array[j] = []);\n  var desc = ((target = target.prototype), __getOwnPropDesc({ get [name]() {\n    return __privateGet(this, extra);\n  }, set [name](x) {\n    return __privateSet(this, extra, x);\n  } }, name));\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: (x) => name in x };\n      access.get = (x) => x[name];\n      access.set = (x, y) => x[name] = y;\n    }\n    it = (0, decorators[i])({ get: desc.get, set: desc.set } , ctx), done._ = 1;\n    if (it === void 0) __expectFn(it) && (desc[key] = it );\n    else if (typeof it !== \"object\" || it === null) __typeError(\"Object expected\");\n    else __expectFn(fn = it.get) && (desc.get = fn), __expectFn(fn = it.set) && (desc.set = fn), __expectFn(fn = it.init) && initializers.unshift(fn);\n  }\n  return desc && __defProp(target, name, desc), target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), member.set(obj, value), value);\n\n// src/sortable/utilities.ts\nfunction isSortable(element) {\n  return element instanceof SortableDroppable || element instanceof SortableDraggable;\n}\n\n// src/sortable/plugins/SortableKeyboardPlugin.ts\nvar TOLERANCE = 10;\nvar SortableKeyboardPlugin = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  constructor(manager) {\n    super(manager);\n    const cleanupEffect = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.effect)(() => {\n      const { dragOperation } = manager;\n      if (!(0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.isKeyboardEvent)(dragOperation.activatorEvent)) {\n        return;\n      }\n      if (!isSortable(dragOperation.source)) {\n        return;\n      }\n      if (dragOperation.status.initialized) {\n        const scroller = manager.registry.plugins.get(_dnd_kit_dom__WEBPACK_IMPORTED_MODULE_3__.Scroller);\n        if (scroller) {\n          scroller.disable();\n          return () => scroller.enable();\n        }\n      }\n    });\n    const unsubscribe = manager.monitor.addEventListener(\n      \"dragmove\",\n      (event, manager2) => {\n        queueMicrotask(() => {\n          if (this.disabled || event.defaultPrevented || !event.nativeEvent) {\n            return;\n          }\n          const { dragOperation } = manager2;\n          if (!(0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.isKeyboardEvent)(event.nativeEvent)) {\n            return;\n          }\n          if (!isSortable(dragOperation.source)) {\n            return;\n          }\n          if (!dragOperation.shape) {\n            return;\n          }\n          const { actions, collisionObserver, registry } = manager2;\n          const { by } = event;\n          if (!by) {\n            return;\n          }\n          const direction = getDirection(by);\n          const { source, target } = dragOperation;\n          const { center } = dragOperation.shape.current;\n          const potentialTargets = [];\n          const cleanup = [];\n          (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n            for (const droppable of registry.droppables) {\n              const { id: id2 } = droppable;\n              if (!droppable.accepts(source) || id2 === (target == null ? void 0 : target.id) && isSortable(droppable) || !droppable.element) {\n                continue;\n              }\n              let previousShape = droppable.shape;\n              const shape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.DOMRectangle(droppable.element, {\n                getBoundingClientRect: (element) => (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.getVisibleBoundingRectangle)(element, void 0, 0.2)\n              });\n              if (!shape.height || !shape.width) continue;\n              if (direction == \"down\" && center.y + TOLERANCE < shape.center.y || direction == \"up\" && center.y - TOLERANCE > shape.center.y || direction == \"left\" && center.x - TOLERANCE > shape.center.x || direction == \"right\" && center.x + TOLERANCE < shape.center.x) {\n                potentialTargets.push(droppable);\n                droppable.shape = shape;\n                cleanup.push(() => droppable.shape = previousShape);\n              }\n            }\n          });\n          event.preventDefault();\n          collisionObserver.disable();\n          const collisions = collisionObserver.computeCollisions(\n            potentialTargets,\n            _dnd_kit_collision__WEBPACK_IMPORTED_MODULE_4__.closestCorners\n          );\n          (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => cleanup.forEach((clean) => clean()));\n          const [firstCollision] = collisions;\n          if (!firstCollision) {\n            return;\n          }\n          const { id } = firstCollision;\n          const { index, group } = source.sortable;\n          actions.setDropTarget(id).then(() => {\n            const { source: source2, target: target2, shape } = dragOperation;\n            if (!source2 || !isSortable(source2) || !shape) {\n              return;\n            }\n            const {\n              index: newIndex,\n              group: newGroup,\n              target: targetElement\n            } = source2.sortable;\n            const updated = index !== newIndex || group !== newGroup;\n            const element = updated ? targetElement : target2 == null ? void 0 : target2.element;\n            if (!element) return;\n            (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.scrollIntoViewIfNeeded)(element);\n            const updatedShape = new _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.DOMRectangle(element);\n            if (!updatedShape) {\n              return;\n            }\n            const delta = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_5__.Rectangle.delta(\n              updatedShape,\n              _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_5__.Rectangle.from(shape.current.boundingRectangle),\n              source2.alignment\n            );\n            actions.move({\n              by: delta\n            });\n            if (updated) {\n              actions.setDropTarget(source2.id).then(() => collisionObserver.enable());\n            } else {\n              collisionObserver.enable();\n            }\n          });\n        });\n      }\n    );\n    this.destroy = () => {\n      unsubscribe();\n      cleanupEffect();\n    };\n  }\n};\nfunction getDirection(delta) {\n  const { x, y } = delta;\n  if (x > 0) {\n    return \"right\";\n  } else if (x < 0) {\n    return \"left\";\n  } else if (y > 0) {\n    return \"down\";\n  } else if (y < 0) {\n    return \"up\";\n  }\n}\n\n// ../helpers/dist/index.js\nvar __defProp2 = Object.defineProperty;\nvar __defProps2 = Object.defineProperties;\nvar __getOwnPropDescs2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp2.call(b, prop))\n      __defNormalProp2(a, prop, b[prop]);\n  if (__getOwnPropSymbols2)\n    for (var prop of __getOwnPropSymbols2(b)) {\n      if (__propIsEnum2.call(b, prop))\n        __defNormalProp2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps2 = (a, b) => __defProps2(a, __getOwnPropDescs2(b));\nfunction arrayMove(array, from, to) {\n  if (from === to) {\n    return array;\n  }\n  const newArray = array.slice();\n  newArray.splice(to, 0, newArray.splice(from, 1)[0]);\n  return newArray;\n}\nfunction mutate(items, event, mutation) {\n  var _a, _b;\n  const { source, target, canceled } = event.operation;\n  if (!source || !target || canceled) {\n    if (\"preventDefault\" in event) event.preventDefault();\n    return items;\n  }\n  const findIndex = (item, id) => item === id || typeof item === \"object\" && \"id\" in item && item.id === id;\n  if (Array.isArray(items)) {\n    const sourceIndex2 = items.findIndex((item) => findIndex(item, source.id));\n    const targetIndex2 = items.findIndex((item) => findIndex(item, target.id));\n    if (sourceIndex2 === -1 || targetIndex2 === -1) {\n      return items;\n    }\n    if (!canceled && \"index\" in source && typeof source.index === \"number\") {\n      const projectedSourceIndex = source.index;\n      if (projectedSourceIndex !== sourceIndex2) {\n        return mutation(items, sourceIndex2, projectedSourceIndex);\n      }\n    }\n    return mutation(items, sourceIndex2, targetIndex2);\n  }\n  const entries = Object.entries(items);\n  let sourceIndex = -1;\n  let sourceParent;\n  let targetIndex = -1;\n  let targetParent;\n  for (const [id, children] of entries) {\n    if (sourceIndex === -1) {\n      sourceIndex = children.findIndex((item) => findIndex(item, source.id));\n      if (sourceIndex !== -1) {\n        sourceParent = id;\n      }\n    }\n    if (targetIndex === -1) {\n      targetIndex = children.findIndex((item) => findIndex(item, target.id));\n      if (targetIndex !== -1) {\n        targetParent = id;\n      }\n    }\n    if (sourceIndex !== -1 && targetIndex !== -1) {\n      break;\n    }\n  }\n  if (!source.manager) return items;\n  const { dragOperation } = source.manager;\n  const position = (_b = (_a = dragOperation.shape) == null ? void 0 : _a.current.center) != null ? _b : dragOperation.position.current;\n  if (targetParent == null) {\n    if (target.id in items) {\n      const insertionIndex = target.shape && position.y > target.shape.center.y ? items[target.id].length : 0;\n      targetParent = target.id;\n      targetIndex = insertionIndex;\n    }\n  }\n  if (sourceParent == null || targetParent == null || sourceParent === targetParent && sourceIndex === targetIndex) {\n    if (\"preventDefault\" in event) event.preventDefault();\n    return items;\n  }\n  if (sourceParent === targetParent) {\n    return __spreadProps2(__spreadValues2({}, items), {\n      [sourceParent]: mutation(items[sourceParent], sourceIndex, targetIndex)\n    });\n  }\n  const isBelowTarget = target.shape && Math.round(position.y) > Math.round(target.shape.center.y);\n  const modifier = isBelowTarget ? 1 : 0;\n  const sourceItem = items[sourceParent][sourceIndex];\n  return __spreadProps2(__spreadValues2({}, items), {\n    [sourceParent]: [\n      ...items[sourceParent].slice(0, sourceIndex),\n      ...items[sourceParent].slice(sourceIndex + 1)\n    ],\n    [targetParent]: [\n      ...items[targetParent].slice(0, targetIndex + modifier),\n      sourceItem,\n      ...items[targetParent].slice(targetIndex + modifier)\n    ]\n  });\n}\nfunction move(items, event) {\n  return mutate(items, event, arrayMove);\n}\nvar defaultGroup = \"__default__\";\nvar OptimisticSortingPlugin = class extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  constructor(manager) {\n    super(manager);\n    const getSortableInstances = () => {\n      const sortableInstances = /* @__PURE__ */ new Map();\n      for (const droppable of manager.registry.droppables) {\n        if (droppable instanceof SortableDroppable) {\n          const { sortable } = droppable;\n          const { group } = sortable;\n          let instances = sortableInstances.get(group);\n          if (!instances) {\n            instances = /* @__PURE__ */ new Set();\n            sortableInstances.set(group, instances);\n          }\n          instances.add(sortable);\n        }\n      }\n      for (const [group, instances] of sortableInstances) {\n        sortableInstances.set(group, new Set(sort(instances)));\n      }\n      return sortableInstances;\n    };\n    const unsubscribe = [\n      manager.monitor.addEventListener(\"dragover\", (event, manager2) => {\n        if (this.disabled) {\n          return;\n        }\n        const { dragOperation } = manager2;\n        const { source, target } = dragOperation;\n        if (!isSortable(source) || !isSortable(target)) {\n          return;\n        }\n        if (source.sortable === target.sortable) {\n          return;\n        }\n        const instances = getSortableInstances();\n        const sameGroup = source.sortable.group === target.sortable.group;\n        const sourceInstances = instances.get(source.sortable.group);\n        const targetInstances = sameGroup ? sourceInstances : instances.get(target.sortable.group);\n        if (!sourceInstances || !targetInstances) return;\n        queueMicrotask(() => {\n          if (event.defaultPrevented) return;\n          manager2.renderer.rendering.then(() => {\n            var _a, _b, _c;\n            const newInstances = getSortableInstances();\n            for (const [group, sortableInstances] of instances.entries()) {\n              const entries = Array.from(sortableInstances).entries();\n              for (const [index, sortable] of entries) {\n                if (sortable.index !== index || sortable.group !== group || !((_a = newInstances.get(group)) == null ? void 0 : _a.has(sortable))) {\n                  return;\n                }\n              }\n            }\n            const sourceElement = source.sortable.element;\n            const targetElement = target.sortable.element;\n            if (!targetElement || !sourceElement) {\n              return;\n            }\n            if (!sameGroup && target.id === source.sortable.group) {\n              return;\n            }\n            const orderedSourceSortables = sort(sourceInstances);\n            const orderedTargetSortables = sameGroup ? orderedSourceSortables : sort(targetInstances);\n            const sourceGroup = (_b = source.sortable.group) != null ? _b : defaultGroup;\n            const targetGroup = (_c = target.sortable.group) != null ? _c : defaultGroup;\n            const state = {\n              [sourceGroup]: orderedSourceSortables,\n              [targetGroup]: orderedTargetSortables\n            };\n            const newState = move(state, event);\n            if (state === newState) return;\n            const sourceIndex = newState[targetGroup].indexOf(source.sortable);\n            const targetIndex = newState[targetGroup].indexOf(target.sortable);\n            manager2.collisionObserver.disable();\n            reorder(sourceElement, sourceIndex, targetElement, targetIndex);\n            (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n              for (const [index, sortable] of newState[sourceGroup].entries()) {\n                sortable.index = index;\n              }\n              if (!sameGroup) {\n                for (const [index, sortable] of newState[targetGroup].entries()) {\n                  sortable.group = target.sortable.group;\n                  sortable.index = index;\n                }\n              }\n            });\n            manager2.actions.setDropTarget(source.id).then(() => manager2.collisionObserver.enable());\n          });\n        });\n      }),\n      manager.monitor.addEventListener(\"dragend\", (event, manager2) => {\n        if (!event.canceled) {\n          return;\n        }\n        const { dragOperation } = manager2;\n        const { source } = dragOperation;\n        if (!isSortable(source)) {\n          return;\n        }\n        if (source.sortable.initialIndex === source.sortable.index && source.sortable.initialGroup === source.sortable.group) {\n          return;\n        }\n        queueMicrotask(() => {\n          const instances = getSortableInstances();\n          const initialGroupInstances = instances.get(\n            source.sortable.initialGroup\n          );\n          if (!initialGroupInstances) return;\n          manager2.renderer.rendering.then(() => {\n            for (const [group, sortableInstances] of instances.entries()) {\n              const entries = Array.from(sortableInstances).entries();\n              for (const [index, sortable] of entries) {\n                if (sortable.index !== index || sortable.group !== group) {\n                  return;\n                }\n              }\n            }\n            const initialGroup = sort(initialGroupInstances);\n            const sourceElement = source.sortable.element;\n            const target = initialGroup[source.sortable.initialIndex];\n            const targetElement = target == null ? void 0 : target.element;\n            if (!target || !targetElement || !sourceElement) {\n              return;\n            }\n            reorder(sourceElement, target.index, targetElement, source.index);\n            (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n              for (const [_, sortableInstances] of instances.entries()) {\n                const entries = Array.from(sortableInstances).values();\n                for (const sortable of entries) {\n                  sortable.index = sortable.initialIndex;\n                  sortable.group = sortable.initialGroup;\n                }\n              }\n            });\n          });\n        });\n      })\n    ];\n    this.destroy = () => {\n      for (const unsubscribeListener of unsubscribe) {\n        unsubscribeListener();\n      }\n    };\n  }\n};\nfunction reorder(sourceElement, sourceIndex, targetElement, targetIndex) {\n  const position = targetIndex < sourceIndex ? \"afterend\" : \"beforebegin\";\n  targetElement.insertAdjacentElement(position, sourceElement);\n}\nfunction sortByIndex(a, b) {\n  return a.index - b.index;\n}\nfunction sort(instances) {\n  return Array.from(instances).sort(sortByIndex);\n}\n\n// src/sortable/sortable.ts\nvar defaultPlugins = [\n  SortableKeyboardPlugin,\n  OptimisticSortingPlugin\n];\nvar defaultSortableTransition = {\n  duration: 250,\n  easing: \"cubic-bezier(0.25, 1, 0.5, 1)\",\n  idle: false\n};\nvar store = new _dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__.WeakStore();\nvar _group_dec, _index_dec, _init, _index, _previousGroup, _previousIndex, _group, _element;\n_index_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__.reactive], _group_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__.reactive];\nvar Sortable2 = class {\n  constructor(_a, manager) {\n    __privateAdd(this, _index, __runInitializers(_init, 8, this)), __runInitializers(_init, 11, this);\n    __privateAdd(this, _previousGroup);\n    __privateAdd(this, _previousIndex);\n    __privateAdd(this, _group, __runInitializers(_init, 12, this)), __runInitializers(_init, 15, this);\n    __privateAdd(this, _element);\n    this.register = () => {\n      (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n        var _a, _b;\n        (_a = this.manager) == null ? void 0 : _a.registry.register(this.droppable);\n        (_b = this.manager) == null ? void 0 : _b.registry.register(this.draggable);\n      });\n      return () => this.unregister();\n    };\n    this.unregister = () => {\n      (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n        var _a, _b;\n        (_a = this.manager) == null ? void 0 : _a.registry.unregister(this.droppable);\n        (_b = this.manager) == null ? void 0 : _b.registry.unregister(this.draggable);\n      });\n    };\n    this.destroy = () => {\n      (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n        this.droppable.destroy();\n        this.draggable.destroy();\n      });\n    };\n    var _b = _a, {\n      effects: inputEffects = () => [],\n      group,\n      index,\n      sensors,\n      type,\n      transition = defaultSortableTransition,\n      plugins = defaultPlugins\n    } = _b, input = __objRest(_b, [\n      \"effects\",\n      \"group\",\n      \"index\",\n      \"sensors\",\n      \"type\",\n      \"transition\",\n      \"plugins\"\n    ]);\n    this.droppable = new SortableDroppable(input, manager, this);\n    this.draggable = new SortableDraggable(\n      __spreadProps(__spreadValues({}, input), {\n        effects: () => [\n          () => {\n            var _a2, _b2, _c;\n            const status = (_a2 = this.manager) == null ? void 0 : _a2.dragOperation.status;\n            if ((status == null ? void 0 : status.initializing) && this.id === ((_c = (_b2 = this.manager) == null ? void 0 : _b2.dragOperation.source) == null ? void 0 : _c.id)) {\n              store.clear(this.manager);\n            }\n            if (status == null ? void 0 : status.dragging) {\n              store.set(\n                this.manager,\n                this.id,\n                (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => ({\n                  initialIndex: this.index,\n                  initialGroup: this.group\n                }))\n              );\n            }\n          },\n          () => {\n            const { index: index2, group: group2, manager: _ } = this;\n            const previousIndex = __privateGet(this, _previousIndex);\n            const previousGroup = __privateGet(this, _previousGroup);\n            if (index2 !== previousIndex || group2 !== previousGroup) {\n              __privateSet(this, _previousIndex, index2);\n              __privateSet(this, _previousGroup, group2);\n              this.animate();\n            }\n          },\n          () => {\n            const { target } = this;\n            const { feedback, isDragSource } = this.draggable;\n            if (feedback == \"move\" && isDragSource) {\n              this.droppable.disabled = !target;\n            }\n          },\n          () => {\n            const { manager: manager2 } = this;\n            for (const plugin of plugins) {\n              manager2 == null ? void 0 : manager2.registry.register(plugin);\n            }\n          },\n          ...inputEffects()\n        ],\n        type,\n        sensors\n      }),\n      manager,\n      this\n    );\n    __privateSet(this, _element, input.element);\n    this.manager = manager;\n    this.index = index;\n    __privateSet(this, _previousIndex, index);\n    this.group = group;\n    __privateSet(this, _previousGroup, group);\n    this.type = type;\n    this.transition = transition;\n  }\n  get initialIndex() {\n    var _a, _b;\n    return (_b = (_a = store.get(this.manager, this.id)) == null ? void 0 : _a.initialIndex) != null ? _b : this.index;\n  }\n  get initialGroup() {\n    var _a, _b;\n    return (_b = (_a = store.get(this.manager, this.id)) == null ? void 0 : _a.initialGroup) != null ? _b : this.group;\n  }\n  animate() {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.untracked)(() => {\n      const { manager, transition } = this;\n      const { shape } = this.droppable;\n      if (!manager) return;\n      const { idle } = manager.dragOperation.status;\n      if (!shape || !transition || idle && !transition.idle) {\n        return;\n      }\n      manager.renderer.rendering.then(() => {\n        const { element } = this;\n        if (!element) {\n          return;\n        }\n        const updatedShape = this.refreshShape();\n        if (!updatedShape) {\n          return;\n        }\n        const delta = {\n          x: shape.boundingRectangle.left - updatedShape.boundingRectangle.left,\n          y: shape.boundingRectangle.top - updatedShape.boundingRectangle.top\n        };\n        const { translate } = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.getComputedStyles)(element);\n        const currentTranslate = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.computeTranslate)(element, translate, false);\n        const finalTranslate = (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.computeTranslate)(element, translate);\n        if (delta.x || delta.y) {\n          (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.animateTransform)({\n            element,\n            keyframes: {\n              translate: [\n                `${currentTranslate.x + delta.x}px ${currentTranslate.y + delta.y}px ${currentTranslate.z}`,\n                `${finalTranslate.x}px ${finalTranslate.y}px ${finalTranslate.z}`\n              ]\n            },\n            options: transition\n          }).then(() => {\n            if (!manager.dragOperation.status.dragging) {\n              this.droppable.shape = void 0;\n            }\n          });\n        }\n      });\n    });\n  }\n  get manager() {\n    return this.draggable.manager;\n  }\n  set manager(manager) {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      this.draggable.manager = manager;\n      this.droppable.manager = manager;\n    });\n  }\n  set element(element) {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      const previousElement = __privateGet(this, _element);\n      const droppableElement = this.droppable.element;\n      const draggableElement = this.draggable.element;\n      if (!droppableElement || droppableElement === previousElement) {\n        this.droppable.element = element;\n      }\n      if (!draggableElement || draggableElement === previousElement) {\n        this.draggable.element = element;\n      }\n      __privateSet(this, _element, element);\n    });\n  }\n  get element() {\n    var _a, _b;\n    const element = __privateGet(this, _element);\n    if (!element) return;\n    return (_b = (_a = _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_2__.ProxiedElements.get(element)) != null ? _a : element) != null ? _b : this.droppable.element;\n  }\n  set target(target) {\n    this.droppable.element = target;\n  }\n  get target() {\n    return this.droppable.element;\n  }\n  set source(source) {\n    this.draggable.element = source;\n  }\n  get source() {\n    return this.draggable.element;\n  }\n  get disabled() {\n    return this.draggable.disabled && this.droppable.disabled;\n  }\n  set feedback(value) {\n    this.draggable.feedback = value;\n  }\n  set disabled(value) {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      this.droppable.disabled = value;\n      this.draggable.disabled = value;\n    });\n  }\n  set data(data) {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      this.droppable.data = data;\n      this.draggable.data = data;\n    });\n  }\n  set handle(handle) {\n    this.draggable.handle = handle;\n  }\n  set id(id) {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      this.droppable.id = id;\n      this.draggable.id = id;\n    });\n  }\n  get id() {\n    return this.droppable.id;\n  }\n  set sensors(value) {\n    this.draggable.sensors = value;\n  }\n  set modifiers(value) {\n    this.draggable.modifiers = value;\n  }\n  set collisionPriority(value) {\n    this.droppable.collisionPriority = value;\n  }\n  set collisionDetector(value) {\n    this.droppable.collisionDetector = value != null ? value : _dnd_kit_collision__WEBPACK_IMPORTED_MODULE_4__.defaultCollisionDetection;\n  }\n  set alignment(value) {\n    this.draggable.alignment = value;\n  }\n  get alignment() {\n    return this.draggable.alignment;\n  }\n  set type(type) {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      this.droppable.type = type;\n      this.draggable.type = type;\n    });\n  }\n  get type() {\n    return this.draggable.type;\n  }\n  set accept(value) {\n    this.droppable.accept = value;\n  }\n  get accept() {\n    return this.droppable.accept;\n  }\n  get isDropTarget() {\n    return this.droppable.isDropTarget;\n  }\n  /**\n   * A boolean indicating whether the sortable item is the source of a drag operation.\n   */\n  get isDragSource() {\n    return this.draggable.isDragSource;\n  }\n  /**\n   * A boolean indicating whether the sortable item is being dragged.\n   */\n  get isDragging() {\n    return this.draggable.isDragging;\n  }\n  /**\n   * A boolean indicating whether the sortable item is being dropped.\n   */\n  get isDropping() {\n    return this.draggable.isDropping;\n  }\n  get status() {\n    return this.draggable.status;\n  }\n  refreshShape() {\n    return this.droppable.refreshShape();\n  }\n  accepts(draggable) {\n    return this.droppable.accepts(draggable);\n  }\n};\n_init = __decoratorStart();\n_index = new WeakMap();\n_previousGroup = new WeakMap();\n_previousIndex = new WeakMap();\n_group = new WeakMap();\n_element = new WeakMap();\n__decorateElement(_init, 4, \"index\", _index_dec, Sortable2, _index);\n__decorateElement(_init, 4, \"group\", _group_dec, Sortable2, _group);\n__decoratorMetadata(_init, Sortable2);\nvar SortableDraggable = class extends _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_3__.Draggable {\n  constructor(input, manager, sortable) {\n    super(input, manager);\n    this.sortable = sortable;\n  }\n  get index() {\n    return this.sortable.index;\n  }\n};\nvar SortableDroppable = class extends _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_3__.Droppable {\n  constructor(input, manager, sortable) {\n    super(input, manager);\n    this.sortable = sortable;\n  }\n};\n\n\n//# sourceMappingURL=sortable.js.map\n//# sourceMappingURL=sortable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtkb21AMC4xLjIxL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9kb20vc29ydGFibGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQStFO0FBQ0E7QUFDakI7QUFDc0k7QUFDeko7QUFDRzs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSx3SkFBd0o7QUFDek47QUFDQTtBQUNBLGtFQUFrRSxPQUFPO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBLEdBQUc7QUFDSDtBQUNBLEtBQUs7QUFDTCxzQ0FBc0MsUUFBUTtBQUM5QywrQ0FBK0M7QUFDL0M7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLCtCQUErQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLHFEQUFNO0FBQ2pEO0FBQ0E7QUFDQSwwQkFBMEIsc0RBQU07QUFDaEMsY0FBYyxnQkFBZ0I7QUFDOUIsV0FBVyx1RUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsa0RBQVE7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtREFBUztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLG1EQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXlIO0FBQ3pIO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtkb21AMC4xLjIxL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9kb20vc29ydGFibGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV2Vha1N0b3JlLCBlZmZlY3QsIGJhdGNoLCB1bnRyYWNrZWQsIHJlYWN0aXZlIH0gZnJvbSAnQGRuZC1raXQvc3RhdGUnO1xuaW1wb3J0IHsgY2xvc2VzdENvcm5lcnMsIGRlZmF1bHRDb2xsaXNpb25EZXRlY3Rpb24gfSBmcm9tICdAZG5kLWtpdC9jb2xsaXNpb24nO1xuaW1wb3J0IHsgU2Nyb2xsZXIsIERyYWdnYWJsZSwgRHJvcHBhYmxlIH0gZnJvbSAnQGRuZC1raXQvZG9tJztcbmltcG9ydCB7IGlzS2V5Ym9hcmRFdmVudCwgRE9NUmVjdGFuZ2xlLCBnZXRWaXNpYmxlQm91bmRpbmdSZWN0YW5nbGUsIHNjcm9sbEludG9WaWV3SWZOZWVkZWQsIGdldENvbXB1dGVkU3R5bGVzLCBjb21wdXRlVHJhbnNsYXRlLCBhbmltYXRlVHJhbnNmb3JtLCBQcm94aWVkRWxlbWVudHMgfSBmcm9tICdAZG5kLWtpdC9kb20vdXRpbGl0aWVzJztcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gJ0BkbmQta2l0L2Fic3RyYWN0JztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BkbmQta2l0L2dlb21ldHJ5JztcblxudmFyIF9fY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fa25vd25TeW1ib2wgPSAobmFtZSwgc3ltYm9sKSA9PiAoc3ltYm9sID0gU3ltYm9sW25hbWVdKSA/IHN5bWJvbCA6IFN5bWJvbC5mb3IoXCJTeW1ib2wuXCIgKyBuYW1lKTtcbnZhciBfX3R5cGVFcnJvciA9IChtc2cpID0+IHtcbiAgdGhyb3cgVHlwZUVycm9yKG1zZyk7XG59O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG52YXIgX19kZWNvcmF0b3JTdGFydCA9IChiYXNlKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIFssICwgLCBfX2NyZWF0ZSgoX2EgPSB2b2lkIDAgKSAhPSBudWxsID8gX2EgOiBudWxsKV07XG59O1xudmFyIF9fZGVjb3JhdG9yU3RyaW5ncyA9IFtcImNsYXNzXCIsIFwibWV0aG9kXCIsIFwiZ2V0dGVyXCIsIFwic2V0dGVyXCIsIFwiYWNjZXNzb3JcIiwgXCJmaWVsZFwiLCBcInZhbHVlXCIsIFwiZ2V0XCIsIFwic2V0XCJdO1xudmFyIF9fZXhwZWN0Rm4gPSAoZm4pID0+IGZuICE9PSB2b2lkIDAgJiYgdHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIgPyBfX3R5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpIDogZm47XG52YXIgX19kZWNvcmF0b3JDb250ZXh0ID0gKGtpbmQsIG5hbWUsIGRvbmUsIG1ldGFkYXRhLCBmbnMpID0+ICh7IGtpbmQ6IF9fZGVjb3JhdG9yU3RyaW5nc1traW5kXSwgbmFtZSwgbWV0YWRhdGEsIGFkZEluaXRpYWxpemVyOiAoZm4pID0+IGRvbmUuXyA/IF9fdHlwZUVycm9yKFwiQWxyZWFkeSBpbml0aWFsaXplZFwiKSA6IGZucy5wdXNoKF9fZXhwZWN0Rm4oZm4gfHwgbnVsbCkpIH0pO1xudmFyIF9fZGVjb3JhdG9yTWV0YWRhdGEgPSAoYXJyYXksIHRhcmdldCkgPT4gX19kZWZOb3JtYWxQcm9wKHRhcmdldCwgX19rbm93blN5bWJvbChcIm1ldGFkYXRhXCIpLCBhcnJheVszXSk7XG52YXIgX19ydW5Jbml0aWFsaXplcnMgPSAoYXJyYXksIGZsYWdzLCBzZWxmLCB2YWx1ZSkgPT4ge1xuICBmb3IgKHZhciBpID0gMCwgZm5zID0gYXJyYXlbZmxhZ3MgPj4gMV0sIG4gPSBmbnMgJiYgZm5zLmxlbmd0aDsgaSA8IG47IGkrKykgZmxhZ3MgJiAxID8gZm5zW2ldLmNhbGwoc2VsZikgOiB2YWx1ZSA9IGZuc1tpXS5jYWxsKHNlbGYsIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfX2RlY29yYXRlRWxlbWVudCA9IChhcnJheSwgZmxhZ3MsIG5hbWUsIGRlY29yYXRvcnMsIHRhcmdldCwgZXh0cmEpID0+IHtcbiAgdmFyIGZuLCBpdCwgZG9uZSwgY3R4LCBhY2Nlc3MsIGsgPSBmbGFncyAmIDcsIHMgPSBmYWxzZSwgcCA9IGZhbHNlO1xuICB2YXIgaiA9IGFycmF5Lmxlbmd0aCArIDEgLCBrZXkgPSBfX2RlY29yYXRvclN0cmluZ3NbayArIDVdO1xuICB2YXIgaW5pdGlhbGl6ZXJzID0gKGFycmF5W2ogLSAxXSA9IFtdKSwgZXh0cmFJbml0aWFsaXplcnMgPSBhcnJheVtqXSB8fCAoYXJyYXlbal0gPSBbXSk7XG4gIHZhciBkZXNjID0gKCh0YXJnZXQgPSB0YXJnZXQucHJvdG90eXBlKSwgX19nZXRPd25Qcm9wRGVzYyh7IGdldCBbbmFtZV0oKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBleHRyYSk7XG4gIH0sIHNldCBbbmFtZV0oeCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVTZXQodGhpcywgZXh0cmEsIHgpO1xuICB9IH0sIG5hbWUpKTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjdHggPSBfX2RlY29yYXRvckNvbnRleHQoaywgbmFtZSwgZG9uZSA9IHt9LCBhcnJheVszXSwgZXh0cmFJbml0aWFsaXplcnMpO1xuICAgIHtcbiAgICAgIGN0eC5zdGF0aWMgPSBzLCBjdHgucHJpdmF0ZSA9IHAsIGFjY2VzcyA9IGN0eC5hY2Nlc3MgPSB7IGhhczogKHgpID0+IG5hbWUgaW4geCB9O1xuICAgICAgYWNjZXNzLmdldCA9ICh4KSA9PiB4W25hbWVdO1xuICAgICAgYWNjZXNzLnNldCA9ICh4LCB5KSA9PiB4W25hbWVdID0geTtcbiAgICB9XG4gICAgaXQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoeyBnZXQ6IGRlc2MuZ2V0LCBzZXQ6IGRlc2Muc2V0IH0gLCBjdHgpLCBkb25lLl8gPSAxO1xuICAgIGlmIChpdCA9PT0gdm9pZCAwKSBfX2V4cGVjdEZuKGl0KSAmJiAoZGVzY1trZXldID0gaXQgKTtcbiAgICBlbHNlIGlmICh0eXBlb2YgaXQgIT09IFwib2JqZWN0XCIgfHwgaXQgPT09IG51bGwpIF9fdHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgIGVsc2UgX19leHBlY3RGbihmbiA9IGl0LmdldCkgJiYgKGRlc2MuZ2V0ID0gZm4pLCBfX2V4cGVjdEZuKGZuID0gaXQuc2V0KSAmJiAoZGVzYy5zZXQgPSBmbiksIF9fZXhwZWN0Rm4oZm4gPSBpdC5pbml0KSAmJiBpbml0aWFsaXplcnMudW5zaGlmdChmbik7XG4gIH1cbiAgcmV0dXJuIGRlc2MgJiYgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgZGVzYyksIHRhcmdldDtcbn07XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiBtZW1iZXIuaGFzKG9iaikgfHwgX190eXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgbWVtYmVyLmdldChvYmopKTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiBtZW1iZXIuaGFzKG9iaikgPyBfX3R5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIikgOiBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIiksIG1lbWJlci5zZXQob2JqLCB2YWx1ZSksIHZhbHVlKTtcblxuLy8gc3JjL3NvcnRhYmxlL3V0aWxpdGllcy50c1xuZnVuY3Rpb24gaXNTb3J0YWJsZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgU29ydGFibGVEcm9wcGFibGUgfHwgZWxlbWVudCBpbnN0YW5jZW9mIFNvcnRhYmxlRHJhZ2dhYmxlO1xufVxuXG4vLyBzcmMvc29ydGFibGUvcGx1Z2lucy9Tb3J0YWJsZUtleWJvYXJkUGx1Z2luLnRzXG52YXIgVE9MRVJBTkNFID0gMTA7XG52YXIgU29ydGFibGVLZXlib2FyZFBsdWdpbiA9IGNsYXNzIGV4dGVuZHMgUGx1Z2luIHtcbiAgY29uc3RydWN0b3IobWFuYWdlcikge1xuICAgIHN1cGVyKG1hbmFnZXIpO1xuICAgIGNvbnN0IGNsZWFudXBFZmZlY3QgPSBlZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSBtYW5hZ2VyO1xuICAgICAgaWYgKCFpc0tleWJvYXJkRXZlbnQoZHJhZ09wZXJhdGlvbi5hY3RpdmF0b3JFdmVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1NvcnRhYmxlKGRyYWdPcGVyYXRpb24uc291cmNlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZHJhZ09wZXJhdGlvbi5zdGF0dXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsZXIgPSBtYW5hZ2VyLnJlZ2lzdHJ5LnBsdWdpbnMuZ2V0KFNjcm9sbGVyKTtcbiAgICAgICAgaWYgKHNjcm9sbGVyKSB7XG4gICAgICAgICAgc2Nyb2xsZXIuZGlzYWJsZSgpO1xuICAgICAgICAgIHJldHVybiAoKSA9PiBzY3JvbGxlci5lbmFibGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gbWFuYWdlci5tb25pdG9yLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImRyYWdtb3ZlXCIsXG4gICAgICAoZXZlbnQsIG1hbmFnZXIyKSA9PiB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCBldmVudC5kZWZhdWx0UHJldmVudGVkIHx8ICFldmVudC5uYXRpdmVFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7IGRyYWdPcGVyYXRpb24gfSA9IG1hbmFnZXIyO1xuICAgICAgICAgIGlmICghaXNLZXlib2FyZEV2ZW50KGV2ZW50Lm5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWlzU29ydGFibGUoZHJhZ09wZXJhdGlvbi5zb3VyY2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZHJhZ09wZXJhdGlvbi5zaGFwZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7IGFjdGlvbnMsIGNvbGxpc2lvbk9ic2VydmVyLCByZWdpc3RyeSB9ID0gbWFuYWdlcjI7XG4gICAgICAgICAgY29uc3QgeyBieSB9ID0gZXZlbnQ7XG4gICAgICAgICAgaWYgKCFieSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oYnkpO1xuICAgICAgICAgIGNvbnN0IHsgc291cmNlLCB0YXJnZXQgfSA9IGRyYWdPcGVyYXRpb247XG4gICAgICAgICAgY29uc3QgeyBjZW50ZXIgfSA9IGRyYWdPcGVyYXRpb24uc2hhcGUuY3VycmVudDtcbiAgICAgICAgICBjb25zdCBwb3RlbnRpYWxUYXJnZXRzID0gW107XG4gICAgICAgICAgY29uc3QgY2xlYW51cCA9IFtdO1xuICAgICAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZHJvcHBhYmxlIG9mIHJlZ2lzdHJ5LmRyb3BwYWJsZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBpZDogaWQyIH0gPSBkcm9wcGFibGU7XG4gICAgICAgICAgICAgIGlmICghZHJvcHBhYmxlLmFjY2VwdHMoc291cmNlKSB8fCBpZDIgPT09ICh0YXJnZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldC5pZCkgJiYgaXNTb3J0YWJsZShkcm9wcGFibGUpIHx8ICFkcm9wcGFibGUuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxldCBwcmV2aW91c1NoYXBlID0gZHJvcHBhYmxlLnNoYXBlO1xuICAgICAgICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBET01SZWN0YW5nbGUoZHJvcHBhYmxlLmVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6IChlbGVtZW50KSA9PiBnZXRWaXNpYmxlQm91bmRpbmdSZWN0YW5nbGUoZWxlbWVudCwgdm9pZCAwLCAwLjIpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIXNoYXBlLmhlaWdodCB8fCAhc2hhcGUud2lkdGgpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09IFwiZG93blwiICYmIGNlbnRlci55ICsgVE9MRVJBTkNFIDwgc2hhcGUuY2VudGVyLnkgfHwgZGlyZWN0aW9uID09IFwidXBcIiAmJiBjZW50ZXIueSAtIFRPTEVSQU5DRSA+IHNoYXBlLmNlbnRlci55IHx8IGRpcmVjdGlvbiA9PSBcImxlZnRcIiAmJiBjZW50ZXIueCAtIFRPTEVSQU5DRSA+IHNoYXBlLmNlbnRlci54IHx8IGRpcmVjdGlvbiA9PSBcInJpZ2h0XCIgJiYgY2VudGVyLnggKyBUT0xFUkFOQ0UgPCBzaGFwZS5jZW50ZXIueCkge1xuICAgICAgICAgICAgICAgIHBvdGVudGlhbFRhcmdldHMucHVzaChkcm9wcGFibGUpO1xuICAgICAgICAgICAgICAgIGRyb3BwYWJsZS5zaGFwZSA9IHNoYXBlO1xuICAgICAgICAgICAgICAgIGNsZWFudXAucHVzaCgoKSA9PiBkcm9wcGFibGUuc2hhcGUgPSBwcmV2aW91c1NoYXBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29sbGlzaW9uT2JzZXJ2ZXIuZGlzYWJsZSgpO1xuICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbnMgPSBjb2xsaXNpb25PYnNlcnZlci5jb21wdXRlQ29sbGlzaW9ucyhcbiAgICAgICAgICAgIHBvdGVudGlhbFRhcmdldHMsXG4gICAgICAgICAgICBjbG9zZXN0Q29ybmVyc1xuICAgICAgICAgICk7XG4gICAgICAgICAgYmF0Y2goKCkgPT4gY2xlYW51cC5mb3JFYWNoKChjbGVhbikgPT4gY2xlYW4oKSkpO1xuICAgICAgICAgIGNvbnN0IFtmaXJzdENvbGxpc2lvbl0gPSBjb2xsaXNpb25zO1xuICAgICAgICAgIGlmICghZmlyc3RDb2xsaXNpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgeyBpZCB9ID0gZmlyc3RDb2xsaXNpb247XG4gICAgICAgICAgY29uc3QgeyBpbmRleCwgZ3JvdXAgfSA9IHNvdXJjZS5zb3J0YWJsZTtcbiAgICAgICAgICBhY3Rpb25zLnNldERyb3BUYXJnZXQoaWQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2U6IHNvdXJjZTIsIHRhcmdldDogdGFyZ2V0Miwgc2hhcGUgfSA9IGRyYWdPcGVyYXRpb247XG4gICAgICAgICAgICBpZiAoIXNvdXJjZTIgfHwgIWlzU29ydGFibGUoc291cmNlMikgfHwgIXNoYXBlKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgaW5kZXg6IG5ld0luZGV4LFxuICAgICAgICAgICAgICBncm91cDogbmV3R3JvdXAsXG4gICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0RWxlbWVudFxuICAgICAgICAgICAgfSA9IHNvdXJjZTIuc29ydGFibGU7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gaW5kZXggIT09IG5ld0luZGV4IHx8IGdyb3VwICE9PSBuZXdHcm91cDtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB1cGRhdGVkID8gdGFyZ2V0RWxlbWVudCA6IHRhcmdldDIgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldDIuZWxlbWVudDtcbiAgICAgICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChlbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRTaGFwZSA9IG5ldyBET01SZWN0YW5nbGUoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZWRTaGFwZSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IFJlY3RhbmdsZS5kZWx0YShcbiAgICAgICAgICAgICAgdXBkYXRlZFNoYXBlLFxuICAgICAgICAgICAgICBSZWN0YW5nbGUuZnJvbShzaGFwZS5jdXJyZW50LmJvdW5kaW5nUmVjdGFuZ2xlKSxcbiAgICAgICAgICAgICAgc291cmNlMi5hbGlnbm1lbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhY3Rpb25zLm1vdmUoe1xuICAgICAgICAgICAgICBieTogZGVsdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgYWN0aW9ucy5zZXREcm9wVGFyZ2V0KHNvdXJjZTIuaWQpLnRoZW4oKCkgPT4gY29sbGlzaW9uT2JzZXJ2ZXIuZW5hYmxlKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29sbGlzaW9uT2JzZXJ2ZXIuZW5hYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5kZXN0cm95ID0gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIGNsZWFudXBFZmZlY3QoKTtcbiAgICB9O1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKGRlbHRhKSB7XG4gIGNvbnN0IHsgeCwgeSB9ID0gZGVsdGE7XG4gIGlmICh4ID4gMCkge1xuICAgIHJldHVybiBcInJpZ2h0XCI7XG4gIH0gZWxzZSBpZiAoeCA8IDApIHtcbiAgICByZXR1cm4gXCJsZWZ0XCI7XG4gIH0gZWxzZSBpZiAoeSA+IDApIHtcbiAgICByZXR1cm4gXCJkb3duXCI7XG4gIH0gZWxzZSBpZiAoeSA8IDApIHtcbiAgICByZXR1cm4gXCJ1cFwiO1xuICB9XG59XG5cbi8vIC4uL2hlbHBlcnMvZGlzdC9pbmRleC5qc1xudmFyIF9fZGVmUHJvcDIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wczIgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjczIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wMiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtMiA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wMiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AyKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlczIgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcDIuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcDIoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzMilcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMyKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtMi5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AyKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMyID0gKGEsIGIpID0+IF9fZGVmUHJvcHMyKGEsIF9fZ2V0T3duUHJvcERlc2NzMihiKSk7XG5mdW5jdGlvbiBhcnJheU1vdmUoYXJyYXksIGZyb20sIHRvKSB7XG4gIGlmIChmcm9tID09PSB0bykge1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuICBjb25zdCBuZXdBcnJheSA9IGFycmF5LnNsaWNlKCk7XG4gIG5ld0FycmF5LnNwbGljZSh0bywgMCwgbmV3QXJyYXkuc3BsaWNlKGZyb20sIDEpWzBdKTtcbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuZnVuY3Rpb24gbXV0YXRlKGl0ZW1zLCBldmVudCwgbXV0YXRpb24pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyBzb3VyY2UsIHRhcmdldCwgY2FuY2VsZWQgfSA9IGV2ZW50Lm9wZXJhdGlvbjtcbiAgaWYgKCFzb3VyY2UgfHwgIXRhcmdldCB8fCBjYW5jZWxlZCkge1xuICAgIGlmIChcInByZXZlbnREZWZhdWx0XCIgaW4gZXZlbnQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9XG4gIGNvbnN0IGZpbmRJbmRleCA9IChpdGVtLCBpZCkgPT4gaXRlbSA9PT0gaWQgfHwgdHlwZW9mIGl0ZW0gPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIGl0ZW0gJiYgaXRlbS5pZCA9PT0gaWQ7XG4gIGlmIChBcnJheS5pc0FycmF5KGl0ZW1zKSkge1xuICAgIGNvbnN0IHNvdXJjZUluZGV4MiA9IGl0ZW1zLmZpbmRJbmRleCgoaXRlbSkgPT4gZmluZEluZGV4KGl0ZW0sIHNvdXJjZS5pZCkpO1xuICAgIGNvbnN0IHRhcmdldEluZGV4MiA9IGl0ZW1zLmZpbmRJbmRleCgoaXRlbSkgPT4gZmluZEluZGV4KGl0ZW0sIHRhcmdldC5pZCkpO1xuICAgIGlmIChzb3VyY2VJbmRleDIgPT09IC0xIHx8IHRhcmdldEluZGV4MiA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG4gICAgaWYgKCFjYW5jZWxlZCAmJiBcImluZGV4XCIgaW4gc291cmNlICYmIHR5cGVvZiBzb3VyY2UuaW5kZXggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IHByb2plY3RlZFNvdXJjZUluZGV4ID0gc291cmNlLmluZGV4O1xuICAgICAgaWYgKHByb2plY3RlZFNvdXJjZUluZGV4ICE9PSBzb3VyY2VJbmRleDIpIHtcbiAgICAgICAgcmV0dXJuIG11dGF0aW9uKGl0ZW1zLCBzb3VyY2VJbmRleDIsIHByb2plY3RlZFNvdXJjZUluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG11dGF0aW9uKGl0ZW1zLCBzb3VyY2VJbmRleDIsIHRhcmdldEluZGV4Mik7XG4gIH1cbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGl0ZW1zKTtcbiAgbGV0IHNvdXJjZUluZGV4ID0gLTE7XG4gIGxldCBzb3VyY2VQYXJlbnQ7XG4gIGxldCB0YXJnZXRJbmRleCA9IC0xO1xuICBsZXQgdGFyZ2V0UGFyZW50O1xuICBmb3IgKGNvbnN0IFtpZCwgY2hpbGRyZW5dIG9mIGVudHJpZXMpIHtcbiAgICBpZiAoc291cmNlSW5kZXggPT09IC0xKSB7XG4gICAgICBzb3VyY2VJbmRleCA9IGNoaWxkcmVuLmZpbmRJbmRleCgoaXRlbSkgPT4gZmluZEluZGV4KGl0ZW0sIHNvdXJjZS5pZCkpO1xuICAgICAgaWYgKHNvdXJjZUluZGV4ICE9PSAtMSkge1xuICAgICAgICBzb3VyY2VQYXJlbnQgPSBpZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRhcmdldEluZGV4ID09PSAtMSkge1xuICAgICAgdGFyZ2V0SW5kZXggPSBjaGlsZHJlbi5maW5kSW5kZXgoKGl0ZW0pID0+IGZpbmRJbmRleChpdGVtLCB0YXJnZXQuaWQpKTtcbiAgICAgIGlmICh0YXJnZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgdGFyZ2V0UGFyZW50ID0gaWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzb3VyY2VJbmRleCAhPT0gLTEgJiYgdGFyZ2V0SW5kZXggIT09IC0xKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKCFzb3VyY2UubWFuYWdlcikgcmV0dXJuIGl0ZW1zO1xuICBjb25zdCB7IGRyYWdPcGVyYXRpb24gfSA9IHNvdXJjZS5tYW5hZ2VyO1xuICBjb25zdCBwb3NpdGlvbiA9IChfYiA9IChfYSA9IGRyYWdPcGVyYXRpb24uc2hhcGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jdXJyZW50LmNlbnRlcikgIT0gbnVsbCA/IF9iIDogZHJhZ09wZXJhdGlvbi5wb3NpdGlvbi5jdXJyZW50O1xuICBpZiAodGFyZ2V0UGFyZW50ID09IG51bGwpIHtcbiAgICBpZiAodGFyZ2V0LmlkIGluIGl0ZW1zKSB7XG4gICAgICBjb25zdCBpbnNlcnRpb25JbmRleCA9IHRhcmdldC5zaGFwZSAmJiBwb3NpdGlvbi55ID4gdGFyZ2V0LnNoYXBlLmNlbnRlci55ID8gaXRlbXNbdGFyZ2V0LmlkXS5sZW5ndGggOiAwO1xuICAgICAgdGFyZ2V0UGFyZW50ID0gdGFyZ2V0LmlkO1xuICAgICAgdGFyZ2V0SW5kZXggPSBpbnNlcnRpb25JbmRleDtcbiAgICB9XG4gIH1cbiAgaWYgKHNvdXJjZVBhcmVudCA9PSBudWxsIHx8IHRhcmdldFBhcmVudCA9PSBudWxsIHx8IHNvdXJjZVBhcmVudCA9PT0gdGFyZ2V0UGFyZW50ICYmIHNvdXJjZUluZGV4ID09PSB0YXJnZXRJbmRleCkge1xuICAgIGlmIChcInByZXZlbnREZWZhdWx0XCIgaW4gZXZlbnQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9XG4gIGlmIChzb3VyY2VQYXJlbnQgPT09IHRhcmdldFBhcmVudCkge1xuICAgIHJldHVybiBfX3NwcmVhZFByb3BzMihfX3NwcmVhZFZhbHVlczIoe30sIGl0ZW1zKSwge1xuICAgICAgW3NvdXJjZVBhcmVudF06IG11dGF0aW9uKGl0ZW1zW3NvdXJjZVBhcmVudF0sIHNvdXJjZUluZGV4LCB0YXJnZXRJbmRleClcbiAgICB9KTtcbiAgfVxuICBjb25zdCBpc0JlbG93VGFyZ2V0ID0gdGFyZ2V0LnNoYXBlICYmIE1hdGgucm91bmQocG9zaXRpb24ueSkgPiBNYXRoLnJvdW5kKHRhcmdldC5zaGFwZS5jZW50ZXIueSk7XG4gIGNvbnN0IG1vZGlmaWVyID0gaXNCZWxvd1RhcmdldCA/IDEgOiAwO1xuICBjb25zdCBzb3VyY2VJdGVtID0gaXRlbXNbc291cmNlUGFyZW50XVtzb3VyY2VJbmRleF07XG4gIHJldHVybiBfX3NwcmVhZFByb3BzMihfX3NwcmVhZFZhbHVlczIoe30sIGl0ZW1zKSwge1xuICAgIFtzb3VyY2VQYXJlbnRdOiBbXG4gICAgICAuLi5pdGVtc1tzb3VyY2VQYXJlbnRdLnNsaWNlKDAsIHNvdXJjZUluZGV4KSxcbiAgICAgIC4uLml0ZW1zW3NvdXJjZVBhcmVudF0uc2xpY2Uoc291cmNlSW5kZXggKyAxKVxuICAgIF0sXG4gICAgW3RhcmdldFBhcmVudF06IFtcbiAgICAgIC4uLml0ZW1zW3RhcmdldFBhcmVudF0uc2xpY2UoMCwgdGFyZ2V0SW5kZXggKyBtb2RpZmllciksXG4gICAgICBzb3VyY2VJdGVtLFxuICAgICAgLi4uaXRlbXNbdGFyZ2V0UGFyZW50XS5zbGljZSh0YXJnZXRJbmRleCArIG1vZGlmaWVyKVxuICAgIF1cbiAgfSk7XG59XG5mdW5jdGlvbiBtb3ZlKGl0ZW1zLCBldmVudCkge1xuICByZXR1cm4gbXV0YXRlKGl0ZW1zLCBldmVudCwgYXJyYXlNb3ZlKTtcbn1cbnZhciBkZWZhdWx0R3JvdXAgPSBcIl9fZGVmYXVsdF9fXCI7XG52YXIgT3B0aW1pc3RpY1NvcnRpbmdQbHVnaW4gPSBjbGFzcyBleHRlbmRzIFBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICBzdXBlcihtYW5hZ2VyKTtcbiAgICBjb25zdCBnZXRTb3J0YWJsZUluc3RhbmNlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNvcnRhYmxlSW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGZvciAoY29uc3QgZHJvcHBhYmxlIG9mIG1hbmFnZXIucmVnaXN0cnkuZHJvcHBhYmxlcykge1xuICAgICAgICBpZiAoZHJvcHBhYmxlIGluc3RhbmNlb2YgU29ydGFibGVEcm9wcGFibGUpIHtcbiAgICAgICAgICBjb25zdCB7IHNvcnRhYmxlIH0gPSBkcm9wcGFibGU7XG4gICAgICAgICAgY29uc3QgeyBncm91cCB9ID0gc29ydGFibGU7XG4gICAgICAgICAgbGV0IGluc3RhbmNlcyA9IHNvcnRhYmxlSW5zdGFuY2VzLmdldChncm91cCk7XG4gICAgICAgICAgaWYgKCFpbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIGluc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICAgICAgICBzb3J0YWJsZUluc3RhbmNlcy5zZXQoZ3JvdXAsIGluc3RhbmNlcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluc3RhbmNlcy5hZGQoc29ydGFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IFtncm91cCwgaW5zdGFuY2VzXSBvZiBzb3J0YWJsZUluc3RhbmNlcykge1xuICAgICAgICBzb3J0YWJsZUluc3RhbmNlcy5zZXQoZ3JvdXAsIG5ldyBTZXQoc29ydChpbnN0YW5jZXMpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc29ydGFibGVJbnN0YW5jZXM7XG4gICAgfTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IFtcbiAgICAgIG1hbmFnZXIubW9uaXRvci5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgKGV2ZW50LCBtYW5hZ2VyMikgPT4ge1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRyYWdPcGVyYXRpb24gfSA9IG1hbmFnZXIyO1xuICAgICAgICBjb25zdCB7IHNvdXJjZSwgdGFyZ2V0IH0gPSBkcmFnT3BlcmF0aW9uO1xuICAgICAgICBpZiAoIWlzU29ydGFibGUoc291cmNlKSB8fCAhaXNTb3J0YWJsZSh0YXJnZXQpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2Uuc29ydGFibGUgPT09IHRhcmdldC5zb3J0YWJsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnN0YW5jZXMgPSBnZXRTb3J0YWJsZUluc3RhbmNlcygpO1xuICAgICAgICBjb25zdCBzYW1lR3JvdXAgPSBzb3VyY2Uuc29ydGFibGUuZ3JvdXAgPT09IHRhcmdldC5zb3J0YWJsZS5ncm91cDtcbiAgICAgICAgY29uc3Qgc291cmNlSW5zdGFuY2VzID0gaW5zdGFuY2VzLmdldChzb3VyY2Uuc29ydGFibGUuZ3JvdXApO1xuICAgICAgICBjb25zdCB0YXJnZXRJbnN0YW5jZXMgPSBzYW1lR3JvdXAgPyBzb3VyY2VJbnN0YW5jZXMgOiBpbnN0YW5jZXMuZ2V0KHRhcmdldC5zb3J0YWJsZS5ncm91cCk7XG4gICAgICAgIGlmICghc291cmNlSW5zdGFuY2VzIHx8ICF0YXJnZXRJbnN0YW5jZXMpIHJldHVybjtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICAgICAgbWFuYWdlcjIucmVuZGVyZXIucmVuZGVyaW5nLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICBjb25zdCBuZXdJbnN0YW5jZXMgPSBnZXRTb3J0YWJsZUluc3RhbmNlcygpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZ3JvdXAsIHNvcnRhYmxlSW5zdGFuY2VzXSBvZiBpbnN0YW5jZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5mcm9tKHNvcnRhYmxlSW5zdGFuY2VzKS5lbnRyaWVzKCk7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBzb3J0YWJsZV0gb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgIGlmIChzb3J0YWJsZS5pbmRleCAhPT0gaW5kZXggfHwgc29ydGFibGUuZ3JvdXAgIT09IGdyb3VwIHx8ICEoKF9hID0gbmV3SW5zdGFuY2VzLmdldChncm91cCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5oYXMoc29ydGFibGUpKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc291cmNlRWxlbWVudCA9IHNvdXJjZS5zb3J0YWJsZS5lbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IHRhcmdldC5zb3J0YWJsZS5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXRFbGVtZW50IHx8ICFzb3VyY2VFbGVtZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2FtZUdyb3VwICYmIHRhcmdldC5pZCA9PT0gc291cmNlLnNvcnRhYmxlLmdyb3VwKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9yZGVyZWRTb3VyY2VTb3J0YWJsZXMgPSBzb3J0KHNvdXJjZUluc3RhbmNlcyk7XG4gICAgICAgICAgICBjb25zdCBvcmRlcmVkVGFyZ2V0U29ydGFibGVzID0gc2FtZUdyb3VwID8gb3JkZXJlZFNvdXJjZVNvcnRhYmxlcyA6IHNvcnQodGFyZ2V0SW5zdGFuY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUdyb3VwID0gKF9iID0gc291cmNlLnNvcnRhYmxlLmdyb3VwKSAhPSBudWxsID8gX2IgOiBkZWZhdWx0R3JvdXA7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRHcm91cCA9IChfYyA9IHRhcmdldC5zb3J0YWJsZS5ncm91cCkgIT0gbnVsbCA/IF9jIDogZGVmYXVsdEdyb3VwO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICAgIFtzb3VyY2VHcm91cF06IG9yZGVyZWRTb3VyY2VTb3J0YWJsZXMsXG4gICAgICAgICAgICAgIFt0YXJnZXRHcm91cF06IG9yZGVyZWRUYXJnZXRTb3J0YWJsZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IG1vdmUoc3RhdGUsIGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gbmV3U3RhdGUpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUluZGV4ID0gbmV3U3RhdGVbdGFyZ2V0R3JvdXBdLmluZGV4T2Yoc291cmNlLnNvcnRhYmxlKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gbmV3U3RhdGVbdGFyZ2V0R3JvdXBdLmluZGV4T2YodGFyZ2V0LnNvcnRhYmxlKTtcbiAgICAgICAgICAgIG1hbmFnZXIyLmNvbGxpc2lvbk9ic2VydmVyLmRpc2FibGUoKTtcbiAgICAgICAgICAgIHJlb3JkZXIoc291cmNlRWxlbWVudCwgc291cmNlSW5kZXgsIHRhcmdldEVsZW1lbnQsIHRhcmdldEluZGV4KTtcbiAgICAgICAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHNvcnRhYmxlXSBvZiBuZXdTdGF0ZVtzb3VyY2VHcm91cF0uZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgc29ydGFibGUuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIXNhbWVHcm91cCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBzb3J0YWJsZV0gb2YgbmV3U3RhdGVbdGFyZ2V0R3JvdXBdLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgc29ydGFibGUuZ3JvdXAgPSB0YXJnZXQuc29ydGFibGUuZ3JvdXA7XG4gICAgICAgICAgICAgICAgICBzb3J0YWJsZS5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYW5hZ2VyMi5hY3Rpb25zLnNldERyb3BUYXJnZXQoc291cmNlLmlkKS50aGVuKCgpID0+IG1hbmFnZXIyLmNvbGxpc2lvbk9ic2VydmVyLmVuYWJsZSgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSxcbiAgICAgIG1hbmFnZXIubW9uaXRvci5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VuZFwiLCAoZXZlbnQsIG1hbmFnZXIyKSA9PiB7XG4gICAgICAgIGlmICghZXZlbnQuY2FuY2VsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBkcmFnT3BlcmF0aW9uIH0gPSBtYW5hZ2VyMjtcbiAgICAgICAgY29uc3QgeyBzb3VyY2UgfSA9IGRyYWdPcGVyYXRpb247XG4gICAgICAgIGlmICghaXNTb3J0YWJsZShzb3VyY2UpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2Uuc29ydGFibGUuaW5pdGlhbEluZGV4ID09PSBzb3VyY2Uuc29ydGFibGUuaW5kZXggJiYgc291cmNlLnNvcnRhYmxlLmluaXRpYWxHcm91cCA9PT0gc291cmNlLnNvcnRhYmxlLmdyb3VwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBpbnN0YW5jZXMgPSBnZXRTb3J0YWJsZUluc3RhbmNlcygpO1xuICAgICAgICAgIGNvbnN0IGluaXRpYWxHcm91cEluc3RhbmNlcyA9IGluc3RhbmNlcy5nZXQoXG4gICAgICAgICAgICBzb3VyY2Uuc29ydGFibGUuaW5pdGlhbEdyb3VwXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIWluaXRpYWxHcm91cEluc3RhbmNlcykgcmV0dXJuO1xuICAgICAgICAgIG1hbmFnZXIyLnJlbmRlcmVyLnJlbmRlcmluZy50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2dyb3VwLCBzb3J0YWJsZUluc3RhbmNlc10gb2YgaW5zdGFuY2VzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuZnJvbShzb3J0YWJsZUluc3RhbmNlcykuZW50cmllcygpO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgc29ydGFibGVdIG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc29ydGFibGUuaW5kZXggIT09IGluZGV4IHx8IHNvcnRhYmxlLmdyb3VwICE9PSBncm91cCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5pdGlhbEdyb3VwID0gc29ydChpbml0aWFsR3JvdXBJbnN0YW5jZXMpO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlRWxlbWVudCA9IHNvdXJjZS5zb3J0YWJsZS5lbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gaW5pdGlhbEdyb3VwW3NvdXJjZS5zb3J0YWJsZS5pbml0aWFsSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IHRhcmdldCA9PSBudWxsID8gdm9pZCAwIDogdGFyZ2V0LmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0RWxlbWVudCB8fCAhc291cmNlRWxlbWVudCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW9yZGVyKHNvdXJjZUVsZW1lbnQsIHRhcmdldC5pbmRleCwgdGFyZ2V0RWxlbWVudCwgc291cmNlLmluZGV4KTtcbiAgICAgICAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBbXywgc29ydGFibGVJbnN0YW5jZXNdIG9mIGluc3RhbmNlcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuZnJvbShzb3J0YWJsZUluc3RhbmNlcykudmFsdWVzKCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzb3J0YWJsZSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICBzb3J0YWJsZS5pbmRleCA9IHNvcnRhYmxlLmluaXRpYWxJbmRleDtcbiAgICAgICAgICAgICAgICAgIHNvcnRhYmxlLmdyb3VwID0gc29ydGFibGUuaW5pdGlhbEdyb3VwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICBdO1xuICAgIHRoaXMuZGVzdHJveSA9ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgdW5zdWJzY3JpYmVMaXN0ZW5lciBvZiB1bnN1YnNjcmliZSkge1xuICAgICAgICB1bnN1YnNjcmliZUxpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbmZ1bmN0aW9uIHJlb3JkZXIoc291cmNlRWxlbWVudCwgc291cmNlSW5kZXgsIHRhcmdldEVsZW1lbnQsIHRhcmdldEluZGV4KSB7XG4gIGNvbnN0IHBvc2l0aW9uID0gdGFyZ2V0SW5kZXggPCBzb3VyY2VJbmRleCA/IFwiYWZ0ZXJlbmRcIiA6IFwiYmVmb3JlYmVnaW5cIjtcbiAgdGFyZ2V0RWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQocG9zaXRpb24sIHNvdXJjZUVsZW1lbnQpO1xufVxuZnVuY3Rpb24gc29ydEJ5SW5kZXgoYSwgYikge1xuICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG59XG5mdW5jdGlvbiBzb3J0KGluc3RhbmNlcykge1xuICByZXR1cm4gQXJyYXkuZnJvbShpbnN0YW5jZXMpLnNvcnQoc29ydEJ5SW5kZXgpO1xufVxuXG4vLyBzcmMvc29ydGFibGUvc29ydGFibGUudHNcbnZhciBkZWZhdWx0UGx1Z2lucyA9IFtcbiAgU29ydGFibGVLZXlib2FyZFBsdWdpbixcbiAgT3B0aW1pc3RpY1NvcnRpbmdQbHVnaW5cbl07XG52YXIgZGVmYXVsdFNvcnRhYmxlVHJhbnNpdGlvbiA9IHtcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzaW5nOiBcImN1YmljLWJlemllcigwLjI1LCAxLCAwLjUsIDEpXCIsXG4gIGlkbGU6IGZhbHNlXG59O1xudmFyIHN0b3JlID0gbmV3IFdlYWtTdG9yZSgpO1xudmFyIF9ncm91cF9kZWMsIF9pbmRleF9kZWMsIF9pbml0LCBfaW5kZXgsIF9wcmV2aW91c0dyb3VwLCBfcHJldmlvdXNJbmRleCwgX2dyb3VwLCBfZWxlbWVudDtcbl9pbmRleF9kZWMgPSBbcmVhY3RpdmVdLCBfZ3JvdXBfZGVjID0gW3JlYWN0aXZlXTtcbnZhciBTb3J0YWJsZTIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF9hLCBtYW5hZ2VyKSB7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9pbmRleCwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQsIDgsIHRoaXMpKSwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQsIDExLCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3ByZXZpb3VzR3JvdXApO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcHJldmlvdXNJbmRleCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9ncm91cCwgX19ydW5Jbml0aWFsaXplcnMoX2luaXQsIDEyLCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCAxNSwgdGhpcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9lbGVtZW50KTtcbiAgICB0aGlzLnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2EgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZWdpc3RyeS5yZWdpc3Rlcih0aGlzLmRyb3BwYWJsZSk7XG4gICAgICAgIChfYiA9IHRoaXMubWFuYWdlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnJlZ2lzdHJ5LnJlZ2lzdGVyKHRoaXMuZHJhZ2dhYmxlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHRoaXMudW5yZWdpc3RlcigpO1xuICAgIH07XG4gICAgdGhpcy51bnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2EgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZWdpc3RyeS51bnJlZ2lzdGVyKHRoaXMuZHJvcHBhYmxlKTtcbiAgICAgICAgKF9iID0gdGhpcy5tYW5hZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2IucmVnaXN0cnkudW5yZWdpc3Rlcih0aGlzLmRyYWdnYWJsZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuZGVzdHJveSA9ICgpID0+IHtcbiAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgdGhpcy5kcm9wcGFibGUuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRyYWdnYWJsZS5kZXN0cm95KCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBfYiA9IF9hLCB7XG4gICAgICBlZmZlY3RzOiBpbnB1dEVmZmVjdHMgPSAoKSA9PiBbXSxcbiAgICAgIGdyb3VwLFxuICAgICAgaW5kZXgsXG4gICAgICBzZW5zb3JzLFxuICAgICAgdHlwZSxcbiAgICAgIHRyYW5zaXRpb24gPSBkZWZhdWx0U29ydGFibGVUcmFuc2l0aW9uLFxuICAgICAgcGx1Z2lucyA9IGRlZmF1bHRQbHVnaW5zXG4gICAgfSA9IF9iLCBpbnB1dCA9IF9fb2JqUmVzdChfYiwgW1xuICAgICAgXCJlZmZlY3RzXCIsXG4gICAgICBcImdyb3VwXCIsXG4gICAgICBcImluZGV4XCIsXG4gICAgICBcInNlbnNvcnNcIixcbiAgICAgIFwidHlwZVwiLFxuICAgICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAgICBcInBsdWdpbnNcIlxuICAgIF0pO1xuICAgIHRoaXMuZHJvcHBhYmxlID0gbmV3IFNvcnRhYmxlRHJvcHBhYmxlKGlucHV0LCBtYW5hZ2VyLCB0aGlzKTtcbiAgICB0aGlzLmRyYWdnYWJsZSA9IG5ldyBTb3J0YWJsZURyYWdnYWJsZShcbiAgICAgIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGlucHV0KSwge1xuICAgICAgICBlZmZlY3RzOiAoKSA9PiBbXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hMiwgX2IyLCBfYztcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IChfYTIgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZHJhZ09wZXJhdGlvbi5zdGF0dXM7XG4gICAgICAgICAgICBpZiAoKHN0YXR1cyA9PSBudWxsID8gdm9pZCAwIDogc3RhdHVzLmluaXRpYWxpemluZykgJiYgdGhpcy5pZCA9PT0gKChfYyA9IChfYjIgPSB0aGlzLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYjIuZHJhZ09wZXJhdGlvbi5zb3VyY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYy5pZCkpIHtcbiAgICAgICAgICAgICAgc3RvcmUuY2xlYXIodGhpcy5tYW5hZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXR1cy5kcmFnZ2luZykge1xuICAgICAgICAgICAgICBzdG9yZS5zZXQoXG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLFxuICAgICAgICAgICAgICAgIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdW50cmFja2VkKCgpID0+ICh7XG4gICAgICAgICAgICAgICAgICBpbml0aWFsSW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICAgICAgICAgICAgICBpbml0aWFsR3JvdXA6IHRoaXMuZ3JvdXBcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaW5kZXg6IGluZGV4MiwgZ3JvdXA6IGdyb3VwMiwgbWFuYWdlcjogXyB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzSW5kZXggPSBfX3ByaXZhdGVHZXQodGhpcywgX3ByZXZpb3VzSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNHcm91cCA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfcHJldmlvdXNHcm91cCk7XG4gICAgICAgICAgICBpZiAoaW5kZXgyICE9PSBwcmV2aW91c0luZGV4IHx8IGdyb3VwMiAhPT0gcHJldmlvdXNHcm91cCkge1xuICAgICAgICAgICAgICBfX3ByaXZhdGVTZXQodGhpcywgX3ByZXZpb3VzSW5kZXgsIGluZGV4Mik7XG4gICAgICAgICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcHJldmlvdXNHcm91cCwgZ3JvdXAyKTtcbiAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IHsgZmVlZGJhY2ssIGlzRHJhZ1NvdXJjZSB9ID0gdGhpcy5kcmFnZ2FibGU7XG4gICAgICAgICAgICBpZiAoZmVlZGJhY2sgPT0gXCJtb3ZlXCIgJiYgaXNEcmFnU291cmNlKSB7XG4gICAgICAgICAgICAgIHRoaXMuZHJvcHBhYmxlLmRpc2FibGVkID0gIXRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbWFuYWdlcjogbWFuYWdlcjIgfSA9IHRoaXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBwbHVnaW5zKSB7XG4gICAgICAgICAgICAgIG1hbmFnZXIyID09IG51bGwgPyB2b2lkIDAgOiBtYW5hZ2VyMi5yZWdpc3RyeS5yZWdpc3RlcihwbHVnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4uaW5wdXRFZmZlY3RzKClcbiAgICAgICAgXSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc2Vuc29yc1xuICAgICAgfSksXG4gICAgICBtYW5hZ2VyLFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9lbGVtZW50LCBpbnB1dC5lbGVtZW50KTtcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3ByZXZpb3VzSW5kZXgsIGluZGV4KTtcbiAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9wcmV2aW91c0dyb3VwLCBncm91cCk7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuICB9XG4gIGdldCBpbml0aWFsSW5kZXgoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gc3RvcmUuZ2V0KHRoaXMubWFuYWdlciwgdGhpcy5pZCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbml0aWFsSW5kZXgpICE9IG51bGwgPyBfYiA6IHRoaXMuaW5kZXg7XG4gIH1cbiAgZ2V0IGluaXRpYWxHcm91cCgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSBzdG9yZS5nZXQodGhpcy5tYW5hZ2VyLCB0aGlzLmlkKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluaXRpYWxHcm91cCkgIT0gbnVsbCA/IF9iIDogdGhpcy5ncm91cDtcbiAgfVxuICBhbmltYXRlKCkge1xuICAgIHVudHJhY2tlZCgoKSA9PiB7XG4gICAgICBjb25zdCB7IG1hbmFnZXIsIHRyYW5zaXRpb24gfSA9IHRoaXM7XG4gICAgICBjb25zdCB7IHNoYXBlIH0gPSB0aGlzLmRyb3BwYWJsZTtcbiAgICAgIGlmICghbWFuYWdlcikgcmV0dXJuO1xuICAgICAgY29uc3QgeyBpZGxlIH0gPSBtYW5hZ2VyLmRyYWdPcGVyYXRpb24uc3RhdHVzO1xuICAgICAgaWYgKCFzaGFwZSB8fCAhdHJhbnNpdGlvbiB8fCBpZGxlICYmICF0cmFuc2l0aW9uLmlkbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbWFuYWdlci5yZW5kZXJlci5yZW5kZXJpbmcudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gdGhpcztcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTaGFwZSA9IHRoaXMucmVmcmVzaFNoYXBlKCk7XG4gICAgICAgIGlmICghdXBkYXRlZFNoYXBlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICAgIHg6IHNoYXBlLmJvdW5kaW5nUmVjdGFuZ2xlLmxlZnQgLSB1cGRhdGVkU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUubGVmdCxcbiAgICAgICAgICB5OiBzaGFwZS5ib3VuZGluZ1JlY3RhbmdsZS50b3AgLSB1cGRhdGVkU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUudG9wXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgdHJhbnNsYXRlIH0gPSBnZXRDb21wdXRlZFN0eWxlcyhlbGVtZW50KTtcbiAgICAgICAgY29uc3QgY3VycmVudFRyYW5zbGF0ZSA9IGNvbXB1dGVUcmFuc2xhdGUoZWxlbWVudCwgdHJhbnNsYXRlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGZpbmFsVHJhbnNsYXRlID0gY29tcHV0ZVRyYW5zbGF0ZShlbGVtZW50LCB0cmFuc2xhdGUpO1xuICAgICAgICBpZiAoZGVsdGEueCB8fCBkZWx0YS55KSB7XG4gICAgICAgICAgYW5pbWF0ZVRyYW5zZm9ybSh7XG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAga2V5ZnJhbWVzOiB7XG4gICAgICAgICAgICAgIHRyYW5zbGF0ZTogW1xuICAgICAgICAgICAgICAgIGAke2N1cnJlbnRUcmFuc2xhdGUueCArIGRlbHRhLnh9cHggJHtjdXJyZW50VHJhbnNsYXRlLnkgKyBkZWx0YS55fXB4ICR7Y3VycmVudFRyYW5zbGF0ZS56fWAsXG4gICAgICAgICAgICAgICAgYCR7ZmluYWxUcmFuc2xhdGUueH1weCAke2ZpbmFsVHJhbnNsYXRlLnl9cHggJHtmaW5hbFRyYW5zbGF0ZS56fWBcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRyYW5zaXRpb25cbiAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghbWFuYWdlci5kcmFnT3BlcmF0aW9uLnN0YXR1cy5kcmFnZ2luZykge1xuICAgICAgICAgICAgICB0aGlzLmRyb3BwYWJsZS5zaGFwZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZ2V0IG1hbmFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhZ2dhYmxlLm1hbmFnZXI7XG4gIH1cbiAgc2V0IG1hbmFnZXIobWFuYWdlcikge1xuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMuZHJhZ2dhYmxlLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgICAgdGhpcy5kcm9wcGFibGUubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgfSk7XG4gIH1cbiAgc2V0IGVsZW1lbnQoZWxlbWVudCkge1xuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpb3VzRWxlbWVudCA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfZWxlbWVudCk7XG4gICAgICBjb25zdCBkcm9wcGFibGVFbGVtZW50ID0gdGhpcy5kcm9wcGFibGUuZWxlbWVudDtcbiAgICAgIGNvbnN0IGRyYWdnYWJsZUVsZW1lbnQgPSB0aGlzLmRyYWdnYWJsZS5lbGVtZW50O1xuICAgICAgaWYgKCFkcm9wcGFibGVFbGVtZW50IHx8IGRyb3BwYWJsZUVsZW1lbnQgPT09IHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICB0aGlzLmRyb3BwYWJsZS5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGlmICghZHJhZ2dhYmxlRWxlbWVudCB8fCBkcmFnZ2FibGVFbGVtZW50ID09PSBwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5kcmFnZ2FibGUuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgICBfX3ByaXZhdGVTZXQodGhpcywgX2VsZW1lbnQsIGVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG4gIGdldCBlbGVtZW50KCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgZWxlbWVudCA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfZWxlbWVudCk7XG4gICAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IFByb3hpZWRFbGVtZW50cy5nZXQoZWxlbWVudCkpICE9IG51bGwgPyBfYSA6IGVsZW1lbnQpICE9IG51bGwgPyBfYiA6IHRoaXMuZHJvcHBhYmxlLmVsZW1lbnQ7XG4gIH1cbiAgc2V0IHRhcmdldCh0YXJnZXQpIHtcbiAgICB0aGlzLmRyb3BwYWJsZS5lbGVtZW50ID0gdGFyZ2V0O1xuICB9XG4gIGdldCB0YXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJvcHBhYmxlLmVsZW1lbnQ7XG4gIH1cbiAgc2V0IHNvdXJjZShzb3VyY2UpIHtcbiAgICB0aGlzLmRyYWdnYWJsZS5lbGVtZW50ID0gc291cmNlO1xuICB9XG4gIGdldCBzb3VyY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhZ2dhYmxlLmVsZW1lbnQ7XG4gIH1cbiAgZ2V0IGRpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmRyYWdnYWJsZS5kaXNhYmxlZCAmJiB0aGlzLmRyb3BwYWJsZS5kaXNhYmxlZDtcbiAgfVxuICBzZXQgZmVlZGJhY2sodmFsdWUpIHtcbiAgICB0aGlzLmRyYWdnYWJsZS5mZWVkYmFjayA9IHZhbHVlO1xuICB9XG4gIHNldCBkaXNhYmxlZCh2YWx1ZSkge1xuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMuZHJvcHBhYmxlLmRpc2FibGVkID0gdmFsdWU7XG4gICAgICB0aGlzLmRyYWdnYWJsZS5kaXNhYmxlZCA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIHNldCBkYXRhKGRhdGEpIHtcbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICB0aGlzLmRyb3BwYWJsZS5kYXRhID0gZGF0YTtcbiAgICAgIHRoaXMuZHJhZ2dhYmxlLmRhdGEgPSBkYXRhO1xuICAgIH0pO1xuICB9XG4gIHNldCBoYW5kbGUoaGFuZGxlKSB7XG4gICAgdGhpcy5kcmFnZ2FibGUuaGFuZGxlID0gaGFuZGxlO1xuICB9XG4gIHNldCBpZChpZCkge1xuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMuZHJvcHBhYmxlLmlkID0gaWQ7XG4gICAgICB0aGlzLmRyYWdnYWJsZS5pZCA9IGlkO1xuICAgIH0pO1xuICB9XG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kcm9wcGFibGUuaWQ7XG4gIH1cbiAgc2V0IHNlbnNvcnModmFsdWUpIHtcbiAgICB0aGlzLmRyYWdnYWJsZS5zZW5zb3JzID0gdmFsdWU7XG4gIH1cbiAgc2V0IG1vZGlmaWVycyh2YWx1ZSkge1xuICAgIHRoaXMuZHJhZ2dhYmxlLm1vZGlmaWVycyA9IHZhbHVlO1xuICB9XG4gIHNldCBjb2xsaXNpb25Qcmlvcml0eSh2YWx1ZSkge1xuICAgIHRoaXMuZHJvcHBhYmxlLmNvbGxpc2lvblByaW9yaXR5ID0gdmFsdWU7XG4gIH1cbiAgc2V0IGNvbGxpc2lvbkRldGVjdG9yKHZhbHVlKSB7XG4gICAgdGhpcy5kcm9wcGFibGUuY29sbGlzaW9uRGV0ZWN0b3IgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBkZWZhdWx0Q29sbGlzaW9uRGV0ZWN0aW9uO1xuICB9XG4gIHNldCBhbGlnbm1lbnQodmFsdWUpIHtcbiAgICB0aGlzLmRyYWdnYWJsZS5hbGlnbm1lbnQgPSB2YWx1ZTtcbiAgfVxuICBnZXQgYWxpZ25tZW50KCkge1xuICAgIHJldHVybiB0aGlzLmRyYWdnYWJsZS5hbGlnbm1lbnQ7XG4gIH1cbiAgc2V0IHR5cGUodHlwZSkge1xuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIHRoaXMuZHJvcHBhYmxlLnR5cGUgPSB0eXBlO1xuICAgICAgdGhpcy5kcmFnZ2FibGUudHlwZSA9IHR5cGU7XG4gICAgfSk7XG4gIH1cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhZ2dhYmxlLnR5cGU7XG4gIH1cbiAgc2V0IGFjY2VwdCh2YWx1ZSkge1xuICAgIHRoaXMuZHJvcHBhYmxlLmFjY2VwdCA9IHZhbHVlO1xuICB9XG4gIGdldCBhY2NlcHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJvcHBhYmxlLmFjY2VwdDtcbiAgfVxuICBnZXQgaXNEcm9wVGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLmRyb3BwYWJsZS5pc0Ryb3BUYXJnZXQ7XG4gIH1cbiAgLyoqXG4gICAqIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNvcnRhYmxlIGl0ZW0gaXMgdGhlIHNvdXJjZSBvZiBhIGRyYWcgb3BlcmF0aW9uLlxuICAgKi9cbiAgZ2V0IGlzRHJhZ1NvdXJjZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGUuaXNEcmFnU291cmNlO1xuICB9XG4gIC8qKlxuICAgKiBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBzb3J0YWJsZSBpdGVtIGlzIGJlaW5nIGRyYWdnZWQuXG4gICAqL1xuICBnZXQgaXNEcmFnZ2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGUuaXNEcmFnZ2luZztcbiAgfVxuICAvKipcbiAgICogQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc29ydGFibGUgaXRlbSBpcyBiZWluZyBkcm9wcGVkLlxuICAgKi9cbiAgZ2V0IGlzRHJvcHBpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJhZ2dhYmxlLmlzRHJvcHBpbmc7XG4gIH1cbiAgZ2V0IHN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGUuc3RhdHVzO1xuICB9XG4gIHJlZnJlc2hTaGFwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kcm9wcGFibGUucmVmcmVzaFNoYXBlKCk7XG4gIH1cbiAgYWNjZXB0cyhkcmFnZ2FibGUpIHtcbiAgICByZXR1cm4gdGhpcy5kcm9wcGFibGUuYWNjZXB0cyhkcmFnZ2FibGUpO1xuICB9XG59O1xuX2luaXQgPSBfX2RlY29yYXRvclN0YXJ0KCk7XG5faW5kZXggPSBuZXcgV2Vha01hcCgpO1xuX3ByZXZpb3VzR3JvdXAgPSBuZXcgV2Vha01hcCgpO1xuX3ByZXZpb3VzSW5kZXggPSBuZXcgV2Vha01hcCgpO1xuX2dyb3VwID0gbmV3IFdlYWtNYXAoKTtcbl9lbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0LCA0LCBcImluZGV4XCIsIF9pbmRleF9kZWMsIFNvcnRhYmxlMiwgX2luZGV4KTtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0LCA0LCBcImdyb3VwXCIsIF9ncm91cF9kZWMsIFNvcnRhYmxlMiwgX2dyb3VwKTtcbl9fZGVjb3JhdG9yTWV0YWRhdGEoX2luaXQsIFNvcnRhYmxlMik7XG52YXIgU29ydGFibGVEcmFnZ2FibGUgPSBjbGFzcyBleHRlbmRzIERyYWdnYWJsZSB7XG4gIGNvbnN0cnVjdG9yKGlucHV0LCBtYW5hZ2VyLCBzb3J0YWJsZSkge1xuICAgIHN1cGVyKGlucHV0LCBtYW5hZ2VyKTtcbiAgICB0aGlzLnNvcnRhYmxlID0gc29ydGFibGU7XG4gIH1cbiAgZ2V0IGluZGV4KCkge1xuICAgIHJldHVybiB0aGlzLnNvcnRhYmxlLmluZGV4O1xuICB9XG59O1xudmFyIFNvcnRhYmxlRHJvcHBhYmxlID0gY2xhc3MgZXh0ZW5kcyBEcm9wcGFibGUge1xuICBjb25zdHJ1Y3RvcihpbnB1dCwgbWFuYWdlciwgc29ydGFibGUpIHtcbiAgICBzdXBlcihpbnB1dCwgbWFuYWdlcik7XG4gICAgdGhpcy5zb3J0YWJsZSA9IHNvcnRhYmxlO1xuICB9XG59O1xuXG5leHBvcnQgeyBPcHRpbWlzdGljU29ydGluZ1BsdWdpbiwgU29ydGFibGUyIGFzIFNvcnRhYmxlLCBTb3J0YWJsZUtleWJvYXJkUGx1Z2luLCBkZWZhdWx0U29ydGFibGVUcmFuc2l0aW9uLCBpc1NvcnRhYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb3J0YWJsZS5qcy5tYXBcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNvcnRhYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/sortable.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/utilities.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/utilities.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DOMRectangle: () => (/* binding */ DOMRectangle),\n/* harmony export */   Listeners: () => (/* binding */ Listeners),\n/* harmony export */   PositionObserver: () => (/* binding */ FrameObserver),\n/* harmony export */   ProxiedElements: () => (/* binding */ ProxiedElements),\n/* harmony export */   ResizeNotifier: () => (/* binding */ ResizeNotifier),\n/* harmony export */   Scheduler: () => (/* binding */ Scheduler),\n/* harmony export */   ScrollDirection: () => (/* binding */ ScrollDirection),\n/* harmony export */   Styles: () => (/* binding */ Styles),\n/* harmony export */   animateTransform: () => (/* binding */ animateTransform),\n/* harmony export */   canScroll: () => (/* binding */ canScroll),\n/* harmony export */   canUseDOM: () => (/* binding */ canUseDOM),\n/* harmony export */   cloneElement: () => (/* binding */ cloneElement),\n/* harmony export */   computeTranslate: () => (/* binding */ computeTranslate),\n/* harmony export */   detectScrollIntent: () => (/* binding */ detectScrollIntent),\n/* harmony export */   generateUniqueId: () => (/* binding */ generateUniqueId),\n/* harmony export */   getBoundingRectangle: () => (/* binding */ getBoundingRectangle),\n/* harmony export */   getComputedStyles: () => (/* binding */ getComputedStyles),\n/* harmony export */   getDocument: () => (/* binding */ getDocument),\n/* harmony export */   getElementFromPoint: () => (/* binding */ getElementFromPoint),\n/* harmony export */   getFinalKeyframe: () => (/* binding */ getFinalKeyframe),\n/* harmony export */   getFirstScrollableAncestor: () => (/* binding */ getFirstScrollableAncestor),\n/* harmony export */   getFrameElement: () => (/* binding */ getFrameElement),\n/* harmony export */   getFrameTransform: () => (/* binding */ getFrameTransform),\n/* harmony export */   getScrollableAncestors: () => (/* binding */ getScrollableAncestors),\n/* harmony export */   getViewportBoundingRectangle: () => (/* binding */ getViewportBoundingRectangle),\n/* harmony export */   getVisibleBoundingRectangle: () => (/* binding */ getVisibleBoundingRectangle),\n/* harmony export */   getWindow: () => (/* binding */ getWindow),\n/* harmony export */   hidePopover: () => (/* binding */ hidePopover),\n/* harmony export */   inverseTransform: () => (/* binding */ inverseTransform),\n/* harmony export */   isDocumentScrollingElement: () => (/* binding */ isDocumentScrollingElement),\n/* harmony export */   isElement: () => (/* binding */ isElement),\n/* harmony export */   isHTMLElement: () => (/* binding */ isHTMLElement),\n/* harmony export */   isKeyboardEvent: () => (/* binding */ isKeyboardEvent),\n/* harmony export */   isKeyframeEffect: () => (/* binding */ isKeyframeEffect),\n/* harmony export */   isPointerEvent: () => (/* binding */ isPointerEvent),\n/* harmony export */   isSafari: () => (/* binding */ isSafari),\n/* harmony export */   isTextInput: () => (/* binding */ isTextInput),\n/* harmony export */   parseTransform: () => (/* binding */ parseTransform),\n/* harmony export */   parseTranslate: () => (/* binding */ parseTranslate),\n/* harmony export */   scheduler: () => (/* binding */ scheduler),\n/* harmony export */   scrollIntoViewIfNeeded: () => (/* binding */ scrollIntoViewIfNeeded),\n/* harmony export */   showPopover: () => (/* binding */ showPopover),\n/* harmony export */   supportsPopover: () => (/* binding */ supportsPopover),\n/* harmony export */   supportsStyle: () => (/* binding */ supportsStyle),\n/* harmony export */   supportsViewTransition: () => (/* binding */ supportsViewTransition),\n/* harmony export */   timeout: () => (/* binding */ timeout)\n/* harmony export */ });\n/* harmony import */ var _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dnd-kit/geometry */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs\");\n\n\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\n// src/utilities/type-guards/isKeyframeEffect.ts\nfunction isKeyframeEffect(effect) {\n  if (!effect) return false;\n  if (effect instanceof KeyframeEffect) return true;\n  return \"getKeyframes\" in effect && typeof effect.getKeyframes === \"function\";\n}\n\n// src/utilities/animations/getFinalKeyframe.ts\nfunction getFinalKeyframe(element, match) {\n  const animations2 = element.getAnimations();\n  if (animations2.length > 0) {\n    for (const animation of animations2) {\n      if (animation.playState !== \"running\") continue;\n      const { effect } = animation;\n      const keyframes = isKeyframeEffect(effect) ? effect.getKeyframes() : [];\n      const matchedKeyframes = keyframes.filter(match);\n      if (matchedKeyframes.length > 0) {\n        return [matchedKeyframes[matchedKeyframes.length - 1], animation];\n      }\n    }\n  }\n  return null;\n}\n\n// src/utilities/bounding-rectangle/getBoundingRectangle.ts\nfunction getBoundingRectangle(element) {\n  const { width, height, top, left, bottom, right } = element.getBoundingClientRect();\n  return { width, height, top, left, bottom, right };\n}\n\n// src/utilities/execution-context/canUseDOM.ts\nvar canUseDOM = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\n\n// src/utilities/type-guards/isWindow.ts\nfunction isWindow(element) {\n  const elementString = Object.prototype.toString.call(element);\n  return elementString === \"[object Window]\" || // In Electron context the Window object serializes to [object global]\n  elementString === \"[object global]\";\n}\n\n// src/utilities/type-guards/isNode.ts\nfunction isNode(node) {\n  return \"nodeType\" in node;\n}\n\n// src/utilities/execution-context/getWindow.ts\nfunction getWindow(target) {\n  var _a, _b, _c;\n  if (!target) {\n    return window;\n  }\n  if (isWindow(target)) {\n    return target;\n  }\n  if (!isNode(target)) {\n    return window;\n  }\n  if (\"defaultView\" in target) {\n    return (_a = target.defaultView) != null ? _a : window;\n  }\n  return (_c = (_b = target.ownerDocument) == null ? void 0 : _b.defaultView) != null ? _c : window;\n}\n\n// src/utilities/type-guards/isDocument.ts\nfunction isDocument(node) {\n  const { Document } = getWindow(node);\n  return node instanceof Document || \"nodeType\" in node && node.nodeType === Node.DOCUMENT_NODE;\n}\n\n// src/utilities/type-guards/isHTMLElement.ts\nfunction isHTMLElement(node) {\n  if (!node || isWindow(node)) return false;\n  return node instanceof getWindow(node).HTMLElement || \"namespaceURI\" in node && typeof node.namespaceURI === \"string\" && node.namespaceURI.endsWith(\"html\");\n}\n\n// src/utilities/type-guards/isSVGElement.ts\nfunction isSVGElement(node) {\n  return node instanceof getWindow(node).SVGElement || \"namespaceURI\" in node && typeof node.namespaceURI === \"string\" && node.namespaceURI.endsWith(\"svg\");\n}\n\n// src/utilities/execution-context/getDocument.ts\nfunction getDocument(target) {\n  if (!target) {\n    return document;\n  }\n  if (isWindow(target)) {\n    return target.document;\n  }\n  if (!isNode(target)) {\n    return document;\n  }\n  if (isDocument(target)) {\n    return target;\n  }\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n  return document;\n}\n\n// src/utilities/bounding-rectangle/getViewportBoundingRectangle.ts\nfunction getViewportBoundingRectangle(element) {\n  const { documentElement } = getDocument(element);\n  const width = documentElement.clientWidth;\n  const height = documentElement.clientHeight;\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height\n  };\n}\n\n// src/utilities/bounding-rectangle/isOverflowVisible.ts\nfunction isOverflowVisible(element, style) {\n  if (isDetailsElement(element) && element.open === false) {\n    return false;\n  }\n  const { overflow, overflowX, overflowY } = getComputedStyle(element);\n  return overflow === \"visible\" && overflowX === \"visible\" && overflowY === \"visible\";\n}\nfunction isDetailsElement(element) {\n  return element.tagName === \"DETAILS\";\n}\n\n// src/utilities/bounding-rectangle/getVisibleBoundingRectangle.ts\nfunction getVisibleBoundingRectangle(element, boundingClientRect = element.getBoundingClientRect(), margin = 0) {\n  var _a;\n  let rect = boundingClientRect;\n  const { ownerDocument } = element;\n  const ownerWindow = (_a = ownerDocument.defaultView) != null ? _a : window;\n  let ancestor = element.parentElement;\n  while (ancestor && ancestor !== ownerDocument.documentElement) {\n    if (!isOverflowVisible(ancestor)) {\n      const ancestorRect = ancestor.getBoundingClientRect();\n      const marginTop = margin * (ancestorRect.bottom - ancestorRect.top);\n      const marginRight = margin * (ancestorRect.right - ancestorRect.left);\n      const marginBottom = margin * (ancestorRect.bottom - ancestorRect.top);\n      const marginLeft = margin * (ancestorRect.right - ancestorRect.left);\n      rect = {\n        top: Math.max(rect.top, ancestorRect.top - marginTop),\n        right: Math.min(rect.right, ancestorRect.right + marginRight),\n        bottom: Math.min(rect.bottom, ancestorRect.bottom + marginBottom),\n        left: Math.max(rect.left, ancestorRect.left - marginLeft),\n        width: 0,\n        // Will be calculated next\n        height: 0\n        // Will be calculated next\n      };\n      rect.width = rect.right - rect.left;\n      rect.height = rect.bottom - rect.top;\n    }\n    ancestor = ancestor.parentElement;\n  }\n  const viewportWidth = ownerWindow.innerWidth;\n  const viewportHeight = ownerWindow.innerHeight;\n  const viewportMarginY = margin * viewportHeight;\n  const viewportMarginX = margin * viewportWidth;\n  rect = {\n    top: Math.max(rect.top, 0 - viewportMarginY),\n    right: Math.min(rect.right, viewportWidth + viewportMarginX),\n    bottom: Math.min(rect.bottom, viewportHeight + viewportMarginY),\n    left: Math.max(rect.left, 0 - viewportMarginX),\n    width: 0,\n    // Will be calculated next\n    height: 0\n    // Will be calculated next\n  };\n  rect.width = rect.right - rect.left;\n  rect.height = rect.bottom - rect.top;\n  if (rect.width < 0) {\n    rect.width = 0;\n  }\n  if (rect.height < 0) {\n    rect.height = 0;\n  }\n  return rect;\n}\n\n// src/utilities/execution-context/isSafari.ts\nfunction isSafari() {\n  return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n}\n\n// src/utilities/element/cloneElement.ts\nfunction cloneElement(element) {\n  const selector = \"input, textarea, select, canvas, [contenteditable]\";\n  const clonedElement = element.cloneNode(true);\n  const fields = Array.from(element.querySelectorAll(selector));\n  const clonedFields = Array.from(clonedElement.querySelectorAll(selector));\n  clonedFields.forEach((field, index) => {\n    const originalField = fields[index];\n    if (isField(field) && isField(originalField)) {\n      if (field.type !== \"file\") {\n        field.value = originalField.value;\n      }\n      if (field.type === \"radio\" && field.name) {\n        field.name = `Cloned__${field.name}`;\n      }\n    }\n    if (isCanvasElement(field) && isCanvasElement(originalField) && originalField.width > 0 && originalField.height > 0) {\n      const destCtx = field.getContext(\"2d\");\n      destCtx == null ? void 0 : destCtx.drawImage(originalField, 0, 0);\n    }\n  });\n  return clonedElement;\n}\nfunction isField(element) {\n  return \"value\" in element;\n}\nfunction isCanvasElement(element) {\n  return element.tagName === \"CANVAS\";\n}\n\n// src/utilities/element/getElementFromPoint.ts\nfunction getElementFromPoint(document2, { x, y }) {\n  const element = document2.elementFromPoint(x, y);\n  if (isIFrameElement(element)) {\n    const { contentDocument } = element;\n    if (contentDocument) {\n      const { left, top } = element.getBoundingClientRect();\n      return getElementFromPoint(contentDocument, {\n        x: x - left,\n        y: y - top\n      });\n    }\n  }\n  return element;\n}\nfunction isIFrameElement(element) {\n  return (element == null ? void 0 : element.tagName) === \"IFRAME\";\n}\n\n// src/utilities/element/proxiedElements.ts\nvar ProxiedElements = /* @__PURE__ */ new WeakMap();\n\n// src/utilities/event-listeners/Listeners.ts\nvar Listeners = class {\n  constructor() {\n    this.entries = /* @__PURE__ */ new Set();\n    this.clear = () => {\n      for (const entry of this.entries) {\n        const [target, { type, listener, options }] = entry;\n        target.removeEventListener(type, listener, options);\n      }\n      this.entries.clear();\n    };\n  }\n  bind(target, input) {\n    const listeners = Array.isArray(input) ? input : [input];\n    const entries = [];\n    for (const descriptor of listeners) {\n      const { type, listener, options } = descriptor;\n      const entry = [target, descriptor];\n      target.addEventListener(type, listener, options);\n      this.entries.add(entry);\n      entries.push(entry);\n    }\n    return function cleanup() {\n      for (const [target2, { type, listener, options }] of entries) {\n        target2.removeEventListener(type, listener, options);\n      }\n    };\n  }\n};\n\n// src/utilities/frame/getFrameElement.ts\nfunction getFrameElement(el) {\n  const refWindow = el == null ? void 0 : el.ownerDocument.defaultView;\n  if (refWindow && refWindow.self !== refWindow.parent) {\n    return refWindow.frameElement;\n  }\n}\n\n// src/utilities/frame/getFrameElements.ts\nfunction getFrameElements(el) {\n  const frames = /* @__PURE__ */ new Set();\n  let frame = getFrameElement(el);\n  while (frame) {\n    frames.add(frame);\n    frame = getFrameElement(frame);\n  }\n  return frames;\n}\n\n// src/utilities/scheduling/timeout.ts\nfunction timeout(callback, duration) {\n  const id = setTimeout(callback, duration);\n  return () => clearTimeout(id);\n}\n\n// src/utilities/scheduling/throttle.ts\nfunction throttle(func, limit) {\n  const time = () => performance.now();\n  let cancel;\n  let lastRan;\n  return function(...args) {\n    const context = this;\n    if (!lastRan) {\n      func.apply(context, args);\n      lastRan = time();\n    } else {\n      cancel == null ? void 0 : cancel();\n      cancel = timeout(\n        () => {\n          func.apply(context, args);\n          lastRan = time();\n        },\n        limit - (time() - lastRan)\n      );\n    }\n  };\n}\n\n// src/utilities/bounding-rectangle/isRectEqual.ts\nfunction isRectEqual(a, b) {\n  if (a === b) return true;\n  if (!a || !b) return false;\n  return a.top == b.top && a.left == b.left && a.right == b.right && a.bottom == b.bottom;\n}\n\n// src/utilities/bounding-rectangle/isVisible.ts\nfunction isVisible(element, boundingClientRect = element.getBoundingClientRect()) {\n  const { width, height } = getVisibleBoundingRectangle(\n    element,\n    boundingClientRect\n  );\n  return width > 0 && height > 0;\n}\n\n// src/utilities/observers/ResizeNotifier.ts\nvar Observer = canUseDOM ? ResizeObserver : class MockResizeObserver {\n  observe() {\n  }\n  unobserve() {\n  }\n  disconnect() {\n  }\n};\nvar _initialized;\nvar ResizeNotifier = class extends Observer {\n  constructor(callback) {\n    super((entries) => {\n      if (!__privateGet(this, _initialized)) {\n        __privateSet(this, _initialized, true);\n        return;\n      }\n      callback(entries, this);\n    });\n    __privateAdd(this, _initialized, false);\n  }\n};\n_initialized = new WeakMap();\n\n// src/utilities/observers/PositionObserver.ts\nvar threshold = Array.from({ length: 100 }, (_, index) => index / 100);\nvar THROTTLE_INTERVAL = 75;\nvar _visible, _previousBoundingClientRect, _resizeObserver, _positionObserver, _visibilityObserver, _debug, _disconnected, _observePosition, _PositionObserver_instances, notify_fn, updateDebug_fn;\nvar PositionObserver = class {\n  constructor(element, callback, options = {\n    debug: false,\n    skipInitial: false\n  }) {\n    this.element = element;\n    this.callback = callback;\n    __privateAdd(this, _PositionObserver_instances);\n    this.disconnect = () => {\n      var _a, _b, _c;\n      __privateSet(this, _disconnected, true);\n      (_a = __privateGet(this, _resizeObserver)) == null ? void 0 : _a.disconnect();\n      (_b = __privateGet(this, _positionObserver)) == null ? void 0 : _b.disconnect();\n      __privateGet(this, _visibilityObserver).disconnect();\n      (_c = __privateGet(this, _debug)) == null ? void 0 : _c.remove();\n    };\n    __privateAdd(this, _visible, true);\n    __privateAdd(this, _previousBoundingClientRect);\n    __privateAdd(this, _resizeObserver);\n    __privateAdd(this, _positionObserver);\n    __privateAdd(this, _visibilityObserver);\n    __privateAdd(this, _debug);\n    __privateAdd(this, _disconnected, false);\n    __privateAdd(this, _observePosition, throttle(() => {\n      var _a, _b, _c;\n      const { element } = this;\n      (_a = __privateGet(this, _positionObserver)) == null ? void 0 : _a.disconnect();\n      if (__privateGet(this, _disconnected) || !__privateGet(this, _visible) || !element.isConnected) {\n        return;\n      }\n      const root = (_b = element.ownerDocument) != null ? _b : document;\n      const { innerHeight, innerWidth } = (_c = root.defaultView) != null ? _c : window;\n      const clientRect = element.getBoundingClientRect();\n      const visibleRect = getVisibleBoundingRectangle(element, clientRect);\n      const { top, left, bottom, right } = visibleRect;\n      const insetTop = -Math.floor(top);\n      const insetLeft = -Math.floor(left);\n      const insetRight = -Math.floor(innerWidth - right);\n      const insetBottom = -Math.floor(innerHeight - bottom);\n      const rootMargin = `${insetTop}px ${insetRight}px ${insetBottom}px ${insetLeft}px`;\n      this.boundingClientRect = clientRect;\n      __privateSet(this, _positionObserver, new IntersectionObserver(\n        (entries) => {\n          const [entry] = entries;\n          const { intersectionRect } = entry;\n          const intersectionRatio = entry.intersectionRatio !== 1 ? entry.intersectionRatio : _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Rectangle.intersectionRatio(\n            intersectionRect,\n            getVisibleBoundingRectangle(element)\n          );\n          if (intersectionRatio !== 1) {\n            __privateGet(this, _observePosition).call(this);\n          }\n        },\n        {\n          threshold,\n          rootMargin,\n          root\n        }\n      ));\n      __privateGet(this, _positionObserver).observe(element);\n      __privateMethod(this, _PositionObserver_instances, notify_fn).call(this);\n    }, THROTTLE_INTERVAL));\n    this.boundingClientRect = element.getBoundingClientRect();\n    __privateSet(this, _visible, isVisible(element, this.boundingClientRect));\n    let initial = true;\n    this.callback = (boundingClientRect) => {\n      if (initial) {\n        initial = false;\n        if (options.skipInitial) return;\n      }\n      callback(boundingClientRect);\n    };\n    const root = element.ownerDocument;\n    if (options == null ? void 0 : options.debug) {\n      __privateSet(this, _debug, document.createElement(\"div\"));\n      __privateGet(this, _debug).style.background = \"rgba(0,0,0,0.15)\";\n      __privateGet(this, _debug).style.position = \"fixed\";\n      __privateGet(this, _debug).style.pointerEvents = \"none\";\n      root.body.appendChild(__privateGet(this, _debug));\n    }\n    __privateSet(this, _visibilityObserver, new IntersectionObserver(\n      (entries) => {\n        var _a, _b;\n        const entry = entries[entries.length - 1];\n        const { boundingClientRect, isIntersecting: visible } = entry;\n        const { width, height } = boundingClientRect;\n        const previousVisible = __privateGet(this, _visible);\n        __privateSet(this, _visible, visible);\n        if (!width && !height) return;\n        if (previousVisible && !visible) {\n          (_a = __privateGet(this, _positionObserver)) == null ? void 0 : _a.disconnect();\n          this.callback(null);\n          (_b = __privateGet(this, _resizeObserver)) == null ? void 0 : _b.disconnect();\n          __privateSet(this, _resizeObserver, void 0);\n          if (__privateGet(this, _debug)) __privateGet(this, _debug).style.visibility = \"hidden\";\n        } else {\n          __privateGet(this, _observePosition).call(this);\n        }\n        if (visible && !__privateGet(this, _resizeObserver)) {\n          __privateSet(this, _resizeObserver, new ResizeNotifier(__privateGet(this, _observePosition)));\n          __privateGet(this, _resizeObserver).observe(element);\n        }\n      },\n      {\n        threshold,\n        root\n      }\n    ));\n    if (__privateGet(this, _visible) && !options.skipInitial) {\n      this.callback(this.boundingClientRect);\n    }\n    __privateGet(this, _visibilityObserver).observe(element);\n  }\n};\n_visible = new WeakMap();\n_previousBoundingClientRect = new WeakMap();\n_resizeObserver = new WeakMap();\n_positionObserver = new WeakMap();\n_visibilityObserver = new WeakMap();\n_debug = new WeakMap();\n_disconnected = new WeakMap();\n_observePosition = new WeakMap();\n_PositionObserver_instances = new WeakSet();\nnotify_fn = function() {\n  if (__privateGet(this, _disconnected)) return;\n  __privateMethod(this, _PositionObserver_instances, updateDebug_fn).call(this);\n  if (isRectEqual(this.boundingClientRect, __privateGet(this, _previousBoundingClientRect)))\n    return;\n  this.callback(this.boundingClientRect);\n  __privateSet(this, _previousBoundingClientRect, this.boundingClientRect);\n};\nupdateDebug_fn = function() {\n  if (__privateGet(this, _debug)) {\n    const { top, left, width, height } = getVisibleBoundingRectangle(\n      this.element\n    );\n    __privateGet(this, _debug).style.overflow = \"hidden\";\n    __privateGet(this, _debug).style.visibility = \"visible\";\n    __privateGet(this, _debug).style.top = `${Math.floor(top)}px`;\n    __privateGet(this, _debug).style.left = `${Math.floor(left)}px`;\n    __privateGet(this, _debug).style.width = `${Math.floor(width)}px`;\n    __privateGet(this, _debug).style.height = `${Math.floor(height)}px`;\n  }\n};\n\n// src/utilities/observers/FrameObserver.ts\nvar framePositionObservers = /* @__PURE__ */ new WeakMap();\nvar scrollListeners = /* @__PURE__ */ new WeakMap();\nfunction addFrameListener(frame, callback) {\n  let cached = framePositionObservers.get(frame);\n  if (!cached) {\n    const observer = new PositionObserver(\n      frame,\n      (boundingClientRect) => {\n        const cached2 = framePositionObservers.get(frame);\n        if (!cached2) return;\n        cached2.callbacks.forEach((callback2) => callback2(boundingClientRect));\n      },\n      { skipInitial: true }\n    );\n    cached = { disconnect: observer.disconnect, callbacks: /* @__PURE__ */ new Set() };\n  }\n  cached.callbacks.add(callback);\n  framePositionObservers.set(frame, cached);\n  return () => {\n    cached.callbacks.delete(callback);\n    if (cached.callbacks.size === 0) {\n      framePositionObservers.delete(frame);\n      cached.disconnect();\n    }\n  };\n}\nfunction observeParentFrames(frames, callback) {\n  const cleanup = /* @__PURE__ */ new Set();\n  for (const frame of frames) {\n    const remove = addFrameListener(frame, callback);\n    cleanup.add(remove);\n  }\n  return () => cleanup.forEach((remove) => remove());\n}\nfunction addScrollListener(element, callback) {\n  var _a;\n  const doc = element.ownerDocument;\n  if (!scrollListeners.has(doc)) {\n    const controller = new AbortController();\n    const listeners2 = /* @__PURE__ */ new Set();\n    document.addEventListener(\n      \"scroll\",\n      (event) => listeners2.forEach((listener) => listener(event)),\n      {\n        capture: true,\n        passive: true,\n        signal: controller.signal\n      }\n    );\n    scrollListeners.set(doc, { disconnect: () => controller.abort(), listeners: listeners2 });\n  }\n  const { listeners, disconnect } = (_a = scrollListeners.get(doc)) != null ? _a : {};\n  if (!listeners || !disconnect) return () => {\n  };\n  listeners.add(callback);\n  return () => {\n    listeners.delete(callback);\n    if (listeners.size === 0) {\n      disconnect();\n      scrollListeners.delete(doc);\n    }\n  };\n}\nvar _elementObserver, _disconnected2, _frames, _handleScroll;\nvar FrameObserver = class {\n  constructor(element, callback, options) {\n    this.callback = callback;\n    __privateAdd(this, _elementObserver);\n    __privateAdd(this, _disconnected2, false);\n    __privateAdd(this, _frames);\n    __privateAdd(this, _handleScroll, throttle((event) => {\n      if (__privateGet(this, _disconnected2)) return;\n      if (!event.target) return;\n      if (\"contains\" in event.target && typeof event.target.contains === \"function\") {\n        for (const frame of __privateGet(this, _frames)) {\n          if (event.target.contains(frame)) {\n            this.callback(__privateGet(this, _elementObserver).boundingClientRect);\n            break;\n          }\n        }\n      }\n    }, THROTTLE_INTERVAL));\n    const frames = getFrameElements(element);\n    const unobserveParentFrames = observeParentFrames(frames, callback);\n    const removeScrollListener = addScrollListener(element, __privateGet(this, _handleScroll));\n    __privateSet(this, _frames, frames);\n    __privateSet(this, _elementObserver, new PositionObserver(element, callback, options));\n    this.disconnect = () => {\n      if (__privateGet(this, _disconnected2)) return;\n      __privateSet(this, _disconnected2, true);\n      unobserveParentFrames();\n      removeScrollListener();\n      __privateGet(this, _elementObserver).disconnect();\n    };\n  }\n};\n_elementObserver = new WeakMap();\n_disconnected2 = new WeakMap();\n_frames = new WeakMap();\n_handleScroll = new WeakMap();\n\n// src/utilities/popover/supportsPopover.ts\nfunction supportsPopover(element) {\n  return \"showPopover\" in element && \"hidePopover\" in element && typeof element.showPopover === \"function\" && typeof element.hidePopover === \"function\";\n}\n\n// src/utilities/popover/showPopover.ts\nfunction showPopover(element) {\n  try {\n    if (supportsPopover(element) && element.isConnected && element.hasAttribute(\"popover\") && // This selector can throw an error in browsers that don't support it\n    !element.matches(\":popover-open\")) {\n      element.showPopover();\n    }\n  } catch (error) {\n  }\n}\n\n// src/utilities/popover/hidePopover.ts\nfunction hidePopover(element) {\n  try {\n    if (supportsPopover(element) && element.isConnected && element.hasAttribute(\"popover\") && // This selector can throw an error in browsers that don't support it\n    element.matches(\":popover-open\")) {\n      element.hidePopover();\n    }\n  } catch (error) {\n  }\n}\n\n// src/utilities/scroll/documentScrollingElement.ts\nfunction isDocumentScrollingElement(element) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n  return element === getDocument(element).scrollingElement;\n}\n\n// src/utilities/scroll/getScrollPosition.ts\nfunction getScrollPosition(scrollableElement) {\n  const window2 = getWindow(scrollableElement);\n  const rect = isDocumentScrollingElement(scrollableElement) ? getViewportBoundingRectangle(scrollableElement) : getBoundingRectangle(scrollableElement);\n  const dimensions = isDocumentScrollingElement(scrollableElement) ? {\n    height: window2.innerHeight,\n    width: window2.innerWidth\n  } : {\n    height: scrollableElement.clientHeight,\n    width: scrollableElement.clientWidth\n  };\n  const position = {\n    current: {\n      x: scrollableElement.scrollLeft,\n      y: scrollableElement.scrollTop\n    },\n    max: {\n      x: scrollableElement.scrollWidth - dimensions.width,\n      y: scrollableElement.scrollHeight - dimensions.height\n    }\n  };\n  const isTop = position.current.y <= 0;\n  const isLeft = position.current.x <= 0;\n  const isBottom = position.current.y >= position.max.y;\n  const isRight = position.current.x >= position.max.x;\n  return {\n    rect,\n    position,\n    isTop,\n    isLeft,\n    isBottom,\n    isRight\n  };\n}\n\n// src/utilities/scroll/canScroll.ts\nfunction canScroll(scrollableElement, by) {\n  const { isTop, isBottom, isLeft, isRight, position } = getScrollPosition(scrollableElement);\n  const { x, y } = by != null ? by : { x: 0, y: 0 };\n  const top = !isTop && position.current.y + y > 0;\n  const bottom = !isBottom && position.current.y + y < position.max.y;\n  const left = !isLeft && position.current.x + x > 0;\n  const right = !isRight && position.current.x + x < position.max.x;\n  return {\n    top,\n    bottom,\n    left,\n    right,\n    x: left || right,\n    y: top || bottom\n  };\n}\n\n// src/utilities/scheduling/scheduler.ts\nvar Scheduler = class {\n  constructor(scheduler4) {\n    this.scheduler = scheduler4;\n    this.pending = false;\n    this.tasks = /* @__PURE__ */ new Set();\n    this.resolvers = /* @__PURE__ */ new Set();\n    this.flush = () => {\n      const { tasks, resolvers } = this;\n      this.pending = false;\n      this.tasks = /* @__PURE__ */ new Set();\n      this.resolvers = /* @__PURE__ */ new Set();\n      for (const task of tasks) {\n        task();\n      }\n      for (const resolve of resolvers) {\n        resolve();\n      }\n    };\n  }\n  schedule(task) {\n    this.tasks.add(task);\n    if (!this.pending) {\n      this.pending = true;\n      this.scheduler(this.flush);\n    }\n    return new Promise((resolve) => this.resolvers.add(resolve));\n  }\n};\nvar scheduler = new Scheduler((callback) => {\n  if (typeof requestAnimationFrame === \"function\") {\n    requestAnimationFrame(callback);\n  } else {\n    callback();\n  }\n});\n\n// src/utilities/styles/getComputedStyles.ts\nvar scheduler2 = new Scheduler((callback) => setTimeout(callback, 50));\nvar cachedStyles = /* @__PURE__ */ new Map();\nvar clear = cachedStyles.clear.bind(cachedStyles);\nfunction getComputedStyles(element, cached = false) {\n  if (!cached) return computeStyles(element);\n  let styles = cachedStyles.get(element);\n  if (styles) return styles;\n  styles = computeStyles(element);\n  cachedStyles.set(element, styles);\n  scheduler2.schedule(clear);\n  return styles;\n}\nfunction computeStyles(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\n// src/utilities/scroll/isFixed.ts\nfunction isFixed(node, computedStyle = getComputedStyles(node, true)) {\n  return computedStyle.position === \"fixed\" || computedStyle.position === \"sticky\";\n}\n\n// src/utilities/scroll/isScrollable.ts\nfunction isScrollable(element, computedStyle = getComputedStyles(element, true)) {\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = [\"overflow\", \"overflowX\", \"overflowY\"];\n  return properties.some((property) => {\n    const value = computedStyle[property];\n    return typeof value === \"string\" ? overflowRegex.test(value) : false;\n  });\n}\n\n// src/utilities/scroll/getScrollableAncestors.ts\nvar defaultOptions = {\n  excludeElement: true\n};\nfunction getScrollableAncestors(element, options = defaultOptions) {\n  const { limit, excludeElement } = options;\n  const scrollParents = /* @__PURE__ */ new Set();\n  function findScrollableAncestors(node) {\n    if (limit != null && scrollParents.size >= limit) {\n      return scrollParents;\n    }\n    if (!node) {\n      return scrollParents;\n    }\n    if (isDocument(node) && node.scrollingElement != null && !scrollParents.has(node.scrollingElement)) {\n      scrollParents.add(node.scrollingElement);\n      return scrollParents;\n    }\n    if (!isHTMLElement(node)) {\n      if (isSVGElement(node)) {\n        return findScrollableAncestors(node.parentElement);\n      }\n      return scrollParents;\n    }\n    if (scrollParents.has(node)) {\n      return scrollParents;\n    }\n    const computedStyle = getComputedStyles(node, true);\n    if (excludeElement && node === element) ; else if (isScrollable(node, computedStyle)) {\n      scrollParents.add(node);\n    }\n    if (isFixed(node, computedStyle)) {\n      const { scrollingElement } = node.ownerDocument;\n      if (scrollingElement) scrollParents.add(scrollingElement);\n      return scrollParents;\n    }\n    return findScrollableAncestors(node.parentNode);\n  }\n  if (!element) {\n    return scrollParents;\n  }\n  return findScrollableAncestors(element);\n}\nfunction getFirstScrollableAncestor(node) {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, { limit: 1 });\n  return firstScrollableAncestor != null ? firstScrollableAncestor : null;\n}\n\n// src/utilities/frame/getFrameTransform.ts\nfunction getFrameTransform(el, boundary = window.frameElement) {\n  const transform = {\n    x: 0,\n    y: 0,\n    scaleX: 1,\n    scaleY: 1\n  };\n  if (!el) return transform;\n  let frame = getFrameElement(el);\n  while (frame) {\n    if (frame === boundary) {\n      return transform;\n    }\n    const rect = getBoundingRectangle(frame);\n    const { x: scaleX, y: scaleY } = getScale(frame, rect);\n    transform.x = transform.x + rect.left;\n    transform.y = transform.y + rect.top;\n    transform.scaleX = transform.scaleX * scaleX;\n    transform.scaleY = transform.scaleY * scaleY;\n    frame = getFrameElement(frame);\n  }\n  return transform;\n}\nfunction getScale(element, boundingRectangle = getBoundingRectangle(element)) {\n  const width = Math.round(boundingRectangle.width);\n  const height = Math.round(boundingRectangle.height);\n  if (isHTMLElement(element)) {\n    return {\n      x: width / element.offsetWidth,\n      y: height / element.offsetHeight\n    };\n  }\n  const styles = getComputedStyles(element, true);\n  return {\n    x: (parseFloat(styles.width) || width) / width,\n    y: (parseFloat(styles.height) || height) / height\n  };\n}\n\n// src/utilities/transform/parseScale.ts\nfunction parseScale(scale) {\n  if (scale === \"none\") {\n    return null;\n  }\n  const values = scale.split(\" \");\n  const x = parseFloat(values[0]);\n  const y = parseFloat(values[1]);\n  if (isNaN(x) && isNaN(y)) {\n    return null;\n  }\n  return {\n    x: isNaN(x) ? y : x,\n    y: isNaN(y) ? x : y\n  };\n}\n\n// src/utilities/transform/parseTranslate.ts\nfunction parseTranslate(translate) {\n  if (translate === \"none\") {\n    return null;\n  }\n  const [x, y, z = \"0\"] = translate.split(\" \");\n  const output = { x: parseFloat(x), y: parseFloat(y), z: parseInt(z, 10) };\n  if (isNaN(output.x) && isNaN(output.y)) {\n    return null;\n  }\n  return {\n    x: isNaN(output.x) ? 0 : output.x,\n    y: isNaN(output.y) ? 0 : output.y,\n    z: isNaN(output.z) ? 0 : output.z\n  };\n}\n\n// src/utilities/transform/parseTransform.ts\nfunction parseTransform(computedStyles) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n  const { scale, transform, translate } = computedStyles;\n  const parsedScale = parseScale(scale);\n  const parsedTranslate = parseTranslate(translate);\n  const parsedMatrix = parseTransformMatrix(transform);\n  if (!parsedMatrix && !parsedScale && !parsedTranslate) {\n    return null;\n  }\n  const normalizedScale = {\n    x: (_a = parsedScale == null ? void 0 : parsedScale.x) != null ? _a : 1,\n    y: (_b = parsedScale == null ? void 0 : parsedScale.y) != null ? _b : 1\n  };\n  const normalizedTranslate = {\n    x: (_c = parsedTranslate == null ? void 0 : parsedTranslate.x) != null ? _c : 0,\n    y: (_d = parsedTranslate == null ? void 0 : parsedTranslate.y) != null ? _d : 0\n  };\n  const normalizedMatrix = {\n    x: (_e = parsedMatrix == null ? void 0 : parsedMatrix.x) != null ? _e : 0,\n    y: (_f = parsedMatrix == null ? void 0 : parsedMatrix.y) != null ? _f : 0,\n    scaleX: (_g = parsedMatrix == null ? void 0 : parsedMatrix.scaleX) != null ? _g : 1,\n    scaleY: (_h = parsedMatrix == null ? void 0 : parsedMatrix.scaleY) != null ? _h : 1\n  };\n  return {\n    x: normalizedTranslate.x + normalizedMatrix.x,\n    y: normalizedTranslate.y + normalizedMatrix.y,\n    z: (_i = parsedTranslate == null ? void 0 : parsedTranslate.z) != null ? _i : 0,\n    scaleX: normalizedScale.x * normalizedMatrix.scaleX,\n    scaleY: normalizedScale.y * normalizedMatrix.scaleY\n  };\n}\nfunction parseTransformMatrix(transform) {\n  if (transform.startsWith(\"matrix3d(\")) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5]\n    };\n  } else if (transform.startsWith(\"matrix(\")) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3]\n    };\n  }\n  return null;\n}\n\n// src/utilities/scroll/detectScrollIntent.ts\nvar ScrollDirection = /* @__PURE__ */ ((ScrollDirection2) => {\n  ScrollDirection2[ScrollDirection2[\"Idle\"] = 0] = \"Idle\";\n  ScrollDirection2[ScrollDirection2[\"Forward\"] = 1] = \"Forward\";\n  ScrollDirection2[ScrollDirection2[\"Reverse\"] = -1] = \"Reverse\";\n  return ScrollDirection2;\n})(ScrollDirection || {});\nvar defaultThreshold = {\n  x: 0.2,\n  y: 0.2\n};\nvar defaultTolerance = {\n  x: 10,\n  y: 10\n};\nfunction detectScrollIntent(scrollableElement, coordinates, intent, acceleration = 25, thresholdPercentage = defaultThreshold, tolerance = defaultTolerance) {\n  const { x, y } = coordinates;\n  const { rect, isTop, isBottom, isLeft, isRight } = getScrollPosition(scrollableElement);\n  const frameTransform = getFrameTransform(scrollableElement);\n  const computedStyles = getComputedStyles(scrollableElement, true);\n  const parsedTransform = parseTransform(computedStyles);\n  const isXAxisInverted = parsedTransform !== null ? (parsedTransform == null ? void 0 : parsedTransform.scaleX) < 0 : false;\n  const isYAxisInverted = parsedTransform !== null ? (parsedTransform == null ? void 0 : parsedTransform.scaleY) < 0 : false;\n  const scrollContainerRect = new _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Rectangle(\n    rect.left * frameTransform.scaleX + frameTransform.x,\n    rect.top * frameTransform.scaleY + frameTransform.y,\n    rect.width * frameTransform.scaleX,\n    rect.height * frameTransform.scaleY\n  );\n  const direction = {\n    x: 0 /* Idle */,\n    y: 0 /* Idle */\n  };\n  const speed = {\n    x: 0,\n    y: 0\n  };\n  const threshold2 = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x\n  };\n  if ((!isTop || isYAxisInverted && !isBottom) && y <= scrollContainerRect.top + threshold2.height && (intent == null ? void 0 : intent.y) !== 1 /* Forward */ && x >= scrollContainerRect.left - tolerance.x && x <= scrollContainerRect.right + tolerance.x) {\n    direction.y = isYAxisInverted ? 1 /* Forward */ : -1 /* Reverse */;\n    speed.y = acceleration * Math.abs(\n      (scrollContainerRect.top + threshold2.height - y) / threshold2.height\n    );\n  } else if ((!isBottom || isYAxisInverted && !isTop) && y >= scrollContainerRect.bottom - threshold2.height && (intent == null ? void 0 : intent.y) !== -1 /* Reverse */ && x >= scrollContainerRect.left - tolerance.x && x <= scrollContainerRect.right + tolerance.x) {\n    direction.y = isYAxisInverted ? -1 /* Reverse */ : 1 /* Forward */;\n    speed.y = acceleration * Math.abs(\n      (scrollContainerRect.bottom - threshold2.height - y) / threshold2.height\n    );\n  }\n  if ((!isRight || isXAxisInverted && !isLeft) && x >= scrollContainerRect.right - threshold2.width && (intent == null ? void 0 : intent.x) !== -1 /* Reverse */ && y >= scrollContainerRect.top - tolerance.y && y <= scrollContainerRect.bottom + tolerance.y) {\n    direction.x = isXAxisInverted ? -1 /* Reverse */ : 1 /* Forward */;\n    speed.x = acceleration * Math.abs(\n      (scrollContainerRect.right - threshold2.width - x) / threshold2.width\n    );\n  } else if ((!isLeft || isXAxisInverted && !isRight) && x <= scrollContainerRect.left + threshold2.width && (intent == null ? void 0 : intent.x) !== 1 /* Forward */ && y >= scrollContainerRect.top - tolerance.y && y <= scrollContainerRect.bottom + tolerance.y) {\n    direction.x = isXAxisInverted ? 1 /* Forward */ : -1 /* Reverse */;\n    speed.x = acceleration * Math.abs(\n      (scrollContainerRect.left + threshold2.width - x) / threshold2.width\n    );\n  }\n  return {\n    direction,\n    speed\n  };\n}\n\n// src/utilities/scroll/scrollIntoViewIfNeeded.ts\nfunction supportsScrollIntoViewIfNeeded(element) {\n  return \"scrollIntoViewIfNeeded\" in element && typeof element.scrollIntoViewIfNeeded === \"function\";\n}\nfunction scrollIntoViewIfNeeded(el, centerIfNeeded = false) {\n  if (supportsScrollIntoViewIfNeeded(el)) {\n    el.scrollIntoViewIfNeeded(centerIfNeeded);\n    return;\n  }\n  if (!isHTMLElement(el)) {\n    return el.scrollIntoView();\n  }\n  var parent = getFirstScrollableAncestor(el);\n  if (!isHTMLElement(parent)) {\n    return;\n  }\n  const parentComputedStyle = getComputedStyles(parent, true), parentBorderTopWidth = parseInt(\n    parentComputedStyle.getPropertyValue(\"border-top-width\")\n  ), parentBorderLeftWidth = parseInt(\n    parentComputedStyle.getPropertyValue(\"border-left-width\")\n  ), overTop = el.offsetTop - parent.offsetTop < parent.scrollTop, overBottom = el.offsetTop - parent.offsetTop + el.clientHeight - parentBorderTopWidth > parent.scrollTop + parent.clientHeight, overLeft = el.offsetLeft - parent.offsetLeft < parent.scrollLeft, overRight = el.offsetLeft - parent.offsetLeft + el.clientWidth - parentBorderLeftWidth > parent.scrollLeft + parent.clientWidth, alignWithTop = overTop && !overBottom;\n  if ((overTop || overBottom) && centerIfNeeded) {\n    parent.scrollTop = el.offsetTop - parent.offsetTop - parent.clientHeight / 2 - parentBorderTopWidth + el.clientHeight / 2;\n  }\n  if ((overLeft || overRight) && centerIfNeeded) {\n    parent.scrollLeft = el.offsetLeft - parent.offsetLeft - parent.clientWidth / 2 - parentBorderLeftWidth + el.clientWidth / 2;\n  }\n  if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {\n    el.scrollIntoView(alignWithTop);\n  }\n}\n\n// src/utilities/transform/applyTransform.ts\nfunction applyTransform(rect, parsedTransform, transformOrigin) {\n  const { scaleX, scaleY, x: translateX, y: translateY } = parsedTransform;\n  const x = rect.left + translateX + (1 - scaleX) * parseFloat(transformOrigin);\n  const y = rect.top + translateY + (1 - scaleY) * parseFloat(transformOrigin.slice(transformOrigin.indexOf(\" \") + 1));\n  const w = scaleX ? rect.width * scaleX : rect.width;\n  const h = scaleY ? rect.height * scaleY : rect.height;\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x\n  };\n}\n\n// src/utilities/transform/inverseTransform.ts\nfunction inverseTransform(rect, parsedTransform, transformOrigin) {\n  const { scaleX, scaleY, x: translateX, y: translateY } = parsedTransform;\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y = rect.top - translateY - (1 - scaleY) * parseFloat(transformOrigin.slice(transformOrigin.indexOf(\" \") + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x\n  };\n}\n\n// src/utilities/transform/animateTransform.ts\nfunction animateTransform({ element, keyframes, options }) {\n  return element.animate(keyframes, options).finished;\n}\n\n// src/utilities/transform/computeTranslate.ts\nfunction computeTranslate(element, translate = getComputedStyles(element).translate, projected = true) {\n  if (projected) {\n    const keyframe = getFinalKeyframe(\n      element,\n      (keyframe2) => \"translate\" in keyframe2\n    );\n    if (keyframe) {\n      const { translate: translate2 = \"\" } = keyframe[0];\n      if (typeof translate2 === \"string\") {\n        const finalTranslate = parseTranslate(translate2);\n        if (finalTranslate) {\n          return finalTranslate;\n        }\n      }\n    }\n  }\n  if (translate) {\n    const finalTranslate = parseTranslate(translate);\n    if (finalTranslate) {\n      return finalTranslate;\n    }\n  }\n  return { x: 0, y: 0, z: 0 };\n}\n\n// src/utilities/animations/forceFinishAnimations.ts\nvar scheduler3 = new Scheduler((callback) => setTimeout(callback, 0));\nvar animations = /* @__PURE__ */ new Map();\nvar clear2 = animations.clear.bind(animations);\nfunction getDocumentAnimations(element) {\n  const document2 = element.ownerDocument;\n  let documentAnimations = animations.get(document2);\n  if (documentAnimations) return documentAnimations;\n  documentAnimations = document2.getAnimations();\n  animations.set(document2, documentAnimations);\n  scheduler3.schedule(clear2);\n  const elementAnimations = documentAnimations.filter(\n    (animation) => isKeyframeEffect(animation.effect) && animation.effect.target === element\n  );\n  animations.set(element, elementAnimations);\n  return documentAnimations;\n}\nfunction forceFinishAnimations(element, options) {\n  const animations2 = getDocumentAnimations(element).filter((animation) => {\n    var _a, _b;\n    if (isKeyframeEffect(animation.effect)) {\n      const { target } = animation.effect;\n      const isValidTarget = (_b = target && ((_a = options.isValidTarget) == null ? void 0 : _a.call(options, target))) != null ? _b : true;\n      if (isValidTarget) {\n        return animation.effect.getKeyframes().some((keyframe) => {\n          for (const property of options.properties) {\n            if (keyframe[property]) return true;\n          }\n        });\n      }\n    }\n  }).map((animation) => {\n    const { effect, currentTime } = animation;\n    const duration = effect == null ? void 0 : effect.getComputedTiming().duration;\n    if (animation.pending || animation.playState === \"finished\") return;\n    if (typeof duration == \"number\" && typeof currentTime == \"number\" && currentTime < duration) {\n      animation.currentTime = duration;\n      return () => {\n        animation.currentTime = currentTime;\n      };\n    }\n  });\n  if (animations2.length > 0) {\n    return () => animations2.forEach((reset) => reset == null ? void 0 : reset());\n  }\n}\n\n// src/utilities/shapes/DOMRectangle.ts\nvar DOMRectangle = class extends _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_0__.Rectangle {\n  constructor(element, options = {}) {\n    var _a, _b, _c, _d;\n    const {\n      frameTransform = getFrameTransform(element),\n      ignoreTransforms,\n      getBoundingClientRect = getBoundingRectangle\n    } = options;\n    const resetAnimations = forceFinishAnimations(element, {\n      properties: [\"transform\", \"translate\", \"scale\", \"width\", \"height\"],\n      isValidTarget: (target) => (target !== element || isSafari()) && target.contains(element)\n    });\n    const boundingRectangle = getBoundingClientRect(element);\n    let { top, left, width, height } = boundingRectangle;\n    let updated;\n    const computedStyles = getComputedStyles(element);\n    const parsedTransform = parseTransform(computedStyles);\n    const scale = {\n      x: (_a = parsedTransform == null ? void 0 : parsedTransform.scaleX) != null ? _a : 1,\n      y: (_b = parsedTransform == null ? void 0 : parsedTransform.scaleY) != null ? _b : 1\n    };\n    const projectedTransform = getProjectedTransform(element, computedStyles);\n    resetAnimations == null ? void 0 : resetAnimations();\n    if (parsedTransform) {\n      updated = inverseTransform(\n        boundingRectangle,\n        parsedTransform,\n        computedStyles.transformOrigin\n      );\n      if (ignoreTransforms || projectedTransform) {\n        top = updated.top;\n        left = updated.left;\n        width = updated.width;\n        height = updated.height;\n      }\n    }\n    const intrinsic = {\n      width: (_c = updated == null ? void 0 : updated.width) != null ? _c : width,\n      height: (_d = updated == null ? void 0 : updated.height) != null ? _d : height\n    };\n    if (projectedTransform && !ignoreTransforms && updated) {\n      const projected = applyTransform(\n        updated,\n        projectedTransform,\n        computedStyles.transformOrigin\n      );\n      top = projected.top;\n      left = projected.left;\n      width = projected.width;\n      height = projected.height;\n      scale.x = projectedTransform.scaleX;\n      scale.y = projectedTransform.scaleY;\n    }\n    if (frameTransform) {\n      if (!ignoreTransforms) {\n        left *= frameTransform.scaleX;\n        width *= frameTransform.scaleX;\n        top *= frameTransform.scaleY;\n        height *= frameTransform.scaleY;\n      }\n      left += frameTransform.x;\n      top += frameTransform.y;\n    }\n    super(left, top, width, height);\n    this.scale = scale;\n    this.intrinsicWidth = intrinsic.width;\n    this.intrinsicHeight = intrinsic.height;\n  }\n};\nfunction getProjectedTransform(element, computedStyles) {\n  var _a;\n  const animations2 = element.getAnimations();\n  let projectedTransform = null;\n  if (!animations2.length) return null;\n  for (const animation of animations2) {\n    if (animation.playState !== \"running\") continue;\n    const keyframes = isKeyframeEffect(animation.effect) ? animation.effect.getKeyframes() : [];\n    const keyframe = keyframes[keyframes.length - 1];\n    if (!keyframe) continue;\n    const { transform, translate, scale } = keyframe;\n    if (transform || translate || scale) {\n      const parsedTransform = parseTransform({\n        transform: typeof transform === \"string\" && transform ? transform : computedStyles.transform,\n        translate: typeof translate === \"string\" && translate ? translate : computedStyles.translate,\n        scale: typeof scale === \"string\" && scale ? scale : computedStyles.scale\n      });\n      if (parsedTransform) {\n        projectedTransform = projectedTransform ? {\n          x: projectedTransform.x + parsedTransform.x,\n          y: projectedTransform.y + parsedTransform.y,\n          z: (_a = projectedTransform.z) != null ? _a : parsedTransform.z,\n          scaleX: projectedTransform.scaleX * parsedTransform.scaleX,\n          scaleY: projectedTransform.scaleY * parsedTransform.scaleY\n        } : parsedTransform;\n      }\n    }\n  }\n  return projectedTransform;\n}\n\n// src/utilities/type-guards/supportsStyle.ts\nfunction supportsStyle(element) {\n  return \"style\" in element && typeof element.style === \"object\" && element.style !== null && \"setProperty\" in element.style && \"removeProperty\" in element.style && typeof element.style.setProperty === \"function\" && typeof element.style.removeProperty === \"function\";\n}\n\n// src/utilities/styles/Styles.ts\nvar Styles = class {\n  constructor(element) {\n    this.element = element;\n    this.initial = /* @__PURE__ */ new Map();\n  }\n  set(properties, prefix = \"\") {\n    const { element } = this;\n    if (!supportsStyle(element)) {\n      return;\n    }\n    for (const [key, value] of Object.entries(properties)) {\n      const property = `${prefix}${key}`;\n      if (!this.initial.has(property)) {\n        this.initial.set(property, element.style.getPropertyValue(property));\n      }\n      element.style.setProperty(\n        property,\n        typeof value === \"string\" ? value : `${value}px`\n      );\n    }\n  }\n  remove(properties, prefix = \"\") {\n    const { element } = this;\n    if (!supportsStyle(element)) {\n      return;\n    }\n    for (const key of properties) {\n      const property = `${prefix}${key}`;\n      element.style.removeProperty(property);\n    }\n  }\n  reset() {\n    const { element } = this;\n    if (!supportsStyle(element)) {\n      return;\n    }\n    for (const [key, value] of this.initial) {\n      element.style.setProperty(key, value);\n    }\n    if (element.getAttribute(\"style\") === \"\") {\n      element.removeAttribute(\"style\");\n    }\n  }\n};\n\n// src/utilities/type-guards/isElement.ts\nfunction isElement(target) {\n  if (!target) return false;\n  return target instanceof getWindow(target).Element || isNode(target) && target.nodeType === Node.ELEMENT_NODE;\n}\n\n// src/utilities/type-guards/isKeyboardEvent.ts\nfunction isKeyboardEvent(event) {\n  if (!event) return false;\n  const { KeyboardEvent } = getWindow(event.target);\n  return event instanceof KeyboardEvent;\n}\n\n// src/utilities/type-guards/isPointerEvent.ts\nfunction isPointerEvent(event) {\n  if (!event) return false;\n  const { PointerEvent } = getWindow(event.target);\n  return event instanceof PointerEvent;\n}\n\n// src/utilities/type-guards/supportsViewTransition.ts\nfunction supportsViewTransition(document2) {\n  return \"startViewTransition\" in document2;\n}\n\n// src/utilities/type-guards/isTextInput.ts\nfunction isTextInput(target) {\n  if (!isElement(target)) return false;\n  const { tagName } = target;\n  return tagName === \"INPUT\" || tagName === \"TEXTAREA\" || isContentEditable(target);\n}\nfunction isContentEditable(element) {\n  return element.hasAttribute(\"contenteditable\") && element.getAttribute(\"contenteditable\") !== \"false\";\n}\n\n// src/utilities/misc/generateUniqueId.ts\nvar ids = {};\nfunction generateUniqueId(prefix) {\n  const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n  ids[prefix] = id;\n  return `${prefix}-${id}`;\n}\n\n\n//# sourceMappingURL=utilities.js.map\n//# sourceMappingURL=utilities.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtkb21AMC4xLjIxL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9kb20vdXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThDOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLDBDQUEwQztBQUNwRCxXQUFXO0FBQ1g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxrQkFBa0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQ0FBaUM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSw2Q0FBNkM7QUFDdkQsVUFBVSxPQUFPLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3QkFBd0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxVQUFVO0FBQzdFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsOEJBQThCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixPQUFPLEVBQUUsSUFBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE1BQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsT0FBTyxFQUFFLElBQUk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxlQUFlO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTyxHQUFHLEdBQUc7QUFDekI7O0FBRW95QjtBQUNweUI7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2RvbUAwLjEuMjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2RvbS91dGlsaXRpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQGRuZC1raXQvZ2VvbWV0cnknO1xuXG52YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IG1lbWJlci5oYXMob2JqKSB8fCBfX3R5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBtZW1iZXIuZ2V0KG9iaikpO1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IG1lbWJlci5oYXMob2JqKSA/IF9fdHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKSA6IG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xudmFyIF9fcHJpdmF0ZVNldCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpO1xudmFyIF9fcHJpdmF0ZU1ldGhvZCA9IChvYmosIG1lbWJlciwgbWV0aG9kKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIiksIG1ldGhvZCk7XG5cbi8vIHNyYy91dGlsaXRpZXMvdHlwZS1ndWFyZHMvaXNLZXlmcmFtZUVmZmVjdC50c1xuZnVuY3Rpb24gaXNLZXlmcmFtZUVmZmVjdChlZmZlY3QpIHtcbiAgaWYgKCFlZmZlY3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKGVmZmVjdCBpbnN0YW5jZW9mIEtleWZyYW1lRWZmZWN0KSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIFwiZ2V0S2V5ZnJhbWVzXCIgaW4gZWZmZWN0ICYmIHR5cGVvZiBlZmZlY3QuZ2V0S2V5ZnJhbWVzID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvYW5pbWF0aW9ucy9nZXRGaW5hbEtleWZyYW1lLnRzXG5mdW5jdGlvbiBnZXRGaW5hbEtleWZyYW1lKGVsZW1lbnQsIG1hdGNoKSB7XG4gIGNvbnN0IGFuaW1hdGlvbnMyID0gZWxlbWVudC5nZXRBbmltYXRpb25zKCk7XG4gIGlmIChhbmltYXRpb25zMi5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChjb25zdCBhbmltYXRpb24gb2YgYW5pbWF0aW9uczIpIHtcbiAgICAgIGlmIChhbmltYXRpb24ucGxheVN0YXRlICE9PSBcInJ1bm5pbmdcIikgY29udGludWU7XG4gICAgICBjb25zdCB7IGVmZmVjdCB9ID0gYW5pbWF0aW9uO1xuICAgICAgY29uc3Qga2V5ZnJhbWVzID0gaXNLZXlmcmFtZUVmZmVjdChlZmZlY3QpID8gZWZmZWN0LmdldEtleWZyYW1lcygpIDogW107XG4gICAgICBjb25zdCBtYXRjaGVkS2V5ZnJhbWVzID0ga2V5ZnJhbWVzLmZpbHRlcihtYXRjaCk7XG4gICAgICBpZiAobWF0Y2hlZEtleWZyYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBbbWF0Y2hlZEtleWZyYW1lc1ttYXRjaGVkS2V5ZnJhbWVzLmxlbmd0aCAtIDFdLCBhbmltYXRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9ib3VuZGluZy1yZWN0YW5nbGUvZ2V0Qm91bmRpbmdSZWN0YW5nbGUudHNcbmZ1bmN0aW9uIGdldEJvdW5kaW5nUmVjdGFuZ2xlKGVsZW1lbnQpIHtcbiAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7IHdpZHRoLCBoZWlnaHQsIHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL2V4ZWN1dGlvbi1jb250ZXh0L2NhblVzZURPTS50c1xudmFyIGNhblVzZURPTSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG5cbi8vIHNyYy91dGlsaXRpZXMvdHlwZS1ndWFyZHMvaXNXaW5kb3cudHNcbmZ1bmN0aW9uIGlzV2luZG93KGVsZW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudFN0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlbGVtZW50KTtcbiAgcmV0dXJuIGVsZW1lbnRTdHJpbmcgPT09IFwiW29iamVjdCBXaW5kb3ddXCIgfHwgLy8gSW4gRWxlY3Ryb24gY29udGV4dCB0aGUgV2luZG93IG9iamVjdCBzZXJpYWxpemVzIHRvIFtvYmplY3QgZ2xvYmFsXVxuICBlbGVtZW50U3RyaW5nID09PSBcIltvYmplY3QgZ2xvYmFsXVwiO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3R5cGUtZ3VhcmRzL2lzTm9kZS50c1xuZnVuY3Rpb24gaXNOb2RlKG5vZGUpIHtcbiAgcmV0dXJuIFwibm9kZVR5cGVcIiBpbiBub2RlO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL2V4ZWN1dGlvbi1jb250ZXh0L2dldFdpbmRvdy50c1xuZnVuY3Rpb24gZ2V0V2luZG93KHRhcmdldCkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG4gIGlmIChpc1dpbmRvdyh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBpZiAoIWlzTm9kZSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICBpZiAoXCJkZWZhdWx0Vmlld1wiIGluIHRhcmdldCkge1xuICAgIHJldHVybiAoX2EgPSB0YXJnZXQuZGVmYXVsdFZpZXcpICE9IG51bGwgPyBfYSA6IHdpbmRvdztcbiAgfVxuICByZXR1cm4gKF9jID0gKF9iID0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5kZWZhdWx0VmlldykgIT0gbnVsbCA/IF9jIDogd2luZG93O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3R5cGUtZ3VhcmRzL2lzRG9jdW1lbnQudHNcbmZ1bmN0aW9uIGlzRG9jdW1lbnQobm9kZSkge1xuICBjb25zdCB7IERvY3VtZW50IH0gPSBnZXRXaW5kb3cobm9kZSk7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgRG9jdW1lbnQgfHwgXCJub2RlVHlwZVwiIGluIG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9OT0RFO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3R5cGUtZ3VhcmRzL2lzSFRNTEVsZW1lbnQudHNcbmZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQobm9kZSkge1xuICBpZiAoIW5vZGUgfHwgaXNXaW5kb3cobm9kZSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBnZXRXaW5kb3cobm9kZSkuSFRNTEVsZW1lbnQgfHwgXCJuYW1lc3BhY2VVUklcIiBpbiBub2RlICYmIHR5cGVvZiBub2RlLm5hbWVzcGFjZVVSSSA9PT0gXCJzdHJpbmdcIiAmJiBub2RlLm5hbWVzcGFjZVVSSS5lbmRzV2l0aChcImh0bWxcIik7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvdHlwZS1ndWFyZHMvaXNTVkdFbGVtZW50LnRzXG5mdW5jdGlvbiBpc1NWR0VsZW1lbnQobm9kZSkge1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIGdldFdpbmRvdyhub2RlKS5TVkdFbGVtZW50IHx8IFwibmFtZXNwYWNlVVJJXCIgaW4gbm9kZSAmJiB0eXBlb2Ygbm9kZS5uYW1lc3BhY2VVUkkgPT09IFwic3RyaW5nXCIgJiYgbm9kZS5uYW1lc3BhY2VVUkkuZW5kc1dpdGgoXCJzdmdcIik7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvZXhlY3V0aW9uLWNvbnRleHQvZ2V0RG9jdW1lbnQudHNcbmZ1bmN0aW9uIGdldERvY3VtZW50KHRhcmdldCkge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuICBpZiAoaXNXaW5kb3codGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQuZG9jdW1lbnQ7XG4gIH1cbiAgaWYgKCFpc05vZGUodGFyZ2V0KSkge1xuICAgIHJldHVybiBkb2N1bWVudDtcbiAgfVxuICBpZiAoaXNEb2N1bWVudCh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBpZiAoaXNIVE1MRWxlbWVudCh0YXJnZXQpIHx8IGlzU1ZHRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldC5vd25lckRvY3VtZW50O1xuICB9XG4gIHJldHVybiBkb2N1bWVudDtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9ib3VuZGluZy1yZWN0YW5nbGUvZ2V0Vmlld3BvcnRCb3VuZGluZ1JlY3RhbmdsZS50c1xuZnVuY3Rpb24gZ2V0Vmlld3BvcnRCb3VuZGluZ1JlY3RhbmdsZShlbGVtZW50KSB7XG4gIGNvbnN0IHsgZG9jdW1lbnRFbGVtZW50IH0gPSBnZXREb2N1bWVudChlbGVtZW50KTtcbiAgY29uc3Qgd2lkdGggPSBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IGRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIHJldHVybiB7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcmlnaHQ6IHdpZHRoLFxuICAgIGJvdHRvbTogaGVpZ2h0LFxuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL2JvdW5kaW5nLXJlY3RhbmdsZS9pc092ZXJmbG93VmlzaWJsZS50c1xuZnVuY3Rpb24gaXNPdmVyZmxvd1Zpc2libGUoZWxlbWVudCwgc3R5bGUpIHtcbiAgaWYgKGlzRGV0YWlsc0VsZW1lbnQoZWxlbWVudCkgJiYgZWxlbWVudC5vcGVuID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB7IG92ZXJmbG93LCBvdmVyZmxvd1gsIG92ZXJmbG93WSB9ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgcmV0dXJuIG92ZXJmbG93ID09PSBcInZpc2libGVcIiAmJiBvdmVyZmxvd1ggPT09IFwidmlzaWJsZVwiICYmIG92ZXJmbG93WSA9PT0gXCJ2aXNpYmxlXCI7XG59XG5mdW5jdGlvbiBpc0RldGFpbHNFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PT0gXCJERVRBSUxTXCI7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvYm91bmRpbmctcmVjdGFuZ2xlL2dldFZpc2libGVCb3VuZGluZ1JlY3RhbmdsZS50c1xuZnVuY3Rpb24gZ2V0VmlzaWJsZUJvdW5kaW5nUmVjdGFuZ2xlKGVsZW1lbnQsIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG1hcmdpbiA9IDApIHtcbiAgdmFyIF9hO1xuICBsZXQgcmVjdCA9IGJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgY29uc3QgeyBvd25lckRvY3VtZW50IH0gPSBlbGVtZW50O1xuICBjb25zdCBvd25lcldpbmRvdyA9IChfYSA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpICE9IG51bGwgPyBfYSA6IHdpbmRvdztcbiAgbGV0IGFuY2VzdG9yID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICB3aGlsZSAoYW5jZXN0b3IgJiYgYW5jZXN0b3IgIT09IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgaWYgKCFpc092ZXJmbG93VmlzaWJsZShhbmNlc3RvcikpIHtcbiAgICAgIGNvbnN0IGFuY2VzdG9yUmVjdCA9IGFuY2VzdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgbWFyZ2luVG9wID0gbWFyZ2luICogKGFuY2VzdG9yUmVjdC5ib3R0b20gLSBhbmNlc3RvclJlY3QudG9wKTtcbiAgICAgIGNvbnN0IG1hcmdpblJpZ2h0ID0gbWFyZ2luICogKGFuY2VzdG9yUmVjdC5yaWdodCAtIGFuY2VzdG9yUmVjdC5sZWZ0KTtcbiAgICAgIGNvbnN0IG1hcmdpbkJvdHRvbSA9IG1hcmdpbiAqIChhbmNlc3RvclJlY3QuYm90dG9tIC0gYW5jZXN0b3JSZWN0LnRvcCk7XG4gICAgICBjb25zdCBtYXJnaW5MZWZ0ID0gbWFyZ2luICogKGFuY2VzdG9yUmVjdC5yaWdodCAtIGFuY2VzdG9yUmVjdC5sZWZ0KTtcbiAgICAgIHJlY3QgPSB7XG4gICAgICAgIHRvcDogTWF0aC5tYXgocmVjdC50b3AsIGFuY2VzdG9yUmVjdC50b3AgLSBtYXJnaW5Ub3ApLFxuICAgICAgICByaWdodDogTWF0aC5taW4ocmVjdC5yaWdodCwgYW5jZXN0b3JSZWN0LnJpZ2h0ICsgbWFyZ2luUmlnaHQpLFxuICAgICAgICBib3R0b206IE1hdGgubWluKHJlY3QuYm90dG9tLCBhbmNlc3RvclJlY3QuYm90dG9tICsgbWFyZ2luQm90dG9tKSxcbiAgICAgICAgbGVmdDogTWF0aC5tYXgocmVjdC5sZWZ0LCBhbmNlc3RvclJlY3QubGVmdCAtIG1hcmdpbkxlZnQpLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgLy8gV2lsbCBiZSBjYWxjdWxhdGVkIG5leHRcbiAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIC8vIFdpbGwgYmUgY2FsY3VsYXRlZCBuZXh0XG4gICAgICB9O1xuICAgICAgcmVjdC53aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgfVxuICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50RWxlbWVudDtcbiAgfVxuICBjb25zdCB2aWV3cG9ydFdpZHRoID0gb3duZXJXaW5kb3cuaW5uZXJXaWR0aDtcbiAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBvd25lcldpbmRvdy5pbm5lckhlaWdodDtcbiAgY29uc3Qgdmlld3BvcnRNYXJnaW5ZID0gbWFyZ2luICogdmlld3BvcnRIZWlnaHQ7XG4gIGNvbnN0IHZpZXdwb3J0TWFyZ2luWCA9IG1hcmdpbiAqIHZpZXdwb3J0V2lkdGg7XG4gIHJlY3QgPSB7XG4gICAgdG9wOiBNYXRoLm1heChyZWN0LnRvcCwgMCAtIHZpZXdwb3J0TWFyZ2luWSksXG4gICAgcmlnaHQ6IE1hdGgubWluKHJlY3QucmlnaHQsIHZpZXdwb3J0V2lkdGggKyB2aWV3cG9ydE1hcmdpblgpLFxuICAgIGJvdHRvbTogTWF0aC5taW4ocmVjdC5ib3R0b20sIHZpZXdwb3J0SGVpZ2h0ICsgdmlld3BvcnRNYXJnaW5ZKSxcbiAgICBsZWZ0OiBNYXRoLm1heChyZWN0LmxlZnQsIDAgLSB2aWV3cG9ydE1hcmdpblgpLFxuICAgIHdpZHRoOiAwLFxuICAgIC8vIFdpbGwgYmUgY2FsY3VsYXRlZCBuZXh0XG4gICAgaGVpZ2h0OiAwXG4gICAgLy8gV2lsbCBiZSBjYWxjdWxhdGVkIG5leHRcbiAgfTtcbiAgcmVjdC53aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgaWYgKHJlY3Qud2lkdGggPCAwKSB7XG4gICAgcmVjdC53aWR0aCA9IDA7XG4gIH1cbiAgaWYgKHJlY3QuaGVpZ2h0IDwgMCkge1xuICAgIHJlY3QuaGVpZ2h0ID0gMDtcbiAgfVxuICByZXR1cm4gcmVjdDtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9leGVjdXRpb24tY29udGV4dC9pc1NhZmFyaS50c1xuZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gIHJldHVybiAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL2VsZW1lbnQvY2xvbmVFbGVtZW50LnRzXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnQoZWxlbWVudCkge1xuICBjb25zdCBzZWxlY3RvciA9IFwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QsIGNhbnZhcywgW2NvbnRlbnRlZGl0YWJsZV1cIjtcbiAgY29uc3QgY2xvbmVkRWxlbWVudCA9IGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICBjb25zdCBmaWVsZHMgPSBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICBjb25zdCBjbG9uZWRGaWVsZHMgPSBBcnJheS5mcm9tKGNsb25lZEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICBjbG9uZWRGaWVsZHMuZm9yRWFjaCgoZmllbGQsIGluZGV4KSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxGaWVsZCA9IGZpZWxkc1tpbmRleF07XG4gICAgaWYgKGlzRmllbGQoZmllbGQpICYmIGlzRmllbGQob3JpZ2luYWxGaWVsZCkpIHtcbiAgICAgIGlmIChmaWVsZC50eXBlICE9PSBcImZpbGVcIikge1xuICAgICAgICBmaWVsZC52YWx1ZSA9IG9yaWdpbmFsRmllbGQudmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoZmllbGQudHlwZSA9PT0gXCJyYWRpb1wiICYmIGZpZWxkLm5hbWUpIHtcbiAgICAgICAgZmllbGQubmFtZSA9IGBDbG9uZWRfXyR7ZmllbGQubmFtZX1gO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNDYW52YXNFbGVtZW50KGZpZWxkKSAmJiBpc0NhbnZhc0VsZW1lbnQob3JpZ2luYWxGaWVsZCkgJiYgb3JpZ2luYWxGaWVsZC53aWR0aCA+IDAgJiYgb3JpZ2luYWxGaWVsZC5oZWlnaHQgPiAwKSB7XG4gICAgICBjb25zdCBkZXN0Q3R4ID0gZmllbGQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgZGVzdEN0eCA9PSBudWxsID8gdm9pZCAwIDogZGVzdEN0eC5kcmF3SW1hZ2Uob3JpZ2luYWxGaWVsZCwgMCwgMCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNsb25lZEVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc0ZpZWxkKGVsZW1lbnQpIHtcbiAgcmV0dXJuIFwidmFsdWVcIiBpbiBlbGVtZW50O1xufVxuZnVuY3Rpb24gaXNDYW52YXNFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQudGFnTmFtZSA9PT0gXCJDQU5WQVNcIjtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9lbGVtZW50L2dldEVsZW1lbnRGcm9tUG9pbnQudHNcbmZ1bmN0aW9uIGdldEVsZW1lbnRGcm9tUG9pbnQoZG9jdW1lbnQyLCB7IHgsIHkgfSkge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQyLmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gIGlmIChpc0lGcmFtZUVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBjb25zdCB7IGNvbnRlbnREb2N1bWVudCB9ID0gZWxlbWVudDtcbiAgICBpZiAoY29udGVudERvY3VtZW50KSB7XG4gICAgICBjb25zdCB7IGxlZnQsIHRvcCB9ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHJldHVybiBnZXRFbGVtZW50RnJvbVBvaW50KGNvbnRlbnREb2N1bWVudCwge1xuICAgICAgICB4OiB4IC0gbGVmdCxcbiAgICAgICAgeTogeSAtIHRvcFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbGVtZW50O1xufVxuZnVuY3Rpb24gaXNJRnJhbWVFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIChlbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBlbGVtZW50LnRhZ05hbWUpID09PSBcIklGUkFNRVwiO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL2VsZW1lbnQvcHJveGllZEVsZW1lbnRzLnRzXG52YXIgUHJveGllZEVsZW1lbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5cbi8vIHNyYy91dGlsaXRpZXMvZXZlbnQtbGlzdGVuZXJzL0xpc3RlbmVycy50c1xudmFyIExpc3RlbmVycyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5lbnRyaWVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICB0aGlzLmNsZWFyID0gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLmVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgW3RhcmdldCwgeyB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyB9XSA9IGVudHJ5O1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICB0aGlzLmVudHJpZXMuY2xlYXIoKTtcbiAgICB9O1xuICB9XG4gIGJpbmQodGFyZ2V0LCBpbnB1dCkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IEFycmF5LmlzQXJyYXkoaW5wdXQpID8gaW5wdXQgOiBbaW5wdXRdO1xuICAgIGNvbnN0IGVudHJpZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGRlc2NyaXB0b3Igb2YgbGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCB7IHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zIH0gPSBkZXNjcmlwdG9yO1xuICAgICAgY29uc3QgZW50cnkgPSBbdGFyZ2V0LCBkZXNjcmlwdG9yXTtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuZW50cmllcy5hZGQoZW50cnkpO1xuICAgICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICBmb3IgKGNvbnN0IFt0YXJnZXQyLCB7IHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zIH1dIG9mIGVudHJpZXMpIHtcbiAgICAgICAgdGFyZ2V0Mi5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuXG4vLyBzcmMvdXRpbGl0aWVzL2ZyYW1lL2dldEZyYW1lRWxlbWVudC50c1xuZnVuY3Rpb24gZ2V0RnJhbWVFbGVtZW50KGVsKSB7XG4gIGNvbnN0IHJlZldpbmRvdyA9IGVsID09IG51bGwgPyB2b2lkIDAgOiBlbC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICBpZiAocmVmV2luZG93ICYmIHJlZldpbmRvdy5zZWxmICE9PSByZWZXaW5kb3cucGFyZW50KSB7XG4gICAgcmV0dXJuIHJlZldpbmRvdy5mcmFtZUVsZW1lbnQ7XG4gIH1cbn1cblxuLy8gc3JjL3V0aWxpdGllcy9mcmFtZS9nZXRGcmFtZUVsZW1lbnRzLnRzXG5mdW5jdGlvbiBnZXRGcmFtZUVsZW1lbnRzKGVsKSB7XG4gIGNvbnN0IGZyYW1lcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBmcmFtZSA9IGdldEZyYW1lRWxlbWVudChlbCk7XG4gIHdoaWxlIChmcmFtZSkge1xuICAgIGZyYW1lcy5hZGQoZnJhbWUpO1xuICAgIGZyYW1lID0gZ2V0RnJhbWVFbGVtZW50KGZyYW1lKTtcbiAgfVxuICByZXR1cm4gZnJhbWVzO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3NjaGVkdWxpbmcvdGltZW91dC50c1xuZnVuY3Rpb24gdGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pIHtcbiAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbik7XG4gIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQoaWQpO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3NjaGVkdWxpbmcvdGhyb3R0bGUudHNcbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIGxpbWl0KSB7XG4gIGNvbnN0IHRpbWUgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgbGV0IGNhbmNlbDtcbiAgbGV0IGxhc3RSYW47XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgaWYgKCFsYXN0UmFuKSB7XG4gICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgbGFzdFJhbiA9IHRpbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuY2VsID09IG51bGwgPyB2b2lkIDAgOiBjYW5jZWwoKTtcbiAgICAgIGNhbmNlbCA9IHRpbWVvdXQoXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGxhc3RSYW4gPSB0aW1lKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbWl0IC0gKHRpbWUoKSAtIGxhc3RSYW4pXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9ib3VuZGluZy1yZWN0YW5nbGUvaXNSZWN0RXF1YWwudHNcbmZ1bmN0aW9uIGlzUmVjdEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBpZiAoIWEgfHwgIWIpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGEudG9wID09IGIudG9wICYmIGEubGVmdCA9PSBiLmxlZnQgJiYgYS5yaWdodCA9PSBiLnJpZ2h0ICYmIGEuYm90dG9tID09IGIuYm90dG9tO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL2JvdW5kaW5nLXJlY3RhbmdsZS9pc1Zpc2libGUudHNcbmZ1bmN0aW9uIGlzVmlzaWJsZShlbGVtZW50LCBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSB7XG4gIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZ2V0VmlzaWJsZUJvdW5kaW5nUmVjdGFuZ2xlKFxuICAgIGVsZW1lbnQsXG4gICAgYm91bmRpbmdDbGllbnRSZWN0XG4gICk7XG4gIHJldHVybiB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9vYnNlcnZlcnMvUmVzaXplTm90aWZpZXIudHNcbnZhciBPYnNlcnZlciA9IGNhblVzZURPTSA/IFJlc2l6ZU9ic2VydmVyIDogY2xhc3MgTW9ja1Jlc2l6ZU9ic2VydmVyIHtcbiAgb2JzZXJ2ZSgpIHtcbiAgfVxuICB1bm9ic2VydmUoKSB7XG4gIH1cbiAgZGlzY29ubmVjdCgpIHtcbiAgfVxufTtcbnZhciBfaW5pdGlhbGl6ZWQ7XG52YXIgUmVzaXplTm90aWZpZXIgPSBjbGFzcyBleHRlbmRzIE9ic2VydmVyIHtcbiAgY29uc3RydWN0b3IoY2FsbGJhY2spIHtcbiAgICBzdXBlcigoZW50cmllcykgPT4ge1xuICAgICAgaWYgKCFfX3ByaXZhdGVHZXQodGhpcywgX2luaXRpYWxpemVkKSkge1xuICAgICAgICBfX3ByaXZhdGVTZXQodGhpcywgX2luaXRpYWxpemVkLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2soZW50cmllcywgdGhpcyk7XG4gICAgfSk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9pbml0aWFsaXplZCwgZmFsc2UpO1xuICB9XG59O1xuX2luaXRpYWxpemVkID0gbmV3IFdlYWtNYXAoKTtcblxuLy8gc3JjL3V0aWxpdGllcy9vYnNlcnZlcnMvUG9zaXRpb25PYnNlcnZlci50c1xudmFyIHRocmVzaG9sZCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMCB9LCAoXywgaW5kZXgpID0+IGluZGV4IC8gMTAwKTtcbnZhciBUSFJPVFRMRV9JTlRFUlZBTCA9IDc1O1xudmFyIF92aXNpYmxlLCBfcHJldmlvdXNCb3VuZGluZ0NsaWVudFJlY3QsIF9yZXNpemVPYnNlcnZlciwgX3Bvc2l0aW9uT2JzZXJ2ZXIsIF92aXNpYmlsaXR5T2JzZXJ2ZXIsIF9kZWJ1ZywgX2Rpc2Nvbm5lY3RlZCwgX29ic2VydmVQb3NpdGlvbiwgX1Bvc2l0aW9uT2JzZXJ2ZXJfaW5zdGFuY2VzLCBub3RpZnlfZm4sIHVwZGF0ZURlYnVnX2ZuO1xudmFyIFBvc2l0aW9uT2JzZXJ2ZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zID0ge1xuICAgIGRlYnVnOiBmYWxzZSxcbiAgICBza2lwSW5pdGlhbDogZmFsc2VcbiAgfSkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfUG9zaXRpb25PYnNlcnZlcl9pbnN0YW5jZXMpO1xuICAgIHRoaXMuZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF9kaXNjb25uZWN0ZWQsIHRydWUpO1xuICAgICAgKF9hID0gX19wcml2YXRlR2V0KHRoaXMsIF9yZXNpemVPYnNlcnZlcikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kaXNjb25uZWN0KCk7XG4gICAgICAoX2IgPSBfX3ByaXZhdGVHZXQodGhpcywgX3Bvc2l0aW9uT2JzZXJ2ZXIpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF92aXNpYmlsaXR5T2JzZXJ2ZXIpLmRpc2Nvbm5lY3QoKTtcbiAgICAgIChfYyA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfZGVidWcpKSA9PSBudWxsID8gdm9pZCAwIDogX2MucmVtb3ZlKCk7XG4gICAgfTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3Zpc2libGUsIHRydWUpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcHJldmlvdXNCb3VuZGluZ0NsaWVudFJlY3QpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcmVzaXplT2JzZXJ2ZXIpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcG9zaXRpb25PYnNlcnZlcik7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF92aXNpYmlsaXR5T2JzZXJ2ZXIpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfZGVidWcpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfZGlzY29ubmVjdGVkLCBmYWxzZSk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9vYnNlcnZlUG9zaXRpb24sIHRocm90dGxlKCgpID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgKF9hID0gX19wcml2YXRlR2V0KHRoaXMsIF9wb3NpdGlvbk9ic2VydmVyKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2Rpc2Nvbm5lY3RlZCkgfHwgIV9fcHJpdmF0ZUdldCh0aGlzLCBfdmlzaWJsZSkgfHwgIWVsZW1lbnQuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgcm9vdCA9IChfYiA9IGVsZW1lbnQub3duZXJEb2N1bWVudCkgIT0gbnVsbCA/IF9iIDogZG9jdW1lbnQ7XG4gICAgICBjb25zdCB7IGlubmVySGVpZ2h0LCBpbm5lcldpZHRoIH0gPSAoX2MgPSByb290LmRlZmF1bHRWaWV3KSAhPSBudWxsID8gX2MgOiB3aW5kb3c7XG4gICAgICBjb25zdCBjbGllbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHZpc2libGVSZWN0ID0gZ2V0VmlzaWJsZUJvdW5kaW5nUmVjdGFuZ2xlKGVsZW1lbnQsIGNsaWVudFJlY3QpO1xuICAgICAgY29uc3QgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSA9IHZpc2libGVSZWN0O1xuICAgICAgY29uc3QgaW5zZXRUb3AgPSAtTWF0aC5mbG9vcih0b3ApO1xuICAgICAgY29uc3QgaW5zZXRMZWZ0ID0gLU1hdGguZmxvb3IobGVmdCk7XG4gICAgICBjb25zdCBpbnNldFJpZ2h0ID0gLU1hdGguZmxvb3IoaW5uZXJXaWR0aCAtIHJpZ2h0KTtcbiAgICAgIGNvbnN0IGluc2V0Qm90dG9tID0gLU1hdGguZmxvb3IoaW5uZXJIZWlnaHQgLSBib3R0b20pO1xuICAgICAgY29uc3Qgcm9vdE1hcmdpbiA9IGAke2luc2V0VG9wfXB4ICR7aW5zZXRSaWdodH1weCAke2luc2V0Qm90dG9tfXB4ICR7aW5zZXRMZWZ0fXB4YDtcbiAgICAgIHRoaXMuYm91bmRpbmdDbGllbnRSZWN0ID0gY2xpZW50UmVjdDtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcG9zaXRpb25PYnNlcnZlciwgbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICAgICAgICAgIGNvbnN0IHsgaW50ZXJzZWN0aW9uUmVjdCB9ID0gZW50cnk7XG4gICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uUmF0aW8gPSBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyAhPT0gMSA/IGVudHJ5LmludGVyc2VjdGlvblJhdGlvIDogUmVjdGFuZ2xlLmludGVyc2VjdGlvblJhdGlvKFxuICAgICAgICAgICAgaW50ZXJzZWN0aW9uUmVjdCxcbiAgICAgICAgICAgIGdldFZpc2libGVCb3VuZGluZ1JlY3RhbmdsZShlbGVtZW50KVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGludGVyc2VjdGlvblJhdGlvICE9PSAxKSB7XG4gICAgICAgICAgICBfX3ByaXZhdGVHZXQodGhpcywgX29ic2VydmVQb3NpdGlvbikuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aHJlc2hvbGQsXG4gICAgICAgICAgcm9vdE1hcmdpbixcbiAgICAgICAgICByb290XG4gICAgICAgIH1cbiAgICAgICkpO1xuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9wb3NpdGlvbk9ic2VydmVyKS5vYnNlcnZlKGVsZW1lbnQpO1xuICAgICAgX19wcml2YXRlTWV0aG9kKHRoaXMsIF9Qb3NpdGlvbk9ic2VydmVyX2luc3RhbmNlcywgbm90aWZ5X2ZuKS5jYWxsKHRoaXMpO1xuICAgIH0sIFRIUk9UVExFX0lOVEVSVkFMKSk7XG4gICAgdGhpcy5ib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfdmlzaWJsZSwgaXNWaXNpYmxlKGVsZW1lbnQsIHRoaXMuYm91bmRpbmdDbGllbnRSZWN0KSk7XG4gICAgbGV0IGluaXRpYWwgPSB0cnVlO1xuICAgIHRoaXMuY2FsbGJhY2sgPSAoYm91bmRpbmdDbGllbnRSZWN0KSA9PiB7XG4gICAgICBpZiAoaW5pdGlhbCkge1xuICAgICAgICBpbml0aWFsID0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRpb25zLnNraXBJbml0aWFsKSByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhib3VuZGluZ0NsaWVudFJlY3QpO1xuICAgIH07XG4gICAgY29uc3Qgcm9vdCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kZWJ1Zykge1xuICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF9kZWJ1ZywgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICBfX3ByaXZhdGVHZXQodGhpcywgX2RlYnVnKS5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDAsMCwwLDAuMTUpXCI7XG4gICAgICBfX3ByaXZhdGVHZXQodGhpcywgX2RlYnVnKS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfZGVidWcpLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgIHJvb3QuYm9keS5hcHBlbmRDaGlsZChfX3ByaXZhdGVHZXQodGhpcywgX2RlYnVnKSk7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfdmlzaWJpbGl0eU9ic2VydmVyLCBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgeyBib3VuZGluZ0NsaWVudFJlY3QsIGlzSW50ZXJzZWN0aW5nOiB2aXNpYmxlIH0gPSBlbnRyeTtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBib3VuZGluZ0NsaWVudFJlY3Q7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmlzaWJsZSA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfdmlzaWJsZSk7XG4gICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfdmlzaWJsZSwgdmlzaWJsZSk7XG4gICAgICAgIGlmICghd2lkdGggJiYgIWhlaWdodCkgcmV0dXJuO1xuICAgICAgICBpZiAocHJldmlvdXNWaXNpYmxlICYmICF2aXNpYmxlKSB7XG4gICAgICAgICAgKF9hID0gX19wcml2YXRlR2V0KHRoaXMsIF9wb3NpdGlvbk9ic2VydmVyKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB0aGlzLmNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgIChfYiA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfcmVzaXplT2JzZXJ2ZXIpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcmVzaXplT2JzZXJ2ZXIsIHZvaWQgMCk7XG4gICAgICAgICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfZGVidWcpKSBfX3ByaXZhdGVHZXQodGhpcywgX2RlYnVnKS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfX3ByaXZhdGVHZXQodGhpcywgX29ic2VydmVQb3NpdGlvbikuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlzaWJsZSAmJiAhX19wcml2YXRlR2V0KHRoaXMsIF9yZXNpemVPYnNlcnZlcikpIHtcbiAgICAgICAgICBfX3ByaXZhdGVTZXQodGhpcywgX3Jlc2l6ZU9ic2VydmVyLCBuZXcgUmVzaXplTm90aWZpZXIoX19wcml2YXRlR2V0KHRoaXMsIF9vYnNlcnZlUG9zaXRpb24pKSk7XG4gICAgICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9yZXNpemVPYnNlcnZlcikub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGhyZXNob2xkLFxuICAgICAgICByb290XG4gICAgICB9XG4gICAgKSk7XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfdmlzaWJsZSkgJiYgIW9wdGlvbnMuc2tpcEluaXRpYWwpIHtcbiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5ib3VuZGluZ0NsaWVudFJlY3QpO1xuICAgIH1cbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX3Zpc2liaWxpdHlPYnNlcnZlcikub2JzZXJ2ZShlbGVtZW50KTtcbiAgfVxufTtcbl92aXNpYmxlID0gbmV3IFdlYWtNYXAoKTtcbl9wcmV2aW91c0JvdW5kaW5nQ2xpZW50UmVjdCA9IG5ldyBXZWFrTWFwKCk7XG5fcmVzaXplT2JzZXJ2ZXIgPSBuZXcgV2Vha01hcCgpO1xuX3Bvc2l0aW9uT2JzZXJ2ZXIgPSBuZXcgV2Vha01hcCgpO1xuX3Zpc2liaWxpdHlPYnNlcnZlciA9IG5ldyBXZWFrTWFwKCk7XG5fZGVidWcgPSBuZXcgV2Vha01hcCgpO1xuX2Rpc2Nvbm5lY3RlZCA9IG5ldyBXZWFrTWFwKCk7XG5fb2JzZXJ2ZVBvc2l0aW9uID0gbmV3IFdlYWtNYXAoKTtcbl9Qb3NpdGlvbk9ic2VydmVyX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCk7XG5ub3RpZnlfZm4gPSBmdW5jdGlvbigpIHtcbiAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfZGlzY29ubmVjdGVkKSkgcmV0dXJuO1xuICBfX3ByaXZhdGVNZXRob2QodGhpcywgX1Bvc2l0aW9uT2JzZXJ2ZXJfaW5zdGFuY2VzLCB1cGRhdGVEZWJ1Z19mbikuY2FsbCh0aGlzKTtcbiAgaWYgKGlzUmVjdEVxdWFsKHRoaXMuYm91bmRpbmdDbGllbnRSZWN0LCBfX3ByaXZhdGVHZXQodGhpcywgX3ByZXZpb3VzQm91bmRpbmdDbGllbnRSZWN0KSkpXG4gICAgcmV0dXJuO1xuICB0aGlzLmNhbGxiYWNrKHRoaXMuYm91bmRpbmdDbGllbnRSZWN0KTtcbiAgX19wcml2YXRlU2V0KHRoaXMsIF9wcmV2aW91c0JvdW5kaW5nQ2xpZW50UmVjdCwgdGhpcy5ib3VuZGluZ0NsaWVudFJlY3QpO1xufTtcbnVwZGF0ZURlYnVnX2ZuID0gZnVuY3Rpb24oKSB7XG4gIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2RlYnVnKSkge1xuICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH0gPSBnZXRWaXNpYmxlQm91bmRpbmdSZWN0YW5nbGUoXG4gICAgICB0aGlzLmVsZW1lbnRcbiAgICApO1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfZGVidWcpLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX2RlYnVnKS5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9kZWJ1Zykuc3R5bGUudG9wID0gYCR7TWF0aC5mbG9vcih0b3ApfXB4YDtcbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX2RlYnVnKS5zdHlsZS5sZWZ0ID0gYCR7TWF0aC5mbG9vcihsZWZ0KX1weGA7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9kZWJ1Zykuc3R5bGUud2lkdGggPSBgJHtNYXRoLmZsb29yKHdpZHRoKX1weGA7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9kZWJ1Zykuc3R5bGUuaGVpZ2h0ID0gYCR7TWF0aC5mbG9vcihoZWlnaHQpfXB4YDtcbiAgfVxufTtcblxuLy8gc3JjL3V0aWxpdGllcy9vYnNlcnZlcnMvRnJhbWVPYnNlcnZlci50c1xudmFyIGZyYW1lUG9zaXRpb25PYnNlcnZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBzY3JvbGxMaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGFkZEZyYW1lTGlzdGVuZXIoZnJhbWUsIGNhbGxiYWNrKSB7XG4gIGxldCBjYWNoZWQgPSBmcmFtZVBvc2l0aW9uT2JzZXJ2ZXJzLmdldChmcmFtZSk7XG4gIGlmICghY2FjaGVkKSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUG9zaXRpb25PYnNlcnZlcihcbiAgICAgIGZyYW1lLFxuICAgICAgKGJvdW5kaW5nQ2xpZW50UmVjdCkgPT4ge1xuICAgICAgICBjb25zdCBjYWNoZWQyID0gZnJhbWVQb3NpdGlvbk9ic2VydmVycy5nZXQoZnJhbWUpO1xuICAgICAgICBpZiAoIWNhY2hlZDIpIHJldHVybjtcbiAgICAgICAgY2FjaGVkMi5jYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2syKSA9PiBjYWxsYmFjazIoYm91bmRpbmdDbGllbnRSZWN0KSk7XG4gICAgICB9LFxuICAgICAgeyBza2lwSW5pdGlhbDogdHJ1ZSB9XG4gICAgKTtcbiAgICBjYWNoZWQgPSB7IGRpc2Nvbm5lY3Q6IG9ic2VydmVyLmRpc2Nvbm5lY3QsIGNhbGxiYWNrczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSB9O1xuICB9XG4gIGNhY2hlZC5jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgZnJhbWVQb3NpdGlvbk9ic2VydmVycy5zZXQoZnJhbWUsIGNhY2hlZCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY2FjaGVkLmNhbGxiYWNrcy5kZWxldGUoY2FsbGJhY2spO1xuICAgIGlmIChjYWNoZWQuY2FsbGJhY2tzLnNpemUgPT09IDApIHtcbiAgICAgIGZyYW1lUG9zaXRpb25PYnNlcnZlcnMuZGVsZXRlKGZyYW1lKTtcbiAgICAgIGNhY2hlZC5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gb2JzZXJ2ZVBhcmVudEZyYW1lcyhmcmFtZXMsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGNsZWFudXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBmb3IgKGNvbnN0IGZyYW1lIG9mIGZyYW1lcykge1xuICAgIGNvbnN0IHJlbW92ZSA9IGFkZEZyYW1lTGlzdGVuZXIoZnJhbWUsIGNhbGxiYWNrKTtcbiAgICBjbGVhbnVwLmFkZChyZW1vdmUpO1xuICB9XG4gIHJldHVybiAoKSA9PiBjbGVhbnVwLmZvckVhY2goKHJlbW92ZSkgPT4gcmVtb3ZlKCkpO1xufVxuZnVuY3Rpb24gYWRkU2Nyb2xsTGlzdGVuZXIoZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgdmFyIF9hO1xuICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIGlmICghc2Nyb2xsTGlzdGVuZXJzLmhhcyhkb2MpKSB7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCBsaXN0ZW5lcnMyID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJzY3JvbGxcIixcbiAgICAgIChldmVudCkgPT4gbGlzdGVuZXJzMi5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoZXZlbnQpKSxcbiAgICAgIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxuICAgICAgfVxuICAgICk7XG4gICAgc2Nyb2xsTGlzdGVuZXJzLnNldChkb2MsIHsgZGlzY29ubmVjdDogKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCBsaXN0ZW5lcnM6IGxpc3RlbmVyczIgfSk7XG4gIH1cbiAgY29uc3QgeyBsaXN0ZW5lcnMsIGRpc2Nvbm5lY3QgfSA9IChfYSA9IHNjcm9sbExpc3RlbmVycy5nZXQoZG9jKSkgIT0gbnVsbCA/IF9hIDoge307XG4gIGlmICghbGlzdGVuZXJzIHx8ICFkaXNjb25uZWN0KSByZXR1cm4gKCkgPT4ge1xuICB9O1xuICBsaXN0ZW5lcnMuYWRkKGNhbGxiYWNrKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICBpZiAobGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgIGRpc2Nvbm5lY3QoKTtcbiAgICAgIHNjcm9sbExpc3RlbmVycy5kZWxldGUoZG9jKTtcbiAgICB9XG4gIH07XG59XG52YXIgX2VsZW1lbnRPYnNlcnZlciwgX2Rpc2Nvbm5lY3RlZDIsIF9mcmFtZXMsIF9oYW5kbGVTY3JvbGw7XG52YXIgRnJhbWVPYnNlcnZlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9lbGVtZW50T2JzZXJ2ZXIpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfZGlzY29ubmVjdGVkMiwgZmFsc2UpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfZnJhbWVzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2hhbmRsZVNjcm9sbCwgdGhyb3R0bGUoKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9kaXNjb25uZWN0ZWQyKSkgcmV0dXJuO1xuICAgICAgaWYgKCFldmVudC50YXJnZXQpIHJldHVybjtcbiAgICAgIGlmIChcImNvbnRhaW5zXCIgaW4gZXZlbnQudGFyZ2V0ICYmIHR5cGVvZiBldmVudC50YXJnZXQuY29udGFpbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBmb3IgKGNvbnN0IGZyYW1lIG9mIF9fcHJpdmF0ZUdldCh0aGlzLCBfZnJhbWVzKSkge1xuICAgICAgICAgIGlmIChldmVudC50YXJnZXQuY29udGFpbnMoZnJhbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKF9fcHJpdmF0ZUdldCh0aGlzLCBfZWxlbWVudE9ic2VydmVyKS5ib3VuZGluZ0NsaWVudFJlY3QpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgVEhST1RUTEVfSU5URVJWQUwpKTtcbiAgICBjb25zdCBmcmFtZXMgPSBnZXRGcmFtZUVsZW1lbnRzKGVsZW1lbnQpO1xuICAgIGNvbnN0IHVub2JzZXJ2ZVBhcmVudEZyYW1lcyA9IG9ic2VydmVQYXJlbnRGcmFtZXMoZnJhbWVzLCBjYWxsYmFjayk7XG4gICAgY29uc3QgcmVtb3ZlU2Nyb2xsTGlzdGVuZXIgPSBhZGRTY3JvbGxMaXN0ZW5lcihlbGVtZW50LCBfX3ByaXZhdGVHZXQodGhpcywgX2hhbmRsZVNjcm9sbCkpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfZnJhbWVzLCBmcmFtZXMpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfZWxlbWVudE9ic2VydmVyLCBuZXcgUG9zaXRpb25PYnNlcnZlcihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykpO1xuICAgIHRoaXMuZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2Rpc2Nvbm5lY3RlZDIpKSByZXR1cm47XG4gICAgICBfX3ByaXZhdGVTZXQodGhpcywgX2Rpc2Nvbm5lY3RlZDIsIHRydWUpO1xuICAgICAgdW5vYnNlcnZlUGFyZW50RnJhbWVzKCk7XG4gICAgICByZW1vdmVTY3JvbGxMaXN0ZW5lcigpO1xuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9lbGVtZW50T2JzZXJ2ZXIpLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9XG59O1xuX2VsZW1lbnRPYnNlcnZlciA9IG5ldyBXZWFrTWFwKCk7XG5fZGlzY29ubmVjdGVkMiA9IG5ldyBXZWFrTWFwKCk7XG5fZnJhbWVzID0gbmV3IFdlYWtNYXAoKTtcbl9oYW5kbGVTY3JvbGwgPSBuZXcgV2Vha01hcCgpO1xuXG4vLyBzcmMvdXRpbGl0aWVzL3BvcG92ZXIvc3VwcG9ydHNQb3BvdmVyLnRzXG5mdW5jdGlvbiBzdXBwb3J0c1BvcG92ZXIoZWxlbWVudCkge1xuICByZXR1cm4gXCJzaG93UG9wb3ZlclwiIGluIGVsZW1lbnQgJiYgXCJoaWRlUG9wb3ZlclwiIGluIGVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQuc2hvd1BvcG92ZXIgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgZWxlbWVudC5oaWRlUG9wb3ZlciA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3BvcG92ZXIvc2hvd1BvcG92ZXIudHNcbmZ1bmN0aW9uIHNob3dQb3BvdmVyKGVsZW1lbnQpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3VwcG9ydHNQb3BvdmVyKGVsZW1lbnQpICYmIGVsZW1lbnQuaXNDb25uZWN0ZWQgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJwb3BvdmVyXCIpICYmIC8vIFRoaXMgc2VsZWN0b3IgY2FuIHRocm93IGFuIGVycm9yIGluIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBpdFxuICAgICFlbGVtZW50Lm1hdGNoZXMoXCI6cG9wb3Zlci1vcGVuXCIpKSB7XG4gICAgICBlbGVtZW50LnNob3dQb3BvdmVyKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICB9XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvcG9wb3Zlci9oaWRlUG9wb3Zlci50c1xuZnVuY3Rpb24gaGlkZVBvcG92ZXIoZWxlbWVudCkge1xuICB0cnkge1xuICAgIGlmIChzdXBwb3J0c1BvcG92ZXIoZWxlbWVudCkgJiYgZWxlbWVudC5pc0Nvbm5lY3RlZCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShcInBvcG92ZXJcIikgJiYgLy8gVGhpcyBzZWxlY3RvciBjYW4gdGhyb3cgYW4gZXJyb3IgaW4gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0XG4gICAgZWxlbWVudC5tYXRjaGVzKFwiOnBvcG92ZXItb3BlblwiKSkge1xuICAgICAgZWxlbWVudC5oaWRlUG9wb3ZlcigpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgfVxufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3Njcm9sbC9kb2N1bWVudFNjcm9sbGluZ0VsZW1lbnQudHNcbmZ1bmN0aW9uIGlzRG9jdW1lbnRTY3JvbGxpbmdFbGVtZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFjYW5Vc2VET00gfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQgPT09IGdldERvY3VtZW50KGVsZW1lbnQpLnNjcm9sbGluZ0VsZW1lbnQ7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvc2Nyb2xsL2dldFNjcm9sbFBvc2l0aW9uLnRzXG5mdW5jdGlvbiBnZXRTY3JvbGxQb3NpdGlvbihzY3JvbGxhYmxlRWxlbWVudCkge1xuICBjb25zdCB3aW5kb3cyID0gZ2V0V2luZG93KHNjcm9sbGFibGVFbGVtZW50KTtcbiAgY29uc3QgcmVjdCA9IGlzRG9jdW1lbnRTY3JvbGxpbmdFbGVtZW50KHNjcm9sbGFibGVFbGVtZW50KSA/IGdldFZpZXdwb3J0Qm91bmRpbmdSZWN0YW5nbGUoc2Nyb2xsYWJsZUVsZW1lbnQpIDogZ2V0Qm91bmRpbmdSZWN0YW5nbGUoc2Nyb2xsYWJsZUVsZW1lbnQpO1xuICBjb25zdCBkaW1lbnNpb25zID0gaXNEb2N1bWVudFNjcm9sbGluZ0VsZW1lbnQoc2Nyb2xsYWJsZUVsZW1lbnQpID8ge1xuICAgIGhlaWdodDogd2luZG93Mi5pbm5lckhlaWdodCxcbiAgICB3aWR0aDogd2luZG93Mi5pbm5lcldpZHRoXG4gIH0gOiB7XG4gICAgaGVpZ2h0OiBzY3JvbGxhYmxlRWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgd2lkdGg6IHNjcm9sbGFibGVFbGVtZW50LmNsaWVudFdpZHRoXG4gIH07XG4gIGNvbnN0IHBvc2l0aW9uID0ge1xuICAgIGN1cnJlbnQ6IHtcbiAgICAgIHg6IHNjcm9sbGFibGVFbGVtZW50LnNjcm9sbExlZnQsXG4gICAgICB5OiBzY3JvbGxhYmxlRWxlbWVudC5zY3JvbGxUb3BcbiAgICB9LFxuICAgIG1heDoge1xuICAgICAgeDogc2Nyb2xsYWJsZUVsZW1lbnQuc2Nyb2xsV2lkdGggLSBkaW1lbnNpb25zLndpZHRoLFxuICAgICAgeTogc2Nyb2xsYWJsZUVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZGltZW5zaW9ucy5oZWlnaHRcbiAgICB9XG4gIH07XG4gIGNvbnN0IGlzVG9wID0gcG9zaXRpb24uY3VycmVudC55IDw9IDA7XG4gIGNvbnN0IGlzTGVmdCA9IHBvc2l0aW9uLmN1cnJlbnQueCA8PSAwO1xuICBjb25zdCBpc0JvdHRvbSA9IHBvc2l0aW9uLmN1cnJlbnQueSA+PSBwb3NpdGlvbi5tYXgueTtcbiAgY29uc3QgaXNSaWdodCA9IHBvc2l0aW9uLmN1cnJlbnQueCA+PSBwb3NpdGlvbi5tYXgueDtcbiAgcmV0dXJuIHtcbiAgICByZWN0LFxuICAgIHBvc2l0aW9uLFxuICAgIGlzVG9wLFxuICAgIGlzTGVmdCxcbiAgICBpc0JvdHRvbSxcbiAgICBpc1JpZ2h0XG4gIH07XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvc2Nyb2xsL2NhblNjcm9sbC50c1xuZnVuY3Rpb24gY2FuU2Nyb2xsKHNjcm9sbGFibGVFbGVtZW50LCBieSkge1xuICBjb25zdCB7IGlzVG9wLCBpc0JvdHRvbSwgaXNMZWZ0LCBpc1JpZ2h0LCBwb3NpdGlvbiB9ID0gZ2V0U2Nyb2xsUG9zaXRpb24oc2Nyb2xsYWJsZUVsZW1lbnQpO1xuICBjb25zdCB7IHgsIHkgfSA9IGJ5ICE9IG51bGwgPyBieSA6IHsgeDogMCwgeTogMCB9O1xuICBjb25zdCB0b3AgPSAhaXNUb3AgJiYgcG9zaXRpb24uY3VycmVudC55ICsgeSA+IDA7XG4gIGNvbnN0IGJvdHRvbSA9ICFpc0JvdHRvbSAmJiBwb3NpdGlvbi5jdXJyZW50LnkgKyB5IDwgcG9zaXRpb24ubWF4Lnk7XG4gIGNvbnN0IGxlZnQgPSAhaXNMZWZ0ICYmIHBvc2l0aW9uLmN1cnJlbnQueCArIHggPiAwO1xuICBjb25zdCByaWdodCA9ICFpc1JpZ2h0ICYmIHBvc2l0aW9uLmN1cnJlbnQueCArIHggPCBwb3NpdGlvbi5tYXgueDtcbiAgcmV0dXJuIHtcbiAgICB0b3AsXG4gICAgYm90dG9tLFxuICAgIGxlZnQsXG4gICAgcmlnaHQsXG4gICAgeDogbGVmdCB8fCByaWdodCxcbiAgICB5OiB0b3AgfHwgYm90dG9tXG4gIH07XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvc2NoZWR1bGluZy9zY2hlZHVsZXIudHNcbnZhciBTY2hlZHVsZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHNjaGVkdWxlcjQpIHtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjQ7XG4gICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy50YXNrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgdGhpcy5yZXNvbHZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHRoaXMuZmx1c2ggPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHRhc2tzLCByZXNvbHZlcnMgfSA9IHRoaXM7XG4gICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMudGFza3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgdGhpcy5yZXNvbHZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgZm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgIHRhc2soKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgcmVzb2x2ZSBvZiByZXNvbHZlcnMpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgc2NoZWR1bGUodGFzaykge1xuICAgIHRoaXMudGFza3MuYWRkKHRhc2spO1xuICAgIGlmICghdGhpcy5wZW5kaW5nKSB7XG4gICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zY2hlZHVsZXIodGhpcy5mbHVzaCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gdGhpcy5yZXNvbHZlcnMuYWRkKHJlc29sdmUpKTtcbiAgfVxufTtcbnZhciBzY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKChjYWxsYmFjaykgPT4ge1xuICBpZiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59KTtcblxuLy8gc3JjL3V0aWxpdGllcy9zdHlsZXMvZ2V0Q29tcHV0ZWRTdHlsZXMudHNcbnZhciBzY2hlZHVsZXIyID0gbmV3IFNjaGVkdWxlcigoY2FsbGJhY2spID0+IHNldFRpbWVvdXQoY2FsbGJhY2ssIDUwKSk7XG52YXIgY2FjaGVkU3R5bGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBjbGVhciA9IGNhY2hlZFN0eWxlcy5jbGVhci5iaW5kKGNhY2hlZFN0eWxlcyk7XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlcyhlbGVtZW50LCBjYWNoZWQgPSBmYWxzZSkge1xuICBpZiAoIWNhY2hlZCkgcmV0dXJuIGNvbXB1dGVTdHlsZXMoZWxlbWVudCk7XG4gIGxldCBzdHlsZXMgPSBjYWNoZWRTdHlsZXMuZ2V0KGVsZW1lbnQpO1xuICBpZiAoc3R5bGVzKSByZXR1cm4gc3R5bGVzO1xuICBzdHlsZXMgPSBjb21wdXRlU3R5bGVzKGVsZW1lbnQpO1xuICBjYWNoZWRTdHlsZXMuc2V0KGVsZW1lbnQsIHN0eWxlcyk7XG4gIHNjaGVkdWxlcjIuc2NoZWR1bGUoY2xlYXIpO1xuICByZXR1cm4gc3R5bGVzO1xufVxuZnVuY3Rpb24gY29tcHV0ZVN0eWxlcyhlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9zY3JvbGwvaXNGaXhlZC50c1xuZnVuY3Rpb24gaXNGaXhlZChub2RlLCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZXMobm9kZSwgdHJ1ZSkpIHtcbiAgcmV0dXJuIGNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09IFwiZml4ZWRcIiB8fCBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSBcInN0aWNreVwiO1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3Njcm9sbC9pc1Njcm9sbGFibGUudHNcbmZ1bmN0aW9uIGlzU2Nyb2xsYWJsZShlbGVtZW50LCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZXMoZWxlbWVudCwgdHJ1ZSkpIHtcbiAgY29uc3Qgb3ZlcmZsb3dSZWdleCA9IC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvO1xuICBjb25zdCBwcm9wZXJ0aWVzID0gW1wib3ZlcmZsb3dcIiwgXCJvdmVyZmxvd1hcIiwgXCJvdmVyZmxvd1lcIl07XG4gIHJldHVybiBwcm9wZXJ0aWVzLnNvbWUoKHByb3BlcnR5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBjb21wdXRlZFN0eWxlW3Byb3BlcnR5XTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gb3ZlcmZsb3dSZWdleC50ZXN0KHZhbHVlKSA6IGZhbHNlO1xuICB9KTtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9zY3JvbGwvZ2V0U2Nyb2xsYWJsZUFuY2VzdG9ycy50c1xudmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICBleGNsdWRlRWxlbWVudDogdHJ1ZVxufTtcbmZ1bmN0aW9uIGdldFNjcm9sbGFibGVBbmNlc3RvcnMoZWxlbWVudCwgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zKSB7XG4gIGNvbnN0IHsgbGltaXQsIGV4Y2x1ZGVFbGVtZW50IH0gPSBvcHRpb25zO1xuICBjb25zdCBzY3JvbGxQYXJlbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgZnVuY3Rpb24gZmluZFNjcm9sbGFibGVBbmNlc3RvcnMobm9kZSkge1xuICAgIGlmIChsaW1pdCAhPSBudWxsICYmIHNjcm9sbFBhcmVudHMuc2l6ZSA+PSBsaW1pdCkge1xuICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudHM7XG4gICAgfVxuICAgIGlmICghbm9kZSkge1xuICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudHM7XG4gICAgfVxuICAgIGlmIChpc0RvY3VtZW50KG5vZGUpICYmIG5vZGUuc2Nyb2xsaW5nRWxlbWVudCAhPSBudWxsICYmICFzY3JvbGxQYXJlbnRzLmhhcyhub2RlLnNjcm9sbGluZ0VsZW1lbnQpKSB7XG4gICAgICBzY3JvbGxQYXJlbnRzLmFkZChub2RlLnNjcm9sbGluZ0VsZW1lbnQpO1xuICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudHM7XG4gICAgfVxuICAgIGlmICghaXNIVE1MRWxlbWVudChub2RlKSkge1xuICAgICAgaWYgKGlzU1ZHRWxlbWVudChub2RlKSkge1xuICAgICAgICByZXR1cm4gZmluZFNjcm9sbGFibGVBbmNlc3RvcnMobm9kZS5wYXJlbnRFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzY3JvbGxQYXJlbnRzO1xuICAgIH1cbiAgICBpZiAoc2Nyb2xsUGFyZW50cy5oYXMobm9kZSkpIHtcbiAgICAgIHJldHVybiBzY3JvbGxQYXJlbnRzO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZXMobm9kZSwgdHJ1ZSk7XG4gICAgaWYgKGV4Y2x1ZGVFbGVtZW50ICYmIG5vZGUgPT09IGVsZW1lbnQpIDsgZWxzZSBpZiAoaXNTY3JvbGxhYmxlKG5vZGUsIGNvbXB1dGVkU3R5bGUpKSB7XG4gICAgICBzY3JvbGxQYXJlbnRzLmFkZChub2RlKTtcbiAgICB9XG4gICAgaWYgKGlzRml4ZWQobm9kZSwgY29tcHV0ZWRTdHlsZSkpIHtcbiAgICAgIGNvbnN0IHsgc2Nyb2xsaW5nRWxlbWVudCB9ID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgICAgaWYgKHNjcm9sbGluZ0VsZW1lbnQpIHNjcm9sbFBhcmVudHMuYWRkKHNjcm9sbGluZ0VsZW1lbnQpO1xuICAgICAgcmV0dXJuIHNjcm9sbFBhcmVudHM7XG4gICAgfVxuICAgIHJldHVybiBmaW5kU2Nyb2xsYWJsZUFuY2VzdG9ycyhub2RlLnBhcmVudE5vZGUpO1xuICB9XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBzY3JvbGxQYXJlbnRzO1xuICB9XG4gIHJldHVybiBmaW5kU2Nyb2xsYWJsZUFuY2VzdG9ycyhlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGdldEZpcnN0U2Nyb2xsYWJsZUFuY2VzdG9yKG5vZGUpIHtcbiAgY29uc3QgW2ZpcnN0U2Nyb2xsYWJsZUFuY2VzdG9yXSA9IGdldFNjcm9sbGFibGVBbmNlc3RvcnMobm9kZSwgeyBsaW1pdDogMSB9KTtcbiAgcmV0dXJuIGZpcnN0U2Nyb2xsYWJsZUFuY2VzdG9yICE9IG51bGwgPyBmaXJzdFNjcm9sbGFibGVBbmNlc3RvciA6IG51bGw7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvZnJhbWUvZ2V0RnJhbWVUcmFuc2Zvcm0udHNcbmZ1bmN0aW9uIGdldEZyYW1lVHJhbnNmb3JtKGVsLCBib3VuZGFyeSA9IHdpbmRvdy5mcmFtZUVsZW1lbnQpIHtcbiAgY29uc3QgdHJhbnNmb3JtID0ge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICBzY2FsZVg6IDEsXG4gICAgc2NhbGVZOiAxXG4gIH07XG4gIGlmICghZWwpIHJldHVybiB0cmFuc2Zvcm07XG4gIGxldCBmcmFtZSA9IGdldEZyYW1lRWxlbWVudChlbCk7XG4gIHdoaWxlIChmcmFtZSkge1xuICAgIGlmIChmcmFtZSA9PT0gYm91bmRhcnkpIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm07XG4gICAgfVxuICAgIGNvbnN0IHJlY3QgPSBnZXRCb3VuZGluZ1JlY3RhbmdsZShmcmFtZSk7XG4gICAgY29uc3QgeyB4OiBzY2FsZVgsIHk6IHNjYWxlWSB9ID0gZ2V0U2NhbGUoZnJhbWUsIHJlY3QpO1xuICAgIHRyYW5zZm9ybS54ID0gdHJhbnNmb3JtLnggKyByZWN0LmxlZnQ7XG4gICAgdHJhbnNmb3JtLnkgPSB0cmFuc2Zvcm0ueSArIHJlY3QudG9wO1xuICAgIHRyYW5zZm9ybS5zY2FsZVggPSB0cmFuc2Zvcm0uc2NhbGVYICogc2NhbGVYO1xuICAgIHRyYW5zZm9ybS5zY2FsZVkgPSB0cmFuc2Zvcm0uc2NhbGVZICogc2NhbGVZO1xuICAgIGZyYW1lID0gZ2V0RnJhbWVFbGVtZW50KGZyYW1lKTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtO1xufVxuZnVuY3Rpb24gZ2V0U2NhbGUoZWxlbWVudCwgYm91bmRpbmdSZWN0YW5nbGUgPSBnZXRCb3VuZGluZ1JlY3RhbmdsZShlbGVtZW50KSkge1xuICBjb25zdCB3aWR0aCA9IE1hdGgucm91bmQoYm91bmRpbmdSZWN0YW5nbGUud2lkdGgpO1xuICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKGJvdW5kaW5nUmVjdGFuZ2xlLmhlaWdodCk7XG4gIGlmIChpc0hUTUxFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHdpZHRoIC8gZWxlbWVudC5vZmZzZXRXaWR0aCxcbiAgICAgIHk6IGhlaWdodCAvIGVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgfTtcbiAgfVxuICBjb25zdCBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlcyhlbGVtZW50LCB0cnVlKTtcbiAgcmV0dXJuIHtcbiAgICB4OiAocGFyc2VGbG9hdChzdHlsZXMud2lkdGgpIHx8IHdpZHRoKSAvIHdpZHRoLFxuICAgIHk6IChwYXJzZUZsb2F0KHN0eWxlcy5oZWlnaHQpIHx8IGhlaWdodCkgLyBoZWlnaHRcbiAgfTtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy90cmFuc2Zvcm0vcGFyc2VTY2FsZS50c1xuZnVuY3Rpb24gcGFyc2VTY2FsZShzY2FsZSkge1xuICBpZiAoc2NhbGUgPT09IFwibm9uZVwiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdmFsdWVzID0gc2NhbGUuc3BsaXQoXCIgXCIpO1xuICBjb25zdCB4ID0gcGFyc2VGbG9hdCh2YWx1ZXNbMF0pO1xuICBjb25zdCB5ID0gcGFyc2VGbG9hdCh2YWx1ZXNbMV0pO1xuICBpZiAoaXNOYU4oeCkgJiYgaXNOYU4oeSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IGlzTmFOKHgpID8geSA6IHgsXG4gICAgeTogaXNOYU4oeSkgPyB4IDogeVxuICB9O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3RyYW5zZm9ybS9wYXJzZVRyYW5zbGF0ZS50c1xuZnVuY3Rpb24gcGFyc2VUcmFuc2xhdGUodHJhbnNsYXRlKSB7XG4gIGlmICh0cmFuc2xhdGUgPT09IFwibm9uZVwiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgW3gsIHksIHogPSBcIjBcIl0gPSB0cmFuc2xhdGUuc3BsaXQoXCIgXCIpO1xuICBjb25zdCBvdXRwdXQgPSB7IHg6IHBhcnNlRmxvYXQoeCksIHk6IHBhcnNlRmxvYXQoeSksIHo6IHBhcnNlSW50KHosIDEwKSB9O1xuICBpZiAoaXNOYU4ob3V0cHV0LngpICYmIGlzTmFOKG91dHB1dC55KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogaXNOYU4ob3V0cHV0LngpID8gMCA6IG91dHB1dC54LFxuICAgIHk6IGlzTmFOKG91dHB1dC55KSA/IDAgOiBvdXRwdXQueSxcbiAgICB6OiBpc05hTihvdXRwdXQueikgPyAwIDogb3V0cHV0LnpcbiAgfTtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy90cmFuc2Zvcm0vcGFyc2VUcmFuc2Zvcm0udHNcbmZ1bmN0aW9uIHBhcnNlVHJhbnNmb3JtKGNvbXB1dGVkU3R5bGVzKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pO1xuICBjb25zdCB7IHNjYWxlLCB0cmFuc2Zvcm0sIHRyYW5zbGF0ZSB9ID0gY29tcHV0ZWRTdHlsZXM7XG4gIGNvbnN0IHBhcnNlZFNjYWxlID0gcGFyc2VTY2FsZShzY2FsZSk7XG4gIGNvbnN0IHBhcnNlZFRyYW5zbGF0ZSA9IHBhcnNlVHJhbnNsYXRlKHRyYW5zbGF0ZSk7XG4gIGNvbnN0IHBhcnNlZE1hdHJpeCA9IHBhcnNlVHJhbnNmb3JtTWF0cml4KHRyYW5zZm9ybSk7XG4gIGlmICghcGFyc2VkTWF0cml4ICYmICFwYXJzZWRTY2FsZSAmJiAhcGFyc2VkVHJhbnNsYXRlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZFNjYWxlID0ge1xuICAgIHg6IChfYSA9IHBhcnNlZFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBwYXJzZWRTY2FsZS54KSAhPSBudWxsID8gX2EgOiAxLFxuICAgIHk6IChfYiA9IHBhcnNlZFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBwYXJzZWRTY2FsZS55KSAhPSBudWxsID8gX2IgOiAxXG4gIH07XG4gIGNvbnN0IG5vcm1hbGl6ZWRUcmFuc2xhdGUgPSB7XG4gICAgeDogKF9jID0gcGFyc2VkVHJhbnNsYXRlID09IG51bGwgPyB2b2lkIDAgOiBwYXJzZWRUcmFuc2xhdGUueCkgIT0gbnVsbCA/IF9jIDogMCxcbiAgICB5OiAoX2QgPSBwYXJzZWRUcmFuc2xhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcnNlZFRyYW5zbGF0ZS55KSAhPSBudWxsID8gX2QgOiAwXG4gIH07XG4gIGNvbnN0IG5vcm1hbGl6ZWRNYXRyaXggPSB7XG4gICAgeDogKF9lID0gcGFyc2VkTWF0cml4ID09IG51bGwgPyB2b2lkIDAgOiBwYXJzZWRNYXRyaXgueCkgIT0gbnVsbCA/IF9lIDogMCxcbiAgICB5OiAoX2YgPSBwYXJzZWRNYXRyaXggPT0gbnVsbCA/IHZvaWQgMCA6IHBhcnNlZE1hdHJpeC55KSAhPSBudWxsID8gX2YgOiAwLFxuICAgIHNjYWxlWDogKF9nID0gcGFyc2VkTWF0cml4ID09IG51bGwgPyB2b2lkIDAgOiBwYXJzZWRNYXRyaXguc2NhbGVYKSAhPSBudWxsID8gX2cgOiAxLFxuICAgIHNjYWxlWTogKF9oID0gcGFyc2VkTWF0cml4ID09IG51bGwgPyB2b2lkIDAgOiBwYXJzZWRNYXRyaXguc2NhbGVZKSAhPSBudWxsID8gX2ggOiAxXG4gIH07XG4gIHJldHVybiB7XG4gICAgeDogbm9ybWFsaXplZFRyYW5zbGF0ZS54ICsgbm9ybWFsaXplZE1hdHJpeC54LFxuICAgIHk6IG5vcm1hbGl6ZWRUcmFuc2xhdGUueSArIG5vcm1hbGl6ZWRNYXRyaXgueSxcbiAgICB6OiAoX2kgPSBwYXJzZWRUcmFuc2xhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcnNlZFRyYW5zbGF0ZS56KSAhPSBudWxsID8gX2kgOiAwLFxuICAgIHNjYWxlWDogbm9ybWFsaXplZFNjYWxlLnggKiBub3JtYWxpemVkTWF0cml4LnNjYWxlWCxcbiAgICBzY2FsZVk6IG5vcm1hbGl6ZWRTY2FsZS55ICogbm9ybWFsaXplZE1hdHJpeC5zY2FsZVlcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlVHJhbnNmb3JtTWF0cml4KHRyYW5zZm9ybSkge1xuICBpZiAodHJhbnNmb3JtLnN0YXJ0c1dpdGgoXCJtYXRyaXgzZChcIikpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm1BcnJheSA9IHRyYW5zZm9ybS5zbGljZSg5LCAtMSkuc3BsaXQoLywgLyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6ICt0cmFuc2Zvcm1BcnJheVsxMl0sXG4gICAgICB5OiArdHJhbnNmb3JtQXJyYXlbMTNdLFxuICAgICAgc2NhbGVYOiArdHJhbnNmb3JtQXJyYXlbMF0sXG4gICAgICBzY2FsZVk6ICt0cmFuc2Zvcm1BcnJheVs1XVxuICAgIH07XG4gIH0gZWxzZSBpZiAodHJhbnNmb3JtLnN0YXJ0c1dpdGgoXCJtYXRyaXgoXCIpKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtQXJyYXkgPSB0cmFuc2Zvcm0uc2xpY2UoNywgLTEpLnNwbGl0KC8sIC8pO1xuICAgIHJldHVybiB7XG4gICAgICB4OiArdHJhbnNmb3JtQXJyYXlbNF0sXG4gICAgICB5OiArdHJhbnNmb3JtQXJyYXlbNV0sXG4gICAgICBzY2FsZVg6ICt0cmFuc2Zvcm1BcnJheVswXSxcbiAgICAgIHNjYWxlWTogK3RyYW5zZm9ybUFycmF5WzNdXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9zY3JvbGwvZGV0ZWN0U2Nyb2xsSW50ZW50LnRzXG52YXIgU2Nyb2xsRGlyZWN0aW9uID0gLyogQF9fUFVSRV9fICovICgoU2Nyb2xsRGlyZWN0aW9uMikgPT4ge1xuICBTY3JvbGxEaXJlY3Rpb24yW1Njcm9sbERpcmVjdGlvbjJbXCJJZGxlXCJdID0gMF0gPSBcIklkbGVcIjtcbiAgU2Nyb2xsRGlyZWN0aW9uMltTY3JvbGxEaXJlY3Rpb24yW1wiRm9yd2FyZFwiXSA9IDFdID0gXCJGb3J3YXJkXCI7XG4gIFNjcm9sbERpcmVjdGlvbjJbU2Nyb2xsRGlyZWN0aW9uMltcIlJldmVyc2VcIl0gPSAtMV0gPSBcIlJldmVyc2VcIjtcbiAgcmV0dXJuIFNjcm9sbERpcmVjdGlvbjI7XG59KShTY3JvbGxEaXJlY3Rpb24gfHwge30pO1xudmFyIGRlZmF1bHRUaHJlc2hvbGQgPSB7XG4gIHg6IDAuMixcbiAgeTogMC4yXG59O1xudmFyIGRlZmF1bHRUb2xlcmFuY2UgPSB7XG4gIHg6IDEwLFxuICB5OiAxMFxufTtcbmZ1bmN0aW9uIGRldGVjdFNjcm9sbEludGVudChzY3JvbGxhYmxlRWxlbWVudCwgY29vcmRpbmF0ZXMsIGludGVudCwgYWNjZWxlcmF0aW9uID0gMjUsIHRocmVzaG9sZFBlcmNlbnRhZ2UgPSBkZWZhdWx0VGhyZXNob2xkLCB0b2xlcmFuY2UgPSBkZWZhdWx0VG9sZXJhbmNlKSB7XG4gIGNvbnN0IHsgeCwgeSB9ID0gY29vcmRpbmF0ZXM7XG4gIGNvbnN0IHsgcmVjdCwgaXNUb3AsIGlzQm90dG9tLCBpc0xlZnQsIGlzUmlnaHQgfSA9IGdldFNjcm9sbFBvc2l0aW9uKHNjcm9sbGFibGVFbGVtZW50KTtcbiAgY29uc3QgZnJhbWVUcmFuc2Zvcm0gPSBnZXRGcmFtZVRyYW5zZm9ybShzY3JvbGxhYmxlRWxlbWVudCk7XG4gIGNvbnN0IGNvbXB1dGVkU3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZXMoc2Nyb2xsYWJsZUVsZW1lbnQsIHRydWUpO1xuICBjb25zdCBwYXJzZWRUcmFuc2Zvcm0gPSBwYXJzZVRyYW5zZm9ybShjb21wdXRlZFN0eWxlcyk7XG4gIGNvbnN0IGlzWEF4aXNJbnZlcnRlZCA9IHBhcnNlZFRyYW5zZm9ybSAhPT0gbnVsbCA/IChwYXJzZWRUcmFuc2Zvcm0gPT0gbnVsbCA/IHZvaWQgMCA6IHBhcnNlZFRyYW5zZm9ybS5zY2FsZVgpIDwgMCA6IGZhbHNlO1xuICBjb25zdCBpc1lBeGlzSW52ZXJ0ZWQgPSBwYXJzZWRUcmFuc2Zvcm0gIT09IG51bGwgPyAocGFyc2VkVHJhbnNmb3JtID09IG51bGwgPyB2b2lkIDAgOiBwYXJzZWRUcmFuc2Zvcm0uc2NhbGVZKSA8IDAgOiBmYWxzZTtcbiAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyUmVjdCA9IG5ldyBSZWN0YW5nbGUoXG4gICAgcmVjdC5sZWZ0ICogZnJhbWVUcmFuc2Zvcm0uc2NhbGVYICsgZnJhbWVUcmFuc2Zvcm0ueCxcbiAgICByZWN0LnRvcCAqIGZyYW1lVHJhbnNmb3JtLnNjYWxlWSArIGZyYW1lVHJhbnNmb3JtLnksXG4gICAgcmVjdC53aWR0aCAqIGZyYW1lVHJhbnNmb3JtLnNjYWxlWCxcbiAgICByZWN0LmhlaWdodCAqIGZyYW1lVHJhbnNmb3JtLnNjYWxlWVxuICApO1xuICBjb25zdCBkaXJlY3Rpb24gPSB7XG4gICAgeDogMCAvKiBJZGxlICovLFxuICAgIHk6IDAgLyogSWRsZSAqL1xuICB9O1xuICBjb25zdCBzcGVlZCA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbiAgY29uc3QgdGhyZXNob2xkMiA9IHtcbiAgICBoZWlnaHQ6IHNjcm9sbENvbnRhaW5lclJlY3QuaGVpZ2h0ICogdGhyZXNob2xkUGVyY2VudGFnZS55LFxuICAgIHdpZHRoOiBzY3JvbGxDb250YWluZXJSZWN0LndpZHRoICogdGhyZXNob2xkUGVyY2VudGFnZS54XG4gIH07XG4gIGlmICgoIWlzVG9wIHx8IGlzWUF4aXNJbnZlcnRlZCAmJiAhaXNCb3R0b20pICYmIHkgPD0gc2Nyb2xsQ29udGFpbmVyUmVjdC50b3AgKyB0aHJlc2hvbGQyLmhlaWdodCAmJiAoaW50ZW50ID09IG51bGwgPyB2b2lkIDAgOiBpbnRlbnQueSkgIT09IDEgLyogRm9yd2FyZCAqLyAmJiB4ID49IHNjcm9sbENvbnRhaW5lclJlY3QubGVmdCAtIHRvbGVyYW5jZS54ICYmIHggPD0gc2Nyb2xsQ29udGFpbmVyUmVjdC5yaWdodCArIHRvbGVyYW5jZS54KSB7XG4gICAgZGlyZWN0aW9uLnkgPSBpc1lBeGlzSW52ZXJ0ZWQgPyAxIC8qIEZvcndhcmQgKi8gOiAtMSAvKiBSZXZlcnNlICovO1xuICAgIHNwZWVkLnkgPSBhY2NlbGVyYXRpb24gKiBNYXRoLmFicyhcbiAgICAgIChzY3JvbGxDb250YWluZXJSZWN0LnRvcCArIHRocmVzaG9sZDIuaGVpZ2h0IC0geSkgLyB0aHJlc2hvbGQyLmhlaWdodFxuICAgICk7XG4gIH0gZWxzZSBpZiAoKCFpc0JvdHRvbSB8fCBpc1lBeGlzSW52ZXJ0ZWQgJiYgIWlzVG9wKSAmJiB5ID49IHNjcm9sbENvbnRhaW5lclJlY3QuYm90dG9tIC0gdGhyZXNob2xkMi5oZWlnaHQgJiYgKGludGVudCA9PSBudWxsID8gdm9pZCAwIDogaW50ZW50LnkpICE9PSAtMSAvKiBSZXZlcnNlICovICYmIHggPj0gc2Nyb2xsQ29udGFpbmVyUmVjdC5sZWZ0IC0gdG9sZXJhbmNlLnggJiYgeCA8PSBzY3JvbGxDb250YWluZXJSZWN0LnJpZ2h0ICsgdG9sZXJhbmNlLngpIHtcbiAgICBkaXJlY3Rpb24ueSA9IGlzWUF4aXNJbnZlcnRlZCA/IC0xIC8qIFJldmVyc2UgKi8gOiAxIC8qIEZvcndhcmQgKi87XG4gICAgc3BlZWQueSA9IGFjY2VsZXJhdGlvbiAqIE1hdGguYWJzKFxuICAgICAgKHNjcm9sbENvbnRhaW5lclJlY3QuYm90dG9tIC0gdGhyZXNob2xkMi5oZWlnaHQgLSB5KSAvIHRocmVzaG9sZDIuaGVpZ2h0XG4gICAgKTtcbiAgfVxuICBpZiAoKCFpc1JpZ2h0IHx8IGlzWEF4aXNJbnZlcnRlZCAmJiAhaXNMZWZ0KSAmJiB4ID49IHNjcm9sbENvbnRhaW5lclJlY3QucmlnaHQgLSB0aHJlc2hvbGQyLndpZHRoICYmIChpbnRlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVudC54KSAhPT0gLTEgLyogUmV2ZXJzZSAqLyAmJiB5ID49IHNjcm9sbENvbnRhaW5lclJlY3QudG9wIC0gdG9sZXJhbmNlLnkgJiYgeSA8PSBzY3JvbGxDb250YWluZXJSZWN0LmJvdHRvbSArIHRvbGVyYW5jZS55KSB7XG4gICAgZGlyZWN0aW9uLnggPSBpc1hBeGlzSW52ZXJ0ZWQgPyAtMSAvKiBSZXZlcnNlICovIDogMSAvKiBGb3J3YXJkICovO1xuICAgIHNwZWVkLnggPSBhY2NlbGVyYXRpb24gKiBNYXRoLmFicyhcbiAgICAgIChzY3JvbGxDb250YWluZXJSZWN0LnJpZ2h0IC0gdGhyZXNob2xkMi53aWR0aCAtIHgpIC8gdGhyZXNob2xkMi53aWR0aFxuICAgICk7XG4gIH0gZWxzZSBpZiAoKCFpc0xlZnQgfHwgaXNYQXhpc0ludmVydGVkICYmICFpc1JpZ2h0KSAmJiB4IDw9IHNjcm9sbENvbnRhaW5lclJlY3QubGVmdCArIHRocmVzaG9sZDIud2lkdGggJiYgKGludGVudCA9PSBudWxsID8gdm9pZCAwIDogaW50ZW50LngpICE9PSAxIC8qIEZvcndhcmQgKi8gJiYgeSA+PSBzY3JvbGxDb250YWluZXJSZWN0LnRvcCAtIHRvbGVyYW5jZS55ICYmIHkgPD0gc2Nyb2xsQ29udGFpbmVyUmVjdC5ib3R0b20gKyB0b2xlcmFuY2UueSkge1xuICAgIGRpcmVjdGlvbi54ID0gaXNYQXhpc0ludmVydGVkID8gMSAvKiBGb3J3YXJkICovIDogLTEgLyogUmV2ZXJzZSAqLztcbiAgICBzcGVlZC54ID0gYWNjZWxlcmF0aW9uICogTWF0aC5hYnMoXG4gICAgICAoc2Nyb2xsQ29udGFpbmVyUmVjdC5sZWZ0ICsgdGhyZXNob2xkMi53aWR0aCAtIHgpIC8gdGhyZXNob2xkMi53aWR0aFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkaXJlY3Rpb24sXG4gICAgc3BlZWRcbiAgfTtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9zY3JvbGwvc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZC50c1xuZnVuY3Rpb24gc3VwcG9ydHNTY3JvbGxJbnRvVmlld0lmTmVlZGVkKGVsZW1lbnQpIHtcbiAgcmV0dXJuIFwic2Nyb2xsSW50b1ZpZXdJZk5lZWRlZFwiIGluIGVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChlbCwgY2VudGVySWZOZWVkZWQgPSBmYWxzZSkge1xuICBpZiAoc3VwcG9ydHNTY3JvbGxJbnRvVmlld0lmTmVlZGVkKGVsKSkge1xuICAgIGVsLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoY2VudGVySWZOZWVkZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWwpKSB7XG4gICAgcmV0dXJuIGVsLnNjcm9sbEludG9WaWV3KCk7XG4gIH1cbiAgdmFyIHBhcmVudCA9IGdldEZpcnN0U2Nyb2xsYWJsZUFuY2VzdG9yKGVsKTtcbiAgaWYgKCFpc0hUTUxFbGVtZW50KHBhcmVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGFyZW50Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGVzKHBhcmVudCwgdHJ1ZSksIHBhcmVudEJvcmRlclRvcFdpZHRoID0gcGFyc2VJbnQoXG4gICAgcGFyZW50Q29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLXRvcC13aWR0aFwiKVxuICApLCBwYXJlbnRCb3JkZXJMZWZ0V2lkdGggPSBwYXJzZUludChcbiAgICBwYXJlbnRDb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJib3JkZXItbGVmdC13aWR0aFwiKVxuICApLCBvdmVyVG9wID0gZWwub2Zmc2V0VG9wIC0gcGFyZW50Lm9mZnNldFRvcCA8IHBhcmVudC5zY3JvbGxUb3AsIG92ZXJCb3R0b20gPSBlbC5vZmZzZXRUb3AgLSBwYXJlbnQub2Zmc2V0VG9wICsgZWwuY2xpZW50SGVpZ2h0IC0gcGFyZW50Qm9yZGVyVG9wV2lkdGggPiBwYXJlbnQuc2Nyb2xsVG9wICsgcGFyZW50LmNsaWVudEhlaWdodCwgb3ZlckxlZnQgPSBlbC5vZmZzZXRMZWZ0IC0gcGFyZW50Lm9mZnNldExlZnQgPCBwYXJlbnQuc2Nyb2xsTGVmdCwgb3ZlclJpZ2h0ID0gZWwub2Zmc2V0TGVmdCAtIHBhcmVudC5vZmZzZXRMZWZ0ICsgZWwuY2xpZW50V2lkdGggLSBwYXJlbnRCb3JkZXJMZWZ0V2lkdGggPiBwYXJlbnQuc2Nyb2xsTGVmdCArIHBhcmVudC5jbGllbnRXaWR0aCwgYWxpZ25XaXRoVG9wID0gb3ZlclRvcCAmJiAhb3ZlckJvdHRvbTtcbiAgaWYgKChvdmVyVG9wIHx8IG92ZXJCb3R0b20pICYmIGNlbnRlcklmTmVlZGVkKSB7XG4gICAgcGFyZW50LnNjcm9sbFRvcCA9IGVsLm9mZnNldFRvcCAtIHBhcmVudC5vZmZzZXRUb3AgLSBwYXJlbnQuY2xpZW50SGVpZ2h0IC8gMiAtIHBhcmVudEJvcmRlclRvcFdpZHRoICsgZWwuY2xpZW50SGVpZ2h0IC8gMjtcbiAgfVxuICBpZiAoKG92ZXJMZWZ0IHx8IG92ZXJSaWdodCkgJiYgY2VudGVySWZOZWVkZWQpIHtcbiAgICBwYXJlbnQuc2Nyb2xsTGVmdCA9IGVsLm9mZnNldExlZnQgLSBwYXJlbnQub2Zmc2V0TGVmdCAtIHBhcmVudC5jbGllbnRXaWR0aCAvIDIgLSBwYXJlbnRCb3JkZXJMZWZ0V2lkdGggKyBlbC5jbGllbnRXaWR0aCAvIDI7XG4gIH1cbiAgaWYgKChvdmVyVG9wIHx8IG92ZXJCb3R0b20gfHwgb3ZlckxlZnQgfHwgb3ZlclJpZ2h0KSAmJiAhY2VudGVySWZOZWVkZWQpIHtcbiAgICBlbC5zY3JvbGxJbnRvVmlldyhhbGlnbldpdGhUb3ApO1xuICB9XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvdHJhbnNmb3JtL2FwcGx5VHJhbnNmb3JtLnRzXG5mdW5jdGlvbiBhcHBseVRyYW5zZm9ybShyZWN0LCBwYXJzZWRUcmFuc2Zvcm0sIHRyYW5zZm9ybU9yaWdpbikge1xuICBjb25zdCB7IHNjYWxlWCwgc2NhbGVZLCB4OiB0cmFuc2xhdGVYLCB5OiB0cmFuc2xhdGVZIH0gPSBwYXJzZWRUcmFuc2Zvcm07XG4gIGNvbnN0IHggPSByZWN0LmxlZnQgKyB0cmFuc2xhdGVYICsgKDEgLSBzY2FsZVgpICogcGFyc2VGbG9hdCh0cmFuc2Zvcm1PcmlnaW4pO1xuICBjb25zdCB5ID0gcmVjdC50b3AgKyB0cmFuc2xhdGVZICsgKDEgLSBzY2FsZVkpICogcGFyc2VGbG9hdCh0cmFuc2Zvcm1PcmlnaW4uc2xpY2UodHJhbnNmb3JtT3JpZ2luLmluZGV4T2YoXCIgXCIpICsgMSkpO1xuICBjb25zdCB3ID0gc2NhbGVYID8gcmVjdC53aWR0aCAqIHNjYWxlWCA6IHJlY3Qud2lkdGg7XG4gIGNvbnN0IGggPSBzY2FsZVkgPyByZWN0LmhlaWdodCAqIHNjYWxlWSA6IHJlY3QuaGVpZ2h0O1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3LFxuICAgIGhlaWdodDogaCxcbiAgICB0b3A6IHksXG4gICAgcmlnaHQ6IHggKyB3LFxuICAgIGJvdHRvbTogeSArIGgsXG4gICAgbGVmdDogeFxuICB9O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3RyYW5zZm9ybS9pbnZlcnNlVHJhbnNmb3JtLnRzXG5mdW5jdGlvbiBpbnZlcnNlVHJhbnNmb3JtKHJlY3QsIHBhcnNlZFRyYW5zZm9ybSwgdHJhbnNmb3JtT3JpZ2luKSB7XG4gIGNvbnN0IHsgc2NhbGVYLCBzY2FsZVksIHg6IHRyYW5zbGF0ZVgsIHk6IHRyYW5zbGF0ZVkgfSA9IHBhcnNlZFRyYW5zZm9ybTtcbiAgY29uc3QgeCA9IHJlY3QubGVmdCAtIHRyYW5zbGF0ZVggLSAoMSAtIHNjYWxlWCkgKiBwYXJzZUZsb2F0KHRyYW5zZm9ybU9yaWdpbik7XG4gIGNvbnN0IHkgPSByZWN0LnRvcCAtIHRyYW5zbGF0ZVkgLSAoMSAtIHNjYWxlWSkgKiBwYXJzZUZsb2F0KHRyYW5zZm9ybU9yaWdpbi5zbGljZSh0cmFuc2Zvcm1PcmlnaW4uaW5kZXhPZihcIiBcIikgKyAxKSk7XG4gIGNvbnN0IHcgPSBzY2FsZVggPyByZWN0LndpZHRoIC8gc2NhbGVYIDogcmVjdC53aWR0aDtcbiAgY29uc3QgaCA9IHNjYWxlWSA/IHJlY3QuaGVpZ2h0IC8gc2NhbGVZIDogcmVjdC5oZWlnaHQ7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHcsXG4gICAgaGVpZ2h0OiBoLFxuICAgIHRvcDogeSxcbiAgICByaWdodDogeCArIHcsXG4gICAgYm90dG9tOiB5ICsgaCxcbiAgICBsZWZ0OiB4XG4gIH07XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvdHJhbnNmb3JtL2FuaW1hdGVUcmFuc2Zvcm0udHNcbmZ1bmN0aW9uIGFuaW1hdGVUcmFuc2Zvcm0oeyBlbGVtZW50LCBrZXlmcmFtZXMsIG9wdGlvbnMgfSkge1xuICByZXR1cm4gZWxlbWVudC5hbmltYXRlKGtleWZyYW1lcywgb3B0aW9ucykuZmluaXNoZWQ7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvdHJhbnNmb3JtL2NvbXB1dGVUcmFuc2xhdGUudHNcbmZ1bmN0aW9uIGNvbXB1dGVUcmFuc2xhdGUoZWxlbWVudCwgdHJhbnNsYXRlID0gZ2V0Q29tcHV0ZWRTdHlsZXMoZWxlbWVudCkudHJhbnNsYXRlLCBwcm9qZWN0ZWQgPSB0cnVlKSB7XG4gIGlmIChwcm9qZWN0ZWQpIHtcbiAgICBjb25zdCBrZXlmcmFtZSA9IGdldEZpbmFsS2V5ZnJhbWUoXG4gICAgICBlbGVtZW50LFxuICAgICAgKGtleWZyYW1lMikgPT4gXCJ0cmFuc2xhdGVcIiBpbiBrZXlmcmFtZTJcbiAgICApO1xuICAgIGlmIChrZXlmcmFtZSkge1xuICAgICAgY29uc3QgeyB0cmFuc2xhdGU6IHRyYW5zbGF0ZTIgPSBcIlwiIH0gPSBrZXlmcmFtZVswXTtcbiAgICAgIGlmICh0eXBlb2YgdHJhbnNsYXRlMiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBmaW5hbFRyYW5zbGF0ZSA9IHBhcnNlVHJhbnNsYXRlKHRyYW5zbGF0ZTIpO1xuICAgICAgICBpZiAoZmluYWxUcmFuc2xhdGUpIHtcbiAgICAgICAgICByZXR1cm4gZmluYWxUcmFuc2xhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHRyYW5zbGF0ZSkge1xuICAgIGNvbnN0IGZpbmFsVHJhbnNsYXRlID0gcGFyc2VUcmFuc2xhdGUodHJhbnNsYXRlKTtcbiAgICBpZiAoZmluYWxUcmFuc2xhdGUpIHtcbiAgICAgIHJldHVybiBmaW5hbFRyYW5zbGF0ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCB9O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL2FuaW1hdGlvbnMvZm9yY2VGaW5pc2hBbmltYXRpb25zLnRzXG52YXIgc2NoZWR1bGVyMyA9IG5ldyBTY2hlZHVsZXIoKGNhbGxiYWNrKSA9PiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKSk7XG52YXIgYW5pbWF0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG52YXIgY2xlYXIyID0gYW5pbWF0aW9ucy5jbGVhci5iaW5kKGFuaW1hdGlvbnMpO1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnRBbmltYXRpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgZG9jdW1lbnQyID0gZWxlbWVudC5vd25lckRvY3VtZW50O1xuICBsZXQgZG9jdW1lbnRBbmltYXRpb25zID0gYW5pbWF0aW9ucy5nZXQoZG9jdW1lbnQyKTtcbiAgaWYgKGRvY3VtZW50QW5pbWF0aW9ucykgcmV0dXJuIGRvY3VtZW50QW5pbWF0aW9ucztcbiAgZG9jdW1lbnRBbmltYXRpb25zID0gZG9jdW1lbnQyLmdldEFuaW1hdGlvbnMoKTtcbiAgYW5pbWF0aW9ucy5zZXQoZG9jdW1lbnQyLCBkb2N1bWVudEFuaW1hdGlvbnMpO1xuICBzY2hlZHVsZXIzLnNjaGVkdWxlKGNsZWFyMik7XG4gIGNvbnN0IGVsZW1lbnRBbmltYXRpb25zID0gZG9jdW1lbnRBbmltYXRpb25zLmZpbHRlcihcbiAgICAoYW5pbWF0aW9uKSA9PiBpc0tleWZyYW1lRWZmZWN0KGFuaW1hdGlvbi5lZmZlY3QpICYmIGFuaW1hdGlvbi5lZmZlY3QudGFyZ2V0ID09PSBlbGVtZW50XG4gICk7XG4gIGFuaW1hdGlvbnMuc2V0KGVsZW1lbnQsIGVsZW1lbnRBbmltYXRpb25zKTtcbiAgcmV0dXJuIGRvY3VtZW50QW5pbWF0aW9ucztcbn1cbmZ1bmN0aW9uIGZvcmNlRmluaXNoQW5pbWF0aW9ucyhlbGVtZW50LCBvcHRpb25zKSB7XG4gIGNvbnN0IGFuaW1hdGlvbnMyID0gZ2V0RG9jdW1lbnRBbmltYXRpb25zKGVsZW1lbnQpLmZpbHRlcigoYW5pbWF0aW9uKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoaXNLZXlmcmFtZUVmZmVjdChhbmltYXRpb24uZWZmZWN0KSkge1xuICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGFuaW1hdGlvbi5lZmZlY3Q7XG4gICAgICBjb25zdCBpc1ZhbGlkVGFyZ2V0ID0gKF9iID0gdGFyZ2V0ICYmICgoX2EgPSBvcHRpb25zLmlzVmFsaWRUYXJnZXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMsIHRhcmdldCkpKSAhPSBudWxsID8gX2IgOiB0cnVlO1xuICAgICAgaWYgKGlzVmFsaWRUYXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbi5lZmZlY3QuZ2V0S2V5ZnJhbWVzKCkuc29tZSgoa2V5ZnJhbWUpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IG9mIG9wdGlvbnMucHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKGtleWZyYW1lW3Byb3BlcnR5XSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pLm1hcCgoYW5pbWF0aW9uKSA9PiB7XG4gICAgY29uc3QgeyBlZmZlY3QsIGN1cnJlbnRUaW1lIH0gPSBhbmltYXRpb247XG4gICAgY29uc3QgZHVyYXRpb24gPSBlZmZlY3QgPT0gbnVsbCA/IHZvaWQgMCA6IGVmZmVjdC5nZXRDb21wdXRlZFRpbWluZygpLmR1cmF0aW9uO1xuICAgIGlmIChhbmltYXRpb24ucGVuZGluZyB8fCBhbmltYXRpb24ucGxheVN0YXRlID09PSBcImZpbmlzaGVkXCIpIHJldHVybjtcbiAgICBpZiAodHlwZW9mIGR1cmF0aW9uID09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGN1cnJlbnRUaW1lID09IFwibnVtYmVyXCIgJiYgY3VycmVudFRpbWUgPCBkdXJhdGlvbikge1xuICAgICAgYW5pbWF0aW9uLmN1cnJlbnRUaW1lID0gZHVyYXRpb247XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBhbmltYXRpb24uY3VycmVudFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgaWYgKGFuaW1hdGlvbnMyLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gKCkgPT4gYW5pbWF0aW9uczIuZm9yRWFjaCgocmVzZXQpID0+IHJlc2V0ID09IG51bGwgPyB2b2lkIDAgOiByZXNldCgpKTtcbiAgfVxufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3NoYXBlcy9ET01SZWN0YW5nbGUudHNcbnZhciBET01SZWN0YW5nbGUgPSBjbGFzcyBleHRlbmRzIFJlY3RhbmdsZSB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCB7XG4gICAgICBmcmFtZVRyYW5zZm9ybSA9IGdldEZyYW1lVHJhbnNmb3JtKGVsZW1lbnQpLFxuICAgICAgaWdub3JlVHJhbnNmb3JtcyxcbiAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdCA9IGdldEJvdW5kaW5nUmVjdGFuZ2xlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgcmVzZXRBbmltYXRpb25zID0gZm9yY2VGaW5pc2hBbmltYXRpb25zKGVsZW1lbnQsIHtcbiAgICAgIHByb3BlcnRpZXM6IFtcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVwiLCBcInNjYWxlXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIl0sXG4gICAgICBpc1ZhbGlkVGFyZ2V0OiAodGFyZ2V0KSA9PiAodGFyZ2V0ICE9PSBlbGVtZW50IHx8IGlzU2FmYXJpKCkpICYmIHRhcmdldC5jb250YWlucyhlbGVtZW50KVxuICAgIH0pO1xuICAgIGNvbnN0IGJvdW5kaW5nUmVjdGFuZ2xlID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpO1xuICAgIGxldCB7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gYm91bmRpbmdSZWN0YW5nbGU7XG4gICAgbGV0IHVwZGF0ZWQ7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlcyhlbGVtZW50KTtcbiAgICBjb25zdCBwYXJzZWRUcmFuc2Zvcm0gPSBwYXJzZVRyYW5zZm9ybShjb21wdXRlZFN0eWxlcyk7XG4gICAgY29uc3Qgc2NhbGUgPSB7XG4gICAgICB4OiAoX2EgPSBwYXJzZWRUcmFuc2Zvcm0gPT0gbnVsbCA/IHZvaWQgMCA6IHBhcnNlZFRyYW5zZm9ybS5zY2FsZVgpICE9IG51bGwgPyBfYSA6IDEsXG4gICAgICB5OiAoX2IgPSBwYXJzZWRUcmFuc2Zvcm0gPT0gbnVsbCA/IHZvaWQgMCA6IHBhcnNlZFRyYW5zZm9ybS5zY2FsZVkpICE9IG51bGwgPyBfYiA6IDFcbiAgICB9O1xuICAgIGNvbnN0IHByb2plY3RlZFRyYW5zZm9ybSA9IGdldFByb2plY3RlZFRyYW5zZm9ybShlbGVtZW50LCBjb21wdXRlZFN0eWxlcyk7XG4gICAgcmVzZXRBbmltYXRpb25zID09IG51bGwgPyB2b2lkIDAgOiByZXNldEFuaW1hdGlvbnMoKTtcbiAgICBpZiAocGFyc2VkVHJhbnNmb3JtKSB7XG4gICAgICB1cGRhdGVkID0gaW52ZXJzZVRyYW5zZm9ybShcbiAgICAgICAgYm91bmRpbmdSZWN0YW5nbGUsXG4gICAgICAgIHBhcnNlZFRyYW5zZm9ybSxcbiAgICAgICAgY29tcHV0ZWRTdHlsZXMudHJhbnNmb3JtT3JpZ2luXG4gICAgICApO1xuICAgICAgaWYgKGlnbm9yZVRyYW5zZm9ybXMgfHwgcHJvamVjdGVkVHJhbnNmb3JtKSB7XG4gICAgICAgIHRvcCA9IHVwZGF0ZWQudG9wO1xuICAgICAgICBsZWZ0ID0gdXBkYXRlZC5sZWZ0O1xuICAgICAgICB3aWR0aCA9IHVwZGF0ZWQud2lkdGg7XG4gICAgICAgIGhlaWdodCA9IHVwZGF0ZWQuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbnRyaW5zaWMgPSB7XG4gICAgICB3aWR0aDogKF9jID0gdXBkYXRlZCA9PSBudWxsID8gdm9pZCAwIDogdXBkYXRlZC53aWR0aCkgIT0gbnVsbCA/IF9jIDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IChfZCA9IHVwZGF0ZWQgPT0gbnVsbCA/IHZvaWQgMCA6IHVwZGF0ZWQuaGVpZ2h0KSAhPSBudWxsID8gX2QgOiBoZWlnaHRcbiAgICB9O1xuICAgIGlmIChwcm9qZWN0ZWRUcmFuc2Zvcm0gJiYgIWlnbm9yZVRyYW5zZm9ybXMgJiYgdXBkYXRlZCkge1xuICAgICAgY29uc3QgcHJvamVjdGVkID0gYXBwbHlUcmFuc2Zvcm0oXG4gICAgICAgIHVwZGF0ZWQsXG4gICAgICAgIHByb2plY3RlZFRyYW5zZm9ybSxcbiAgICAgICAgY29tcHV0ZWRTdHlsZXMudHJhbnNmb3JtT3JpZ2luXG4gICAgICApO1xuICAgICAgdG9wID0gcHJvamVjdGVkLnRvcDtcbiAgICAgIGxlZnQgPSBwcm9qZWN0ZWQubGVmdDtcbiAgICAgIHdpZHRoID0gcHJvamVjdGVkLndpZHRoO1xuICAgICAgaGVpZ2h0ID0gcHJvamVjdGVkLmhlaWdodDtcbiAgICAgIHNjYWxlLnggPSBwcm9qZWN0ZWRUcmFuc2Zvcm0uc2NhbGVYO1xuICAgICAgc2NhbGUueSA9IHByb2plY3RlZFRyYW5zZm9ybS5zY2FsZVk7XG4gICAgfVxuICAgIGlmIChmcmFtZVRyYW5zZm9ybSkge1xuICAgICAgaWYgKCFpZ25vcmVUcmFuc2Zvcm1zKSB7XG4gICAgICAgIGxlZnQgKj0gZnJhbWVUcmFuc2Zvcm0uc2NhbGVYO1xuICAgICAgICB3aWR0aCAqPSBmcmFtZVRyYW5zZm9ybS5zY2FsZVg7XG4gICAgICAgIHRvcCAqPSBmcmFtZVRyYW5zZm9ybS5zY2FsZVk7XG4gICAgICAgIGhlaWdodCAqPSBmcmFtZVRyYW5zZm9ybS5zY2FsZVk7XG4gICAgICB9XG4gICAgICBsZWZ0ICs9IGZyYW1lVHJhbnNmb3JtLng7XG4gICAgICB0b3AgKz0gZnJhbWVUcmFuc2Zvcm0ueTtcbiAgICB9XG4gICAgc3VwZXIobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB0aGlzLnNjYWxlID0gc2NhbGU7XG4gICAgdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGludHJpbnNpYy53aWR0aDtcbiAgICB0aGlzLmludHJpbnNpY0hlaWdodCA9IGludHJpbnNpYy5oZWlnaHQ7XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRQcm9qZWN0ZWRUcmFuc2Zvcm0oZWxlbWVudCwgY29tcHV0ZWRTdHlsZXMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBhbmltYXRpb25zMiA9IGVsZW1lbnQuZ2V0QW5pbWF0aW9ucygpO1xuICBsZXQgcHJvamVjdGVkVHJhbnNmb3JtID0gbnVsbDtcbiAgaWYgKCFhbmltYXRpb25zMi5sZW5ndGgpIHJldHVybiBudWxsO1xuICBmb3IgKGNvbnN0IGFuaW1hdGlvbiBvZiBhbmltYXRpb25zMikge1xuICAgIGlmIChhbmltYXRpb24ucGxheVN0YXRlICE9PSBcInJ1bm5pbmdcIikgY29udGludWU7XG4gICAgY29uc3Qga2V5ZnJhbWVzID0gaXNLZXlmcmFtZUVmZmVjdChhbmltYXRpb24uZWZmZWN0KSA/IGFuaW1hdGlvbi5lZmZlY3QuZ2V0S2V5ZnJhbWVzKCkgOiBbXTtcbiAgICBjb25zdCBrZXlmcmFtZSA9IGtleWZyYW1lc1trZXlmcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFrZXlmcmFtZSkgY29udGludWU7XG4gICAgY29uc3QgeyB0cmFuc2Zvcm0sIHRyYW5zbGF0ZSwgc2NhbGUgfSA9IGtleWZyYW1lO1xuICAgIGlmICh0cmFuc2Zvcm0gfHwgdHJhbnNsYXRlIHx8IHNjYWxlKSB7XG4gICAgICBjb25zdCBwYXJzZWRUcmFuc2Zvcm0gPSBwYXJzZVRyYW5zZm9ybSh7XG4gICAgICAgIHRyYW5zZm9ybTogdHlwZW9mIHRyYW5zZm9ybSA9PT0gXCJzdHJpbmdcIiAmJiB0cmFuc2Zvcm0gPyB0cmFuc2Zvcm0gOiBjb21wdXRlZFN0eWxlcy50cmFuc2Zvcm0sXG4gICAgICAgIHRyYW5zbGF0ZTogdHlwZW9mIHRyYW5zbGF0ZSA9PT0gXCJzdHJpbmdcIiAmJiB0cmFuc2xhdGUgPyB0cmFuc2xhdGUgOiBjb21wdXRlZFN0eWxlcy50cmFuc2xhdGUsXG4gICAgICAgIHNjYWxlOiB0eXBlb2Ygc2NhbGUgPT09IFwic3RyaW5nXCIgJiYgc2NhbGUgPyBzY2FsZSA6IGNvbXB1dGVkU3R5bGVzLnNjYWxlXG4gICAgICB9KTtcbiAgICAgIGlmIChwYXJzZWRUcmFuc2Zvcm0pIHtcbiAgICAgICAgcHJvamVjdGVkVHJhbnNmb3JtID0gcHJvamVjdGVkVHJhbnNmb3JtID8ge1xuICAgICAgICAgIHg6IHByb2plY3RlZFRyYW5zZm9ybS54ICsgcGFyc2VkVHJhbnNmb3JtLngsXG4gICAgICAgICAgeTogcHJvamVjdGVkVHJhbnNmb3JtLnkgKyBwYXJzZWRUcmFuc2Zvcm0ueSxcbiAgICAgICAgICB6OiAoX2EgPSBwcm9qZWN0ZWRUcmFuc2Zvcm0ueikgIT0gbnVsbCA/IF9hIDogcGFyc2VkVHJhbnNmb3JtLnosXG4gICAgICAgICAgc2NhbGVYOiBwcm9qZWN0ZWRUcmFuc2Zvcm0uc2NhbGVYICogcGFyc2VkVHJhbnNmb3JtLnNjYWxlWCxcbiAgICAgICAgICBzY2FsZVk6IHByb2plY3RlZFRyYW5zZm9ybS5zY2FsZVkgKiBwYXJzZWRUcmFuc2Zvcm0uc2NhbGVZXG4gICAgICAgIH0gOiBwYXJzZWRUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9qZWN0ZWRUcmFuc2Zvcm07XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvdHlwZS1ndWFyZHMvc3VwcG9ydHNTdHlsZS50c1xuZnVuY3Rpb24gc3VwcG9ydHNTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBcInN0eWxlXCIgaW4gZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5zdHlsZSA9PT0gXCJvYmplY3RcIiAmJiBlbGVtZW50LnN0eWxlICE9PSBudWxsICYmIFwic2V0UHJvcGVydHlcIiBpbiBlbGVtZW50LnN0eWxlICYmIFwicmVtb3ZlUHJvcGVydHlcIiBpbiBlbGVtZW50LnN0eWxlICYmIHR5cGVvZiBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkgPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9zdHlsZXMvU3R5bGVzLnRzXG52YXIgU3R5bGVzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmluaXRpYWwgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIHNldChwcm9wZXJ0aWVzLCBwcmVmaXggPSBcIlwiKSB7XG4gICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgIGlmICghc3VwcG9ydHNTdHlsZShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBgJHtwcmVmaXh9JHtrZXl9YDtcbiAgICAgIGlmICghdGhpcy5pbml0aWFsLmhhcyhwcm9wZXJ0eSkpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsLnNldChwcm9wZXJ0eSwgZWxlbWVudC5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KSk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUgOiBgJHt2YWx1ZX1weGBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJlbW92ZShwcm9wZXJ0aWVzLCBwcmVmaXggPSBcIlwiKSB7XG4gICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgIGlmICghc3VwcG9ydHNTdHlsZShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IGAke3ByZWZpeH0ke2tleX1gO1xuICAgICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgfVxuICB9XG4gIHJlc2V0KCkge1xuICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gdGhpcztcbiAgICBpZiAoIXN1cHBvcnRzU3R5bGUoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5pbml0aWFsKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSA9PT0gXCJcIikge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHNyYy91dGlsaXRpZXMvdHlwZS1ndWFyZHMvaXNFbGVtZW50LnRzXG5mdW5jdGlvbiBpc0VsZW1lbnQodGFyZ2V0KSB7XG4gIGlmICghdGFyZ2V0KSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3codGFyZ2V0KS5FbGVtZW50IHx8IGlzTm9kZSh0YXJnZXQpICYmIHRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREU7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvdHlwZS1ndWFyZHMvaXNLZXlib2FyZEV2ZW50LnRzXG5mdW5jdGlvbiBpc0tleWJvYXJkRXZlbnQoZXZlbnQpIHtcbiAgaWYgKCFldmVudCkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCB7IEtleWJvYXJkRXZlbnQgfSA9IGdldFdpbmRvdyhldmVudC50YXJnZXQpO1xuICByZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3R5cGUtZ3VhcmRzL2lzUG9pbnRlckV2ZW50LnRzXG5mdW5jdGlvbiBpc1BvaW50ZXJFdmVudChldmVudCkge1xuICBpZiAoIWV2ZW50KSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHsgUG9pbnRlckV2ZW50IH0gPSBnZXRXaW5kb3coZXZlbnQudGFyZ2V0KTtcbiAgcmV0dXJuIGV2ZW50IGluc3RhbmNlb2YgUG9pbnRlckV2ZW50O1xufVxuXG4vLyBzcmMvdXRpbGl0aWVzL3R5cGUtZ3VhcmRzL3N1cHBvcnRzVmlld1RyYW5zaXRpb24udHNcbmZ1bmN0aW9uIHN1cHBvcnRzVmlld1RyYW5zaXRpb24oZG9jdW1lbnQyKSB7XG4gIHJldHVybiBcInN0YXJ0Vmlld1RyYW5zaXRpb25cIiBpbiBkb2N1bWVudDI7XG59XG5cbi8vIHNyYy91dGlsaXRpZXMvdHlwZS1ndWFyZHMvaXNUZXh0SW5wdXQudHNcbmZ1bmN0aW9uIGlzVGV4dElucHV0KHRhcmdldCkge1xuICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHsgdGFnTmFtZSB9ID0gdGFyZ2V0O1xuICByZXR1cm4gdGFnTmFtZSA9PT0gXCJJTlBVVFwiIHx8IHRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIiB8fCBpc0NvbnRlbnRFZGl0YWJsZSh0YXJnZXQpO1xufVxuZnVuY3Rpb24gaXNDb250ZW50RWRpdGFibGUoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikgIT09IFwiZmFsc2VcIjtcbn1cblxuLy8gc3JjL3V0aWxpdGllcy9taXNjL2dlbmVyYXRlVW5pcXVlSWQudHNcbnZhciBpZHMgPSB7fTtcbmZ1bmN0aW9uIGdlbmVyYXRlVW5pcXVlSWQocHJlZml4KSB7XG4gIGNvbnN0IGlkID0gaWRzW3ByZWZpeF0gPT0gbnVsbCA/IDAgOiBpZHNbcHJlZml4XSArIDE7XG4gIGlkc1twcmVmaXhdID0gaWQ7XG4gIHJldHVybiBgJHtwcmVmaXh9LSR7aWR9YDtcbn1cblxuZXhwb3J0IHsgRE9NUmVjdGFuZ2xlLCBMaXN0ZW5lcnMsIEZyYW1lT2JzZXJ2ZXIgYXMgUG9zaXRpb25PYnNlcnZlciwgUHJveGllZEVsZW1lbnRzLCBSZXNpemVOb3RpZmllciwgU2NoZWR1bGVyLCBTY3JvbGxEaXJlY3Rpb24sIFN0eWxlcywgYW5pbWF0ZVRyYW5zZm9ybSwgY2FuU2Nyb2xsLCBjYW5Vc2VET00sIGNsb25lRWxlbWVudCwgY29tcHV0ZVRyYW5zbGF0ZSwgZGV0ZWN0U2Nyb2xsSW50ZW50LCBnZW5lcmF0ZVVuaXF1ZUlkLCBnZXRCb3VuZGluZ1JlY3RhbmdsZSwgZ2V0Q29tcHV0ZWRTdHlsZXMsIGdldERvY3VtZW50LCBnZXRFbGVtZW50RnJvbVBvaW50LCBnZXRGaW5hbEtleWZyYW1lLCBnZXRGaXJzdFNjcm9sbGFibGVBbmNlc3RvciwgZ2V0RnJhbWVFbGVtZW50LCBnZXRGcmFtZVRyYW5zZm9ybSwgZ2V0U2Nyb2xsYWJsZUFuY2VzdG9ycywgZ2V0Vmlld3BvcnRCb3VuZGluZ1JlY3RhbmdsZSwgZ2V0VmlzaWJsZUJvdW5kaW5nUmVjdGFuZ2xlLCBnZXRXaW5kb3csIGhpZGVQb3BvdmVyLCBpbnZlcnNlVHJhbnNmb3JtLCBpc0RvY3VtZW50U2Nyb2xsaW5nRWxlbWVudCwgaXNFbGVtZW50LCBpc0hUTUxFbGVtZW50LCBpc0tleWJvYXJkRXZlbnQsIGlzS2V5ZnJhbWVFZmZlY3QsIGlzUG9pbnRlckV2ZW50LCBpc1NhZmFyaSwgaXNUZXh0SW5wdXQsIHBhcnNlVHJhbnNmb3JtLCBwYXJzZVRyYW5zbGF0ZSwgc2NoZWR1bGVyLCBzY3JvbGxJbnRvVmlld0lmTmVlZGVkLCBzaG93UG9wb3Zlciwgc3VwcG9ydHNQb3BvdmVyLCBzdXBwb3J0c1N0eWxlLCBzdXBwb3J0c1ZpZXdUcmFuc2l0aW9uLCB0aW1lb3V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsaXRpZXMuanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsaXRpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/utilities.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Axes: () => (/* binding */ Axes),\n/* harmony export */   Axis: () => (/* binding */ Axis),\n/* harmony export */   Point: () => (/* binding */ Point),\n/* harmony export */   Position: () => (/* binding */ Position),\n/* harmony export */   Rectangle: () => (/* binding */ Rectangle),\n/* harmony export */   exceedsDistance: () => (/* binding */ exceedsDistance)\n/* harmony export */ });\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __pow = Math.pow;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __decoratorStart = (base) => {\n  var _a2;\n  return [, , , __create((_a2 = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a2 : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) flags & 1 ? fns[i].call(self) : value = fns[i].call(self, value);\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var fn, it, done, ctx, access, k = flags & 7, s = !!(flags & 8), p = !!(flags & 16);\n  var j = k > 3 ? array.length + 1 : k ? s ? 1 : 2 : 0, key = __decoratorStrings[k + 5];\n  var initializers = k > 3 && (array[j - 1] = []), extraInitializers = array[j] || (array[j] = []);\n  var desc = k && (!p && !s && (target = target.prototype), k < 5 && (k > 3 || !p) && __getOwnPropDesc(k < 4 ? target : { get [name]() {\n    return __privateGet(this, extra);\n  }, set [name](x) {\n    return __privateSet(this, extra, x);\n  } }, name));\n  k ? p && k < 4 && __name(extra, (k > 2 ? \"set \" : k > 1 ? \"get \" : \"\") + name) : __name(target, name);\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    if (k) {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: p ? (x) => __privateIn(target, x) : (x) => name in x };\n      if (k ^ 3) access.get = p ? (x) => (k ^ 1 ? __privateGet : __privateMethod)(x, target, k ^ 4 ? extra : desc.get) : (x) => x[name];\n      if (k > 2) access.set = p ? (x, y) => __privateSet(x, target, y, k ^ 4 ? extra : desc.set) : (x, y) => x[name] = y;\n    }\n    it = (0, decorators[i])(k ? k < 4 ? p ? extra : desc[key] : k > 4 ? void 0 : { get: desc.get, set: desc.set } : target, ctx), done._ = 1;\n    if (k ^ 4 || it === void 0) __expectFn(it) && (k > 4 ? initializers.unshift(it) : k ? p ? extra = it : desc[key] = it : target = it);\n    else if (typeof it !== \"object\" || it === null) __typeError(\"Object expected\");\n    else __expectFn(fn = it.get) && (desc.get = fn), __expectFn(fn = it.set) && (desc.set = fn), __expectFn(fn = it.init) && initializers.unshift(fn);\n  }\n  return k || __decoratorMetadata(array, target), desc && __defProp(target, name, desc), p ? k ^ 4 ? extra : desc : target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateIn = (member, obj) => Object(obj) !== obj ? __typeError('Cannot use the \"in\" operator on this value') : member.has(obj);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\n// src/point/Point.ts\nvar Point = class _Point {\n  /**\n   * @param {number} Coordinate of the point on the horizontal axis\n   * @param {number} Coordinate of the point on the vertical axis\n   */\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  /**\n   * Returns the delta between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static delta(a, b) {\n    return new _Point(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns the distance (hypotenuse) between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static distance(a, b) {\n    return Math.hypot(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns true if both points are equal.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static equals(a, b) {\n    return a.x === b.x && a.y === b.y;\n  }\n  static from({ x, y }) {\n    return new _Point(x, y);\n  }\n};\n\n// src/shapes/Rectangle.ts\nvar Rectangle = class _Rectangle {\n  constructor(left, top, width, height) {\n    this.left = left;\n    this.top = top;\n    this.width = width;\n    this.height = height;\n    this.scale = {\n      x: 1,\n      y: 1\n    };\n  }\n  get inverseScale() {\n    return {\n      x: 1 / this.scale.x,\n      y: 1 / this.scale.y\n    };\n  }\n  translate(x, y) {\n    const { top, left, width, height, scale } = this;\n    const newShape = new _Rectangle(left + x, top + y, width, height);\n    newShape.scale = __spreadValues({}, scale);\n    return newShape;\n  }\n  get boundingRectangle() {\n    const { width, height, left, top, right, bottom } = this;\n    return { width, height, left, top, right, bottom };\n  }\n  get center() {\n    const { left, top, right, bottom } = this;\n    return new Point((left + right) / 2, (top + bottom) / 2);\n  }\n  get area() {\n    const { width, height } = this;\n    return width * height;\n  }\n  equals(shape) {\n    if (!(shape instanceof _Rectangle)) {\n      return false;\n    }\n    const { left, top, width, height } = this;\n    return left === shape.left && top === shape.top && width === shape.width && height === shape.height;\n  }\n  containsPoint(point) {\n    const { top, left, bottom, right } = this;\n    return top <= point.y && point.y <= bottom && left <= point.x && point.x <= right;\n  }\n  intersectionArea(shape) {\n    if (shape instanceof _Rectangle) {\n      return rectangleRectangleIntersection(this, shape);\n    }\n    return 0;\n  }\n  intersectionRatio(shape) {\n    const { area } = this;\n    const intersectionArea = this.intersectionArea(shape);\n    const intersectionRatio = intersectionArea / (shape.area + area - intersectionArea);\n    return intersectionRatio;\n  }\n  get bottom() {\n    const { top, height } = this;\n    return top + height;\n  }\n  get right() {\n    const { left, width } = this;\n    return left + width;\n  }\n  get aspectRatio() {\n    const { width, height } = this;\n    return width / height;\n  }\n  get corners() {\n    return [\n      { x: this.left, y: this.top },\n      { x: this.right, y: this.top },\n      { x: this.left, y: this.bottom },\n      { x: this.right, y: this.bottom }\n    ];\n  }\n  static from({ top, left, width, height }) {\n    return new _Rectangle(left, top, width, height);\n  }\n  static delta(a, b, alignment = { x: \"center\", y: \"center\" }) {\n    const getCoordinate = (rect, axis) => {\n      const align = alignment[axis];\n      const start = axis === \"x\" ? rect.left : rect.top;\n      const size = axis === \"x\" ? rect.width : rect.height;\n      if (align == \"start\") return start;\n      if (align == \"end\") return start + size;\n      return start + size / 2;\n    };\n    return Point.delta(\n      { x: getCoordinate(a, \"x\"), y: getCoordinate(a, \"y\") },\n      { x: getCoordinate(b, \"x\"), y: getCoordinate(b, \"y\") }\n    );\n  }\n  static intersectionRatio(a, b) {\n    return _Rectangle.from(a).intersectionRatio(_Rectangle.from(b));\n  }\n};\nfunction rectangleRectangleIntersection(a, b) {\n  const top = Math.max(b.top, a.top);\n  const left = Math.max(b.left, a.left);\n  const right = Math.min(b.left + b.width, a.left + a.width);\n  const bottom = Math.min(b.top + b.height, a.top + a.height);\n  const width = right - left;\n  const height = bottom - top;\n  if (left < right && top < bottom) {\n    const intersectionArea = width * height;\n    return intersectionArea;\n  }\n  return 0;\n}\n\n// src/position/position.ts\n\nvar _direction_dec, _delta_dec, _a, _timestamp, _init;\nvar Position = class extends (_a = _dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.ValueHistory, _delta_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _direction_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_0__.derived], _a) {\n  constructor(initialValue) {\n    const point = Point.from(initialValue);\n    super(point, (a, b) => Point.equals(a, b));\n    __runInitializers(_init, 5, this);\n    __privateAdd(this, _timestamp, 0);\n    this.velocity = { x: 0, y: 0 };\n  }\n  get delta() {\n    return Point.delta(this.current, this.initial);\n  }\n  get direction() {\n    const { current, previous } = this;\n    if (!previous) return null;\n    const delta = {\n      x: current.x - previous.x,\n      y: current.y - previous.y\n    };\n    if (!delta.x && !delta.y) {\n      return null;\n    }\n    if (Math.abs(delta.x) > Math.abs(delta.y)) {\n      return delta.x > 0 ? \"right\" : \"left\";\n    }\n    return delta.y > 0 ? \"down\" : \"up\";\n  }\n  get current() {\n    return super.current;\n  }\n  set current(coordinates) {\n    const { current } = this;\n    const point = Point.from(coordinates);\n    const delta = {\n      x: point.x - current.x,\n      y: point.y - current.y\n    };\n    const timestamp = Date.now();\n    const timeDelta = timestamp - __privateGet(this, _timestamp);\n    const velocity = (delta2) => Math.round(delta2 / timeDelta * 100);\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_1__.batch)(() => {\n      __privateSet(this, _timestamp, timestamp);\n      this.velocity = {\n        x: velocity(delta.x),\n        y: velocity(delta.y)\n      };\n      super.current = point;\n    });\n  }\n  reset(coordinates = this.defaultValue) {\n    super.reset(Point.from(coordinates));\n    this.velocity = { x: 0, y: 0 };\n  }\n};\n_init = __decoratorStart(_a);\n_timestamp = new WeakMap();\n__decorateElement(_init, 2, \"delta\", _delta_dec, Position);\n__decorateElement(_init, 2, \"direction\", _direction_dec, Position);\n__decoratorMetadata(_init, Position);\n\n// src/distance/distance.ts\nfunction exceedsDistance({ x, y }, distance) {\n  const dx = Math.abs(x);\n  const dy = Math.abs(y);\n  if (typeof distance === \"number\") {\n    return Math.sqrt(__pow(dx, 2) + __pow(dy, 2)) > distance;\n  }\n  if (\"x\" in distance && \"y\" in distance) {\n    return dx > distance.x && dy > distance.y;\n  }\n  if (\"x\" in distance) {\n    return dx > distance.x;\n  }\n  if (\"y\" in distance) {\n    return dy > distance.y;\n  }\n  return false;\n}\n\n// src/types/axis.ts\nvar Axis = /* @__PURE__ */ ((Axis2) => {\n  Axis2[\"Horizontal\"] = \"x\";\n  Axis2[\"Vertical\"] = \"y\";\n  return Axis2;\n})(Axis || {});\nvar Axes = Object.values(Axis);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtnZW9tZXRyeUAwLjEuMjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L2dlb21ldHJ5L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDJCQUEyQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsd0pBQXdKO0FBQ3pOO0FBQ0E7QUFDQSxrRUFBa0UsT0FBTztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwSEFBMEg7QUFDMUg7QUFDQSxHQUFHO0FBQ0g7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QywrQ0FBK0M7QUFDL0M7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLCtCQUErQjtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrQ0FBa0M7QUFDOUM7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwQ0FBMEM7QUFDdEQsYUFBYTtBQUNiO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxZQUFZLDJCQUEyQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJCQUEyQjtBQUNuQyxRQUFRLDRCQUE0QjtBQUNwQyxRQUFRLDhCQUE4QjtBQUN0QyxRQUFRO0FBQ1I7QUFDQTtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUM7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBb0Q7QUFDNUQsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhEO0FBQzlEO0FBQ0EsbUNBQW1DLHdEQUFZLGdCQUFnQixtREFBTyxxQkFBcUIsbURBQU87QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxREFBSztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsTUFBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxZQUFZO0FBQ2I7QUFRRSIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K2dlb21ldHJ5QDAuMS4yMS9ub2RlX21vZHVsZXMvQGRuZC1raXQvZ2VvbWV0cnkvZGlzdC9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fa25vd25TeW1ib2wgPSAobmFtZSwgc3ltYm9sKSA9PiAoc3ltYm9sID0gU3ltYm9sW25hbWVdKSA/IHN5bWJvbCA6IFN5bWJvbC5mb3IoXCJTeW1ib2wuXCIgKyBuYW1lKTtcbnZhciBfX3R5cGVFcnJvciA9IChtc2cpID0+IHtcbiAgdGhyb3cgVHlwZUVycm9yKG1zZyk7XG59O1xudmFyIF9fcG93ID0gTWF0aC5wb3c7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIF9fZGVjb3JhdG9yU3RhcnQgPSAoYmFzZSkgPT4ge1xuICB2YXIgX2EyO1xuICByZXR1cm4gWywgLCAsIF9fY3JlYXRlKChfYTIgPSBiYXNlID09IG51bGwgPyB2b2lkIDAgOiBiYXNlW19fa25vd25TeW1ib2woXCJtZXRhZGF0YVwiKV0pICE9IG51bGwgPyBfYTIgOiBudWxsKV07XG59O1xudmFyIF9fZGVjb3JhdG9yU3RyaW5ncyA9IFtcImNsYXNzXCIsIFwibWV0aG9kXCIsIFwiZ2V0dGVyXCIsIFwic2V0dGVyXCIsIFwiYWNjZXNzb3JcIiwgXCJmaWVsZFwiLCBcInZhbHVlXCIsIFwiZ2V0XCIsIFwic2V0XCJdO1xudmFyIF9fZXhwZWN0Rm4gPSAoZm4pID0+IGZuICE9PSB2b2lkIDAgJiYgdHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIgPyBfX3R5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpIDogZm47XG52YXIgX19kZWNvcmF0b3JDb250ZXh0ID0gKGtpbmQsIG5hbWUsIGRvbmUsIG1ldGFkYXRhLCBmbnMpID0+ICh7IGtpbmQ6IF9fZGVjb3JhdG9yU3RyaW5nc1traW5kXSwgbmFtZSwgbWV0YWRhdGEsIGFkZEluaXRpYWxpemVyOiAoZm4pID0+IGRvbmUuXyA/IF9fdHlwZUVycm9yKFwiQWxyZWFkeSBpbml0aWFsaXplZFwiKSA6IGZucy5wdXNoKF9fZXhwZWN0Rm4oZm4gfHwgbnVsbCkpIH0pO1xudmFyIF9fZGVjb3JhdG9yTWV0YWRhdGEgPSAoYXJyYXksIHRhcmdldCkgPT4gX19kZWZOb3JtYWxQcm9wKHRhcmdldCwgX19rbm93blN5bWJvbChcIm1ldGFkYXRhXCIpLCBhcnJheVszXSk7XG52YXIgX19ydW5Jbml0aWFsaXplcnMgPSAoYXJyYXksIGZsYWdzLCBzZWxmLCB2YWx1ZSkgPT4ge1xuICBmb3IgKHZhciBpID0gMCwgZm5zID0gYXJyYXlbZmxhZ3MgPj4gMV0sIG4gPSBmbnMgJiYgZm5zLmxlbmd0aDsgaSA8IG47IGkrKykgZmxhZ3MgJiAxID8gZm5zW2ldLmNhbGwoc2VsZikgOiB2YWx1ZSA9IGZuc1tpXS5jYWxsKHNlbGYsIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfX2RlY29yYXRlRWxlbWVudCA9IChhcnJheSwgZmxhZ3MsIG5hbWUsIGRlY29yYXRvcnMsIHRhcmdldCwgZXh0cmEpID0+IHtcbiAgdmFyIGZuLCBpdCwgZG9uZSwgY3R4LCBhY2Nlc3MsIGsgPSBmbGFncyAmIDcsIHMgPSAhIShmbGFncyAmIDgpLCBwID0gISEoZmxhZ3MgJiAxNik7XG4gIHZhciBqID0gayA+IDMgPyBhcnJheS5sZW5ndGggKyAxIDogayA/IHMgPyAxIDogMiA6IDAsIGtleSA9IF9fZGVjb3JhdG9yU3RyaW5nc1trICsgNV07XG4gIHZhciBpbml0aWFsaXplcnMgPSBrID4gMyAmJiAoYXJyYXlbaiAtIDFdID0gW10pLCBleHRyYUluaXRpYWxpemVycyA9IGFycmF5W2pdIHx8IChhcnJheVtqXSA9IFtdKTtcbiAgdmFyIGRlc2MgPSBrICYmICghcCAmJiAhcyAmJiAodGFyZ2V0ID0gdGFyZ2V0LnByb3RvdHlwZSksIGsgPCA1ICYmIChrID4gMyB8fCAhcCkgJiYgX19nZXRPd25Qcm9wRGVzYyhrIDwgNCA/IHRhcmdldCA6IHsgZ2V0IFtuYW1lXSgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIGV4dHJhKTtcbiAgfSwgc2V0IFtuYW1lXSh4KSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZVNldCh0aGlzLCBleHRyYSwgeCk7XG4gIH0gfSwgbmFtZSkpO1xuICBrID8gcCAmJiBrIDwgNCAmJiBfX25hbWUoZXh0cmEsIChrID4gMiA/IFwic2V0IFwiIDogayA+IDEgPyBcImdldCBcIiA6IFwiXCIpICsgbmFtZSkgOiBfX25hbWUodGFyZ2V0LCBuYW1lKTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjdHggPSBfX2RlY29yYXRvckNvbnRleHQoaywgbmFtZSwgZG9uZSA9IHt9LCBhcnJheVszXSwgZXh0cmFJbml0aWFsaXplcnMpO1xuICAgIGlmIChrKSB7XG4gICAgICBjdHguc3RhdGljID0gcywgY3R4LnByaXZhdGUgPSBwLCBhY2Nlc3MgPSBjdHguYWNjZXNzID0geyBoYXM6IHAgPyAoeCkgPT4gX19wcml2YXRlSW4odGFyZ2V0LCB4KSA6ICh4KSA9PiBuYW1lIGluIHggfTtcbiAgICAgIGlmIChrIF4gMykgYWNjZXNzLmdldCA9IHAgPyAoeCkgPT4gKGsgXiAxID8gX19wcml2YXRlR2V0IDogX19wcml2YXRlTWV0aG9kKSh4LCB0YXJnZXQsIGsgXiA0ID8gZXh0cmEgOiBkZXNjLmdldCkgOiAoeCkgPT4geFtuYW1lXTtcbiAgICAgIGlmIChrID4gMikgYWNjZXNzLnNldCA9IHAgPyAoeCwgeSkgPT4gX19wcml2YXRlU2V0KHgsIHRhcmdldCwgeSwgayBeIDQgPyBleHRyYSA6IGRlc2Muc2V0KSA6ICh4LCB5KSA9PiB4W25hbWVdID0geTtcbiAgICB9XG4gICAgaXQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoayA/IGsgPCA0ID8gcCA/IGV4dHJhIDogZGVzY1trZXldIDogayA+IDQgPyB2b2lkIDAgOiB7IGdldDogZGVzYy5nZXQsIHNldDogZGVzYy5zZXQgfSA6IHRhcmdldCwgY3R4KSwgZG9uZS5fID0gMTtcbiAgICBpZiAoayBeIDQgfHwgaXQgPT09IHZvaWQgMCkgX19leHBlY3RGbihpdCkgJiYgKGsgPiA0ID8gaW5pdGlhbGl6ZXJzLnVuc2hpZnQoaXQpIDogayA/IHAgPyBleHRyYSA9IGl0IDogZGVzY1trZXldID0gaXQgOiB0YXJnZXQgPSBpdCk7XG4gICAgZWxzZSBpZiAodHlwZW9mIGl0ICE9PSBcIm9iamVjdFwiIHx8IGl0ID09PSBudWxsKSBfX3R5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICBlbHNlIF9fZXhwZWN0Rm4oZm4gPSBpdC5nZXQpICYmIChkZXNjLmdldCA9IGZuKSwgX19leHBlY3RGbihmbiA9IGl0LnNldCkgJiYgKGRlc2Muc2V0ID0gZm4pLCBfX2V4cGVjdEZuKGZuID0gaXQuaW5pdCkgJiYgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoZm4pO1xuICB9XG4gIHJldHVybiBrIHx8IF9fZGVjb3JhdG9yTWV0YWRhdGEoYXJyYXksIHRhcmdldCksIGRlc2MgJiYgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgZGVzYyksIHAgPyBrIF4gNCA/IGV4dHJhIDogZGVzYyA6IHRhcmdldDtcbn07XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiBtZW1iZXIuaGFzKG9iaikgfHwgX190eXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xudmFyIF9fcHJpdmF0ZUluID0gKG1lbWJlciwgb2JqKSA9PiBPYmplY3Qob2JqKSAhPT0gb2JqID8gX190eXBlRXJyb3IoJ0Nhbm5vdCB1c2UgdGhlIFwiaW5cIiBvcGVyYXRvciBvbiB0aGlzIHZhbHVlJykgOiBtZW1iZXIuaGFzKG9iaik7XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiBtZW1iZXIuaGFzKG9iaikgPyBfX3R5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIikgOiBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIiksIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpO1xudmFyIF9fcHJpdmF0ZU1ldGhvZCA9IChvYmosIG1lbWJlciwgbWV0aG9kKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIiksIG1ldGhvZCk7XG5cbi8vIHNyYy9wb2ludC9Qb2ludC50c1xudmFyIFBvaW50ID0gY2xhc3MgX1BvaW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBDb29yZGluYXRlIG9mIHRoZSBwb2ludCBvbiB0aGUgaG9yaXpvbnRhbCBheGlzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBDb29yZGluYXRlIG9mIHRoZSBwb2ludCBvbiB0aGUgdmVydGljYWwgYXhpc1xuICAgKi9cbiAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVsdGEgYmV0d2VlbiB0aGlzIHBvaW50IGFuZCBhbm90aGVyIHBvaW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1BvaW50fSBhIC0gQSBwb2ludFxuICAgKiBAcGFyYW0ge1BvaW50fSBiIC0gQW5vdGhlciBwb2ludFxuICAgKi9cbiAgc3RhdGljIGRlbHRhKGEsIGIpIHtcbiAgICByZXR1cm4gbmV3IF9Qb2ludChhLnggLSBiLngsIGEueSAtIGIueSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIChoeXBvdGVudXNlKSBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UG9pbnR9IGEgLSBBIHBvaW50XG4gICAqIEBwYXJhbSB7UG9pbnR9IGIgLSBBbm90aGVyIHBvaW50XG4gICAqL1xuICBzdGF0aWMgZGlzdGFuY2UoYSwgYikge1xuICAgIHJldHVybiBNYXRoLmh5cG90KGEueCAtIGIueCwgYS55IC0gYi55KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGJvdGggcG9pbnRzIGFyZSBlcXVhbC5cbiAgICpcbiAgICogQHBhcmFtIHtQb2ludH0gYSAtIEEgcG9pbnRcbiAgICogQHBhcmFtIHtQb2ludH0gYiAtIEFub3RoZXIgcG9pbnRcbiAgICovXG4gIHN0YXRpYyBlcXVhbHMoYSwgYikge1xuICAgIHJldHVybiBhLnggPT09IGIueCAmJiBhLnkgPT09IGIueTtcbiAgfVxuICBzdGF0aWMgZnJvbSh7IHgsIHkgfSkge1xuICAgIHJldHVybiBuZXcgX1BvaW50KHgsIHkpO1xuICB9XG59O1xuXG4vLyBzcmMvc2hhcGVzL1JlY3RhbmdsZS50c1xudmFyIFJlY3RhbmdsZSA9IGNsYXNzIF9SZWN0YW5nbGUge1xuICBjb25zdHJ1Y3RvcihsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgIHRoaXMudG9wID0gdG9wO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLnNjYWxlID0ge1xuICAgICAgeDogMSxcbiAgICAgIHk6IDFcbiAgICB9O1xuICB9XG4gIGdldCBpbnZlcnNlU2NhbGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IDEgLyB0aGlzLnNjYWxlLngsXG4gICAgICB5OiAxIC8gdGhpcy5zY2FsZS55XG4gICAgfTtcbiAgfVxuICB0cmFuc2xhdGUoeCwgeSkge1xuICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9ID0gdGhpcztcbiAgICBjb25zdCBuZXdTaGFwZSA9IG5ldyBfUmVjdGFuZ2xlKGxlZnQgKyB4LCB0b3AgKyB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBuZXdTaGFwZS5zY2FsZSA9IF9fc3ByZWFkVmFsdWVzKHt9LCBzY2FsZSk7XG4gICAgcmV0dXJuIG5ld1NoYXBlO1xuICB9XG4gIGdldCBib3VuZGluZ1JlY3RhbmdsZSgpIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSB9ID0gdGhpcztcbiAgICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0LCBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20gfTtcbiAgfVxuICBnZXQgY2VudGVyKCkge1xuICAgIGNvbnN0IHsgbGVmdCwgdG9wLCByaWdodCwgYm90dG9tIH0gPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUG9pbnQoKGxlZnQgKyByaWdodCkgLyAyLCAodG9wICsgYm90dG9tKSAvIDIpO1xuICB9XG4gIGdldCBhcmVhKCkge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcztcbiAgICByZXR1cm4gd2lkdGggKiBoZWlnaHQ7XG4gIH1cbiAgZXF1YWxzKHNoYXBlKSB7XG4gICAgaWYgKCEoc2hhcGUgaW5zdGFuY2VvZiBfUmVjdGFuZ2xlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB7IGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcztcbiAgICByZXR1cm4gbGVmdCA9PT0gc2hhcGUubGVmdCAmJiB0b3AgPT09IHNoYXBlLnRvcCAmJiB3aWR0aCA9PT0gc2hhcGUud2lkdGggJiYgaGVpZ2h0ID09PSBzaGFwZS5oZWlnaHQ7XG4gIH1cbiAgY29udGFpbnNQb2ludChwb2ludCkge1xuICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSB0aGlzO1xuICAgIHJldHVybiB0b3AgPD0gcG9pbnQueSAmJiBwb2ludC55IDw9IGJvdHRvbSAmJiBsZWZ0IDw9IHBvaW50LnggJiYgcG9pbnQueCA8PSByaWdodDtcbiAgfVxuICBpbnRlcnNlY3Rpb25BcmVhKHNoYXBlKSB7XG4gICAgaWYgKHNoYXBlIGluc3RhbmNlb2YgX1JlY3RhbmdsZSkge1xuICAgICAgcmV0dXJuIHJlY3RhbmdsZVJlY3RhbmdsZUludGVyc2VjdGlvbih0aGlzLCBzaGFwZSk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIGludGVyc2VjdGlvblJhdGlvKHNoYXBlKSB7XG4gICAgY29uc3QgeyBhcmVhIH0gPSB0aGlzO1xuICAgIGNvbnN0IGludGVyc2VjdGlvbkFyZWEgPSB0aGlzLmludGVyc2VjdGlvbkFyZWEoc2hhcGUpO1xuICAgIGNvbnN0IGludGVyc2VjdGlvblJhdGlvID0gaW50ZXJzZWN0aW9uQXJlYSAvIChzaGFwZS5hcmVhICsgYXJlYSAtIGludGVyc2VjdGlvbkFyZWEpO1xuICAgIHJldHVybiBpbnRlcnNlY3Rpb25SYXRpbztcbiAgfVxuICBnZXQgYm90dG9tKCkge1xuICAgIGNvbnN0IHsgdG9wLCBoZWlnaHQgfSA9IHRoaXM7XG4gICAgcmV0dXJuIHRvcCArIGhlaWdodDtcbiAgfVxuICBnZXQgcmlnaHQoKSB7XG4gICAgY29uc3QgeyBsZWZ0LCB3aWR0aCB9ID0gdGhpcztcbiAgICByZXR1cm4gbGVmdCArIHdpZHRoO1xuICB9XG4gIGdldCBhc3BlY3RSYXRpbygpIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXM7XG4gICAgcmV0dXJuIHdpZHRoIC8gaGVpZ2h0O1xuICB9XG4gIGdldCBjb3JuZXJzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7IHg6IHRoaXMubGVmdCwgeTogdGhpcy50b3AgfSxcbiAgICAgIHsgeDogdGhpcy5yaWdodCwgeTogdGhpcy50b3AgfSxcbiAgICAgIHsgeDogdGhpcy5sZWZ0LCB5OiB0aGlzLmJvdHRvbSB9LFxuICAgICAgeyB4OiB0aGlzLnJpZ2h0LCB5OiB0aGlzLmJvdHRvbSB9XG4gICAgXTtcbiAgfVxuICBzdGF0aWMgZnJvbSh7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9KSB7XG4gICAgcmV0dXJuIG5ldyBfUmVjdGFuZ2xlKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7XG4gIH1cbiAgc3RhdGljIGRlbHRhKGEsIGIsIGFsaWdubWVudCA9IHsgeDogXCJjZW50ZXJcIiwgeTogXCJjZW50ZXJcIiB9KSB7XG4gICAgY29uc3QgZ2V0Q29vcmRpbmF0ZSA9IChyZWN0LCBheGlzKSA9PiB7XG4gICAgICBjb25zdCBhbGlnbiA9IGFsaWdubWVudFtheGlzXTtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gYXhpcyA9PT0gXCJ4XCIgPyByZWN0LmxlZnQgOiByZWN0LnRvcDtcbiAgICAgIGNvbnN0IHNpemUgPSBheGlzID09PSBcInhcIiA/IHJlY3Qud2lkdGggOiByZWN0LmhlaWdodDtcbiAgICAgIGlmIChhbGlnbiA9PSBcInN0YXJ0XCIpIHJldHVybiBzdGFydDtcbiAgICAgIGlmIChhbGlnbiA9PSBcImVuZFwiKSByZXR1cm4gc3RhcnQgKyBzaXplO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgc2l6ZSAvIDI7XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnQuZGVsdGEoXG4gICAgICB7IHg6IGdldENvb3JkaW5hdGUoYSwgXCJ4XCIpLCB5OiBnZXRDb29yZGluYXRlKGEsIFwieVwiKSB9LFxuICAgICAgeyB4OiBnZXRDb29yZGluYXRlKGIsIFwieFwiKSwgeTogZ2V0Q29vcmRpbmF0ZShiLCBcInlcIikgfVxuICAgICk7XG4gIH1cbiAgc3RhdGljIGludGVyc2VjdGlvblJhdGlvKGEsIGIpIHtcbiAgICByZXR1cm4gX1JlY3RhbmdsZS5mcm9tKGEpLmludGVyc2VjdGlvblJhdGlvKF9SZWN0YW5nbGUuZnJvbShiKSk7XG4gIH1cbn07XG5mdW5jdGlvbiByZWN0YW5nbGVSZWN0YW5nbGVJbnRlcnNlY3Rpb24oYSwgYikge1xuICBjb25zdCB0b3AgPSBNYXRoLm1heChiLnRvcCwgYS50b3ApO1xuICBjb25zdCBsZWZ0ID0gTWF0aC5tYXgoYi5sZWZ0LCBhLmxlZnQpO1xuICBjb25zdCByaWdodCA9IE1hdGgubWluKGIubGVmdCArIGIud2lkdGgsIGEubGVmdCArIGEud2lkdGgpO1xuICBjb25zdCBib3R0b20gPSBNYXRoLm1pbihiLnRvcCArIGIuaGVpZ2h0LCBhLnRvcCArIGEuaGVpZ2h0KTtcbiAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgaWYgKGxlZnQgPCByaWdodCAmJiB0b3AgPCBib3R0b20pIHtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25BcmVhID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgcmV0dXJuIGludGVyc2VjdGlvbkFyZWE7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbi8vIHNyYy9wb3NpdGlvbi9wb3NpdGlvbi50c1xuaW1wb3J0IHsgYmF0Y2gsIGRlcml2ZWQsIFZhbHVlSGlzdG9yeSB9IGZyb20gXCJAZG5kLWtpdC9zdGF0ZVwiO1xudmFyIF9kaXJlY3Rpb25fZGVjLCBfZGVsdGFfZGVjLCBfYSwgX3RpbWVzdGFtcCwgX2luaXQ7XG52YXIgUG9zaXRpb24gPSBjbGFzcyBleHRlbmRzIChfYSA9IFZhbHVlSGlzdG9yeSwgX2RlbHRhX2RlYyA9IFtkZXJpdmVkXSwgX2RpcmVjdGlvbl9kZWMgPSBbZGVyaXZlZF0sIF9hKSB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxWYWx1ZSkge1xuICAgIGNvbnN0IHBvaW50ID0gUG9pbnQuZnJvbShpbml0aWFsVmFsdWUpO1xuICAgIHN1cGVyKHBvaW50LCAoYSwgYikgPT4gUG9pbnQuZXF1YWxzKGEsIGIpKTtcbiAgICBfX3J1bkluaXRpYWxpemVycyhfaW5pdCwgNSwgdGhpcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF90aW1lc3RhbXAsIDApO1xuICAgIHRoaXMudmVsb2NpdHkgPSB7IHg6IDAsIHk6IDAgfTtcbiAgfVxuICBnZXQgZGVsdGEoKSB7XG4gICAgcmV0dXJuIFBvaW50LmRlbHRhKHRoaXMuY3VycmVudCwgdGhpcy5pbml0aWFsKTtcbiAgfVxuICBnZXQgZGlyZWN0aW9uKCkge1xuICAgIGNvbnN0IHsgY3VycmVudCwgcHJldmlvdXMgfSA9IHRoaXM7XG4gICAgaWYgKCFwcmV2aW91cykgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgZGVsdGEgPSB7XG4gICAgICB4OiBjdXJyZW50LnggLSBwcmV2aW91cy54LFxuICAgICAgeTogY3VycmVudC55IC0gcHJldmlvdXMueVxuICAgIH07XG4gICAgaWYgKCFkZWx0YS54ICYmICFkZWx0YS55KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKGRlbHRhLngpID4gTWF0aC5hYnMoZGVsdGEueSkpIHtcbiAgICAgIHJldHVybiBkZWx0YS54ID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xuICAgIH1cbiAgICByZXR1cm4gZGVsdGEueSA+IDAgPyBcImRvd25cIiA6IFwidXBcIjtcbiAgfVxuICBnZXQgY3VycmVudCgpIHtcbiAgICByZXR1cm4gc3VwZXIuY3VycmVudDtcbiAgfVxuICBzZXQgY3VycmVudChjb29yZGluYXRlcykge1xuICAgIGNvbnN0IHsgY3VycmVudCB9ID0gdGhpcztcbiAgICBjb25zdCBwb2ludCA9IFBvaW50LmZyb20oY29vcmRpbmF0ZXMpO1xuICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgeDogcG9pbnQueCAtIGN1cnJlbnQueCxcbiAgICAgIHk6IHBvaW50LnkgLSBjdXJyZW50LnlcbiAgICB9O1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgY29uc3QgdGltZURlbHRhID0gdGltZXN0YW1wIC0gX19wcml2YXRlR2V0KHRoaXMsIF90aW1lc3RhbXApO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gKGRlbHRhMikgPT4gTWF0aC5yb3VuZChkZWx0YTIgLyB0aW1lRGVsdGEgKiAxMDApO1xuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfdGltZXN0YW1wLCB0aW1lc3RhbXApO1xuICAgICAgdGhpcy52ZWxvY2l0eSA9IHtcbiAgICAgICAgeDogdmVsb2NpdHkoZGVsdGEueCksXG4gICAgICAgIHk6IHZlbG9jaXR5KGRlbHRhLnkpXG4gICAgICB9O1xuICAgICAgc3VwZXIuY3VycmVudCA9IHBvaW50O1xuICAgIH0pO1xuICB9XG4gIHJlc2V0KGNvb3JkaW5hdGVzID0gdGhpcy5kZWZhdWx0VmFsdWUpIHtcbiAgICBzdXBlci5yZXNldChQb2ludC5mcm9tKGNvb3JkaW5hdGVzKSk7XG4gICAgdGhpcy52ZWxvY2l0eSA9IHsgeDogMCwgeTogMCB9O1xuICB9XG59O1xuX2luaXQgPSBfX2RlY29yYXRvclN0YXJ0KF9hKTtcbl90aW1lc3RhbXAgPSBuZXcgV2Vha01hcCgpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQsIDIsIFwiZGVsdGFcIiwgX2RlbHRhX2RlYywgUG9zaXRpb24pO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQsIDIsIFwiZGlyZWN0aW9uXCIsIF9kaXJlY3Rpb25fZGVjLCBQb3NpdGlvbik7XG5fX2RlY29yYXRvck1ldGFkYXRhKF9pbml0LCBQb3NpdGlvbik7XG5cbi8vIHNyYy9kaXN0YW5jZS9kaXN0YW5jZS50c1xuZnVuY3Rpb24gZXhjZWVkc0Rpc3RhbmNlKHsgeCwgeSB9LCBkaXN0YW5jZSkge1xuICBjb25zdCBkeCA9IE1hdGguYWJzKHgpO1xuICBjb25zdCBkeSA9IE1hdGguYWJzKHkpO1xuICBpZiAodHlwZW9mIGRpc3RhbmNlID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydChfX3BvdyhkeCwgMikgKyBfX3BvdyhkeSwgMikpID4gZGlzdGFuY2U7XG4gIH1cbiAgaWYgKFwieFwiIGluIGRpc3RhbmNlICYmIFwieVwiIGluIGRpc3RhbmNlKSB7XG4gICAgcmV0dXJuIGR4ID4gZGlzdGFuY2UueCAmJiBkeSA+IGRpc3RhbmNlLnk7XG4gIH1cbiAgaWYgKFwieFwiIGluIGRpc3RhbmNlKSB7XG4gICAgcmV0dXJuIGR4ID4gZGlzdGFuY2UueDtcbiAgfVxuICBpZiAoXCJ5XCIgaW4gZGlzdGFuY2UpIHtcbiAgICByZXR1cm4gZHkgPiBkaXN0YW5jZS55O1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gc3JjL3R5cGVzL2F4aXMudHNcbnZhciBBeGlzID0gLyogQF9fUFVSRV9fICovICgoQXhpczIpID0+IHtcbiAgQXhpczJbXCJIb3Jpem9udGFsXCJdID0gXCJ4XCI7XG4gIEF4aXMyW1wiVmVydGljYWxcIl0gPSBcInlcIjtcbiAgcmV0dXJuIEF4aXMyO1xufSkoQXhpcyB8fCB7fSk7XG52YXIgQXhlcyA9IE9iamVjdC52YWx1ZXMoQXhpcyk7XG5leHBvcnQge1xuICBBeGVzLFxuICBBeGlzLFxuICBQb2ludCxcbiAgUG9zaXRpb24sXG4gIFJlY3RhbmdsZSxcbiAgZXhjZWVkc0Rpc3RhbmNlXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/hooks.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/hooks.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useComputed: () => (/* binding */ useComputed),\n/* harmony export */   useConstant: () => (/* binding */ useConstant),\n/* harmony export */   useDeepSignal: () => (/* binding */ useDeepSignal),\n/* harmony export */   useImmediateEffect: () => (/* binding */ useImmediateEffect),\n/* harmony export */   useIsomorphicLayoutEffect: () => (/* binding */ useIsomorphicLayoutEffect),\n/* harmony export */   useLatest: () => (/* binding */ useLatest),\n/* harmony export */   useOnElementChange: () => (/* binding */ useOnElementChange),\n/* harmony export */   useOnValueChange: () => (/* binding */ useOnValueChange)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var _dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @dnd-kit/react/utilities */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/utilities.js\");\n\n\n\n\n\nfunction useConstant(initializer) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  if (!ref.current) {\n    ref.current = initializer();\n  }\n  return ref.current;\n}\nvar canUseDOM = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nvar useIsomorphicLayoutEffect = canUseDOM ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useForceUpdate() {\n  const setState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0)[1];\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    setState((value) => value + 1);\n  }, [setState]);\n}\n\n// src/hooks/useSignal.ts\nfunction useSignal(signal, sync = false) {\n  const previous = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(signal.peek());\n  const read = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  const forceUpdate = useForceUpdate();\n  useIsomorphicLayoutEffect(\n    () => (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.effect)(() => {\n      const previousValue = previous.current;\n      const currentValue2 = signal.value;\n      if (previousValue !== currentValue2) {\n        previous.current = currentValue2;\n        if (!read.current) return;\n        if (sync) {\n          (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(forceUpdate);\n        } else {\n          forceUpdate();\n        }\n      }\n    }),\n    [signal, sync, forceUpdate]\n  );\n  return {\n    get value() {\n      read.current = true;\n      return signal.peek();\n    }\n  };\n}\n\n// src/hooks/useComputed.ts\nfunction useComputed(compute, dependencies = [], sync = false) {\n  const $compute = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(compute);\n  $compute.current = compute;\n  return useSignal(\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_3__.computed)(() => $compute.current()), dependencies),\n    sync\n  );\n}\nfunction useDeepSignal(target, synchronous) {\n  const tracked = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(/* @__PURE__ */ new Map());\n  const forceUpdate = useForceUpdate();\n  useIsomorphicLayoutEffect(() => {\n    if (!target) {\n      tracked.current.clear();\n      return;\n    }\n    return (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.effect)(() => {\n      var _a;\n      let stale = false;\n      let sync = false;\n      for (const entry of tracked.current) {\n        const [key] = entry;\n        const value = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_2__.untracked)(() => entry[1]);\n        const latestValue = target[key];\n        if (value !== latestValue) {\n          stale = true;\n          tracked.current.set(key, latestValue);\n          sync = (_a = synchronous == null ? void 0 : synchronous(key, value, latestValue)) != null ? _a : false;\n        }\n      }\n      if (stale) {\n        sync ? (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(forceUpdate) : forceUpdate();\n      }\n    });\n  }, [target]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => target ? new Proxy(target, {\n      get(target2, key) {\n        const value = target2[key];\n        tracked.current.set(key, value);\n        return value;\n      }\n    }) : target,\n    [target]\n  );\n}\n\n// src/hooks/useImmediateEffect.ts\nfunction useImmediateEffect(callback, _) {\n  callback();\n}\nfunction useLatest(value) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);\n  useIsomorphicLayoutEffect(() => {\n    valueRef.current = value;\n  }, [value]);\n  return valueRef;\n}\nfunction useOnValueChange(value, onChange, effect3 = react__WEBPACK_IMPORTED_MODULE_0__.useEffect, compare = Object.is) {\n  const tracked = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);\n  effect3(() => {\n    const oldValue = tracked.current;\n    if (!compare(value, oldValue)) {\n      tracked.current = value;\n      onChange(value, oldValue);\n    }\n  }, [onChange, value]);\n}\nfunction useOnElementChange(value, onChange) {\n  const previous = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_4__.currentValue)(value));\n  useIsomorphicLayoutEffect(() => {\n    const current = (0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_4__.currentValue)(value);\n    if (current !== previous.current) {\n      previous.current = current;\n      onChange(current);\n    }\n  });\n}\n\n\n//# sourceMappingURL=hooks.js.map\n//# sourceMappingURL=hooks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtyZWFjdEAwLjEuMThfcmVhY3QtZG9tQDE5LjIuMF9yZWFjdEAxOS4yLjBfX3JlYWN0QDE5LjIuMC9ub2RlX21vZHVsZXMvQGRuZC1raXQvcmVhY3QvaG9va3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUEyRjtBQUM5QjtBQUN2QjtBQUNrQjs7QUFFeEQ7QUFDQSxjQUFjLDZDQUFNO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrREFBZSxHQUFHLDRDQUFTO0FBQ3ZFO0FBQ0EsbUJBQW1CLCtDQUFRO0FBQzNCLFNBQVMsa0RBQVc7QUFDcEI7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQiw2Q0FBTTtBQUN6QixlQUFlLDZDQUFNO0FBQ3JCO0FBQ0E7QUFDQSxVQUFVLHNEQUFNO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0RBQVM7QUFDbkIsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQiw2Q0FBTTtBQUN6QjtBQUNBO0FBQ0EsSUFBSSw4Q0FBTyxPQUFPLHdEQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZDQUFNO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0RBQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5REFBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvREFBUztBQUN4QjtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsU0FBUyw4Q0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkNBQU07QUFDekI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EscURBQXFELDRDQUFTO0FBQzlELGtCQUFrQiw2Q0FBTTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQiw2Q0FBTSxDQUFDLHNFQUFZO0FBQ3RDO0FBQ0Esb0JBQW9CLHNFQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVtSjtBQUNuSjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrcmVhY3RAMC4xLjE4X3JlYWN0LWRvbUAxOS4yLjBfcmVhY3RAMTkuMi4wX19yZWFjdEAxOS4yLjAvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3JlYWN0L2hvb2tzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbXB1dGVkLCBlZmZlY3QsIHVudHJhY2tlZCB9IGZyb20gJ0BkbmQta2l0L3N0YXRlJztcbmltcG9ydCB7IGZsdXNoU3luYyB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBjdXJyZW50VmFsdWUgfSBmcm9tICdAZG5kLWtpdC9yZWFjdC91dGlsaXRpZXMnO1xuXG5mdW5jdGlvbiB1c2VDb25zdGFudChpbml0aWFsaXplcikge1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGlmICghcmVmLmN1cnJlbnQpIHtcbiAgICByZWYuY3VycmVudCA9IGluaXRpYWxpemVyKCk7XG4gIH1cbiAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxudmFyIGNhblVzZURPTSA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG52YXIgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IGNhblVzZURPTSA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcbmZ1bmN0aW9uIHVzZUZvcmNlVXBkYXRlKCkge1xuICBjb25zdCBzZXRTdGF0ZSA9IHVzZVN0YXRlKDApWzFdO1xuICByZXR1cm4gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFN0YXRlKCh2YWx1ZSkgPT4gdmFsdWUgKyAxKTtcbiAgfSwgW3NldFN0YXRlXSk7XG59XG5cbi8vIHNyYy9ob29rcy91c2VTaWduYWwudHNcbmZ1bmN0aW9uIHVzZVNpZ25hbChzaWduYWwsIHN5bmMgPSBmYWxzZSkge1xuICBjb25zdCBwcmV2aW91cyA9IHVzZVJlZihzaWduYWwucGVlaygpKTtcbiAgY29uc3QgcmVhZCA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChcbiAgICAoKSA9PiBlZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzLmN1cnJlbnQ7XG4gICAgICBjb25zdCBjdXJyZW50VmFsdWUyID0gc2lnbmFsLnZhbHVlO1xuICAgICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IGN1cnJlbnRWYWx1ZTIpIHtcbiAgICAgICAgcHJldmlvdXMuY3VycmVudCA9IGN1cnJlbnRWYWx1ZTI7XG4gICAgICAgIGlmICghcmVhZC5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgICAgZmx1c2hTeW5jKGZvcmNlVXBkYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksXG4gICAgW3NpZ25hbCwgc3luYywgZm9yY2VVcGRhdGVdXG4gICk7XG4gIHJldHVybiB7XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgcmVhZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBzaWduYWwucGVlaygpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUNvbXB1dGVkLnRzXG5mdW5jdGlvbiB1c2VDb21wdXRlZChjb21wdXRlLCBkZXBlbmRlbmNpZXMgPSBbXSwgc3luYyA9IGZhbHNlKSB7XG4gIGNvbnN0ICRjb21wdXRlID0gdXNlUmVmKGNvbXB1dGUpO1xuICAkY29tcHV0ZS5jdXJyZW50ID0gY29tcHV0ZTtcbiAgcmV0dXJuIHVzZVNpZ25hbChcbiAgICB1c2VNZW1vKCgpID0+IGNvbXB1dGVkKCgpID0+ICRjb21wdXRlLmN1cnJlbnQoKSksIGRlcGVuZGVuY2llcyksXG4gICAgc3luY1xuICApO1xufVxuZnVuY3Rpb24gdXNlRGVlcFNpZ25hbCh0YXJnZXQsIHN5bmNocm9ub3VzKSB7XG4gIGNvbnN0IHRyYWNrZWQgPSB1c2VSZWYoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRyYWNrZWQuY3VycmVudC5jbGVhcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZWZmZWN0KCgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGxldCBzdGFsZSA9IGZhbHNlO1xuICAgICAgbGV0IHN5bmMgPSBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdHJhY2tlZC5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IFtrZXldID0gZW50cnk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdW50cmFja2VkKCgpID0+IGVudHJ5WzFdKTtcbiAgICAgICAgY29uc3QgbGF0ZXN0VmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBsYXRlc3RWYWx1ZSkge1xuICAgICAgICAgIHN0YWxlID0gdHJ1ZTtcbiAgICAgICAgICB0cmFja2VkLmN1cnJlbnQuc2V0KGtleSwgbGF0ZXN0VmFsdWUpO1xuICAgICAgICAgIHN5bmMgPSAoX2EgPSBzeW5jaHJvbm91cyA9PSBudWxsID8gdm9pZCAwIDogc3luY2hyb25vdXMoa2V5LCB2YWx1ZSwgbGF0ZXN0VmFsdWUpKSAhPSBudWxsID8gX2EgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YWxlKSB7XG4gICAgICAgIHN5bmMgPyBmbHVzaFN5bmMoZm9yY2VVcGRhdGUpIDogZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW3RhcmdldF0pO1xuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PiB0YXJnZXQgPyBuZXcgUHJveHkodGFyZ2V0LCB7XG4gICAgICBnZXQodGFyZ2V0Miwga2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0MltrZXldO1xuICAgICAgICB0cmFja2VkLmN1cnJlbnQuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfSkgOiB0YXJnZXQsXG4gICAgW3RhcmdldF1cbiAgKTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUltbWVkaWF0ZUVmZmVjdC50c1xuZnVuY3Rpb24gdXNlSW1tZWRpYXRlRWZmZWN0KGNhbGxiYWNrLCBfKSB7XG4gIGNhbGxiYWNrKCk7XG59XG5mdW5jdGlvbiB1c2VMYXRlc3QodmFsdWUpIHtcbiAgY29uc3QgdmFsdWVSZWYgPSB1c2VSZWYodmFsdWUpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICB2YWx1ZVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0sIFt2YWx1ZV0pO1xuICByZXR1cm4gdmFsdWVSZWY7XG59XG5mdW5jdGlvbiB1c2VPblZhbHVlQ2hhbmdlKHZhbHVlLCBvbkNoYW5nZSwgZWZmZWN0MyA9IHVzZUVmZmVjdCwgY29tcGFyZSA9IE9iamVjdC5pcykge1xuICBjb25zdCB0cmFja2VkID0gdXNlUmVmKHZhbHVlKTtcbiAgZWZmZWN0MygoKSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0cmFja2VkLmN1cnJlbnQ7XG4gICAgaWYgKCFjb21wYXJlKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIHRyYWNrZWQuY3VycmVudCA9IHZhbHVlO1xuICAgICAgb25DaGFuZ2UodmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gIH0sIFtvbkNoYW5nZSwgdmFsdWVdKTtcbn1cbmZ1bmN0aW9uIHVzZU9uRWxlbWVudENoYW5nZSh2YWx1ZSwgb25DaGFuZ2UpIHtcbiAgY29uc3QgcHJldmlvdXMgPSB1c2VSZWYoY3VycmVudFZhbHVlKHZhbHVlKSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBjdXJyZW50VmFsdWUodmFsdWUpO1xuICAgIGlmIChjdXJyZW50ICE9PSBwcmV2aW91cy5jdXJyZW50KSB7XG4gICAgICBwcmV2aW91cy5jdXJyZW50ID0gY3VycmVudDtcbiAgICAgIG9uQ2hhbmdlKGN1cnJlbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7IHVzZUNvbXB1dGVkLCB1c2VDb25zdGFudCwgdXNlRGVlcFNpZ25hbCwgdXNlSW1tZWRpYXRlRWZmZWN0LCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LCB1c2VMYXRlc3QsIHVzZU9uRWxlbWVudENoYW5nZSwgdXNlT25WYWx1ZUNoYW5nZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9va3MuanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob29rcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/hooks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/index.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/index.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DragDropProvider: () => (/* binding */ DragDropProvider),\n/* harmony export */   DragOverlay: () => (/* binding */ DragOverlay),\n/* harmony export */   KeyboardSensor: () => (/* reexport safe */ _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.KeyboardSensor),\n/* harmony export */   PointerSensor: () => (/* reexport safe */ _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.PointerSensor),\n/* harmony export */   useDragDropManager: () => (/* binding */ useDragDropManager),\n/* harmony export */   useDragDropMonitor: () => (/* binding */ useDragDropMonitor),\n/* harmony export */   useDragOperation: () => (/* binding */ useDragOperation),\n/* harmony export */   useDraggable: () => (/* binding */ useDraggable),\n/* harmony export */   useDroppable: () => (/* binding */ useDroppable),\n/* harmony export */   useInstance: () => (/* binding */ useInstance)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/dom */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/index.js\");\n/* harmony import */ var _dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/react/hooks */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/hooks.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @dnd-kit/react/utilities */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/utilities.js\");\n/* harmony import */ var _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @dnd-kit/abstract */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js\");\n\n\n\n\n\n\n\n\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar defaultManager = new _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.DragDropManager();\nvar DragDropContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(\n  defaultManager\n);\nvar Renderer = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({ children }, ref) => {\n    const [transitionCount, setTransitionCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const rendering = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const resolver = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const renderer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n      () => ({\n        renderer: {\n          get rendering() {\n            var _a2;\n            return (_a2 = rendering.current) != null ? _a2 : Promise.resolve();\n          }\n        },\n        trackRendering(callback) {\n          if (!rendering.current) {\n            rendering.current = new Promise((resolve) => {\n              resolver.current = resolve;\n            });\n          }\n          (0,react__WEBPACK_IMPORTED_MODULE_0__.startTransition)(() => {\n            callback();\n            setTransitionCount((count) => count + 1);\n          });\n        }\n      }),\n      []\n    );\n    (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useIsomorphicLayoutEffect)(() => {\n      var _a2;\n      (_a2 = resolver.current) == null ? void 0 : _a2.call(resolver);\n      rendering.current = null;\n    }, [children, transitionCount]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => renderer);\n    return null;\n  })\n);\nvar options = [void 0, _dnd_kit_state__WEBPACK_IMPORTED_MODULE_4__.deepEqual];\nfunction DragDropProvider(_a2) {\n  var _b = _a2, {\n    children,\n    onCollision,\n    onBeforeDragStart,\n    onDragStart,\n    onDragMove,\n    onDragOver,\n    onDragEnd\n  } = _b, input = __objRest(_b, [\n    \"children\",\n    \"onCollision\",\n    \"onBeforeDragStart\",\n    \"onDragStart\",\n    \"onDragMove\",\n    \"onDragOver\",\n    \"onDragEnd\"\n  ]);\n  var _a3;\n  const rendererRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const [manager, setManager] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((_a3 = input.manager) != null ? _a3 : null);\n  const { plugins, modifiers, sensors } = input;\n  const handleBeforeDragStart = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLatest)(onBeforeDragStart);\n  const handleDragStart = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLatest)(onDragStart);\n  const handleDragOver = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLatest)(onDragOver);\n  const handleDragMove = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLatest)(onDragMove);\n  const handleDragEnd = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLatest)(onDragEnd);\n  const handleCollision = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLatest)(onCollision);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    var _a4;\n    if (!rendererRef.current) throw new Error(\"Renderer not found\");\n    const { renderer, trackRendering } = rendererRef.current;\n    const manager2 = (_a4 = input.manager) != null ? _a4 : new _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.DragDropManager(input);\n    manager2.renderer = renderer;\n    manager2.monitor.addEventListener(\"beforedragstart\", (event) => {\n      const callback = handleBeforeDragStart.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\n      \"dragstart\",\n      (event) => {\n        var _a5;\n        return (_a5 = handleDragStart.current) == null ? void 0 : _a5.call(handleDragStart, event, manager2);\n      }\n    );\n    manager2.monitor.addEventListener(\"dragover\", (event) => {\n      const callback = handleDragOver.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\"dragmove\", (event) => {\n      const callback = handleDragMove.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\"dragend\", (event) => {\n      const callback = handleDragEnd.current;\n      if (callback) {\n        trackRendering(() => callback(event, manager2));\n      }\n    });\n    manager2.monitor.addEventListener(\n      \"collision\",\n      (event) => {\n        var _a5;\n        return (_a5 = handleCollision.current) == null ? void 0 : _a5.call(handleCollision, event, manager2);\n      }\n    );\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.startTransition)(() => setManager(manager2));\n    return manager2.destroy;\n  }, [input.manager]);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    plugins,\n    () => manager && (manager.plugins = plugins != null ? plugins : _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.defaultPreset.plugins),\n    ...options\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    sensors,\n    () => manager && (manager.sensors = sensors != null ? sensors : _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.defaultPreset.sensors),\n    ...options\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    modifiers,\n    () => manager && (manager.modifiers = modifiers != null ? modifiers : _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.defaultPreset.modifiers),\n    ...options\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(DragDropContext.Provider, { value: manager, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Renderer, { ref: rendererRef, children }),\n    children\n  ] });\n}\nfunction useDragDropManager() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DragDropContext);\n}\n\n// src/core/hooks/useInstance.ts\nfunction useInstance(initializer) {\n  var _a2;\n  const manager = (_a2 = useDragDropManager()) != null ? _a2 : void 0;\n  const [instance] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => initializer(manager));\n  if (instance.manager !== manager) {\n    instance.manager = manager;\n  }\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useIsomorphicLayoutEffect)(instance.register, [manager, instance]);\n  return instance;\n}\n\n// src/core/draggable/useDraggable.ts\nfunction useDraggable(input) {\n  const { disabled, data, element, handle, id, modifiers, sensors } = input;\n  const draggable = useInstance(\n    (manager) => new _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.Draggable(\n      __spreadProps(__spreadValues({}, input), {\n        register: false,\n        handle: (0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_5__.currentValue)(handle),\n        element: (0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_5__.currentValue)(element)\n      }),\n      manager\n    )\n  );\n  const trackedDraggable = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useDeepSignal)(draggable, shouldUpdateSynchronously);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(id, () => draggable.id = id);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnElementChange)(handle, (handle2) => draggable.handle = handle2);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnElementChange)(element, (element2) => draggable.element = element2);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(data, () => data && (draggable.data = data));\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(disabled, () => draggable.disabled = disabled === true);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(sensors, () => draggable.sensors = sensors);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    modifiers,\n    () => draggable.modifiers = modifiers,\n    void 0,\n    _dnd_kit_state__WEBPACK_IMPORTED_MODULE_4__.deepEqual\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    input.feedback,\n    () => {\n      var _a2;\n      return draggable.feedback = (_a2 = input.feedback) != null ? _a2 : \"default\";\n    }\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    input.alignment,\n    () => draggable.alignment = input.alignment\n  );\n  return {\n    draggable: trackedDraggable,\n    get isDragging() {\n      return trackedDraggable.isDragging;\n    },\n    get isDropping() {\n      return trackedDraggable.isDropping;\n    },\n    get isDragSource() {\n      return trackedDraggable.isDragSource;\n    },\n    handleRef: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n      (element2) => {\n        draggable.handle = element2 != null ? element2 : void 0;\n      },\n      [draggable]\n    ),\n    ref: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n      (element2) => {\n        var _a2, _b;\n        if (!element2 && ((_a2 = draggable.element) == null ? void 0 : _a2.isConnected) && !((_b = draggable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        draggable.element = element2 != null ? element2 : void 0;\n      },\n      [draggable]\n    )\n  };\n}\nfunction shouldUpdateSynchronously(key, oldValue, newValue) {\n  if (key === \"isDragSource\" && !newValue && oldValue) return true;\n  return false;\n}\nfunction DragOverlay({\n  children,\n  className,\n  style,\n  tag,\n  disabled\n}) {\n  var _a2;\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const manager = useDragDropManager();\n  const source = (_a2 = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useComputed)(() => manager == null ? void 0 : manager.dragOperation.source, [manager]).value) != null ? _a2 : null;\n  const isDisabled = typeof disabled === \"function\" ? disabled(source) : disabled;\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!ref.current || !manager || isDisabled) return;\n    const feedback = manager.plugins.find(\n      (plugin) => plugin instanceof _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.Feedback\n    );\n    if (!feedback) return;\n    feedback.overlay = ref.current;\n    return () => {\n      feedback.overlay = void 0;\n    };\n  }, [manager, isDisabled]);\n  const patchedManager = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!manager) return null;\n    const patchedRegistry = new Proxy(manager.registry, {\n      get(target, property) {\n        if (property === \"register\" || property === \"unregister\") {\n          return noop;\n        }\n        return target[property];\n      }\n    });\n    return new Proxy(manager, {\n      get(target, property) {\n        if (property === \"registry\") {\n          return patchedRegistry;\n        }\n        return target[property];\n      }\n    });\n  }, [manager]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DragDropContext.Provider, { value: patchedManager, children: (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(\n    tag || \"div\",\n    { ref, className, style, \"data-dnd-overlay\": true },\n    renderChildren()\n  ) });\n  function renderChildren() {\n    if (!source || isDisabled) return null;\n    if (typeof children === \"function\") {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Children, { source, children });\n    }\n    return children;\n  }\n}\nfunction noop() {\n  return () => {\n  };\n}\nfunction Children({\n  children,\n  source\n}) {\n  return children((0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useDeepSignal)(source));\n}\nvar __create = Object.create;\nvar __defProp2 = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __decoratorStart = (base) => {\n  var _a2;\n  return [, , , __create((_a2 = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a2 : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp2(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) fns[i].call(self) ;\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var it, done, ctx, access, k = flags & 7, s = false, p = false;\n  var j = 2 , key = __decoratorStrings[k + 5];\n  var extraInitializers = array[j] || (array[j] = []);\n  var desc = ((target = target.prototype), __getOwnPropDesc(target , name));\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: (x) => name in x };\n      access.get = (x) => x[name];\n    }\n    it = (0, decorators[i])(desc[key]  , ctx), done._ = 1;\n    __expectFn(it) && (desc[key] = it );\n  }\n  return desc && __defProp2(target, name, desc), target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), member.set(obj, value), value);\nvar Point = class _Point {\n  /**\n   * @param {number} Coordinate of the point on the horizontal axis\n   * @param {number} Coordinate of the point on the vertical axis\n   */\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  /**\n   * Returns the delta between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static delta(a, b) {\n    return new _Point(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns the distance (hypotenuse) between this point and another point.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static distance(a, b) {\n    return Math.hypot(a.x - b.x, a.y - b.y);\n  }\n  /**\n   * Returns true if both points are equal.\n   *\n   * @param {Point} a - A point\n   * @param {Point} b - Another point\n   */\n  static equals(a, b) {\n    return a.x === b.x && a.y === b.y;\n  }\n  static from({ x, y }) {\n    return new _Point(x, y);\n  }\n};\nvar _direction_dec;\nvar _delta_dec;\nvar _a;\nvar _timestamp;\nvar _init;\nvar Position = class extends (_a = _dnd_kit_state__WEBPACK_IMPORTED_MODULE_4__.ValueHistory, _delta_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_4__.derived], _direction_dec = [_dnd_kit_state__WEBPACK_IMPORTED_MODULE_4__.derived], _a) {\n  constructor(initialValue) {\n    const point = Point.from(initialValue);\n    super(point, (a, b) => Point.equals(a, b));\n    __runInitializers(_init, 5, this);\n    __privateAdd(this, _timestamp, 0);\n    this.velocity = { x: 0, y: 0 };\n  }\n  get delta() {\n    return Point.delta(this.current, this.initial);\n  }\n  get direction() {\n    const { current, previous } = this;\n    if (!previous) return null;\n    const delta = {\n      x: current.x - previous.x,\n      y: current.y - previous.y\n    };\n    if (!delta.x && !delta.y) {\n      return null;\n    }\n    if (Math.abs(delta.x) > Math.abs(delta.y)) {\n      return delta.x > 0 ? \"right\" : \"left\";\n    }\n    return delta.y > 0 ? \"down\" : \"up\";\n  }\n  get current() {\n    return super.current;\n  }\n  set current(coordinates) {\n    const { current } = this;\n    const point = Point.from(coordinates);\n    const delta = {\n      x: point.x - current.x,\n      y: point.y - current.y\n    };\n    const timestamp = Date.now();\n    const timeDelta = timestamp - __privateGet(this, _timestamp);\n    const velocity = (delta2) => Math.round(delta2 / timeDelta * 100);\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__.batch)(() => {\n      __privateSet(this, _timestamp, timestamp);\n      this.velocity = {\n        x: velocity(delta.x),\n        y: velocity(delta.y)\n      };\n      super.current = point;\n    });\n  }\n  reset(coordinates = this.defaultValue) {\n    super.reset(Point.from(coordinates));\n    this.velocity = { x: 0, y: 0 };\n  }\n};\n_init = __decoratorStart(_a);\n_timestamp = /* @__PURE__ */ new WeakMap();\n__decorateElement(_init, 2, \"delta\", _delta_dec, Position);\n__decorateElement(_init, 2, \"direction\", _direction_dec, Position);\n__decoratorMetadata(_init, Position);\nvar Axis = /* @__PURE__ */ ((Axis2) => {\n  Axis2[\"Horizontal\"] = \"x\";\n  Axis2[\"Vertical\"] = \"y\";\n  return Axis2;\n})(Axis || {});\nObject.values(Axis);\nvar pointerIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const pointerCoordinates = dragOperation.position.current;\n  if (!pointerCoordinates) {\n    return null;\n  }\n  const { id } = droppable;\n  if (!droppable.shape) {\n    return null;\n  }\n  if (droppable.shape.containsPoint(pointerCoordinates)) {\n    const distance = Point.distance(droppable.shape.center, pointerCoordinates);\n    return {\n      id,\n      value: 1 / distance,\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_7__.CollisionType.PointerIntersection,\n      priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_7__.CollisionPriority.High\n    };\n  }\n  return null;\n};\nvar shapeIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const { shape } = dragOperation;\n  if (!droppable.shape || !(shape == null ? void 0 : shape.current)) {\n    return null;\n  }\n  const intersectionArea = shape.current.intersectionArea(droppable.shape);\n  if (intersectionArea) {\n    const { position } = dragOperation;\n    const distance = Point.distance(droppable.shape.center, position.current);\n    const intersectionRatio = intersectionArea / (shape.current.area + droppable.shape.area - intersectionArea);\n    const value = intersectionRatio / distance;\n    return {\n      id: droppable.id,\n      value,\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_7__.CollisionType.ShapeIntersection,\n      priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_7__.CollisionPriority.Normal\n    };\n  }\n  return null;\n};\nvar defaultCollisionDetection = (args) => {\n  var _a2;\n  return (_a2 = pointerIntersection(args)) != null ? _a2 : shapeIntersection(args);\n};\n\n// src/core/droppable/useDroppable.ts\nfunction useDroppable(input) {\n  const { collisionDetector, data, disabled, element, id, accept, type } = input;\n  const droppable = useInstance(\n    (manager) => new _dnd_kit_dom__WEBPACK_IMPORTED_MODULE_1__.Droppable(\n      __spreadProps(__spreadValues({}, input), {\n        register: false,\n        element: (0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_5__.currentValue)(element)\n      }),\n      manager\n    )\n  );\n  const trackedDroppalbe = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useDeepSignal)(droppable);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(id, () => droppable.id = id);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnElementChange)(element, (element2) => droppable.element = element2);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    accept,\n    () => droppable.accept = accept,\n    void 0,\n    _dnd_kit_state__WEBPACK_IMPORTED_MODULE_4__.deepEqual\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(\n    collisionDetector,\n    () => droppable.collisionDetector = collisionDetector != null ? collisionDetector : defaultCollisionDetection\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(data, () => data && (droppable.data = data));\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(disabled, () => droppable.disabled = disabled === true);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useOnValueChange)(type, () => droppable.type = type);\n  return {\n    droppable: trackedDroppalbe,\n    get isDropTarget() {\n      return trackedDroppalbe.isDropTarget;\n    },\n    ref: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n      (element2) => {\n        var _a2, _b;\n        if (!element2 && ((_a2 = droppable.element) == null ? void 0 : _a2.isConnected) && !((_b = droppable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        droppable.element = element2 != null ? element2 : void 0;\n      },\n      [droppable]\n    )\n  };\n}\nfunction useDragDropMonitor(handlers) {\n  const manager = useDragDropManager();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!manager) {\n      if (true) {\n        console.warn(\n          \"useDndMonitor hook was called outside of a DragDropProvider. Make sure your app is wrapped in a DragDropProvider component.\"\n        );\n      }\n      return;\n    }\n    const cleanupFns = Object.entries(handlers).reduce(\n      (acc, [handlerName, handler]) => {\n        if (handler) {\n          const eventName = handlerName.replace(/^on/, \"\").toLowerCase();\n          const unsubscribe = manager.monitor.addEventListener(\n            eventName,\n            handler\n          );\n          acc.push(unsubscribe);\n        }\n        return acc;\n      },\n      []\n    );\n    return () => cleanupFns.forEach((cleanup) => cleanup == null ? void 0 : cleanup());\n  }, [manager, handlers]);\n}\nfunction useDragOperation() {\n  const manager = useDragDropManager();\n  const source = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useComputed)(() => manager == null ? void 0 : manager.dragOperation.source, [manager]);\n  const target = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useComputed)(() => manager == null ? void 0 : manager.dragOperation.target, [manager]);\n  return {\n    get source() {\n      return source.value;\n    },\n    get target() {\n      return target.value;\n    }\n  };\n}\n\n\n//# sourceMappingURL=index.js.map\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtyZWFjdEAwLjEuMThfcmVhY3QtZG9tQDE5LjIuMF9yZWFjdEAxOS4yLjBfX3JlYWN0QDE5LjIuMC9ub2RlX21vZHVsZXMvQGRuZC1raXQvcmVhY3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTRLO0FBQzlFO0FBQ2pDO0FBQ2lGO0FBQ3JFO0FBQzNCO0FBQ1U7QUFDYTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5REFBZTtBQUN4QyxzQkFBc0Isb0RBQWE7QUFDbkM7QUFDQTtBQUNBLGVBQWUsMkNBQUk7QUFDbkIsRUFBRSxpREFBVSxJQUFJLFVBQVU7QUFDMUIsa0RBQWtELCtDQUFRO0FBQzFELHNCQUFzQiw2Q0FBTTtBQUM1QixxQkFBcUIsNkNBQU07QUFDM0IscUJBQXFCLDhDQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFVBQVUsc0RBQWU7QUFDekI7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsSUFBSSwrRUFBeUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksMERBQW1CO0FBQ3ZCO0FBQ0EsR0FBRztBQUNIO0FBQ0EsdUJBQXVCLHFEQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7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QTtBQUNBLEVBQUUsc0VBQWdCO0FBQ2xCLEVBQUUsc0VBQWdCO0FBQ2xCLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFNBQVMsa0RBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBLFVBQVUsSUFBcUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlFQUFXO0FBQzVCLGlCQUFpQixpRUFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEk7QUFDNUk7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL0BkbmQta2l0K3JlYWN0QDAuMS4xOF9yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9AZG5kLWtpdC9yZWFjdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBtZW1vLCBmb3J3YXJkUmVmLCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VNZW1vLCBzdGFydFRyYW5zaXRpb24sIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEcmFnRHJvcE1hbmFnZXIsIGRlZmF1bHRQcmVzZXQsIERyYWdnYWJsZSwgRmVlZGJhY2ssIERyb3BwYWJsZSB9IGZyb20gJ0BkbmQta2l0L2RvbSc7XG5leHBvcnQgeyBLZXlib2FyZFNlbnNvciwgUG9pbnRlclNlbnNvciB9IGZyb20gJ0BkbmQta2l0L2RvbSc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LCB1c2VMYXRlc3QsIHVzZU9uVmFsdWVDaGFuZ2UsIHVzZURlZXBTaWduYWwsIHVzZU9uRWxlbWVudENoYW5nZSwgdXNlQ29tcHV0ZWQgfSBmcm9tICdAZG5kLWtpdC9yZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBkZWVwRXF1YWwsIFZhbHVlSGlzdG9yeSwgZGVyaXZlZCwgYmF0Y2ggfSBmcm9tICdAZG5kLWtpdC9zdGF0ZSc7XG5pbXBvcnQgeyBqc3hzLCBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBjdXJyZW50VmFsdWUgfSBmcm9tICdAZG5kLWtpdC9yZWFjdC91dGlsaXRpZXMnO1xuaW1wb3J0IHsgQ29sbGlzaW9uUHJpb3JpdHksIENvbGxpc2lvblR5cGUgfSBmcm9tICdAZG5kLWtpdC9hYnN0cmFjdCc7XG5cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG52YXIgZGVmYXVsdE1hbmFnZXIgPSBuZXcgRHJhZ0Ryb3BNYW5hZ2VyKCk7XG52YXIgRHJhZ0Ryb3BDb250ZXh0ID0gY3JlYXRlQ29udGV4dChcbiAgZGVmYXVsdE1hbmFnZXJcbik7XG52YXIgUmVuZGVyZXIgPSBtZW1vKFxuICBmb3J3YXJkUmVmKCh7IGNoaWxkcmVuIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IFt0cmFuc2l0aW9uQ291bnQsIHNldFRyYW5zaXRpb25Db3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCByZW5kZXJpbmcgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gKHtcbiAgICAgICAgcmVuZGVyZXI6IHtcbiAgICAgICAgICBnZXQgcmVuZGVyaW5nKCkge1xuICAgICAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgICAgIHJldHVybiAoX2EyID0gcmVuZGVyaW5nLmN1cnJlbnQpICE9IG51bGwgPyBfYTIgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRyYWNrUmVuZGVyaW5nKGNhbGxiYWNrKSB7XG4gICAgICAgICAgaWYgKCFyZW5kZXJpbmcuY3VycmVudCkge1xuICAgICAgICAgICAgcmVuZGVyaW5nLmN1cnJlbnQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlci5jdXJyZW50ID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGFydFRyYW5zaXRpb24oKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Db3VudCgoY291bnQpID0+IGNvdW50ICsgMSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgW11cbiAgICApO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIChfYTIgPSByZXNvbHZlci5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmNhbGwocmVzb2x2ZXIpO1xuICAgICAgcmVuZGVyaW5nLmN1cnJlbnQgPSBudWxsO1xuICAgIH0sIFtjaGlsZHJlbiwgdHJhbnNpdGlvbkNvdW50XSk7XG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IHJlbmRlcmVyKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSlcbik7XG52YXIgb3B0aW9ucyA9IFt2b2lkIDAsIGRlZXBFcXVhbF07XG5mdW5jdGlvbiBEcmFnRHJvcFByb3ZpZGVyKF9hMikge1xuICB2YXIgX2IgPSBfYTIsIHtcbiAgICBjaGlsZHJlbixcbiAgICBvbkNvbGxpc2lvbixcbiAgICBvbkJlZm9yZURyYWdTdGFydCxcbiAgICBvbkRyYWdTdGFydCxcbiAgICBvbkRyYWdNb3ZlLFxuICAgIG9uRHJhZ092ZXIsXG4gICAgb25EcmFnRW5kXG4gIH0gPSBfYiwgaW5wdXQgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcImNoaWxkcmVuXCIsXG4gICAgXCJvbkNvbGxpc2lvblwiLFxuICAgIFwib25CZWZvcmVEcmFnU3RhcnRcIixcbiAgICBcIm9uRHJhZ1N0YXJ0XCIsXG4gICAgXCJvbkRyYWdNb3ZlXCIsXG4gICAgXCJvbkRyYWdPdmVyXCIsXG4gICAgXCJvbkRyYWdFbmRcIlxuICBdKTtcbiAgdmFyIF9hMztcbiAgY29uc3QgcmVuZGVyZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFttYW5hZ2VyLCBzZXRNYW5hZ2VyXSA9IHVzZVN0YXRlKChfYTMgPSBpbnB1dC5tYW5hZ2VyKSAhPSBudWxsID8gX2EzIDogbnVsbCk7XG4gIGNvbnN0IHsgcGx1Z2lucywgbW9kaWZpZXJzLCBzZW5zb3JzIH0gPSBpbnB1dDtcbiAgY29uc3QgaGFuZGxlQmVmb3JlRHJhZ1N0YXJ0ID0gdXNlTGF0ZXN0KG9uQmVmb3JlRHJhZ1N0YXJ0KTtcbiAgY29uc3QgaGFuZGxlRHJhZ1N0YXJ0ID0gdXNlTGF0ZXN0KG9uRHJhZ1N0YXJ0KTtcbiAgY29uc3QgaGFuZGxlRHJhZ092ZXIgPSB1c2VMYXRlc3Qob25EcmFnT3Zlcik7XG4gIGNvbnN0IGhhbmRsZURyYWdNb3ZlID0gdXNlTGF0ZXN0KG9uRHJhZ01vdmUpO1xuICBjb25zdCBoYW5kbGVEcmFnRW5kID0gdXNlTGF0ZXN0KG9uRHJhZ0VuZCk7XG4gIGNvbnN0IGhhbmRsZUNvbGxpc2lvbiA9IHVzZUxhdGVzdChvbkNvbGxpc2lvbik7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hNDtcbiAgICBpZiAoIXJlbmRlcmVyUmVmLmN1cnJlbnQpIHRocm93IG5ldyBFcnJvcihcIlJlbmRlcmVyIG5vdCBmb3VuZFwiKTtcbiAgICBjb25zdCB7IHJlbmRlcmVyLCB0cmFja1JlbmRlcmluZyB9ID0gcmVuZGVyZXJSZWYuY3VycmVudDtcbiAgICBjb25zdCBtYW5hZ2VyMiA9IChfYTQgPSBpbnB1dC5tYW5hZ2VyKSAhPSBudWxsID8gX2E0IDogbmV3IERyYWdEcm9wTWFuYWdlcihpbnB1dCk7XG4gICAgbWFuYWdlcjIucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICBtYW5hZ2VyMi5tb25pdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmVkcmFnc3RhcnRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IGhhbmRsZUJlZm9yZURyYWdTdGFydC5jdXJyZW50O1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRyYWNrUmVuZGVyaW5nKCgpID0+IGNhbGxiYWNrKGV2ZW50LCBtYW5hZ2VyMikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1hbmFnZXIyLm1vbml0b3IuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiZHJhZ3N0YXJ0XCIsXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hNTtcbiAgICAgICAgcmV0dXJuIChfYTUgPSBoYW5kbGVEcmFnU3RhcnQuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hNS5jYWxsKGhhbmRsZURyYWdTdGFydCwgZXZlbnQsIG1hbmFnZXIyKTtcbiAgICAgIH1cbiAgICApO1xuICAgIG1hbmFnZXIyLm1vbml0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSBoYW5kbGVEcmFnT3Zlci5jdXJyZW50O1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRyYWNrUmVuZGVyaW5nKCgpID0+IGNhbGxiYWNrKGV2ZW50LCBtYW5hZ2VyMikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1hbmFnZXIyLm1vbml0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdtb3ZlXCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSBoYW5kbGVEcmFnTW92ZS5jdXJyZW50O1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRyYWNrUmVuZGVyaW5nKCgpID0+IGNhbGxiYWNrKGV2ZW50LCBtYW5hZ2VyMikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1hbmFnZXIyLm1vbml0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjYWxsYmFjayA9IGhhbmRsZURyYWdFbmQuY3VycmVudDtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0cmFja1JlbmRlcmluZygoKSA9PiBjYWxsYmFjayhldmVudCwgbWFuYWdlcjIpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYW5hZ2VyMi5tb25pdG9yLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNvbGxpc2lvblwiLFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYTU7XG4gICAgICAgIHJldHVybiAoX2E1ID0gaGFuZGxlQ29sbGlzaW9uLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTUuY2FsbChoYW5kbGVDb2xsaXNpb24sIGV2ZW50LCBtYW5hZ2VyMik7XG4gICAgICB9XG4gICAgKTtcbiAgICBzdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0TWFuYWdlcihtYW5hZ2VyMikpO1xuICAgIHJldHVybiBtYW5hZ2VyMi5kZXN0cm95O1xuICB9LCBbaW5wdXQubWFuYWdlcl0pO1xuICB1c2VPblZhbHVlQ2hhbmdlKFxuICAgIHBsdWdpbnMsXG4gICAgKCkgPT4gbWFuYWdlciAmJiAobWFuYWdlci5wbHVnaW5zID0gcGx1Z2lucyAhPSBudWxsID8gcGx1Z2lucyA6IGRlZmF1bHRQcmVzZXQucGx1Z2lucyksXG4gICAgLi4ub3B0aW9uc1xuICApO1xuICB1c2VPblZhbHVlQ2hhbmdlKFxuICAgIHNlbnNvcnMsXG4gICAgKCkgPT4gbWFuYWdlciAmJiAobWFuYWdlci5zZW5zb3JzID0gc2Vuc29ycyAhPSBudWxsID8gc2Vuc29ycyA6IGRlZmF1bHRQcmVzZXQuc2Vuc29ycyksXG4gICAgLi4ub3B0aW9uc1xuICApO1xuICB1c2VPblZhbHVlQ2hhbmdlKFxuICAgIG1vZGlmaWVycyxcbiAgICAoKSA9PiBtYW5hZ2VyICYmIChtYW5hZ2VyLm1vZGlmaWVycyA9IG1vZGlmaWVycyAhPSBudWxsID8gbW9kaWZpZXJzIDogZGVmYXVsdFByZXNldC5tb2RpZmllcnMpLFxuICAgIC4uLm9wdGlvbnNcbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKERyYWdEcm9wQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogbWFuYWdlciwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFJlbmRlcmVyLCB7IHJlZjogcmVuZGVyZXJSZWYsIGNoaWxkcmVuIH0pLFxuICAgIGNoaWxkcmVuXG4gIF0gfSk7XG59XG5mdW5jdGlvbiB1c2VEcmFnRHJvcE1hbmFnZXIoKSB7XG4gIHJldHVybiB1c2VDb250ZXh0KERyYWdEcm9wQ29udGV4dCk7XG59XG5cbi8vIHNyYy9jb3JlL2hvb2tzL3VzZUluc3RhbmNlLnRzXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbml0aWFsaXplcikge1xuICB2YXIgX2EyO1xuICBjb25zdCBtYW5hZ2VyID0gKF9hMiA9IHVzZURyYWdEcm9wTWFuYWdlcigpKSAhPSBudWxsID8gX2EyIDogdm9pZCAwO1xuICBjb25zdCBbaW5zdGFuY2VdID0gdXNlU3RhdGUoKCkgPT4gaW5pdGlhbGl6ZXIobWFuYWdlcikpO1xuICBpZiAoaW5zdGFuY2UubWFuYWdlciAhPT0gbWFuYWdlcikge1xuICAgIGluc3RhbmNlLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICB9XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoaW5zdGFuY2UucmVnaXN0ZXIsIFttYW5hZ2VyLCBpbnN0YW5jZV0pO1xuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIHNyYy9jb3JlL2RyYWdnYWJsZS91c2VEcmFnZ2FibGUudHNcbmZ1bmN0aW9uIHVzZURyYWdnYWJsZShpbnB1dCkge1xuICBjb25zdCB7IGRpc2FibGVkLCBkYXRhLCBlbGVtZW50LCBoYW5kbGUsIGlkLCBtb2RpZmllcnMsIHNlbnNvcnMgfSA9IGlucHV0O1xuICBjb25zdCBkcmFnZ2FibGUgPSB1c2VJbnN0YW5jZShcbiAgICAobWFuYWdlcikgPT4gbmV3IERyYWdnYWJsZShcbiAgICAgIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGlucHV0KSwge1xuICAgICAgICByZWdpc3RlcjogZmFsc2UsXG4gICAgICAgIGhhbmRsZTogY3VycmVudFZhbHVlKGhhbmRsZSksXG4gICAgICAgIGVsZW1lbnQ6IGN1cnJlbnRWYWx1ZShlbGVtZW50KVxuICAgICAgfSksXG4gICAgICBtYW5hZ2VyXG4gICAgKVxuICApO1xuICBjb25zdCB0cmFja2VkRHJhZ2dhYmxlID0gdXNlRGVlcFNpZ25hbChkcmFnZ2FibGUsIHNob3VsZFVwZGF0ZVN5bmNocm9ub3VzbHkpO1xuICB1c2VPblZhbHVlQ2hhbmdlKGlkLCAoKSA9PiBkcmFnZ2FibGUuaWQgPSBpZCk7XG4gIHVzZU9uRWxlbWVudENoYW5nZShoYW5kbGUsIChoYW5kbGUyKSA9PiBkcmFnZ2FibGUuaGFuZGxlID0gaGFuZGxlMik7XG4gIHVzZU9uRWxlbWVudENoYW5nZShlbGVtZW50LCAoZWxlbWVudDIpID0+IGRyYWdnYWJsZS5lbGVtZW50ID0gZWxlbWVudDIpO1xuICB1c2VPblZhbHVlQ2hhbmdlKGRhdGEsICgpID0+IGRhdGEgJiYgKGRyYWdnYWJsZS5kYXRhID0gZGF0YSkpO1xuICB1c2VPblZhbHVlQ2hhbmdlKGRpc2FibGVkLCAoKSA9PiBkcmFnZ2FibGUuZGlzYWJsZWQgPSBkaXNhYmxlZCA9PT0gdHJ1ZSk7XG4gIHVzZU9uVmFsdWVDaGFuZ2Uoc2Vuc29ycywgKCkgPT4gZHJhZ2dhYmxlLnNlbnNvcnMgPSBzZW5zb3JzKTtcbiAgdXNlT25WYWx1ZUNoYW5nZShcbiAgICBtb2RpZmllcnMsXG4gICAgKCkgPT4gZHJhZ2dhYmxlLm1vZGlmaWVycyA9IG1vZGlmaWVycyxcbiAgICB2b2lkIDAsXG4gICAgZGVlcEVxdWFsXG4gICk7XG4gIHVzZU9uVmFsdWVDaGFuZ2UoXG4gICAgaW5wdXQuZmVlZGJhY2ssXG4gICAgKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIHJldHVybiBkcmFnZ2FibGUuZmVlZGJhY2sgPSAoX2EyID0gaW5wdXQuZmVlZGJhY2spICE9IG51bGwgPyBfYTIgOiBcImRlZmF1bHRcIjtcbiAgICB9XG4gICk7XG4gIHVzZU9uVmFsdWVDaGFuZ2UoXG4gICAgaW5wdXQuYWxpZ25tZW50LFxuICAgICgpID0+IGRyYWdnYWJsZS5hbGlnbm1lbnQgPSBpbnB1dC5hbGlnbm1lbnRcbiAgKTtcbiAgcmV0dXJuIHtcbiAgICBkcmFnZ2FibGU6IHRyYWNrZWREcmFnZ2FibGUsXG4gICAgZ2V0IGlzRHJhZ2dpbmcoKSB7XG4gICAgICByZXR1cm4gdHJhY2tlZERyYWdnYWJsZS5pc0RyYWdnaW5nO1xuICAgIH0sXG4gICAgZ2V0IGlzRHJvcHBpbmcoKSB7XG4gICAgICByZXR1cm4gdHJhY2tlZERyYWdnYWJsZS5pc0Ryb3BwaW5nO1xuICAgIH0sXG4gICAgZ2V0IGlzRHJhZ1NvdXJjZSgpIHtcbiAgICAgIHJldHVybiB0cmFja2VkRHJhZ2dhYmxlLmlzRHJhZ1NvdXJjZTtcbiAgICB9LFxuICAgIGhhbmRsZVJlZjogdXNlQ2FsbGJhY2soXG4gICAgICAoZWxlbWVudDIpID0+IHtcbiAgICAgICAgZHJhZ2dhYmxlLmhhbmRsZSA9IGVsZW1lbnQyICE9IG51bGwgPyBlbGVtZW50MiA6IHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBbZHJhZ2dhYmxlXVxuICAgICksXG4gICAgcmVmOiB1c2VDYWxsYmFjayhcbiAgICAgIChlbGVtZW50MikgPT4ge1xuICAgICAgICB2YXIgX2EyLCBfYjtcbiAgICAgICAgaWYgKCFlbGVtZW50MiAmJiAoKF9hMiA9IGRyYWdnYWJsZS5lbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmlzQ29ubmVjdGVkKSAmJiAhKChfYiA9IGRyYWdnYWJsZS5tYW5hZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZHJhZ09wZXJhdGlvbi5zdGF0dXMuaWRsZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZHJhZ2dhYmxlLmVsZW1lbnQgPSBlbGVtZW50MiAhPSBudWxsID8gZWxlbWVudDIgOiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgW2RyYWdnYWJsZV1cbiAgICApXG4gIH07XG59XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVTeW5jaHJvbm91c2x5KGtleSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gIGlmIChrZXkgPT09IFwiaXNEcmFnU291cmNlXCIgJiYgIW5ld1ZhbHVlICYmIG9sZFZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gRHJhZ092ZXJsYXkoe1xuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lLFxuICBzdHlsZSxcbiAgdGFnLFxuICBkaXNhYmxlZFxufSkge1xuICB2YXIgX2EyO1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgY29uc3Qgc291cmNlID0gKF9hMiA9IHVzZUNvbXB1dGVkKCgpID0+IG1hbmFnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IG1hbmFnZXIuZHJhZ09wZXJhdGlvbi5zb3VyY2UsIFttYW5hZ2VyXSkudmFsdWUpICE9IG51bGwgPyBfYTIgOiBudWxsO1xuICBjb25zdCBpc0Rpc2FibGVkID0gdHlwZW9mIGRpc2FibGVkID09PSBcImZ1bmN0aW9uXCIgPyBkaXNhYmxlZChzb3VyY2UpIDogZGlzYWJsZWQ7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFyZWYuY3VycmVudCB8fCAhbWFuYWdlciB8fCBpc0Rpc2FibGVkKSByZXR1cm47XG4gICAgY29uc3QgZmVlZGJhY2sgPSBtYW5hZ2VyLnBsdWdpbnMuZmluZChcbiAgICAgIChwbHVnaW4pID0+IHBsdWdpbiBpbnN0YW5jZW9mIEZlZWRiYWNrXG4gICAgKTtcbiAgICBpZiAoIWZlZWRiYWNrKSByZXR1cm47XG4gICAgZmVlZGJhY2sub3ZlcmxheSA9IHJlZi5jdXJyZW50O1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmZWVkYmFjay5vdmVybGF5ID0gdm9pZCAwO1xuICAgIH07XG4gIH0sIFttYW5hZ2VyLCBpc0Rpc2FibGVkXSk7XG4gIGNvbnN0IHBhdGNoZWRNYW5hZ2VyID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFtYW5hZ2VyKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBwYXRjaGVkUmVnaXN0cnkgPSBuZXcgUHJveHkobWFuYWdlci5yZWdpc3RyeSwge1xuICAgICAgZ2V0KHRhcmdldCwgcHJvcGVydHkpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5ID09PSBcInJlZ2lzdGVyXCIgfHwgcHJvcGVydHkgPT09IFwidW5yZWdpc3RlclwiKSB7XG4gICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBQcm94eShtYW5hZ2VyLCB7XG4gICAgICBnZXQodGFyZ2V0LCBwcm9wZXJ0eSkge1xuICAgICAgICBpZiAocHJvcGVydHkgPT09IFwicmVnaXN0cnlcIikge1xuICAgICAgICAgIHJldHVybiBwYXRjaGVkUmVnaXN0cnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eV07XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFttYW5hZ2VyXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KERyYWdEcm9wQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcGF0Y2hlZE1hbmFnZXIsIGNoaWxkcmVuOiBjcmVhdGVFbGVtZW50KFxuICAgIHRhZyB8fCBcImRpdlwiLFxuICAgIHsgcmVmLCBjbGFzc05hbWUsIHN0eWxlLCBcImRhdGEtZG5kLW92ZXJsYXlcIjogdHJ1ZSB9LFxuICAgIHJlbmRlckNoaWxkcmVuKClcbiAgKSB9KTtcbiAgZnVuY3Rpb24gcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgaWYgKCFzb3VyY2UgfHwgaXNEaXNhYmxlZCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChDaGlsZHJlbiwgeyBzb3VyY2UsIGNoaWxkcmVuIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbn1cbmZ1bmN0aW9uIG5vb3AoKSB7XG4gIHJldHVybiAoKSA9PiB7XG4gIH07XG59XG5mdW5jdGlvbiBDaGlsZHJlbih7XG4gIGNoaWxkcmVuLFxuICBzb3VyY2Vcbn0pIHtcbiAgcmV0dXJuIGNoaWxkcmVuKHVzZURlZXBTaWduYWwoc291cmNlKSk7XG59XG52YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcDIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19rbm93blN5bWJvbCA9IChuYW1lLCBzeW1ib2wpID0+IChzeW1ib2wgPSBTeW1ib2xbbmFtZV0pID8gc3ltYm9sIDogU3ltYm9sLmZvcihcIlN5bWJvbC5cIiArIG5hbWUpO1xudmFyIF9fdHlwZUVycm9yID0gKG1zZykgPT4ge1xuICB0aHJvdyBUeXBlRXJyb3IobXNnKTtcbn07XG52YXIgX19kZWZOb3JtYWxQcm9wMiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AyKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX2RlY29yYXRvclN0YXJ0ID0gKGJhc2UpID0+IHtcbiAgdmFyIF9hMjtcbiAgcmV0dXJuIFssICwgLCBfX2NyZWF0ZSgoX2EyID0gYmFzZSA9PSBudWxsID8gdm9pZCAwIDogYmFzZVtfX2tub3duU3ltYm9sKFwibWV0YWRhdGFcIildKSAhPSBudWxsID8gX2EyIDogbnVsbCldO1xufTtcbnZhciBfX2RlY29yYXRvclN0cmluZ3MgPSBbXCJjbGFzc1wiLCBcIm1ldGhvZFwiLCBcImdldHRlclwiLCBcInNldHRlclwiLCBcImFjY2Vzc29yXCIsIFwiZmllbGRcIiwgXCJ2YWx1ZVwiLCBcImdldFwiLCBcInNldFwiXTtcbnZhciBfX2V4cGVjdEZuID0gKGZuKSA9PiBmbiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiID8gX190eXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKSA6IGZuO1xudmFyIF9fZGVjb3JhdG9yQ29udGV4dCA9IChraW5kLCBuYW1lLCBkb25lLCBtZXRhZGF0YSwgZm5zKSA9PiAoeyBraW5kOiBfX2RlY29yYXRvclN0cmluZ3Nba2luZF0sIG5hbWUsIG1ldGFkYXRhLCBhZGRJbml0aWFsaXplcjogKGZuKSA9PiBkb25lLl8gPyBfX3R5cGVFcnJvcihcIkFscmVhZHkgaW5pdGlhbGl6ZWRcIikgOiBmbnMucHVzaChfX2V4cGVjdEZuKGZuIHx8IG51bGwpKSB9KTtcbnZhciBfX2RlY29yYXRvck1ldGFkYXRhID0gKGFycmF5LCB0YXJnZXQpID0+IF9fZGVmTm9ybWFsUHJvcDIodGFyZ2V0LCBfX2tub3duU3ltYm9sKFwibWV0YWRhdGFcIiksIGFycmF5WzNdKTtcbnZhciBfX3J1bkluaXRpYWxpemVycyA9IChhcnJheSwgZmxhZ3MsIHNlbGYsIHZhbHVlKSA9PiB7XG4gIGZvciAodmFyIGkgPSAwLCBmbnMgPSBhcnJheVtmbGFncyA+PiAxXSwgbiA9IGZucyAmJiBmbnMubGVuZ3RoOyBpIDwgbjsgaSsrKSBmbnNbaV0uY2FsbChzZWxmKSA7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX19kZWNvcmF0ZUVsZW1lbnQgPSAoYXJyYXksIGZsYWdzLCBuYW1lLCBkZWNvcmF0b3JzLCB0YXJnZXQsIGV4dHJhKSA9PiB7XG4gIHZhciBpdCwgZG9uZSwgY3R4LCBhY2Nlc3MsIGsgPSBmbGFncyAmIDcsIHMgPSBmYWxzZSwgcCA9IGZhbHNlO1xuICB2YXIgaiA9IDIgLCBrZXkgPSBfX2RlY29yYXRvclN0cmluZ3NbayArIDVdO1xuICB2YXIgZXh0cmFJbml0aWFsaXplcnMgPSBhcnJheVtqXSB8fCAoYXJyYXlbal0gPSBbXSk7XG4gIHZhciBkZXNjID0gKCh0YXJnZXQgPSB0YXJnZXQucHJvdG90eXBlKSwgX19nZXRPd25Qcm9wRGVzYyh0YXJnZXQgLCBuYW1lKSk7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY3R4ID0gX19kZWNvcmF0b3JDb250ZXh0KGssIG5hbWUsIGRvbmUgPSB7fSwgYXJyYXlbM10sIGV4dHJhSW5pdGlhbGl6ZXJzKTtcbiAgICB7XG4gICAgICBjdHguc3RhdGljID0gcywgY3R4LnByaXZhdGUgPSBwLCBhY2Nlc3MgPSBjdHguYWNjZXNzID0geyBoYXM6ICh4KSA9PiBuYW1lIGluIHggfTtcbiAgICAgIGFjY2Vzcy5nZXQgPSAoeCkgPT4geFtuYW1lXTtcbiAgICB9XG4gICAgaXQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoZGVzY1trZXldICAsIGN0eCksIGRvbmUuXyA9IDE7XG4gICAgX19leHBlY3RGbihpdCkgJiYgKGRlc2Nba2V5XSA9IGl0ICk7XG4gIH1cbiAgcmV0dXJuIGRlc2MgJiYgX19kZWZQcm9wMih0YXJnZXQsIG5hbWUsIGRlc2MpLCB0YXJnZXQ7XG59O1xudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4gbWVtYmVyLmhhcyhvYmopIHx8IF9fdHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksIG1lbWJlci5nZXQob2JqKSk7XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4gbWVtYmVyLmhhcyhvYmopID8gX190eXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpIDogbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSk7XG52YXIgUG9pbnQgPSBjbGFzcyBfUG9pbnQge1xuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IENvb3JkaW5hdGUgb2YgdGhlIHBvaW50IG9uIHRoZSBob3Jpem9udGFsIGF4aXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IENvb3JkaW5hdGUgb2YgdGhlIHBvaW50IG9uIHRoZSB2ZXJ0aWNhbCBheGlzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZWx0YSBiZXR3ZWVuIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgcG9pbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UG9pbnR9IGEgLSBBIHBvaW50XG4gICAqIEBwYXJhbSB7UG9pbnR9IGIgLSBBbm90aGVyIHBvaW50XG4gICAqL1xuICBzdGF0aWMgZGVsdGEoYSwgYikge1xuICAgIHJldHVybiBuZXcgX1BvaW50KGEueCAtIGIueCwgYS55IC0gYi55KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgKGh5cG90ZW51c2UpIGJldHdlZW4gdGhpcyBwb2ludCBhbmQgYW5vdGhlciBwb2ludC5cbiAgICpcbiAgICogQHBhcmFtIHtQb2ludH0gYSAtIEEgcG9pbnRcbiAgICogQHBhcmFtIHtQb2ludH0gYiAtIEFub3RoZXIgcG9pbnRcbiAgICovXG4gIHN0YXRpYyBkaXN0YW5jZShhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGguaHlwb3QoYS54IC0gYi54LCBhLnkgLSBiLnkpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgYm90aCBwb2ludHMgYXJlIGVxdWFsLlxuICAgKlxuICAgKiBAcGFyYW0ge1BvaW50fSBhIC0gQSBwb2ludFxuICAgKiBAcGFyYW0ge1BvaW50fSBiIC0gQW5vdGhlciBwb2ludFxuICAgKi9cbiAgc3RhdGljIGVxdWFscyhhLCBiKSB7XG4gICAgcmV0dXJuIGEueCA9PT0gYi54ICYmIGEueSA9PT0gYi55O1xuICB9XG4gIHN0YXRpYyBmcm9tKHsgeCwgeSB9KSB7XG4gICAgcmV0dXJuIG5ldyBfUG9pbnQoeCwgeSk7XG4gIH1cbn07XG52YXIgX2RpcmVjdGlvbl9kZWM7XG52YXIgX2RlbHRhX2RlYztcbnZhciBfYTtcbnZhciBfdGltZXN0YW1wO1xudmFyIF9pbml0O1xudmFyIFBvc2l0aW9uID0gY2xhc3MgZXh0ZW5kcyAoX2EgPSBWYWx1ZUhpc3RvcnksIF9kZWx0YV9kZWMgPSBbZGVyaXZlZF0sIF9kaXJlY3Rpb25fZGVjID0gW2Rlcml2ZWRdLCBfYSkge1xuICBjb25zdHJ1Y3Rvcihpbml0aWFsVmFsdWUpIHtcbiAgICBjb25zdCBwb2ludCA9IFBvaW50LmZyb20oaW5pdGlhbFZhbHVlKTtcbiAgICBzdXBlcihwb2ludCwgKGEsIGIpID0+IFBvaW50LmVxdWFscyhhLCBiKSk7XG4gICAgX19ydW5Jbml0aWFsaXplcnMoX2luaXQsIDUsIHRoaXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfdGltZXN0YW1wLCAwKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0geyB4OiAwLCB5OiAwIH07XG4gIH1cbiAgZ2V0IGRlbHRhKCkge1xuICAgIHJldHVybiBQb2ludC5kZWx0YSh0aGlzLmN1cnJlbnQsIHRoaXMuaW5pdGlhbCk7XG4gIH1cbiAgZ2V0IGRpcmVjdGlvbigpIHtcbiAgICBjb25zdCB7IGN1cnJlbnQsIHByZXZpb3VzIH0gPSB0aGlzO1xuICAgIGlmICghcHJldmlvdXMpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgeDogY3VycmVudC54IC0gcHJldmlvdXMueCxcbiAgICAgIHk6IGN1cnJlbnQueSAtIHByZXZpb3VzLnlcbiAgICB9O1xuICAgIGlmICghZGVsdGEueCAmJiAhZGVsdGEueSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChNYXRoLmFicyhkZWx0YS54KSA+IE1hdGguYWJzKGRlbHRhLnkpKSB7XG4gICAgICByZXR1cm4gZGVsdGEueCA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIjtcbiAgICB9XG4gICAgcmV0dXJuIGRlbHRhLnkgPiAwID8gXCJkb3duXCIgOiBcInVwXCI7XG4gIH1cbiAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmN1cnJlbnQ7XG4gIH1cbiAgc2V0IGN1cnJlbnQoY29vcmRpbmF0ZXMpIHtcbiAgICBjb25zdCB7IGN1cnJlbnQgfSA9IHRoaXM7XG4gICAgY29uc3QgcG9pbnQgPSBQb2ludC5mcm9tKGNvb3JkaW5hdGVzKTtcbiAgICBjb25zdCBkZWx0YSA9IHtcbiAgICAgIHg6IHBvaW50LnggLSBjdXJyZW50LngsXG4gICAgICB5OiBwb2ludC55IC0gY3VycmVudC55XG4gICAgfTtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVEZWx0YSA9IHRpbWVzdGFtcCAtIF9fcHJpdmF0ZUdldCh0aGlzLCBfdGltZXN0YW1wKTtcbiAgICBjb25zdCB2ZWxvY2l0eSA9IChkZWx0YTIpID0+IE1hdGgucm91bmQoZGVsdGEyIC8gdGltZURlbHRhICogMTAwKTtcbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICBfX3ByaXZhdGVTZXQodGhpcywgX3RpbWVzdGFtcCwgdGltZXN0YW1wKTtcbiAgICAgIHRoaXMudmVsb2NpdHkgPSB7XG4gICAgICAgIHg6IHZlbG9jaXR5KGRlbHRhLngpLFxuICAgICAgICB5OiB2ZWxvY2l0eShkZWx0YS55KVxuICAgICAgfTtcbiAgICAgIHN1cGVyLmN1cnJlbnQgPSBwb2ludDtcbiAgICB9KTtcbiAgfVxuICByZXNldChjb29yZGluYXRlcyA9IHRoaXMuZGVmYXVsdFZhbHVlKSB7XG4gICAgc3VwZXIucmVzZXQoUG9pbnQuZnJvbShjb29yZGluYXRlcykpO1xuICAgIHRoaXMudmVsb2NpdHkgPSB7IHg6IDAsIHk6IDAgfTtcbiAgfVxufTtcbl9pbml0ID0gX19kZWNvcmF0b3JTdGFydChfYSk7XG5fdGltZXN0YW1wID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdCwgMiwgXCJkZWx0YVwiLCBfZGVsdGFfZGVjLCBQb3NpdGlvbik7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdCwgMiwgXCJkaXJlY3Rpb25cIiwgX2RpcmVjdGlvbl9kZWMsIFBvc2l0aW9uKTtcbl9fZGVjb3JhdG9yTWV0YWRhdGEoX2luaXQsIFBvc2l0aW9uKTtcbnZhciBBeGlzID0gLyogQF9fUFVSRV9fICovICgoQXhpczIpID0+IHtcbiAgQXhpczJbXCJIb3Jpem9udGFsXCJdID0gXCJ4XCI7XG4gIEF4aXMyW1wiVmVydGljYWxcIl0gPSBcInlcIjtcbiAgcmV0dXJuIEF4aXMyO1xufSkoQXhpcyB8fCB7fSk7XG5PYmplY3QudmFsdWVzKEF4aXMpO1xudmFyIHBvaW50ZXJJbnRlcnNlY3Rpb24gPSAoe1xuICBkcmFnT3BlcmF0aW9uLFxuICBkcm9wcGFibGVcbn0pID0+IHtcbiAgY29uc3QgcG9pbnRlckNvb3JkaW5hdGVzID0gZHJhZ09wZXJhdGlvbi5wb3NpdGlvbi5jdXJyZW50O1xuICBpZiAoIXBvaW50ZXJDb29yZGluYXRlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHsgaWQgfSA9IGRyb3BwYWJsZTtcbiAgaWYgKCFkcm9wcGFibGUuc2hhcGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoZHJvcHBhYmxlLnNoYXBlLmNvbnRhaW5zUG9pbnQocG9pbnRlckNvb3JkaW5hdGVzKSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gUG9pbnQuZGlzdGFuY2UoZHJvcHBhYmxlLnNoYXBlLmNlbnRlciwgcG9pbnRlckNvb3JkaW5hdGVzKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICB2YWx1ZTogMSAvIGRpc3RhbmNlLFxuICAgICAgdHlwZTogQ29sbGlzaW9uVHlwZS5Qb2ludGVySW50ZXJzZWN0aW9uLFxuICAgICAgcHJpb3JpdHk6IENvbGxpc2lvblByaW9yaXR5LkhpZ2hcbiAgICB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBzaGFwZUludGVyc2VjdGlvbiA9ICh7XG4gIGRyYWdPcGVyYXRpb24sXG4gIGRyb3BwYWJsZVxufSkgPT4ge1xuICBjb25zdCB7IHNoYXBlIH0gPSBkcmFnT3BlcmF0aW9uO1xuICBpZiAoIWRyb3BwYWJsZS5zaGFwZSB8fCAhKHNoYXBlID09IG51bGwgPyB2b2lkIDAgOiBzaGFwZS5jdXJyZW50KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGludGVyc2VjdGlvbkFyZWEgPSBzaGFwZS5jdXJyZW50LmludGVyc2VjdGlvbkFyZWEoZHJvcHBhYmxlLnNoYXBlKTtcbiAgaWYgKGludGVyc2VjdGlvbkFyZWEpIHtcbiAgICBjb25zdCB7IHBvc2l0aW9uIH0gPSBkcmFnT3BlcmF0aW9uO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gUG9pbnQuZGlzdGFuY2UoZHJvcHBhYmxlLnNoYXBlLmNlbnRlciwgcG9zaXRpb24uY3VycmVudCk7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uUmF0aW8gPSBpbnRlcnNlY3Rpb25BcmVhIC8gKHNoYXBlLmN1cnJlbnQuYXJlYSArIGRyb3BwYWJsZS5zaGFwZS5hcmVhIC0gaW50ZXJzZWN0aW9uQXJlYSk7XG4gICAgY29uc3QgdmFsdWUgPSBpbnRlcnNlY3Rpb25SYXRpbyAvIGRpc3RhbmNlO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZHJvcHBhYmxlLmlkLFxuICAgICAgdmFsdWUsXG4gICAgICB0eXBlOiBDb2xsaXNpb25UeXBlLlNoYXBlSW50ZXJzZWN0aW9uLFxuICAgICAgcHJpb3JpdHk6IENvbGxpc2lvblByaW9yaXR5Lk5vcm1hbFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIGRlZmF1bHRDb2xsaXNpb25EZXRlY3Rpb24gPSAoYXJncykgPT4ge1xuICB2YXIgX2EyO1xuICByZXR1cm4gKF9hMiA9IHBvaW50ZXJJbnRlcnNlY3Rpb24oYXJncykpICE9IG51bGwgPyBfYTIgOiBzaGFwZUludGVyc2VjdGlvbihhcmdzKTtcbn07XG5cbi8vIHNyYy9jb3JlL2Ryb3BwYWJsZS91c2VEcm9wcGFibGUudHNcbmZ1bmN0aW9uIHVzZURyb3BwYWJsZShpbnB1dCkge1xuICBjb25zdCB7IGNvbGxpc2lvbkRldGVjdG9yLCBkYXRhLCBkaXNhYmxlZCwgZWxlbWVudCwgaWQsIGFjY2VwdCwgdHlwZSB9ID0gaW5wdXQ7XG4gIGNvbnN0IGRyb3BwYWJsZSA9IHVzZUluc3RhbmNlKFxuICAgIChtYW5hZ2VyKSA9PiBuZXcgRHJvcHBhYmxlKFxuICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaW5wdXQpLCB7XG4gICAgICAgIHJlZ2lzdGVyOiBmYWxzZSxcbiAgICAgICAgZWxlbWVudDogY3VycmVudFZhbHVlKGVsZW1lbnQpXG4gICAgICB9KSxcbiAgICAgIG1hbmFnZXJcbiAgICApXG4gICk7XG4gIGNvbnN0IHRyYWNrZWREcm9wcGFsYmUgPSB1c2VEZWVwU2lnbmFsKGRyb3BwYWJsZSk7XG4gIHVzZU9uVmFsdWVDaGFuZ2UoaWQsICgpID0+IGRyb3BwYWJsZS5pZCA9IGlkKTtcbiAgdXNlT25FbGVtZW50Q2hhbmdlKGVsZW1lbnQsIChlbGVtZW50MikgPT4gZHJvcHBhYmxlLmVsZW1lbnQgPSBlbGVtZW50Mik7XG4gIHVzZU9uVmFsdWVDaGFuZ2UoXG4gICAgYWNjZXB0LFxuICAgICgpID0+IGRyb3BwYWJsZS5hY2NlcHQgPSBhY2NlcHQsXG4gICAgdm9pZCAwLFxuICAgIGRlZXBFcXVhbFxuICApO1xuICB1c2VPblZhbHVlQ2hhbmdlKFxuICAgIGNvbGxpc2lvbkRldGVjdG9yLFxuICAgICgpID0+IGRyb3BwYWJsZS5jb2xsaXNpb25EZXRlY3RvciA9IGNvbGxpc2lvbkRldGVjdG9yICE9IG51bGwgPyBjb2xsaXNpb25EZXRlY3RvciA6IGRlZmF1bHRDb2xsaXNpb25EZXRlY3Rpb25cbiAgKTtcbiAgdXNlT25WYWx1ZUNoYW5nZShkYXRhLCAoKSA9PiBkYXRhICYmIChkcm9wcGFibGUuZGF0YSA9IGRhdGEpKTtcbiAgdXNlT25WYWx1ZUNoYW5nZShkaXNhYmxlZCwgKCkgPT4gZHJvcHBhYmxlLmRpc2FibGVkID0gZGlzYWJsZWQgPT09IHRydWUpO1xuICB1c2VPblZhbHVlQ2hhbmdlKHR5cGUsICgpID0+IGRyb3BwYWJsZS50eXBlID0gdHlwZSk7XG4gIHJldHVybiB7XG4gICAgZHJvcHBhYmxlOiB0cmFja2VkRHJvcHBhbGJlLFxuICAgIGdldCBpc0Ryb3BUYXJnZXQoKSB7XG4gICAgICByZXR1cm4gdHJhY2tlZERyb3BwYWxiZS5pc0Ryb3BUYXJnZXQ7XG4gICAgfSxcbiAgICByZWY6IHVzZUNhbGxiYWNrKFxuICAgICAgKGVsZW1lbnQyKSA9PiB7XG4gICAgICAgIHZhciBfYTIsIF9iO1xuICAgICAgICBpZiAoIWVsZW1lbnQyICYmICgoX2EyID0gZHJvcHBhYmxlLmVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuaXNDb25uZWN0ZWQpICYmICEoKF9iID0gZHJvcHBhYmxlLm1hbmFnZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYi5kcmFnT3BlcmF0aW9uLnN0YXR1cy5pZGxlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkcm9wcGFibGUuZWxlbWVudCA9IGVsZW1lbnQyICE9IG51bGwgPyBlbGVtZW50MiA6IHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBbZHJvcHBhYmxlXVxuICAgIClcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZURyYWdEcm9wTW9uaXRvcihoYW5kbGVycykge1xuICBjb25zdCBtYW5hZ2VyID0gdXNlRHJhZ0Ryb3BNYW5hZ2VyKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYW5hZ2VyKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcInVzZURuZE1vbml0b3IgaG9vayB3YXMgY2FsbGVkIG91dHNpZGUgb2YgYSBEcmFnRHJvcFByb3ZpZGVyLiBNYWtlIHN1cmUgeW91ciBhcHAgaXMgd3JhcHBlZCBpbiBhIERyYWdEcm9wUHJvdmlkZXIgY29tcG9uZW50LlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNsZWFudXBGbnMgPSBPYmplY3QuZW50cmllcyhoYW5kbGVycykucmVkdWNlKFxuICAgICAgKGFjYywgW2hhbmRsZXJOYW1lLCBoYW5kbGVyXSkgPT4ge1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGhhbmRsZXJOYW1lLnJlcGxhY2UoL15vbi8sIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBtYW5hZ2VyLm1vbml0b3IuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgICAgIGhhbmRsZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGFjYy5wdXNoKHVuc3Vic2NyaWJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIFtdXG4gICAgKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYW51cEZucy5mb3JFYWNoKChjbGVhbnVwKSA9PiBjbGVhbnVwID09IG51bGwgPyB2b2lkIDAgOiBjbGVhbnVwKCkpO1xuICB9LCBbbWFuYWdlciwgaGFuZGxlcnNdKTtcbn1cbmZ1bmN0aW9uIHVzZURyYWdPcGVyYXRpb24oKSB7XG4gIGNvbnN0IG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgY29uc3Qgc291cmNlID0gdXNlQ29tcHV0ZWQoKCkgPT4gbWFuYWdlciA9PSBudWxsID8gdm9pZCAwIDogbWFuYWdlci5kcmFnT3BlcmF0aW9uLnNvdXJjZSwgW21hbmFnZXJdKTtcbiAgY29uc3QgdGFyZ2V0ID0gdXNlQ29tcHV0ZWQoKCkgPT4gbWFuYWdlciA9PSBudWxsID8gdm9pZCAwIDogbWFuYWdlci5kcmFnT3BlcmF0aW9uLnRhcmdldCwgW21hbmFnZXJdKTtcbiAgcmV0dXJuIHtcbiAgICBnZXQgc291cmNlKCkge1xuICAgICAgcmV0dXJuIHNvdXJjZS52YWx1ZTtcbiAgICB9LFxuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0LnZhbHVlO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHsgRHJhZ0Ryb3BQcm92aWRlciwgRHJhZ092ZXJsYXksIHVzZURyYWdEcm9wTWFuYWdlciwgdXNlRHJhZ0Ryb3BNb25pdG9yLCB1c2VEcmFnT3BlcmF0aW9uLCB1c2VEcmFnZ2FibGUsIHVzZURyb3BwYWJsZSwgdXNlSW5zdGFuY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/sortable.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/sortable.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSortable: () => (/* reexport safe */ _dnd_kit_dom_sortable__WEBPACK_IMPORTED_MODULE_1__.isSortable),\n/* harmony export */   useSortable: () => (/* binding */ useSortable)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\");\n/* harmony import */ var _dnd_kit_dom_sortable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dnd-kit/dom/sortable */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/sortable.js\");\n/* harmony import */ var _dnd_kit_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @dnd-kit/react */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/index.js\");\n/* harmony import */ var _dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @dnd-kit/react/hooks */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/hooks.js\");\n/* harmony import */ var _dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @dnd-kit/react/utilities */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/utilities.js\");\n\n\n\n\n\n\n\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction useSortable(input) {\n  const {\n    accept,\n    collisionDetector,\n    collisionPriority,\n    id,\n    data,\n    element,\n    handle,\n    index,\n    group,\n    disabled,\n    feedback,\n    modifiers,\n    sensors,\n    target,\n    type\n  } = input;\n  const transition = __spreadValues(__spreadValues({}, _dnd_kit_dom_sortable__WEBPACK_IMPORTED_MODULE_1__.defaultSortableTransition), input.transition);\n  const sortable = (0,_dnd_kit_react__WEBPACK_IMPORTED_MODULE_2__.useInstance)((manager) => {\n    return new _dnd_kit_dom_sortable__WEBPACK_IMPORTED_MODULE_1__.Sortable(\n      __spreadProps(__spreadValues({}, input), {\n        transition,\n        register: false,\n        handle: (0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_3__.currentValue)(handle),\n        element: (0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_3__.currentValue)(element),\n        target: (0,_dnd_kit_react_utilities__WEBPACK_IMPORTED_MODULE_3__.currentValue)(target),\n        feedback\n      }),\n      manager\n    );\n  });\n  const trackedSortable = (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useDeepSignal)(sortable, shouldUpdateSynchronously);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(id, () => sortable.id = id);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useIsomorphicLayoutEffect)(() => {\n    (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_5__.batch)(() => {\n      sortable.group = group;\n      sortable.index = index;\n    });\n  }, [sortable, group, index]);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(type, () => sortable.type = type);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(\n    accept,\n    () => sortable.accept = accept,\n    void 0,\n    _dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__.deepEqual\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(data, () => data && (sortable.data = data));\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(\n    index,\n    () => {\n      var _a;\n      if (((_a = sortable.manager) == null ? void 0 : _a.dragOperation.status.idle) && (transition == null ? void 0 : transition.idle)) {\n        sortable.refreshShape();\n      }\n    },\n    _dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useImmediateEffect\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnElementChange)(handle, (handle2) => sortable.handle = handle2);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnElementChange)(element, (element2) => sortable.element = element2);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnElementChange)(target, (target2) => sortable.target = target2);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(disabled, () => sortable.disabled = disabled === true);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(sensors, () => sortable.sensors = sensors);\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(\n    collisionDetector,\n    () => sortable.collisionDetector = collisionDetector\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(\n    collisionPriority,\n    () => sortable.collisionPriority = collisionPriority\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(feedback, () => sortable.feedback = feedback != null ? feedback : \"default\");\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(\n    transition,\n    () => sortable.transition = transition,\n    void 0,\n    _dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__.deepEqual\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(\n    modifiers,\n    () => sortable.modifiers = modifiers,\n    void 0,\n    _dnd_kit_state__WEBPACK_IMPORTED_MODULE_6__.deepEqual\n  );\n  (0,_dnd_kit_react_hooks__WEBPACK_IMPORTED_MODULE_4__.useOnValueChange)(\n    input.alignment,\n    () => sortable.alignment = input.alignment\n  );\n  return {\n    sortable: trackedSortable,\n    get isDragging() {\n      return trackedSortable.isDragging;\n    },\n    get isDropping() {\n      return trackedSortable.isDropping;\n    },\n    get isDragSource() {\n      return trackedSortable.isDragSource;\n    },\n    get isDropTarget() {\n      return trackedSortable.isDropTarget;\n    },\n    handleRef: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n      (element2) => {\n        sortable.handle = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    ),\n    ref: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n      (element2) => {\n        var _a, _b;\n        if (!element2 && ((_a = sortable.element) == null ? void 0 : _a.isConnected) && !((_b = sortable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        sortable.element = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    ),\n    sourceRef: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n      (element2) => {\n        var _a, _b;\n        if (!element2 && ((_a = sortable.source) == null ? void 0 : _a.isConnected) && !((_b = sortable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        sortable.source = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    ),\n    targetRef: (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n      (element2) => {\n        var _a, _b;\n        if (!element2 && ((_a = sortable.target) == null ? void 0 : _a.isConnected) && !((_b = sortable.manager) == null ? void 0 : _b.dragOperation.status.idle)) {\n          return;\n        }\n        sortable.target = element2 != null ? element2 : void 0;\n      },\n      [sortable]\n    )\n  };\n}\nfunction shouldUpdateSynchronously(key, oldValue, newValue) {\n  if (key === \"isDragSource\" && !newValue && oldValue) return true;\n  return false;\n}\n\n\n//# sourceMappingURL=sortable.js.map\n//# sourceMappingURL=sortable.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtyZWFjdEAwLjEuMThfcmVhY3QtZG9tQDE5LjIuMF9yZWFjdEAxOS4yLjBfX3JlYWN0QDE5LjIuMC9ub2RlX21vZHVsZXMvQGRuZC1raXQvcmVhY3Qvc29ydGFibGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ2M7QUFDMEI7QUFDekI7QUFDTjtBQUM2RjtBQUNsRjs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0oscURBQXFELEVBQUUsNEVBQXlCO0FBQ2hGLG1CQUFtQiwyREFBVztBQUM5QixlQUFlLDJEQUFRO0FBQ3ZCLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsZ0JBQWdCLHNFQUFZO0FBQzVCLGlCQUFpQixzRUFBWTtBQUM3QixnQkFBZ0Isc0VBQVk7QUFDNUI7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQkFBMEIsbUVBQWE7QUFDdkMsRUFBRSxzRUFBZ0I7QUFDbEIsRUFBRSwrRUFBeUI7QUFDM0IsSUFBSSxxREFBSztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILEVBQUUsc0VBQWdCO0FBQ2xCLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQVM7QUFDYjtBQUNBLEVBQUUsc0VBQWdCO0FBQ2xCLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLG9FQUFrQjtBQUN0QjtBQUNBLEVBQUUsd0VBQWtCO0FBQ3BCLEVBQUUsd0VBQWtCO0FBQ3BCLEVBQUUsd0VBQWtCO0FBQ3BCLEVBQUUsc0VBQWdCO0FBQ2xCLEVBQUUsc0VBQWdCO0FBQ2xCLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEVBQUUsc0VBQWdCO0FBQ2xCLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQVM7QUFDYjtBQUNBLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQVM7QUFDYjtBQUNBLEVBQUUsc0VBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLGVBQWUsa0RBQVc7QUFDMUI7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUyxrREFBVztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsa0RBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGtEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV1QjtBQUN2QjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrcmVhY3RAMC4xLjE4X3JlYWN0LWRvbUAxOS4yLjBfcmVhY3RAMTkuMi4wX19yZWFjdEAxOS4yLjAvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3JlYWN0L3NvcnRhYmxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYmF0Y2gsIGRlZXBFcXVhbCB9IGZyb20gJ0BkbmQta2l0L3N0YXRlJztcbmltcG9ydCB7IGRlZmF1bHRTb3J0YWJsZVRyYW5zaXRpb24sIFNvcnRhYmxlIH0gZnJvbSAnQGRuZC1raXQvZG9tL3NvcnRhYmxlJztcbmV4cG9ydCB7IGlzU29ydGFibGUgfSBmcm9tICdAZG5kLWtpdC9kb20vc29ydGFibGUnO1xuaW1wb3J0IHsgdXNlSW5zdGFuY2UgfSBmcm9tICdAZG5kLWtpdC9yZWFjdCc7XG5pbXBvcnQgeyB1c2VEZWVwU2lnbmFsLCB1c2VPblZhbHVlQ2hhbmdlLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LCB1c2VJbW1lZGlhdGVFZmZlY3QsIHVzZU9uRWxlbWVudENoYW5nZSB9IGZyb20gJ0BkbmQta2l0L3JlYWN0L2hvb2tzJztcbmltcG9ydCB7IGN1cnJlbnRWYWx1ZSB9IGZyb20gJ0BkbmQta2l0L3JlYWN0L3V0aWxpdGllcyc7XG5cbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xuZnVuY3Rpb24gdXNlU29ydGFibGUoaW5wdXQpIHtcbiAgY29uc3Qge1xuICAgIGFjY2VwdCxcbiAgICBjb2xsaXNpb25EZXRlY3RvcixcbiAgICBjb2xsaXNpb25Qcmlvcml0eSxcbiAgICBpZCxcbiAgICBkYXRhLFxuICAgIGVsZW1lbnQsXG4gICAgaGFuZGxlLFxuICAgIGluZGV4LFxuICAgIGdyb3VwLFxuICAgIGRpc2FibGVkLFxuICAgIGZlZWRiYWNrLFxuICAgIG1vZGlmaWVycyxcbiAgICBzZW5zb3JzLFxuICAgIHRhcmdldCxcbiAgICB0eXBlXG4gIH0gPSBpbnB1dDtcbiAgY29uc3QgdHJhbnNpdGlvbiA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBkZWZhdWx0U29ydGFibGVUcmFuc2l0aW9uKSwgaW5wdXQudHJhbnNpdGlvbik7XG4gIGNvbnN0IHNvcnRhYmxlID0gdXNlSW5zdGFuY2UoKG1hbmFnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IFNvcnRhYmxlKFxuICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaW5wdXQpLCB7XG4gICAgICAgIHRyYW5zaXRpb24sXG4gICAgICAgIHJlZ2lzdGVyOiBmYWxzZSxcbiAgICAgICAgaGFuZGxlOiBjdXJyZW50VmFsdWUoaGFuZGxlKSxcbiAgICAgICAgZWxlbWVudDogY3VycmVudFZhbHVlKGVsZW1lbnQpLFxuICAgICAgICB0YXJnZXQ6IGN1cnJlbnRWYWx1ZSh0YXJnZXQpLFxuICAgICAgICBmZWVkYmFja1xuICAgICAgfSksXG4gICAgICBtYW5hZ2VyXG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IHRyYWNrZWRTb3J0YWJsZSA9IHVzZURlZXBTaWduYWwoc29ydGFibGUsIHNob3VsZFVwZGF0ZVN5bmNocm9ub3VzbHkpO1xuICB1c2VPblZhbHVlQ2hhbmdlKGlkLCAoKSA9PiBzb3J0YWJsZS5pZCA9IGlkKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYmF0Y2goKCkgPT4ge1xuICAgICAgc29ydGFibGUuZ3JvdXAgPSBncm91cDtcbiAgICAgIHNvcnRhYmxlLmluZGV4ID0gaW5kZXg7XG4gICAgfSk7XG4gIH0sIFtzb3J0YWJsZSwgZ3JvdXAsIGluZGV4XSk7XG4gIHVzZU9uVmFsdWVDaGFuZ2UodHlwZSwgKCkgPT4gc29ydGFibGUudHlwZSA9IHR5cGUpO1xuICB1c2VPblZhbHVlQ2hhbmdlKFxuICAgIGFjY2VwdCxcbiAgICAoKSA9PiBzb3J0YWJsZS5hY2NlcHQgPSBhY2NlcHQsXG4gICAgdm9pZCAwLFxuICAgIGRlZXBFcXVhbFxuICApO1xuICB1c2VPblZhbHVlQ2hhbmdlKGRhdGEsICgpID0+IGRhdGEgJiYgKHNvcnRhYmxlLmRhdGEgPSBkYXRhKSk7XG4gIHVzZU9uVmFsdWVDaGFuZ2UoXG4gICAgaW5kZXgsXG4gICAgKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKCgoX2EgPSBzb3J0YWJsZS5tYW5hZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZHJhZ09wZXJhdGlvbi5zdGF0dXMuaWRsZSkgJiYgKHRyYW5zaXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb24uaWRsZSkpIHtcbiAgICAgICAgc29ydGFibGUucmVmcmVzaFNoYXBlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1c2VJbW1lZGlhdGVFZmZlY3RcbiAgKTtcbiAgdXNlT25FbGVtZW50Q2hhbmdlKGhhbmRsZSwgKGhhbmRsZTIpID0+IHNvcnRhYmxlLmhhbmRsZSA9IGhhbmRsZTIpO1xuICB1c2VPbkVsZW1lbnRDaGFuZ2UoZWxlbWVudCwgKGVsZW1lbnQyKSA9PiBzb3J0YWJsZS5lbGVtZW50ID0gZWxlbWVudDIpO1xuICB1c2VPbkVsZW1lbnRDaGFuZ2UodGFyZ2V0LCAodGFyZ2V0MikgPT4gc29ydGFibGUudGFyZ2V0ID0gdGFyZ2V0Mik7XG4gIHVzZU9uVmFsdWVDaGFuZ2UoZGlzYWJsZWQsICgpID0+IHNvcnRhYmxlLmRpc2FibGVkID0gZGlzYWJsZWQgPT09IHRydWUpO1xuICB1c2VPblZhbHVlQ2hhbmdlKHNlbnNvcnMsICgpID0+IHNvcnRhYmxlLnNlbnNvcnMgPSBzZW5zb3JzKTtcbiAgdXNlT25WYWx1ZUNoYW5nZShcbiAgICBjb2xsaXNpb25EZXRlY3RvcixcbiAgICAoKSA9PiBzb3J0YWJsZS5jb2xsaXNpb25EZXRlY3RvciA9IGNvbGxpc2lvbkRldGVjdG9yXG4gICk7XG4gIHVzZU9uVmFsdWVDaGFuZ2UoXG4gICAgY29sbGlzaW9uUHJpb3JpdHksXG4gICAgKCkgPT4gc29ydGFibGUuY29sbGlzaW9uUHJpb3JpdHkgPSBjb2xsaXNpb25Qcmlvcml0eVxuICApO1xuICB1c2VPblZhbHVlQ2hhbmdlKGZlZWRiYWNrLCAoKSA9PiBzb3J0YWJsZS5mZWVkYmFjayA9IGZlZWRiYWNrICE9IG51bGwgPyBmZWVkYmFjayA6IFwiZGVmYXVsdFwiKTtcbiAgdXNlT25WYWx1ZUNoYW5nZShcbiAgICB0cmFuc2l0aW9uLFxuICAgICgpID0+IHNvcnRhYmxlLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uLFxuICAgIHZvaWQgMCxcbiAgICBkZWVwRXF1YWxcbiAgKTtcbiAgdXNlT25WYWx1ZUNoYW5nZShcbiAgICBtb2RpZmllcnMsXG4gICAgKCkgPT4gc29ydGFibGUubW9kaWZpZXJzID0gbW9kaWZpZXJzLFxuICAgIHZvaWQgMCxcbiAgICBkZWVwRXF1YWxcbiAgKTtcbiAgdXNlT25WYWx1ZUNoYW5nZShcbiAgICBpbnB1dC5hbGlnbm1lbnQsXG4gICAgKCkgPT4gc29ydGFibGUuYWxpZ25tZW50ID0gaW5wdXQuYWxpZ25tZW50XG4gICk7XG4gIHJldHVybiB7XG4gICAgc29ydGFibGU6IHRyYWNrZWRTb3J0YWJsZSxcbiAgICBnZXQgaXNEcmFnZ2luZygpIHtcbiAgICAgIHJldHVybiB0cmFja2VkU29ydGFibGUuaXNEcmFnZ2luZztcbiAgICB9LFxuICAgIGdldCBpc0Ryb3BwaW5nKCkge1xuICAgICAgcmV0dXJuIHRyYWNrZWRTb3J0YWJsZS5pc0Ryb3BwaW5nO1xuICAgIH0sXG4gICAgZ2V0IGlzRHJhZ1NvdXJjZSgpIHtcbiAgICAgIHJldHVybiB0cmFja2VkU29ydGFibGUuaXNEcmFnU291cmNlO1xuICAgIH0sXG4gICAgZ2V0IGlzRHJvcFRhcmdldCgpIHtcbiAgICAgIHJldHVybiB0cmFja2VkU29ydGFibGUuaXNEcm9wVGFyZ2V0O1xuICAgIH0sXG4gICAgaGFuZGxlUmVmOiB1c2VDYWxsYmFjayhcbiAgICAgIChlbGVtZW50MikgPT4ge1xuICAgICAgICBzb3J0YWJsZS5oYW5kbGUgPSBlbGVtZW50MiAhPSBudWxsID8gZWxlbWVudDIgOiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgW3NvcnRhYmxlXVxuICAgICksXG4gICAgcmVmOiB1c2VDYWxsYmFjayhcbiAgICAgIChlbGVtZW50MikgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIWVsZW1lbnQyICYmICgoX2EgPSBzb3J0YWJsZS5lbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuaXNDb25uZWN0ZWQpICYmICEoKF9iID0gc29ydGFibGUubWFuYWdlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmRyYWdPcGVyYXRpb24uc3RhdHVzLmlkbGUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNvcnRhYmxlLmVsZW1lbnQgPSBlbGVtZW50MiAhPSBudWxsID8gZWxlbWVudDIgOiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgW3NvcnRhYmxlXVxuICAgICksXG4gICAgc291cmNlUmVmOiB1c2VDYWxsYmFjayhcbiAgICAgIChlbGVtZW50MikgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIWVsZW1lbnQyICYmICgoX2EgPSBzb3J0YWJsZS5zb3VyY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pc0Nvbm5lY3RlZCkgJiYgISgoX2IgPSBzb3J0YWJsZS5tYW5hZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZHJhZ09wZXJhdGlvbi5zdGF0dXMuaWRsZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc29ydGFibGUuc291cmNlID0gZWxlbWVudDIgIT0gbnVsbCA/IGVsZW1lbnQyIDogdm9pZCAwO1xuICAgICAgfSxcbiAgICAgIFtzb3J0YWJsZV1cbiAgICApLFxuICAgIHRhcmdldFJlZjogdXNlQ2FsbGJhY2soXG4gICAgICAoZWxlbWVudDIpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCFlbGVtZW50MiAmJiAoKF9hID0gc29ydGFibGUudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuaXNDb25uZWN0ZWQpICYmICEoKF9iID0gc29ydGFibGUubWFuYWdlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmRyYWdPcGVyYXRpb24uc3RhdHVzLmlkbGUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNvcnRhYmxlLnRhcmdldCA9IGVsZW1lbnQyICE9IG51bGwgPyBlbGVtZW50MiA6IHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBbc29ydGFibGVdXG4gICAgKVxuICB9O1xufVxuZnVuY3Rpb24gc2hvdWxkVXBkYXRlU3luY2hyb25vdXNseShrZXksIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICBpZiAoa2V5ID09PSBcImlzRHJhZ1NvdXJjZVwiICYmICFuZXdWYWx1ZSAmJiBvbGRWYWx1ZSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IHsgdXNlU29ydGFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNvcnRhYmxlLmpzLm1hcFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ydGFibGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/sortable.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/utilities.js":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/utilities.js ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   currentValue: () => (/* binding */ currentValue)\n/* harmony export */ });\n// src/utilities/currentValue.ts\nfunction isRef(value) {\n  return value != null && typeof value === \"object\" && \"current\" in value;\n}\nfunction currentValue(value) {\n  var _a;\n  if (value == null) {\n    return void 0;\n  }\n  if (isRef(value)) {\n    return (_a = value.current) != null ? _a : void 0;\n  }\n  return value;\n}\n\n\n//# sourceMappingURL=utilities.js.map\n//# sourceMappingURL=utilities.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtyZWFjdEAwLjEuMThfcmVhY3QtZG9tQDE5LjIuMF9yZWFjdEAxOS4yLjBfX3JlYWN0QDE5LjIuMC9ub2RlX21vZHVsZXMvQGRuZC1raXQvcmVhY3QvdXRpbGl0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV3QjtBQUN4QjtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vQGRuZC1raXQrcmVhY3RAMC4xLjE4X3JlYWN0LWRvbUAxOS4yLjBfcmVhY3RAMTkuMi4wX19yZWFjdEAxOS4yLjAvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3JlYWN0L3V0aWxpdGllcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbGl0aWVzL2N1cnJlbnRWYWx1ZS50c1xuZnVuY3Rpb24gaXNSZWYodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFwiY3VycmVudFwiIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gY3VycmVudFZhbHVlKHZhbHVlKSB7XG4gIHZhciBfYTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICByZXR1cm4gKF9hID0gdmFsdWUuY3VycmVudCkgIT0gbnVsbCA/IF9hIDogdm9pZCAwO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHsgY3VycmVudFZhbHVlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsaXRpZXMuanMubWFwXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsaXRpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/utilities.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs":
/*!*********************************************************************************************!*\
  !*** ./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Signal: () => (/* reexport safe */ _preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.Signal),\n/* harmony export */   ValueHistory: () => (/* binding */ ValueHistory),\n/* harmony export */   WeakStore: () => (/* binding */ WeakStore),\n/* harmony export */   batch: () => (/* reexport safe */ _preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.batch),\n/* harmony export */   computed: () => (/* binding */ computed),\n/* harmony export */   deepEqual: () => (/* binding */ deepEqual),\n/* harmony export */   derived: () => (/* binding */ derived),\n/* harmony export */   effect: () => (/* reexport safe */ _preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.effect),\n/* harmony export */   effects: () => (/* binding */ effects),\n/* harmony export */   enumerable: () => (/* binding */ enumerable),\n/* harmony export */   reactive: () => (/* binding */ reactive),\n/* harmony export */   signal: () => (/* reexport safe */ _preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.signal),\n/* harmony export */   snapshot: () => (/* binding */ snapshot),\n/* harmony export */   untracked: () => (/* reexport safe */ _preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.untracked)\n/* harmony export */ });\n/* harmony import */ var _preact_signals_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @preact/signals-core */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __knownSymbol = (name, symbol) => (symbol = Symbol[name]) ? symbol : Symbol.for(\"Symbol.\" + name);\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __decoratorStart = (base) => {\n  var _a2;\n  return [, , , __create((_a2 = base == null ? void 0 : base[__knownSymbol(\"metadata\")]) != null ? _a2 : null)];\n};\nvar __decoratorStrings = [\"class\", \"method\", \"getter\", \"setter\", \"accessor\", \"field\", \"value\", \"get\", \"set\"];\nvar __expectFn = (fn) => fn !== void 0 && typeof fn !== \"function\" ? __typeError(\"Function expected\") : fn;\nvar __decoratorContext = (kind, name, done, metadata, fns) => ({ kind: __decoratorStrings[kind], name, metadata, addInitializer: (fn) => done._ ? __typeError(\"Already initialized\") : fns.push(__expectFn(fn || null)) });\nvar __decoratorMetadata = (array, target) => __defNormalProp(target, __knownSymbol(\"metadata\"), array[3]);\nvar __runInitializers = (array, flags, self, value) => {\n  for (var i = 0, fns = array[flags >> 1], n = fns && fns.length; i < n; i++) flags & 1 ? fns[i].call(self) : value = fns[i].call(self, value);\n  return value;\n};\nvar __decorateElement = (array, flags, name, decorators, target, extra) => {\n  var fn, it, done, ctx, access, k = flags & 7, s = !!(flags & 8), p = !!(flags & 16);\n  var j = k > 3 ? array.length + 1 : k ? s ? 1 : 2 : 0, key = __decoratorStrings[k + 5];\n  var initializers = k > 3 && (array[j - 1] = []), extraInitializers = array[j] || (array[j] = []);\n  var desc = k && (!p && !s && (target = target.prototype), k < 5 && (k > 3 || !p) && __getOwnPropDesc(k < 4 ? target : { get [name]() {\n    return __privateGet(this, extra);\n  }, set [name](x) {\n    return __privateSet(this, extra, x);\n  } }, name));\n  k ? p && k < 4 && __name(extra, (k > 2 ? \"set \" : k > 1 ? \"get \" : \"\") + name) : __name(target, name);\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    ctx = __decoratorContext(k, name, done = {}, array[3], extraInitializers);\n    if (k) {\n      ctx.static = s, ctx.private = p, access = ctx.access = { has: p ? (x) => __privateIn(target, x) : (x) => name in x };\n      if (k ^ 3) access.get = p ? (x) => (k ^ 1 ? __privateGet : __privateMethod)(x, target, k ^ 4 ? extra : desc.get) : (x) => x[name];\n      if (k > 2) access.set = p ? (x, y) => __privateSet(x, target, y, k ^ 4 ? extra : desc.set) : (x, y) => x[name] = y;\n    }\n    it = (0, decorators[i])(k ? k < 4 ? p ? extra : desc[key] : k > 4 ? void 0 : { get: desc.get, set: desc.set } : target, ctx), done._ = 1;\n    if (k ^ 4 || it === void 0) __expectFn(it) && (k > 4 ? initializers.unshift(it) : k ? p ? extra = it : desc[key] = it : target = it);\n    else if (typeof it !== \"object\" || it === null) __typeError(\"Object expected\");\n    else __expectFn(fn = it.get) && (desc.get = fn), __expectFn(fn = it.set) && (desc.set = fn), __expectFn(fn = it.init) && initializers.unshift(fn);\n  }\n  return k || __decoratorMetadata(array, target), desc && __defProp(target, name, desc), p ? k ^ 4 ? extra : desc : target;\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateIn = (member, obj) => Object(obj) !== obj ? __typeError('Cannot use the \"in\" operator on this value') : member.has(obj);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\n\n// src/index.ts\n\n\n// src/computed.ts\n\nfunction computed(compute, comparator) {\n  if (comparator) {\n    let previousValue;\n    return (0,_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.computed)(() => {\n      const value = compute();\n      if (value && previousValue && comparator(previousValue, value)) {\n        return previousValue;\n      }\n      previousValue = value;\n      return value;\n    });\n  }\n  return (0,_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.computed)(compute);\n}\n\n// src/comparators.ts\nfunction deepEqual(a, b) {\n  if (Object.is(a, b)) {\n    return true;\n  }\n  if (a === null || b === null) return false;\n  if (typeof a === \"function\" && typeof b === \"function\") {\n    return a === b;\n  }\n  if (a instanceof Set && b instanceof Set) {\n    if (a.size !== b.size) {\n      return false;\n    }\n    for (const value of a) {\n      if (!b.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n    const hasDifferentValues = a.some(\n      (value, index) => !deepEqual(value, b[index])\n    );\n    return !hasDifferentValues;\n  }\n  if (typeof a === \"object\" && typeof b === \"object\") {\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) return false;\n    const hasDifferentValues = aKeys.some(\n      (key) => !deepEqual(a[key], b[key])\n    );\n    return !hasDifferentValues;\n  }\n  return false;\n}\n\n// src/decorators.ts\n\nfunction reactive({ get }, _) {\n  return {\n    init(value) {\n      return (0,_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.signal)(value);\n    },\n    get() {\n      const current = get.call(this);\n      return current.value;\n    },\n    set(newValue) {\n      const current = get.call(this);\n      if (current.peek() === newValue) {\n        return;\n      }\n      current.value = newValue;\n    }\n  };\n}\nfunction derived(target, _) {\n  const map = /* @__PURE__ */ new WeakMap();\n  return function() {\n    let result = map.get(this);\n    if (!result) {\n      result = computed(target.bind(this));\n      map.set(this, result);\n    }\n    return result.value;\n  };\n}\nfunction enumerable(enumerable2 = true) {\n  return function(_value, context) {\n    context.addInitializer(function() {\n      const host = context.kind === \"field\" ? this : context.static ? this : Object.getPrototypeOf(this);\n      const descriptor = Object.getOwnPropertyDescriptor(host, context.name);\n      if (descriptor) {\n        Object.defineProperty(host, context.name, __spreadProps(__spreadValues({}, descriptor), { enumerable: enumerable2 }));\n      }\n    });\n  };\n}\n\n// src/effects.ts\n\nfunction effects(...entries) {\n  const effects2 = entries.map(_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.effect);\n  return () => effects2.forEach((cleanup) => cleanup());\n}\n\n// src/history.ts\n\nvar _previous_dec, _initial_dec, _current_dec, _current_dec2, _previous_dec2, _initial_dec2, _init, _initial, _a, initial_get, initial_set, _ValueHistory_instances, _previous, _b, previous_get, previous_set, _current, _c, current_get, current_set;\n_initial_dec2 = [reactive], _previous_dec2 = [reactive], _current_dec2 = [reactive], _current_dec = [enumerable()], _initial_dec = [enumerable()], _previous_dec = [enumerable()];\nvar ValueHistory = class {\n  constructor(defaultValue, equals = Object.is) {\n    this.defaultValue = defaultValue;\n    this.equals = equals;\n    __runInitializers(_init, 5, this);\n    __privateAdd(this, _ValueHistory_instances);\n    // @ts-ignore\n    __privateAdd(this, _initial, __runInitializers(_init, 8, this)), __runInitializers(_init, 11, this);\n    // @ts-ignore\n    __privateAdd(this, _previous, __runInitializers(_init, 12, this)), __runInitializers(_init, 15, this);\n    // @ts-ignore\n    __privateAdd(this, _current, __runInitializers(_init, 16, this)), __runInitializers(_init, 19, this);\n    this.reset = this.reset.bind(this);\n    this.reset();\n  }\n  get current() {\n    return __privateGet(this, _ValueHistory_instances, current_get);\n  }\n  get initial() {\n    return __privateGet(this, _ValueHistory_instances, initial_get);\n  }\n  get previous() {\n    return __privateGet(this, _ValueHistory_instances, previous_get);\n  }\n  /** Set the current value */\n  set current(value) {\n    const current = (0,_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.untracked)(() => __privateGet(this, _ValueHistory_instances, current_get));\n    if (value && current && this.equals(current, value)) {\n      return;\n    }\n    (0,_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.batch)(() => {\n      if (!__privateGet(this, _ValueHistory_instances, initial_get)) {\n        __privateSet(this, _ValueHistory_instances, value, initial_set);\n      }\n      __privateSet(this, _ValueHistory_instances, current, previous_set);\n      __privateSet(this, _ValueHistory_instances, value, current_set);\n    });\n  }\n  /** Reset the state to the initial value */\n  reset(value = this.defaultValue) {\n    (0,_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.batch)(() => {\n      __privateSet(this, _ValueHistory_instances, void 0, previous_set);\n      __privateSet(this, _ValueHistory_instances, value, initial_set);\n      __privateSet(this, _ValueHistory_instances, value, current_set);\n    });\n  }\n};\n_init = __decoratorStart(null);\n_initial = new WeakMap();\n_ValueHistory_instances = new WeakSet();\n_previous = new WeakMap();\n_current = new WeakMap();\n_a = __decorateElement(_init, 20, \"#initial\", _initial_dec2, _ValueHistory_instances, _initial), initial_get = _a.get, initial_set = _a.set;\n_b = __decorateElement(_init, 20, \"#previous\", _previous_dec2, _ValueHistory_instances, _previous), previous_get = _b.get, previous_set = _b.set;\n_c = __decorateElement(_init, 20, \"#current\", _current_dec2, _ValueHistory_instances, _current), current_get = _c.get, current_set = _c.set;\n__decorateElement(_init, 2, \"current\", _current_dec, ValueHistory);\n__decorateElement(_init, 2, \"initial\", _initial_dec, ValueHistory);\n__decorateElement(_init, 2, \"previous\", _previous_dec, ValueHistory);\n__decoratorMetadata(_init, ValueHistory);\n\n// src/snapshot.ts\n\nfunction snapshot(value) {\n  return (0,_preact_signals_core__WEBPACK_IMPORTED_MODULE_0__.untracked)(() => {\n    const output = {};\n    for (const key in value) {\n      output[key] = value[key];\n    }\n    return output;\n  });\n}\n\n// src/store.ts\nvar _store;\nvar WeakStore = class {\n  constructor() {\n    __privateAdd(this, _store, /* @__PURE__ */ new WeakMap());\n  }\n  get(key, id) {\n    var _a2;\n    return key ? (_a2 = __privateGet(this, _store).get(key)) == null ? void 0 : _a2.get(id) : void 0;\n  }\n  set(key, id, value) {\n    var _a2;\n    if (!key) return;\n    if (!__privateGet(this, _store).has(key)) __privateGet(this, _store).set(key, /* @__PURE__ */ new Map());\n    return (_a2 = __privateGet(this, _store).get(key)) == null ? void 0 : _a2.set(id, value);\n  }\n  clear(key) {\n    var _a2;\n    return key ? (_a2 = __privateGet(this, _store).get(key)) == null ? void 0 : _a2.clear() : void 0;\n  }\n};\n_store = new WeakMap();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzdGF0ZUAwLjEuMjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3N0YXRlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsMkJBQTJCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSx3SkFBd0o7QUFDek47QUFDQTtBQUNBLGtFQUFrRSxPQUFPO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBIQUEwSDtBQUMxSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEtBQUs7QUFDTDtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDLCtDQUErQztBQUMvQztBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsK0JBQStCO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQU84Qjs7QUFFOUI7QUFHOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxTQUFTLDhEQUFjO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzhDO0FBQzlDLG9CQUFvQixLQUFLO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhLDREQUFNO0FBQ25CLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixpQkFBaUIseUJBQXlCO0FBQzNIO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDOEM7QUFDOUM7QUFDQSwrQkFBK0Isd0RBQU07QUFDckM7QUFDQTs7QUFFQTtBQUN3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrREFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxJQUFJLDJEQUFLO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJLDJEQUFLO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0Q7QUFDL0Q7QUFDQSxTQUFTLCtEQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9AZG5kLWtpdCtzdGF0ZUAwLjEuMjEvbm9kZV9tb2R1bGVzL0BkbmQta2l0L3N0YXRlL2Rpc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BEZXNjcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2tub3duU3ltYm9sID0gKG5hbWUsIHN5bWJvbCkgPT4gKHN5bWJvbCA9IFN5bWJvbFtuYW1lXSkgPyBzeW1ib2wgOiBTeW1ib2wuZm9yKFwiU3ltYm9sLlwiICsgbmFtZSk7XG52YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyA9IChhLCBiKSA9PiBfX2RlZlByb3BzKGEsIF9fZ2V0T3duUHJvcERlc2NzKGIpKTtcbnZhciBfX25hbWUgPSAodGFyZ2V0LCB2YWx1ZSkgPT4gX19kZWZQcm9wKHRhcmdldCwgXCJuYW1lXCIsIHsgdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbnZhciBfX2RlY29yYXRvclN0YXJ0ID0gKGJhc2UpID0+IHtcbiAgdmFyIF9hMjtcbiAgcmV0dXJuIFssICwgLCBfX2NyZWF0ZSgoX2EyID0gYmFzZSA9PSBudWxsID8gdm9pZCAwIDogYmFzZVtfX2tub3duU3ltYm9sKFwibWV0YWRhdGFcIildKSAhPSBudWxsID8gX2EyIDogbnVsbCldO1xufTtcbnZhciBfX2RlY29yYXRvclN0cmluZ3MgPSBbXCJjbGFzc1wiLCBcIm1ldGhvZFwiLCBcImdldHRlclwiLCBcInNldHRlclwiLCBcImFjY2Vzc29yXCIsIFwiZmllbGRcIiwgXCJ2YWx1ZVwiLCBcImdldFwiLCBcInNldFwiXTtcbnZhciBfX2V4cGVjdEZuID0gKGZuKSA9PiBmbiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiID8gX190eXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKSA6IGZuO1xudmFyIF9fZGVjb3JhdG9yQ29udGV4dCA9IChraW5kLCBuYW1lLCBkb25lLCBtZXRhZGF0YSwgZm5zKSA9PiAoeyBraW5kOiBfX2RlY29yYXRvclN0cmluZ3Nba2luZF0sIG5hbWUsIG1ldGFkYXRhLCBhZGRJbml0aWFsaXplcjogKGZuKSA9PiBkb25lLl8gPyBfX3R5cGVFcnJvcihcIkFscmVhZHkgaW5pdGlhbGl6ZWRcIikgOiBmbnMucHVzaChfX2V4cGVjdEZuKGZuIHx8IG51bGwpKSB9KTtcbnZhciBfX2RlY29yYXRvck1ldGFkYXRhID0gKGFycmF5LCB0YXJnZXQpID0+IF9fZGVmTm9ybWFsUHJvcCh0YXJnZXQsIF9fa25vd25TeW1ib2woXCJtZXRhZGF0YVwiKSwgYXJyYXlbM10pO1xudmFyIF9fcnVuSW5pdGlhbGl6ZXJzID0gKGFycmF5LCBmbGFncywgc2VsZiwgdmFsdWUpID0+IHtcbiAgZm9yICh2YXIgaSA9IDAsIGZucyA9IGFycmF5W2ZsYWdzID4+IDFdLCBuID0gZm5zICYmIGZucy5sZW5ndGg7IGkgPCBuOyBpKyspIGZsYWdzICYgMSA/IGZuc1tpXS5jYWxsKHNlbGYpIDogdmFsdWUgPSBmbnNbaV0uY2FsbChzZWxmLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX19kZWNvcmF0ZUVsZW1lbnQgPSAoYXJyYXksIGZsYWdzLCBuYW1lLCBkZWNvcmF0b3JzLCB0YXJnZXQsIGV4dHJhKSA9PiB7XG4gIHZhciBmbiwgaXQsIGRvbmUsIGN0eCwgYWNjZXNzLCBrID0gZmxhZ3MgJiA3LCBzID0gISEoZmxhZ3MgJiA4KSwgcCA9ICEhKGZsYWdzICYgMTYpO1xuICB2YXIgaiA9IGsgPiAzID8gYXJyYXkubGVuZ3RoICsgMSA6IGsgPyBzID8gMSA6IDIgOiAwLCBrZXkgPSBfX2RlY29yYXRvclN0cmluZ3NbayArIDVdO1xuICB2YXIgaW5pdGlhbGl6ZXJzID0gayA+IDMgJiYgKGFycmF5W2ogLSAxXSA9IFtdKSwgZXh0cmFJbml0aWFsaXplcnMgPSBhcnJheVtqXSB8fCAoYXJyYXlbal0gPSBbXSk7XG4gIHZhciBkZXNjID0gayAmJiAoIXAgJiYgIXMgJiYgKHRhcmdldCA9IHRhcmdldC5wcm90b3R5cGUpLCBrIDwgNSAmJiAoayA+IDMgfHwgIXApICYmIF9fZ2V0T3duUHJvcERlc2MoayA8IDQgPyB0YXJnZXQgOiB7IGdldCBbbmFtZV0oKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBleHRyYSk7XG4gIH0sIHNldCBbbmFtZV0oeCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVTZXQodGhpcywgZXh0cmEsIHgpO1xuICB9IH0sIG5hbWUpKTtcbiAgayA/IHAgJiYgayA8IDQgJiYgX19uYW1lKGV4dHJhLCAoayA+IDIgPyBcInNldCBcIiA6IGsgPiAxID8gXCJnZXQgXCIgOiBcIlwiKSArIG5hbWUpIDogX19uYW1lKHRhcmdldCwgbmFtZSk7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY3R4ID0gX19kZWNvcmF0b3JDb250ZXh0KGssIG5hbWUsIGRvbmUgPSB7fSwgYXJyYXlbM10sIGV4dHJhSW5pdGlhbGl6ZXJzKTtcbiAgICBpZiAoaykge1xuICAgICAgY3R4LnN0YXRpYyA9IHMsIGN0eC5wcml2YXRlID0gcCwgYWNjZXNzID0gY3R4LmFjY2VzcyA9IHsgaGFzOiBwID8gKHgpID0+IF9fcHJpdmF0ZUluKHRhcmdldCwgeCkgOiAoeCkgPT4gbmFtZSBpbiB4IH07XG4gICAgICBpZiAoayBeIDMpIGFjY2Vzcy5nZXQgPSBwID8gKHgpID0+IChrIF4gMSA/IF9fcHJpdmF0ZUdldCA6IF9fcHJpdmF0ZU1ldGhvZCkoeCwgdGFyZ2V0LCBrIF4gNCA/IGV4dHJhIDogZGVzYy5nZXQpIDogKHgpID0+IHhbbmFtZV07XG4gICAgICBpZiAoayA+IDIpIGFjY2Vzcy5zZXQgPSBwID8gKHgsIHkpID0+IF9fcHJpdmF0ZVNldCh4LCB0YXJnZXQsIHksIGsgXiA0ID8gZXh0cmEgOiBkZXNjLnNldCkgOiAoeCwgeSkgPT4geFtuYW1lXSA9IHk7XG4gICAgfVxuICAgIGl0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGsgPyBrIDwgNCA/IHAgPyBleHRyYSA6IGRlc2Nba2V5XSA6IGsgPiA0ID8gdm9pZCAwIDogeyBnZXQ6IGRlc2MuZ2V0LCBzZXQ6IGRlc2Muc2V0IH0gOiB0YXJnZXQsIGN0eCksIGRvbmUuXyA9IDE7XG4gICAgaWYgKGsgXiA0IHx8IGl0ID09PSB2b2lkIDApIF9fZXhwZWN0Rm4oaXQpICYmIChrID4gNCA/IGluaXRpYWxpemVycy51bnNoaWZ0KGl0KSA6IGsgPyBwID8gZXh0cmEgPSBpdCA6IGRlc2Nba2V5XSA9IGl0IDogdGFyZ2V0ID0gaXQpO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBpdCAhPT0gXCJvYmplY3RcIiB8fCBpdCA9PT0gbnVsbCkgX190eXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgZWxzZSBfX2V4cGVjdEZuKGZuID0gaXQuZ2V0KSAmJiAoZGVzYy5nZXQgPSBmbiksIF9fZXhwZWN0Rm4oZm4gPSBpdC5zZXQpICYmIChkZXNjLnNldCA9IGZuKSwgX19leHBlY3RGbihmbiA9IGl0LmluaXQpICYmIGluaXRpYWxpemVycy51bnNoaWZ0KGZuKTtcbiAgfVxuICByZXR1cm4gayB8fCBfX2RlY29yYXRvck1ldGFkYXRhKGFycmF5LCB0YXJnZXQpLCBkZXNjICYmIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIGRlc2MpLCBwID8gayBeIDQgPyBleHRyYSA6IGRlc2MgOiB0YXJnZXQ7XG59O1xudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4gbWVtYmVyLmhhcyhvYmopIHx8IF9fdHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbnZhciBfX3ByaXZhdGVJbiA9IChtZW1iZXIsIG9iaikgPT4gT2JqZWN0KG9iaikgIT09IG9iaiA/IF9fdHlwZUVycm9yKCdDYW5ub3QgdXNlIHRoZSBcImluXCIgb3BlcmF0b3Igb24gdGhpcyB2YWx1ZScpIDogbWVtYmVyLmhhcyhvYmopO1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSk7XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4gbWVtYmVyLmhhcyhvYmopID8gX190eXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpIDogbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSksIHZhbHVlKTtcbnZhciBfX3ByaXZhdGVNZXRob2QgPSAob2JqLCBtZW1iZXIsIG1ldGhvZCkgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwiYWNjZXNzIHByaXZhdGUgbWV0aG9kXCIpLCBtZXRob2QpO1xuXG4vLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7XG4gIGJhdGNoIGFzIGJhdGNoMixcbiAgZWZmZWN0IGFzIGVmZmVjdDIsXG4gIHVudHJhY2tlZCBhcyB1bnRyYWNrZWQzLFxuICBzaWduYWwgYXMgc2lnbmFsMixcbiAgU2lnbmFsXG59IGZyb20gXCJAcHJlYWN0L3NpZ25hbHMtY29yZVwiO1xuXG4vLyBzcmMvY29tcHV0ZWQudHNcbmltcG9ydCB7XG4gIGNvbXB1dGVkIGFzIGNvbXB1dGVkU2lnbmFsXG59IGZyb20gXCJAcHJlYWN0L3NpZ25hbHMtY29yZVwiO1xuZnVuY3Rpb24gY29tcHV0ZWQoY29tcHV0ZSwgY29tcGFyYXRvcikge1xuICBpZiAoY29tcGFyYXRvcikge1xuICAgIGxldCBwcmV2aW91c1ZhbHVlO1xuICAgIHJldHVybiBjb21wdXRlZFNpZ25hbCgoKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGUoKTtcbiAgICAgIGlmICh2YWx1ZSAmJiBwcmV2aW91c1ZhbHVlICYmIGNvbXBhcmF0b3IocHJldmlvdXNWYWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNWYWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBjb21wdXRlZFNpZ25hbChjb21wdXRlKTtcbn1cblxuLy8gc3JjL2NvbXBhcmF0b3JzLnRzXG5mdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICBpZiAoT2JqZWN0LmlzKGEsIGIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGEgPT09IG51bGwgfHwgYiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cbiAgaWYgKGEgaW5zdGFuY2VvZiBTZXQgJiYgYiBpbnN0YW5jZW9mIFNldCkge1xuICAgIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGEpIHtcbiAgICAgIGlmICghYi5oYXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYikgfHwgYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGhhc0RpZmZlcmVudFZhbHVlcyA9IGEuc29tZShcbiAgICAgICh2YWx1ZSwgaW5kZXgpID0+ICFkZWVwRXF1YWwodmFsdWUsIGJbaW5kZXhdKVxuICAgICk7XG4gICAgcmV0dXJuICFoYXNEaWZmZXJlbnRWYWx1ZXM7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBiID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBjb25zdCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGhhc0RpZmZlcmVudFZhbHVlcyA9IGFLZXlzLnNvbWUoXG4gICAgICAoa2V5KSA9PiAhZGVlcEVxdWFsKGFba2V5XSwgYltrZXldKVxuICAgICk7XG4gICAgcmV0dXJuICFoYXNEaWZmZXJlbnRWYWx1ZXM7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBzcmMvZGVjb3JhdG9ycy50c1xuaW1wb3J0IHsgc2lnbmFsIH0gZnJvbSBcIkBwcmVhY3Qvc2lnbmFscy1jb3JlXCI7XG5mdW5jdGlvbiByZWFjdGl2ZSh7IGdldCB9LCBfKSB7XG4gIHJldHVybiB7XG4gICAgaW5pdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHNpZ25hbCh2YWx1ZSk7XG4gICAgfSxcbiAgICBnZXQoKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gZ2V0LmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gY3VycmVudC52YWx1ZTtcbiAgICB9LFxuICAgIHNldChuZXdWYWx1ZSkge1xuICAgICAgY29uc3QgY3VycmVudCA9IGdldC5jYWxsKHRoaXMpO1xuICAgICAgaWYgKGN1cnJlbnQucGVlaygpID09PSBuZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdXJyZW50LnZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZGVyaXZlZCh0YXJnZXQsIF8pIHtcbiAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBsZXQgcmVzdWx0ID0gbWFwLmdldCh0aGlzKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gY29tcHV0ZWQodGFyZ2V0LmJpbmQodGhpcykpO1xuICAgICAgbWFwLnNldCh0aGlzLCByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9O1xufVxuZnVuY3Rpb24gZW51bWVyYWJsZShlbnVtZXJhYmxlMiA9IHRydWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKF92YWx1ZSwgY29udGV4dCkge1xuICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBob3N0ID0gY29udGV4dC5raW5kID09PSBcImZpZWxkXCIgPyB0aGlzIDogY29udGV4dC5zdGF0aWMgPyB0aGlzIDogT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgY29uc3QgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaG9zdCwgY29udGV4dC5uYW1lKTtcbiAgICAgIGlmIChkZXNjcmlwdG9yKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShob3N0LCBjb250ZXh0Lm5hbWUsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGRlc2NyaXB0b3IpLCB7IGVudW1lcmFibGU6IGVudW1lcmFibGUyIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gc3JjL2VmZmVjdHMudHNcbmltcG9ydCB7IGVmZmVjdCB9IGZyb20gXCJAcHJlYWN0L3NpZ25hbHMtY29yZVwiO1xuZnVuY3Rpb24gZWZmZWN0cyguLi5lbnRyaWVzKSB7XG4gIGNvbnN0IGVmZmVjdHMyID0gZW50cmllcy5tYXAoZWZmZWN0KTtcbiAgcmV0dXJuICgpID0+IGVmZmVjdHMyLmZvckVhY2goKGNsZWFudXApID0+IGNsZWFudXAoKSk7XG59XG5cbi8vIHNyYy9oaXN0b3J5LnRzXG5pbXBvcnQgeyBiYXRjaCwgdW50cmFja2VkIH0gZnJvbSBcIkBwcmVhY3Qvc2lnbmFscy1jb3JlXCI7XG52YXIgX3ByZXZpb3VzX2RlYywgX2luaXRpYWxfZGVjLCBfY3VycmVudF9kZWMsIF9jdXJyZW50X2RlYzIsIF9wcmV2aW91c19kZWMyLCBfaW5pdGlhbF9kZWMyLCBfaW5pdCwgX2luaXRpYWwsIF9hLCBpbml0aWFsX2dldCwgaW5pdGlhbF9zZXQsIF9WYWx1ZUhpc3RvcnlfaW5zdGFuY2VzLCBfcHJldmlvdXMsIF9iLCBwcmV2aW91c19nZXQsIHByZXZpb3VzX3NldCwgX2N1cnJlbnQsIF9jLCBjdXJyZW50X2dldCwgY3VycmVudF9zZXQ7XG5faW5pdGlhbF9kZWMyID0gW3JlYWN0aXZlXSwgX3ByZXZpb3VzX2RlYzIgPSBbcmVhY3RpdmVdLCBfY3VycmVudF9kZWMyID0gW3JlYWN0aXZlXSwgX2N1cnJlbnRfZGVjID0gW2VudW1lcmFibGUoKV0sIF9pbml0aWFsX2RlYyA9IFtlbnVtZXJhYmxlKCldLCBfcHJldmlvdXNfZGVjID0gW2VudW1lcmFibGUoKV07XG52YXIgVmFsdWVIaXN0b3J5ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihkZWZhdWx0VmFsdWUsIGVxdWFscyA9IE9iamVjdC5pcykge1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIHRoaXMuZXF1YWxzID0gZXF1YWxzO1xuICAgIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCA1LCB0aGlzKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX1ZhbHVlSGlzdG9yeV9pbnN0YW5jZXMpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2luaXRpYWwsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCA4LCB0aGlzKSksIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCAxMSwgdGhpcyk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcHJldmlvdXMsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCAxMiwgdGhpcykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdCwgMTUsIHRoaXMpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2N1cnJlbnQsIF9fcnVuSW5pdGlhbGl6ZXJzKF9pbml0LCAxNiwgdGhpcykpLCBfX3J1bkluaXRpYWxpemVycyhfaW5pdCwgMTksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQgPSB0aGlzLnJlc2V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG4gIGdldCBjdXJyZW50KCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX1ZhbHVlSGlzdG9yeV9pbnN0YW5jZXMsIGN1cnJlbnRfZ2V0KTtcbiAgfVxuICBnZXQgaW5pdGlhbCgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9WYWx1ZUhpc3RvcnlfaW5zdGFuY2VzLCBpbml0aWFsX2dldCk7XG4gIH1cbiAgZ2V0IHByZXZpb3VzKCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX1ZhbHVlSGlzdG9yeV9pbnN0YW5jZXMsIHByZXZpb3VzX2dldCk7XG4gIH1cbiAgLyoqIFNldCB0aGUgY3VycmVudCB2YWx1ZSAqL1xuICBzZXQgY3VycmVudCh2YWx1ZSkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB1bnRyYWNrZWQoKCkgPT4gX19wcml2YXRlR2V0KHRoaXMsIF9WYWx1ZUhpc3RvcnlfaW5zdGFuY2VzLCBjdXJyZW50X2dldCkpO1xuICAgIGlmICh2YWx1ZSAmJiBjdXJyZW50ICYmIHRoaXMuZXF1YWxzKGN1cnJlbnQsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICBpZiAoIV9fcHJpdmF0ZUdldCh0aGlzLCBfVmFsdWVIaXN0b3J5X2luc3RhbmNlcywgaW5pdGlhbF9nZXQpKSB7XG4gICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfVmFsdWVIaXN0b3J5X2luc3RhbmNlcywgdmFsdWUsIGluaXRpYWxfc2V0KTtcbiAgICAgIH1cbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfVmFsdWVIaXN0b3J5X2luc3RhbmNlcywgY3VycmVudCwgcHJldmlvdXNfc2V0KTtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfVmFsdWVIaXN0b3J5X2luc3RhbmNlcywgdmFsdWUsIGN1cnJlbnRfc2V0KTtcbiAgICB9KTtcbiAgfVxuICAvKiogUmVzZXQgdGhlIHN0YXRlIHRvIHRoZSBpbml0aWFsIHZhbHVlICovXG4gIHJlc2V0KHZhbHVlID0gdGhpcy5kZWZhdWx0VmFsdWUpIHtcbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICBfX3ByaXZhdGVTZXQodGhpcywgX1ZhbHVlSGlzdG9yeV9pbnN0YW5jZXMsIHZvaWQgMCwgcHJldmlvdXNfc2V0KTtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfVmFsdWVIaXN0b3J5X2luc3RhbmNlcywgdmFsdWUsIGluaXRpYWxfc2V0KTtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfVmFsdWVIaXN0b3J5X2luc3RhbmNlcywgdmFsdWUsIGN1cnJlbnRfc2V0KTtcbiAgICB9KTtcbiAgfVxufTtcbl9pbml0ID0gX19kZWNvcmF0b3JTdGFydChudWxsKTtcbl9pbml0aWFsID0gbmV3IFdlYWtNYXAoKTtcbl9WYWx1ZUhpc3RvcnlfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKTtcbl9wcmV2aW91cyA9IG5ldyBXZWFrTWFwKCk7XG5fY3VycmVudCA9IG5ldyBXZWFrTWFwKCk7XG5fYSA9IF9fZGVjb3JhdGVFbGVtZW50KF9pbml0LCAyMCwgXCIjaW5pdGlhbFwiLCBfaW5pdGlhbF9kZWMyLCBfVmFsdWVIaXN0b3J5X2luc3RhbmNlcywgX2luaXRpYWwpLCBpbml0aWFsX2dldCA9IF9hLmdldCwgaW5pdGlhbF9zZXQgPSBfYS5zZXQ7XG5fYiA9IF9fZGVjb3JhdGVFbGVtZW50KF9pbml0LCAyMCwgXCIjcHJldmlvdXNcIiwgX3ByZXZpb3VzX2RlYzIsIF9WYWx1ZUhpc3RvcnlfaW5zdGFuY2VzLCBfcHJldmlvdXMpLCBwcmV2aW91c19nZXQgPSBfYi5nZXQsIHByZXZpb3VzX3NldCA9IF9iLnNldDtcbl9jID0gX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQsIDIwLCBcIiNjdXJyZW50XCIsIF9jdXJyZW50X2RlYzIsIF9WYWx1ZUhpc3RvcnlfaW5zdGFuY2VzLCBfY3VycmVudCksIGN1cnJlbnRfZ2V0ID0gX2MuZ2V0LCBjdXJyZW50X3NldCA9IF9jLnNldDtcbl9fZGVjb3JhdGVFbGVtZW50KF9pbml0LCAyLCBcImN1cnJlbnRcIiwgX2N1cnJlbnRfZGVjLCBWYWx1ZUhpc3RvcnkpO1xuX19kZWNvcmF0ZUVsZW1lbnQoX2luaXQsIDIsIFwiaW5pdGlhbFwiLCBfaW5pdGlhbF9kZWMsIFZhbHVlSGlzdG9yeSk7XG5fX2RlY29yYXRlRWxlbWVudChfaW5pdCwgMiwgXCJwcmV2aW91c1wiLCBfcHJldmlvdXNfZGVjLCBWYWx1ZUhpc3RvcnkpO1xuX19kZWNvcmF0b3JNZXRhZGF0YShfaW5pdCwgVmFsdWVIaXN0b3J5KTtcblxuLy8gc3JjL3NuYXBzaG90LnRzXG5pbXBvcnQgeyB1bnRyYWNrZWQgYXMgdW50cmFja2VkMiB9IGZyb20gXCJAcHJlYWN0L3NpZ25hbHMtY29yZVwiO1xuZnVuY3Rpb24gc25hcHNob3QodmFsdWUpIHtcbiAgcmV0dXJuIHVudHJhY2tlZDIoKCkgPT4ge1xuICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICBvdXRwdXRba2V5XSA9IHZhbHVlW2tleV07XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0pO1xufVxuXG4vLyBzcmMvc3RvcmUudHNcbnZhciBfc3RvcmU7XG52YXIgV2Vha1N0b3JlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3N0b3JlLCAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSk7XG4gIH1cbiAgZ2V0KGtleSwgaWQpIHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiBrZXkgPyAoX2EyID0gX19wcml2YXRlR2V0KHRoaXMsIF9zdG9yZSkuZ2V0KGtleSkpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ2V0KGlkKSA6IHZvaWQgMDtcbiAgfVxuICBzZXQoa2V5LCBpZCwgdmFsdWUpIHtcbiAgICB2YXIgX2EyO1xuICAgIGlmICgha2V5KSByZXR1cm47XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQodGhpcywgX3N0b3JlKS5oYXMoa2V5KSkgX19wcml2YXRlR2V0KHRoaXMsIF9zdG9yZSkuc2V0KGtleSwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgcmV0dXJuIChfYTIgPSBfX3ByaXZhdGVHZXQodGhpcywgX3N0b3JlKS5nZXQoa2V5KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5zZXQoaWQsIHZhbHVlKTtcbiAgfVxuICBjbGVhcihrZXkpIHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiBrZXkgPyAoX2EyID0gX19wcml2YXRlR2V0KHRoaXMsIF9zdG9yZSkuZ2V0KGtleSkpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2xlYXIoKSA6IHZvaWQgMDtcbiAgfVxufTtcbl9zdG9yZSA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQge1xuICBTaWduYWwsXG4gIFZhbHVlSGlzdG9yeSxcbiAgV2Vha1N0b3JlLFxuICBiYXRjaDIgYXMgYmF0Y2gsXG4gIGNvbXB1dGVkLFxuICBkZWVwRXF1YWwsXG4gIGRlcml2ZWQsXG4gIGVmZmVjdDIgYXMgZWZmZWN0LFxuICBlZmZlY3RzLFxuICBlbnVtZXJhYmxlLFxuICByZWFjdGl2ZSxcbiAgc2lnbmFsMiBhcyBzaWduYWwsXG4gIHNuYXBzaG90LFxuICB1bnRyYWNrZWQzIGFzIHVudHJhY2tlZFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+state@0.1.21/node_modules/@dnd-kit/state/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-OOLYDXKW.mjs":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-OOLYDXKW.mjs ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SlotRender: () => (/* binding */ SlotRender),\n/* harmony export */   SlotRenderPure: () => (/* binding */ SlotRenderPure),\n/* harmony export */   __async: () => (/* binding */ __async),\n/* harmony export */   __commonJS: () => (/* binding */ __commonJS),\n/* harmony export */   __objRest: () => (/* binding */ __objRest),\n/* harmony export */   __spreadProps: () => (/* binding */ __spreadProps),\n/* harmony export */   __spreadValues: () => (/* binding */ __spreadValues),\n/* harmony export */   __toESM: () => (/* binding */ __toESM),\n/* harmony export */   defaultAppState: () => (/* binding */ defaultAppState),\n/* harmony export */   defaultSlots: () => (/* binding */ defaultSlots),\n/* harmony export */   defaultViewports: () => (/* binding */ defaultViewports),\n/* harmony export */   expandNode: () => (/* binding */ expandNode),\n/* harmony export */   getChanged: () => (/* binding */ getChanged),\n/* harmony export */   getSlotTransform: () => (/* binding */ getSlotTransform),\n/* harmony export */   init_react_import: () => (/* binding */ init_react_import),\n/* harmony export */   migrate: () => (/* binding */ migrate),\n/* harmony export */   resolveAllData: () => (/* binding */ resolveAllData),\n/* harmony export */   resolveComponentData: () => (/* binding */ resolveComponentData),\n/* harmony export */   rootAreaId: () => (/* binding */ rootAreaId),\n/* harmony export */   rootDroppableId: () => (/* binding */ rootDroppableId),\n/* harmony export */   rootZone: () => (/* binding */ rootZone),\n/* harmony export */   setupZone: () => (/* binding */ setupZone),\n/* harmony export */   transformProps: () => (/* binding */ transformProps),\n/* harmony export */   useFieldTransforms: () => (/* binding */ useFieldTransforms),\n/* harmony export */   useSlots: () => (/* binding */ useSlots),\n/* harmony export */   walkAppState: () => (/* binding */ walkAppState),\n/* harmony export */   walkField: () => (/* binding */ walkField),\n/* harmony export */   walkTree: () => (/* binding */ walkTree)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var flat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! flat */ \"(app-pages-browser)/./node_modules/.pnpm/flat@5.0.2/node_modules/flat/index.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fast-deep-equal */ \"(app-pages-browser)/./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js\");\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// ../tsup-config/react-import.js\n\nvar init_react_import = __esm({\n  \"../tsup-config/react-import.js\"() {\n    \"use strict\";\n  }\n});\n\n// lib/data/walk-tree.ts\ninit_react_import();\n\n// lib/data/map-fields.ts\ninit_react_import();\n\n// lib/data/default-slots.ts\ninit_react_import();\nvar defaultSlots = (value, fields) => Object.keys(fields).reduce(\n  (acc, fieldName) => fields[fieldName].type === \"slot\" ? __spreadValues({ [fieldName]: [] }, acc) : acc,\n  value\n);\n\n// lib/data/map-fields.ts\nvar isPromise = (v) => !!v && typeof v.then === \"function\";\nvar flatten = (values) => values.reduce((acc, item) => __spreadValues(__spreadValues({}, acc), item), {});\nvar containsPromise = (arr) => arr.some(isPromise);\nvar walkField = ({\n  value,\n  fields,\n  mappers,\n  propKey = \"\",\n  propPath = \"\",\n  id = \"\",\n  config,\n  recurseSlots = false\n}) => {\n  var _a, _b, _c;\n  const fieldType = (_a = fields[propKey]) == null ? void 0 : _a.type;\n  const map = mappers[fieldType];\n  if (map && fieldType === \"slot\") {\n    const content = value || [];\n    const mappedContent = recurseSlots ? content.map((el) => {\n      var _a2;\n      const componentConfig = config.components[el.type];\n      if (!componentConfig) {\n        throw new Error(`Could not find component config for ${el.type}`);\n      }\n      const fields2 = (_a2 = componentConfig.fields) != null ? _a2 : {};\n      return walkField({\n        value: __spreadProps(__spreadValues({}, el), { props: defaultSlots(el.props, fields2) }),\n        fields: fields2,\n        mappers,\n        id: el.props.id,\n        config,\n        recurseSlots\n      });\n    }) : content;\n    if (containsPromise(mappedContent)) {\n      return Promise.all(mappedContent);\n    }\n    return map({\n      value: mappedContent,\n      parentId: id,\n      propName: propPath,\n      field: fields[propKey],\n      propPath\n    });\n  } else if (map && fields[propKey]) {\n    return map({\n      value,\n      parentId: id,\n      propName: propKey,\n      field: fields[propKey],\n      propPath\n    });\n  }\n  if (value && typeof value === \"object\") {\n    if (Array.isArray(value)) {\n      const arrayFields = ((_b = fields[propKey]) == null ? void 0 : _b.type) === \"array\" ? fields[propKey].arrayFields : null;\n      if (!arrayFields) return value;\n      const newValue = value.map(\n        (el, idx) => walkField({\n          value: el,\n          fields: arrayFields,\n          mappers,\n          propKey,\n          propPath: `${propPath}[${idx}]`,\n          id,\n          config,\n          recurseSlots\n        })\n      );\n      if (containsPromise(newValue)) {\n        return Promise.all(newValue);\n      }\n      return newValue;\n    } else if (\"$$typeof\" in value) {\n      return value;\n    } else {\n      const objectFields = ((_c = fields[propKey]) == null ? void 0 : _c.type) === \"object\" ? fields[propKey].objectFields : fields;\n      return walkObject({\n        value,\n        fields: objectFields,\n        mappers,\n        id,\n        getPropPath: (k) => `${propPath}.${k}`,\n        config,\n        recurseSlots\n      });\n    }\n  }\n  return value;\n};\nvar walkObject = ({\n  value,\n  fields,\n  mappers,\n  id,\n  getPropPath,\n  config,\n  recurseSlots\n}) => {\n  const newProps = Object.entries(value).map(([k, v]) => {\n    const opts = {\n      value: v,\n      fields,\n      mappers,\n      propKey: k,\n      propPath: getPropPath(k),\n      id,\n      config,\n      recurseSlots\n    };\n    const newValue = walkField(opts);\n    if (isPromise(newValue)) {\n      return newValue.then((resolvedValue) => ({\n        [k]: resolvedValue\n      }));\n    }\n    return {\n      [k]: newValue\n    };\n  }, {});\n  if (containsPromise(newProps)) {\n    return Promise.all(newProps).then(flatten);\n  }\n  return flatten(newProps);\n};\nfunction mapFields(item, mappers, config, recurseSlots = false) {\n  var _a, _b, _c, _d, _e;\n  const itemType = \"type\" in item ? item.type : \"root\";\n  const componentConfig = itemType === \"root\" ? config.root : (_a = config.components) == null ? void 0 : _a[itemType];\n  const newProps = walkObject({\n    value: defaultSlots((_b = item.props) != null ? _b : {}, (_c = componentConfig == null ? void 0 : componentConfig.fields) != null ? _c : {}),\n    fields: (_d = componentConfig == null ? void 0 : componentConfig.fields) != null ? _d : {},\n    mappers,\n    id: item.props ? (_e = item.props.id) != null ? _e : \"root\" : \"root\",\n    getPropPath: (k) => k,\n    config,\n    recurseSlots\n  });\n  if (isPromise(newProps)) {\n    return newProps.then((resolvedProps) => __spreadProps(__spreadValues({}, item), {\n      props: resolvedProps\n    }));\n  }\n  return __spreadProps(__spreadValues({}, item), {\n    props: newProps\n  });\n}\n\n// lib/data/walk-tree.ts\nfunction walkTree(data, config, callbackFn) {\n  var _a, _b;\n  const walkItem = (item) => {\n    return mapFields(\n      item,\n      {\n        slot: ({ value, parentId, propName }) => {\n          var _a2;\n          const content = value;\n          return (_a2 = callbackFn(content, { parentId, propName })) != null ? _a2 : content;\n        }\n      },\n      config,\n      true\n    );\n  };\n  if (\"props\" in data) {\n    return walkItem(data);\n  }\n  const _data = data;\n  const zones = (_a = _data.zones) != null ? _a : {};\n  const mappedContent = _data.content.map(walkItem);\n  return {\n    root: walkItem(_data.root),\n    content: (_b = callbackFn(mappedContent, {\n      parentId: \"root\",\n      propName: \"default-zone\"\n    })) != null ? _b : mappedContent,\n    zones: Object.keys(zones).reduce(\n      (acc, zoneCompound) => __spreadProps(__spreadValues({}, acc), {\n        [zoneCompound]: zones[zoneCompound].map(walkItem)\n      }),\n      {}\n    )\n  };\n}\n\n// lib/migrate.ts\ninit_react_import();\n\n// store/default-app-state.ts\ninit_react_import();\n\n// components/ViewportControls/default-viewports.ts\ninit_react_import();\nvar defaultViewports = [\n  { width: 360, height: \"auto\", icon: \"Smartphone\", label: \"Small\" },\n  { width: 768, height: \"auto\", icon: \"Tablet\", label: \"Medium\" },\n  { width: 1280, height: \"auto\", icon: \"Monitor\", label: \"Large\" }\n];\n\n// store/default-app-state.ts\nvar defaultAppState = {\n  data: { content: [], root: {}, zones: {} },\n  ui: {\n    leftSideBarVisible: true,\n    rightSideBarVisible: true,\n    arrayState: {},\n    itemSelector: null,\n    componentList: {},\n    isDragging: false,\n    previewMode: \"edit\",\n    viewports: {\n      current: {\n        width: defaultViewports[0].width,\n        height: defaultViewports[0].height || \"auto\"\n      },\n      options: [],\n      controlsVisible: true\n    },\n    field: { focus: null }\n  },\n  indexes: {\n    nodes: {},\n    zones: {}\n  }\n};\n\n// lib/data/walk-app-state.ts\ninit_react_import();\n\n// lib/data/for-related-zones.ts\ninit_react_import();\n\n// lib/get-zone-id.ts\ninit_react_import();\n\n// lib/root-droppable-id.ts\ninit_react_import();\nvar rootAreaId = \"root\";\nvar rootZone = \"default-zone\";\nvar rootDroppableId = `${rootAreaId}:${rootZone}`;\n\n// lib/get-zone-id.ts\nvar getZoneId = (zoneCompound) => {\n  if (!zoneCompound) {\n    return [];\n  }\n  if (zoneCompound && zoneCompound.indexOf(\":\") > -1) {\n    return zoneCompound.split(\":\");\n  }\n  return [rootDroppableId, zoneCompound];\n};\n\n// lib/data/for-related-zones.ts\nfunction forRelatedZones(item, data, cb, path = []) {\n  Object.entries(data.zones || {}).forEach(([zoneCompound, content]) => {\n    const [parentId] = getZoneId(zoneCompound);\n    if (parentId === item.props.id) {\n      cb(path, zoneCompound, content);\n    }\n  });\n}\n\n// lib/data/flatten-node.ts\ninit_react_import();\n\n\n// lib/data/strip-slots.ts\ninit_react_import();\nvar stripSlots = (data, config) => {\n  return mapFields(data, { slot: () => null }, config);\n};\n\n// lib/data/flatten-node.ts\nvar { flatten: flatten2, unflatten } = flat__WEBPACK_IMPORTED_MODULE_1__;\nvar flattenNode = (node, config) => {\n  return __spreadProps(__spreadValues({}, node), {\n    props: flatten2(stripSlots(node, config).props)\n  });\n};\nvar expandNode = (node) => {\n  const props = unflatten(node.props);\n  return __spreadProps(__spreadValues({}, node), {\n    props\n  });\n};\n\n// lib/data/walk-app-state.ts\nfunction walkAppState(state, config, mapContent = (content) => content, mapNodeOrSkip = (item) => item) {\n  var _a;\n  let newZones = {};\n  const newZoneIndex = {};\n  const newNodeIndex = {};\n  const processContent = (path, zoneCompound, content, zoneType, newId) => {\n    var _a2;\n    const [parentId] = zoneCompound.split(\":\");\n    const mappedContent = ((_a2 = mapContent(content, zoneCompound, zoneType)) != null ? _a2 : content) || [];\n    const [_2, zone] = zoneCompound.split(\":\");\n    const newZoneCompound = `${newId || parentId}:${zone}`;\n    const newContent2 = mappedContent.map(\n      (zoneChild, index) => processItem(zoneChild, [...path, newZoneCompound], index)\n    );\n    newZoneIndex[newZoneCompound] = {\n      contentIds: newContent2.map((item) => item.props.id),\n      type: zoneType\n    };\n    return [newZoneCompound, newContent2];\n  };\n  const processRelatedZones = (item, newId, initialPath) => {\n    forRelatedZones(\n      item,\n      state.data,\n      (relatedPath, relatedZoneCompound, relatedContent) => {\n        const [zoneCompound, newContent2] = processContent(\n          relatedPath,\n          relatedZoneCompound,\n          relatedContent,\n          \"dropzone\",\n          newId\n        );\n        newZones[zoneCompound] = newContent2;\n      },\n      initialPath\n    );\n  };\n  const processItem = (item, path, index) => {\n    const mappedItem = mapNodeOrSkip(item, path, index);\n    if (!mappedItem) return item;\n    const id = mappedItem.props.id;\n    const newProps = __spreadProps(__spreadValues({}, mapFields(\n      mappedItem,\n      {\n        slot: ({ value, parentId: parentId2, propPath }) => {\n          const content = value;\n          const zoneCompound = `${parentId2}:${propPath}`;\n          const [_2, newContent2] = processContent(\n            path,\n            zoneCompound,\n            content,\n            \"slot\",\n            parentId2\n          );\n          return newContent2;\n        }\n      },\n      config\n    ).props), {\n      id\n    });\n    processRelatedZones(item, id, path);\n    const newItem = __spreadProps(__spreadValues({}, item), { props: newProps });\n    const thisZoneCompound = path[path.length - 1];\n    const [parentId, zone] = thisZoneCompound ? thisZoneCompound.split(\":\") : [null, \"\"];\n    newNodeIndex[id] = {\n      data: newItem,\n      flatData: flattenNode(newItem, config),\n      path,\n      parentId,\n      zone\n    };\n    const finalData = __spreadProps(__spreadValues({}, newItem), { props: __spreadValues({}, newItem.props) });\n    if (newProps.id === \"root\") {\n      delete finalData[\"type\"];\n      delete finalData.props[\"id\"];\n    }\n    return finalData;\n  };\n  const zones = state.data.zones || {};\n  const [_, newContent] = processContent(\n    [],\n    rootDroppableId,\n    state.data.content,\n    \"root\"\n  );\n  const processedContent = newContent;\n  const zonesAlreadyProcessed = Object.keys(newZones);\n  Object.keys(zones || {}).forEach((zoneCompound) => {\n    const [parentId] = zoneCompound.split(\":\");\n    if (zonesAlreadyProcessed.includes(zoneCompound)) {\n      return;\n    }\n    const [_2, newContent2] = processContent(\n      [rootDroppableId],\n      zoneCompound,\n      zones[zoneCompound],\n      \"dropzone\",\n      parentId\n    );\n    newZones[zoneCompound] = newContent2;\n  }, newZones);\n  const processedRoot = processItem(\n    {\n      type: \"root\",\n      props: __spreadProps(__spreadValues({}, (_a = state.data.root.props) != null ? _a : state.data.root), { id: \"root\" })\n    },\n    [],\n    -1\n  );\n  const root = __spreadProps(__spreadValues({}, state.data.root), {\n    props: processedRoot.props\n  });\n  return __spreadProps(__spreadValues({}, state), {\n    data: {\n      root,\n      content: processedContent,\n      zones: __spreadValues(__spreadValues({}, state.data.zones), newZones)\n    },\n    indexes: {\n      nodes: __spreadValues(__spreadValues({}, state.indexes.nodes), newNodeIndex),\n      zones: __spreadValues(__spreadValues({}, state.indexes.zones), newZoneIndex)\n    }\n  });\n}\n\n// lib/migrate.ts\nvar migrations = [\n  // Migrate root to root.props\n  (data) => {\n    const rootProps = data.root.props || data.root;\n    if (Object.keys(data.root).length > 0 && !data.root.props) {\n      console.warn(\n        \"Migration applied: Root props moved from `root` to `root.props`.\"\n      );\n      return __spreadProps(__spreadValues({}, data), {\n        root: {\n          props: __spreadValues({}, rootProps)\n        }\n      });\n    }\n    return data;\n  },\n  // Migrate zones to slots\n  (data, config, migrationOptions) => {\n    var _a, _b;\n    if (!config) return data;\n    console.log(\"Migrating DropZones to slots...\");\n    const updatedItems = {};\n    const appState = __spreadProps(__spreadValues({}, defaultAppState), { data });\n    const { indexes } = walkAppState(appState, config);\n    const deletedCompounds = [];\n    walkAppState(appState, config, (content, zoneCompound, zoneType) => {\n      var _a2, _b2, _c;\n      if (zoneType === \"dropzone\") {\n        const [id, slotName] = zoneCompound.split(\":\");\n        const nodeData = indexes.nodes[id].data;\n        const componentType = nodeData.type;\n        const configForComponent = id === \"root\" ? config.root : config.components[componentType];\n        if (((_b2 = (_a2 = configForComponent == null ? void 0 : configForComponent.fields) == null ? void 0 : _a2[slotName]) == null ? void 0 : _b2.type) === \"slot\") {\n          updatedItems[id] = __spreadProps(__spreadValues({}, nodeData), {\n            props: __spreadProps(__spreadValues(__spreadValues({}, nodeData.props), (_c = updatedItems[id]) == null ? void 0 : _c.props), {\n              [slotName]: content\n            })\n          });\n          deletedCompounds.push(zoneCompound);\n        }\n        return content;\n      }\n      return content;\n    });\n    const updated = walkAppState(\n      appState,\n      config,\n      (content) => content,\n      (item) => {\n        var _a2;\n        return (_a2 = updatedItems[item.props.id]) != null ? _a2 : item;\n      }\n    );\n    deletedCompounds.forEach((zoneCompound) => {\n      var _a2;\n      const [_, propName] = zoneCompound.split(\":\");\n      console.log(\n        `\\u2713 Success: Migrated \"${zoneCompound}\" from DropZone to slot field \"${propName}\"`\n      );\n      (_a2 = updated.data.zones) == null ? true : delete _a2[zoneCompound];\n    });\n    if (migrationOptions == null ? void 0 : migrationOptions.migrateDynamicZonesForComponent) {\n      const unmigratedZonesGrouped = {};\n      Object.keys((_a = updated.data.zones) != null ? _a : {}).forEach((zoneCompound) => {\n        var _a2;\n        const [componentId, propName] = zoneCompound.split(\":\");\n        const content = (_a2 = updated.data.zones) == null ? void 0 : _a2[zoneCompound];\n        if (!content) {\n          return;\n        }\n        if (!unmigratedZonesGrouped[componentId]) {\n          unmigratedZonesGrouped[componentId] = {};\n        }\n        if (!unmigratedZonesGrouped[componentId][propName]) {\n          unmigratedZonesGrouped[componentId][propName] = content;\n        }\n      });\n      Object.keys(unmigratedZonesGrouped).forEach((componentId) => {\n        updated.data = walkTree(updated.data, config, (content) => {\n          return content.map((child) => {\n            var _a2;\n            if (child.props.id !== componentId) {\n              return child;\n            }\n            const migrateFn = (_a2 = migrationOptions == null ? void 0 : migrationOptions.migrateDynamicZonesForComponent) == null ? void 0 : _a2[child.type];\n            if (!migrateFn) {\n              return child;\n            }\n            const zones = unmigratedZonesGrouped[componentId];\n            const migratedProps = migrateFn(child.props, zones);\n            Object.keys(zones).forEach((propName) => {\n              var _a3;\n              const zoneCompound = `${componentId}:${propName}`;\n              console.log(`\\u2713 Success: Migrated \"${zoneCompound}\" DropZone`);\n              (_a3 = updated.data.zones) == null ? true : delete _a3[zoneCompound];\n            });\n            return __spreadProps(__spreadValues({}, child), {\n              props: migratedProps\n            });\n          });\n        });\n      });\n    }\n    Object.keys((_b = updated.data.zones) != null ? _b : {}).forEach((zoneCompound) => {\n      const [_, propName] = zoneCompound.split(\":\");\n      throw new Error(\n        `Could not migrate DropZone \"${zoneCompound}\" to slot field. No slot exists with the name \"${propName}\".`\n      );\n    });\n    delete updated.data.zones;\n    return updated.data;\n  }\n];\nfunction migrate(data, config, migrationOptions) {\n  return migrations == null ? void 0 : migrations.reduce(\n    (acc, migration) => migration(acc, config, migrationOptions),\n    data\n  );\n}\n\n// lib/transform-props.ts\ninit_react_import();\n\n// lib/data/default-data.ts\ninit_react_import();\nvar defaultData = (data) => __spreadProps(__spreadValues({}, data), {\n  root: data.root || {},\n  content: data.content || []\n});\n\n// lib/transform-props.ts\nfunction transformProps(data, propTransforms, config = { components: {} }) {\n  const mapItem = (item) => {\n    if (propTransforms[item.type]) {\n      return __spreadProps(__spreadValues({}, item), {\n        props: __spreadValues({\n          id: item.props.id\n        }, propTransforms[item.type](item.props))\n      });\n    }\n    return item;\n  };\n  const defaultedData = defaultData(data);\n  const rootProps = defaultedData.root.props || defaultedData.root;\n  let newRoot = __spreadValues({}, defaultedData.root);\n  if (propTransforms[\"root\"]) {\n    newRoot.props = propTransforms[\"root\"](rootProps);\n  }\n  const dataWithUpdatedRoot = __spreadProps(__spreadValues({}, defaultedData), { root: newRoot });\n  const updatedData = walkTree(\n    dataWithUpdatedRoot,\n    config,\n    (content) => content.map(mapItem)\n  );\n  if (!defaultedData.root.props) {\n    updatedData.root = updatedData.root.props;\n  }\n  return updatedData;\n}\n\n// lib/resolve-all-data.ts\ninit_react_import();\n\n// lib/resolve-component-data.ts\ninit_react_import();\n\n// lib/get-changed.ts\ninit_react_import();\n\nvar getChanged = (newItem, oldItem) => {\n  return newItem ? Object.keys(newItem.props || {}).reduce((acc, item) => {\n    const newItemProps = (newItem == null ? void 0 : newItem.props) || {};\n    const oldItemProps = (oldItem == null ? void 0 : oldItem.props) || {};\n    return __spreadProps(__spreadValues({}, acc), {\n      [item]: !fast_deep_equal__WEBPACK_IMPORTED_MODULE_2__(oldItemProps[item], newItemProps[item])\n    });\n  }, {}) : {};\n};\n\n// lib/resolve-component-data.ts\n\nvar cache = { lastChange: {} };\nvar resolveComponentData = (_0, _1, ..._2) => __async(void 0, [_0, _1, ..._2], function* (item, config, metadata = {}, onResolveStart, onResolveEnd, trigger = \"replace\") {\n  const configForItem = \"type\" in item && item.type !== \"root\" ? config.components[item.type] : config.root;\n  const resolvedItem = __spreadValues({}, item);\n  const shouldRunResolver = (configForItem == null ? void 0 : configForItem.resolveData) && item.props;\n  const id = \"id\" in item.props ? item.props.id : \"root\";\n  if (shouldRunResolver) {\n    const { item: oldItem = null, resolved = {} } = cache.lastChange[id] || {};\n    if (trigger !== \"force\" && item && fast_deep_equal__WEBPACK_IMPORTED_MODULE_2__(item, oldItem)) {\n      return { node: resolved, didChange: false };\n    }\n    const changed = getChanged(item, oldItem);\n    if (onResolveStart) {\n      onResolveStart(item);\n    }\n    const { props: resolvedProps, readOnly = {} } = yield configForItem.resolveData(item, {\n      changed,\n      lastData: oldItem,\n      metadata: __spreadValues(__spreadValues({}, metadata), configForItem.metadata),\n      trigger\n    });\n    resolvedItem.props = __spreadValues(__spreadValues({}, item.props), resolvedProps);\n    if (Object.keys(readOnly).length) {\n      resolvedItem.readOnly = readOnly;\n    }\n  }\n  let itemWithResolvedChildren = yield mapFields(\n    resolvedItem,\n    {\n      slot: (_02) => __async(void 0, [_02], function* ({ value }) {\n        const content = value;\n        return yield Promise.all(\n          content.map(\n            (childItem) => __async(void 0, null, function* () {\n              return (yield resolveComponentData(\n                childItem,\n                config,\n                metadata,\n                onResolveStart,\n                onResolveEnd,\n                trigger\n              )).node;\n            })\n          )\n        );\n      })\n    },\n    config\n  );\n  if (shouldRunResolver && onResolveEnd) {\n    onResolveEnd(resolvedItem);\n  }\n  cache.lastChange[id] = {\n    item,\n    resolved: itemWithResolvedChildren\n  };\n  return {\n    node: itemWithResolvedChildren,\n    didChange: !fast_deep_equal__WEBPACK_IMPORTED_MODULE_2__(item, itemWithResolvedChildren)\n  };\n});\n\n// lib/data/to-component.ts\ninit_react_import();\nvar toComponent = (item) => {\n  return \"type\" in item ? item : __spreadProps(__spreadValues({}, item), {\n    props: __spreadProps(__spreadValues({}, item.props), { id: \"root\" }),\n    type: \"root\"\n  });\n};\n\n// lib/resolve-all-data.ts\nfunction resolveAllData(_0, _1) {\n  return __async(this, arguments, function* (data, config, metadata = {}, onResolveStart, onResolveEnd) {\n    var _a;\n    const defaultedData = defaultData(data);\n    const resolveNode = (_node) => __async(this, null, function* () {\n      const node = toComponent(_node);\n      onResolveStart == null ? void 0 : onResolveStart(node);\n      const resolved = (yield resolveComponentData(\n        node,\n        config,\n        metadata,\n        () => {\n        },\n        () => {\n        },\n        \"force\"\n      )).node;\n      const resolvedDeep = yield mapFields(\n        resolved,\n        { slot: ({ value }) => processContent(value) },\n        config\n      );\n      onResolveEnd == null ? void 0 : onResolveEnd(toComponent(resolvedDeep));\n      return resolvedDeep;\n    });\n    const processContent = (content) => __async(this, null, function* () {\n      return Promise.all(content.map(resolveNode));\n    });\n    const processZones = () => __async(this, null, function* () {\n      var _a2;\n      const zones = (_a2 = data.zones) != null ? _a2 : {};\n      Object.entries(zones).forEach((_02) => __async(this, [_02], function* ([zoneKey, content]) {\n        zones[zoneKey] = yield Promise.all(content.map(resolveNode));\n      }));\n      return zones;\n    });\n    const dynamic = {\n      root: yield resolveNode(defaultedData.root),\n      content: yield processContent(defaultedData.content),\n      zones: yield processZones()\n    };\n    Object.keys((_a = defaultedData.zones) != null ? _a : {}).forEach((zoneKey) => __async(this, null, function* () {\n      const content = defaultedData.zones[zoneKey];\n      dynamic.zones[zoneKey] = yield processContent(content);\n    }), {});\n    return dynamic;\n  });\n}\n\n// lib/data/setup-zone.ts\ninit_react_import();\nvar setupZone = (data, zoneKey) => {\n  if (zoneKey === rootDroppableId) {\n    return data;\n  }\n  const newData = __spreadProps(__spreadValues({}, data), {\n    zones: data.zones ? __spreadValues({}, data.zones) : {}\n  });\n  newData.zones[zoneKey] = newData.zones[zoneKey] || [];\n  return newData;\n};\n\n// lib/field-transforms/use-field-transforms.tsx\ninit_react_import();\n\nfunction useFieldTransforms(config, item, transforms, readOnly, forceReadOnly) {\n  const mappers = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return Object.keys(transforms).reduce((acc, _fieldType) => {\n      const fieldType = _fieldType;\n      return __spreadProps(__spreadValues({}, acc), {\n        [fieldType]: (_a) => {\n          var _b = _a, {\n            parentId\n          } = _b, params = __objRest(_b, [\n            \"parentId\"\n          ]);\n          const wildcardPath = params.propPath.replace(/\\[\\d+\\]/g, \"[*]\");\n          const isReadOnly = (readOnly == null ? void 0 : readOnly[params.propPath]) || (readOnly == null ? void 0 : readOnly[wildcardPath]) || forceReadOnly || false;\n          const fn = transforms[fieldType];\n          return fn == null ? void 0 : fn(__spreadProps(__spreadValues({}, params), {\n            isReadOnly,\n            componentId: parentId\n          }));\n        }\n      });\n    }, {});\n  }, [transforms, readOnly, forceReadOnly]);\n  const transformedProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const mapped = mapFields(item, mappers, config).props;\n    return mapped;\n  }, [config, item, mappers]);\n  const mergedProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => __spreadValues(__spreadValues({}, item.props), transformedProps),\n    [item.props, transformedProps]\n  );\n  return mergedProps;\n}\n\n// lib/field-transforms/default-transforms/slot-transform.tsx\ninit_react_import();\nvar getSlotTransform = (renderSlotEdit, renderSlotRender = renderSlotEdit) => ({\n  slot: ({ value: content, propName, field, isReadOnly }) => {\n    const render = isReadOnly ? renderSlotRender : renderSlotEdit;\n    const Slot = (dzProps) => render(__spreadProps(__spreadValues({\n      allow: (field == null ? void 0 : field.type) === \"slot\" ? field.allow : [],\n      disallow: (field == null ? void 0 : field.type) === \"slot\" ? field.disallow : []\n    }, dzProps), {\n      zone: propName,\n      content\n    }));\n    return Slot;\n  }\n});\n\n// lib/use-slots.tsx\ninit_react_import();\nfunction useSlots(config, item, renderSlotEdit, renderSlotRender = renderSlotEdit, readOnly, forceReadOnly) {\n  return useFieldTransforms(\n    config,\n    item,\n    getSlotTransform(renderSlotEdit, renderSlotRender),\n    readOnly,\n    forceReadOnly\n  );\n}\n\n// components/SlotRender/server.tsx\ninit_react_import();\n\n\nvar SlotRenderPure = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SlotRender, __spreadValues({}, props));\nvar Item = ({\n  config,\n  item,\n  metadata\n}) => {\n  const Component = config.components[item.type];\n  const props = useSlots(config, item, (slotProps) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SlotRenderPure, __spreadProps(__spreadValues({}, slotProps), { config, metadata })));\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    Component.render,\n    __spreadProps(__spreadValues({}, props), {\n      puck: __spreadProps(__spreadValues({}, props.puck), {\n        metadata: metadata || {}\n      })\n    })\n  );\n};\nvar SlotRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  function SlotRenderInternal({ className, style, content, config, metadata }, ref) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, style, ref, children: content.map((item) => {\n      if (!config.components[item.type]) {\n        return null;\n      }\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        Item,\n        {\n          config,\n          item,\n          metadata\n        },\n        item.props.id\n      );\n    }) });\n  }\n);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbWVhc3VyZWQrcHVja0AwLjIwLjJfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9AbWVhc3VyZWQvcHVjay9kaXN0L2NodW5rLU9PTFlEWEtXLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGFBQWE7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0RkFBNEY7QUFDekg7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLDhCQUE4QjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUMwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxpQkFBaUI7QUFDNUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUZBQXVGLGlCQUFpQjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LG1DQUFtQztBQUNuQywyQ0FBMkM7QUFDM0M7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQkFBaUIsaURBQVU7QUFDM0IsZ0NBQWdDLDZDQUE2QztBQUM3RSwyQkFBMkIsc0RBQUcsVUFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQUc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7QUFDQTs7QUErQkUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9AbWVhc3VyZWQrcHVja0AwLjIwLjJfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9AbWVhc3VyZWQvcHVjay9kaXN0L2NodW5rLU9PTFlEWEtXLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG52YXIgX19vYmpSZXN0ID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0uY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbnZhciBfX2VzbSA9IChmbiwgcmVzKSA9PiBmdW5jdGlvbiBfX2luaXQoKSB7XG4gIHJldHVybiBmbiAmJiAocmVzID0gKDAsIGZuW19fZ2V0T3duUHJvcE5hbWVzKGZuKVswXV0pKGZuID0gMCkpLCByZXM7XG59O1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlKCkge1xuICByZXR1cm4gbW9kIHx8ICgwLCBjYltfX2dldE93blByb3BOYW1lcyhjYilbMF1dKSgobW9kID0geyBleHBvcnRzOiB7fSB9KS5leHBvcnRzLCBtb2QpLCBtb2QuZXhwb3J0cztcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0VTTSA9IChtb2QsIGlzTm9kZU1vZGUsIHRhcmdldCkgPT4gKHRhcmdldCA9IG1vZCAhPSBudWxsID8gX19jcmVhdGUoX19nZXRQcm90b09mKG1vZCkpIDoge30sIF9fY29weVByb3BzKFxuICAvLyBJZiB0aGUgaW1wb3J0ZXIgaXMgaW4gbm9kZSBjb21wYXRpYmlsaXR5IG1vZGUgb3IgdGhpcyBpcyBub3QgYW4gRVNNXG4gIC8vIGZpbGUgdGhhdCBoYXMgYmVlbiBjb252ZXJ0ZWQgdG8gYSBDb21tb25KUyBmaWxlIHVzaW5nIGEgQmFiZWwtXG4gIC8vIGNvbXBhdGlibGUgdHJhbnNmb3JtIChpLmUuIFwiX19lc01vZHVsZVwiIGhhcyBub3QgYmVlbiBzZXQpLCB0aGVuIHNldFxuICAvLyBcImRlZmF1bHRcIiB0byB0aGUgQ29tbW9uSlMgXCJtb2R1bGUuZXhwb3J0c1wiIGZvciBub2RlIGNvbXBhdGliaWxpdHkuXG4gIGlzTm9kZU1vZGUgfHwgIW1vZCB8fCAhbW9kLl9fZXNNb2R1bGUgPyBfX2RlZlByb3AodGFyZ2V0LCBcImRlZmF1bHRcIiwgeyB2YWx1ZTogbW9kLCBlbnVtZXJhYmxlOiB0cnVlIH0pIDogdGFyZ2V0LFxuICBtb2RcbikpO1xudmFyIF9fYXN5bmMgPSAoX190aGlzLCBfX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIGZ1bGZpbGxlZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVqZWN0ZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzdGVwID0gKHgpID0+IHguZG9uZSA/IHJlc29sdmUoeC52YWx1ZSkgOiBQcm9taXNlLnJlc29sdmUoeC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkoX190aGlzLCBfX2FyZ3VtZW50cykpLm5leHQoKSk7XG4gIH0pO1xufTtcblxuLy8gLi4vdHN1cC1jb25maWcvcmVhY3QtaW1wb3J0LmpzXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG52YXIgaW5pdF9yZWFjdF9pbXBvcnQgPSBfX2VzbSh7XG4gIFwiLi4vdHN1cC1jb25maWcvcmVhY3QtaW1wb3J0LmpzXCIoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gIH1cbn0pO1xuXG4vLyBsaWIvZGF0YS93YWxrLXRyZWUudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi9kYXRhL21hcC1maWVsZHMudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi9kYXRhL2RlZmF1bHQtc2xvdHMudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZGVmYXVsdFNsb3RzID0gKHZhbHVlLCBmaWVsZHMpID0+IE9iamVjdC5rZXlzKGZpZWxkcykucmVkdWNlKFxuICAoYWNjLCBmaWVsZE5hbWUpID0+IGZpZWxkc1tmaWVsZE5hbWVdLnR5cGUgPT09IFwic2xvdFwiID8gX19zcHJlYWRWYWx1ZXMoeyBbZmllbGROYW1lXTogW10gfSwgYWNjKSA6IGFjYyxcbiAgdmFsdWVcbik7XG5cbi8vIGxpYi9kYXRhL21hcC1maWVsZHMudHNcbnZhciBpc1Byb21pc2UgPSAodikgPT4gISF2ICYmIHR5cGVvZiB2LnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbnZhciBmbGF0dGVuID0gKHZhbHVlcykgPT4gdmFsdWVzLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgYWNjKSwgaXRlbSksIHt9KTtcbnZhciBjb250YWluc1Byb21pc2UgPSAoYXJyKSA9PiBhcnIuc29tZShpc1Byb21pc2UpO1xudmFyIHdhbGtGaWVsZCA9ICh7XG4gIHZhbHVlLFxuICBmaWVsZHMsXG4gIG1hcHBlcnMsXG4gIHByb3BLZXkgPSBcIlwiLFxuICBwcm9wUGF0aCA9IFwiXCIsXG4gIGlkID0gXCJcIixcbiAgY29uZmlnLFxuICByZWN1cnNlU2xvdHMgPSBmYWxzZVxufSkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgZmllbGRUeXBlID0gKF9hID0gZmllbGRzW3Byb3BLZXldKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHlwZTtcbiAgY29uc3QgbWFwID0gbWFwcGVyc1tmaWVsZFR5cGVdO1xuICBpZiAobWFwICYmIGZpZWxkVHlwZSA9PT0gXCJzbG90XCIpIHtcbiAgICBjb25zdCBjb250ZW50ID0gdmFsdWUgfHwgW107XG4gICAgY29uc3QgbWFwcGVkQ29udGVudCA9IHJlY3Vyc2VTbG90cyA/IGNvbnRlbnQubWFwKChlbCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGNvbnN0IGNvbXBvbmVudENvbmZpZyA9IGNvbmZpZy5jb21wb25lbnRzW2VsLnR5cGVdO1xuICAgICAgaWYgKCFjb21wb25lbnRDb25maWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBjb21wb25lbnQgY29uZmlnIGZvciAke2VsLnR5cGV9YCk7XG4gICAgICB9XG4gICAgICBjb25zdCBmaWVsZHMyID0gKF9hMiA9IGNvbXBvbmVudENvbmZpZy5maWVsZHMpICE9IG51bGwgPyBfYTIgOiB7fTtcbiAgICAgIHJldHVybiB3YWxrRmllbGQoe1xuICAgICAgICB2YWx1ZTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZWwpLCB7IHByb3BzOiBkZWZhdWx0U2xvdHMoZWwucHJvcHMsIGZpZWxkczIpIH0pLFxuICAgICAgICBmaWVsZHM6IGZpZWxkczIsXG4gICAgICAgIG1hcHBlcnMsXG4gICAgICAgIGlkOiBlbC5wcm9wcy5pZCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZWN1cnNlU2xvdHNcbiAgICAgIH0pO1xuICAgIH0pIDogY29udGVudDtcbiAgICBpZiAoY29udGFpbnNQcm9taXNlKG1hcHBlZENvbnRlbnQpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwobWFwcGVkQ29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBtYXAoe1xuICAgICAgdmFsdWU6IG1hcHBlZENvbnRlbnQsXG4gICAgICBwYXJlbnRJZDogaWQsXG4gICAgICBwcm9wTmFtZTogcHJvcFBhdGgsXG4gICAgICBmaWVsZDogZmllbGRzW3Byb3BLZXldLFxuICAgICAgcHJvcFBhdGhcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChtYXAgJiYgZmllbGRzW3Byb3BLZXldKSB7XG4gICAgcmV0dXJuIG1hcCh7XG4gICAgICB2YWx1ZSxcbiAgICAgIHBhcmVudElkOiBpZCxcbiAgICAgIHByb3BOYW1lOiBwcm9wS2V5LFxuICAgICAgZmllbGQ6IGZpZWxkc1twcm9wS2V5XSxcbiAgICAgIHByb3BQYXRoXG4gICAgfSk7XG4gIH1cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgY29uc3QgYXJyYXlGaWVsZHMgPSAoKF9iID0gZmllbGRzW3Byb3BLZXldKSA9PSBudWxsID8gdm9pZCAwIDogX2IudHlwZSkgPT09IFwiYXJyYXlcIiA/IGZpZWxkc1twcm9wS2V5XS5hcnJheUZpZWxkcyA6IG51bGw7XG4gICAgICBpZiAoIWFycmF5RmllbGRzKSByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlLm1hcChcbiAgICAgICAgKGVsLCBpZHgpID0+IHdhbGtGaWVsZCh7XG4gICAgICAgICAgdmFsdWU6IGVsLFxuICAgICAgICAgIGZpZWxkczogYXJyYXlGaWVsZHMsXG4gICAgICAgICAgbWFwcGVycyxcbiAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgIHByb3BQYXRoOiBgJHtwcm9wUGF0aH1bJHtpZHh9XWAsXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIHJlY3Vyc2VTbG90c1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGlmIChjb250YWluc1Byb21pc2UobmV3VmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgfSBlbHNlIGlmIChcIiQkdHlwZW9mXCIgaW4gdmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb2JqZWN0RmllbGRzID0gKChfYyA9IGZpZWxkc1twcm9wS2V5XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnR5cGUpID09PSBcIm9iamVjdFwiID8gZmllbGRzW3Byb3BLZXldLm9iamVjdEZpZWxkcyA6IGZpZWxkcztcbiAgICAgIHJldHVybiB3YWxrT2JqZWN0KHtcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGZpZWxkczogb2JqZWN0RmllbGRzLFxuICAgICAgICBtYXBwZXJzLFxuICAgICAgICBpZCxcbiAgICAgICAgZ2V0UHJvcFBhdGg6IChrKSA9PiBgJHtwcm9wUGF0aH0uJHtrfWAsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVjdXJzZVNsb3RzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciB3YWxrT2JqZWN0ID0gKHtcbiAgdmFsdWUsXG4gIGZpZWxkcyxcbiAgbWFwcGVycyxcbiAgaWQsXG4gIGdldFByb3BQYXRoLFxuICBjb25maWcsXG4gIHJlY3Vyc2VTbG90c1xufSkgPT4ge1xuICBjb25zdCBuZXdQcm9wcyA9IE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtrLCB2XSkgPT4ge1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICB2YWx1ZTogdixcbiAgICAgIGZpZWxkcyxcbiAgICAgIG1hcHBlcnMsXG4gICAgICBwcm9wS2V5OiBrLFxuICAgICAgcHJvcFBhdGg6IGdldFByb3BQYXRoKGspLFxuICAgICAgaWQsXG4gICAgICBjb25maWcsXG4gICAgICByZWN1cnNlU2xvdHNcbiAgICB9O1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gd2Fsa0ZpZWxkKG9wdHMpO1xuICAgIGlmIChpc1Byb21pc2UobmV3VmFsdWUpKSB7XG4gICAgICByZXR1cm4gbmV3VmFsdWUudGhlbigocmVzb2x2ZWRWYWx1ZSkgPT4gKHtcbiAgICAgICAgW2tdOiByZXNvbHZlZFZhbHVlXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBba106IG5ld1ZhbHVlXG4gICAgfTtcbiAgfSwge30pO1xuICBpZiAoY29udGFpbnNQcm9taXNlKG5ld1Byb3BzKSkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChuZXdQcm9wcykudGhlbihmbGF0dGVuKTtcbiAgfVxuICByZXR1cm4gZmxhdHRlbihuZXdQcm9wcyk7XG59O1xuZnVuY3Rpb24gbWFwRmllbGRzKGl0ZW0sIG1hcHBlcnMsIGNvbmZpZywgcmVjdXJzZVNsb3RzID0gZmFsc2UpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgY29uc3QgaXRlbVR5cGUgPSBcInR5cGVcIiBpbiBpdGVtID8gaXRlbS50eXBlIDogXCJyb290XCI7XG4gIGNvbnN0IGNvbXBvbmVudENvbmZpZyA9IGl0ZW1UeXBlID09PSBcInJvb3RcIiA/IGNvbmZpZy5yb290IDogKF9hID0gY29uZmlnLmNvbXBvbmVudHMpID09IG51bGwgPyB2b2lkIDAgOiBfYVtpdGVtVHlwZV07XG4gIGNvbnN0IG5ld1Byb3BzID0gd2Fsa09iamVjdCh7XG4gICAgdmFsdWU6IGRlZmF1bHRTbG90cygoX2IgPSBpdGVtLnByb3BzKSAhPSBudWxsID8gX2IgOiB7fSwgKF9jID0gY29tcG9uZW50Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb21wb25lbnRDb25maWcuZmllbGRzKSAhPSBudWxsID8gX2MgOiB7fSksXG4gICAgZmllbGRzOiAoX2QgPSBjb21wb25lbnRDb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBvbmVudENvbmZpZy5maWVsZHMpICE9IG51bGwgPyBfZCA6IHt9LFxuICAgIG1hcHBlcnMsXG4gICAgaWQ6IGl0ZW0ucHJvcHMgPyAoX2UgPSBpdGVtLnByb3BzLmlkKSAhPSBudWxsID8gX2UgOiBcInJvb3RcIiA6IFwicm9vdFwiLFxuICAgIGdldFByb3BQYXRoOiAoaykgPT4gayxcbiAgICBjb25maWcsXG4gICAgcmVjdXJzZVNsb3RzXG4gIH0pO1xuICBpZiAoaXNQcm9taXNlKG5ld1Byb3BzKSkge1xuICAgIHJldHVybiBuZXdQcm9wcy50aGVuKChyZXNvbHZlZFByb3BzKSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBpdGVtKSwge1xuICAgICAgcHJvcHM6IHJlc29sdmVkUHJvcHNcbiAgICB9KSk7XG4gIH1cbiAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGl0ZW0pLCB7XG4gICAgcHJvcHM6IG5ld1Byb3BzXG4gIH0pO1xufVxuXG4vLyBsaWIvZGF0YS93YWxrLXRyZWUudHNcbmZ1bmN0aW9uIHdhbGtUcmVlKGRhdGEsIGNvbmZpZywgY2FsbGJhY2tGbikge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCB3YWxrSXRlbSA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIG1hcEZpZWxkcyhcbiAgICAgIGl0ZW0sXG4gICAgICB7XG4gICAgICAgIHNsb3Q6ICh7IHZhbHVlLCBwYXJlbnRJZCwgcHJvcE5hbWUgfSkgPT4ge1xuICAgICAgICAgIHZhciBfYTI7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiAoX2EyID0gY2FsbGJhY2tGbihjb250ZW50LCB7IHBhcmVudElkLCBwcm9wTmFtZSB9KSkgIT0gbnVsbCA/IF9hMiA6IGNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb25maWcsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfTtcbiAgaWYgKFwicHJvcHNcIiBpbiBkYXRhKSB7XG4gICAgcmV0dXJuIHdhbGtJdGVtKGRhdGEpO1xuICB9XG4gIGNvbnN0IF9kYXRhID0gZGF0YTtcbiAgY29uc3Qgem9uZXMgPSAoX2EgPSBfZGF0YS56b25lcykgIT0gbnVsbCA/IF9hIDoge307XG4gIGNvbnN0IG1hcHBlZENvbnRlbnQgPSBfZGF0YS5jb250ZW50Lm1hcCh3YWxrSXRlbSk7XG4gIHJldHVybiB7XG4gICAgcm9vdDogd2Fsa0l0ZW0oX2RhdGEucm9vdCksXG4gICAgY29udGVudDogKF9iID0gY2FsbGJhY2tGbihtYXBwZWRDb250ZW50LCB7XG4gICAgICBwYXJlbnRJZDogXCJyb290XCIsXG4gICAgICBwcm9wTmFtZTogXCJkZWZhdWx0LXpvbmVcIlxuICAgIH0pKSAhPSBudWxsID8gX2IgOiBtYXBwZWRDb250ZW50LFxuICAgIHpvbmVzOiBPYmplY3Qua2V5cyh6b25lcykucmVkdWNlKFxuICAgICAgKGFjYywgem9uZUNvbXBvdW5kKSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBhY2MpLCB7XG4gICAgICAgIFt6b25lQ29tcG91bmRdOiB6b25lc1t6b25lQ29tcG91bmRdLm1hcCh3YWxrSXRlbSlcbiAgICAgIH0pLFxuICAgICAge31cbiAgICApXG4gIH07XG59XG5cbi8vIGxpYi9taWdyYXRlLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBzdG9yZS9kZWZhdWx0LWFwcC1zdGF0ZS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gY29tcG9uZW50cy9WaWV3cG9ydENvbnRyb2xzL2RlZmF1bHQtdmlld3BvcnRzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIGRlZmF1bHRWaWV3cG9ydHMgPSBbXG4gIHsgd2lkdGg6IDM2MCwgaGVpZ2h0OiBcImF1dG9cIiwgaWNvbjogXCJTbWFydHBob25lXCIsIGxhYmVsOiBcIlNtYWxsXCIgfSxcbiAgeyB3aWR0aDogNzY4LCBoZWlnaHQ6IFwiYXV0b1wiLCBpY29uOiBcIlRhYmxldFwiLCBsYWJlbDogXCJNZWRpdW1cIiB9LFxuICB7IHdpZHRoOiAxMjgwLCBoZWlnaHQ6IFwiYXV0b1wiLCBpY29uOiBcIk1vbml0b3JcIiwgbGFiZWw6IFwiTGFyZ2VcIiB9XG5dO1xuXG4vLyBzdG9yZS9kZWZhdWx0LWFwcC1zdGF0ZS50c1xudmFyIGRlZmF1bHRBcHBTdGF0ZSA9IHtcbiAgZGF0YTogeyBjb250ZW50OiBbXSwgcm9vdDoge30sIHpvbmVzOiB7fSB9LFxuICB1aToge1xuICAgIGxlZnRTaWRlQmFyVmlzaWJsZTogdHJ1ZSxcbiAgICByaWdodFNpZGVCYXJWaXNpYmxlOiB0cnVlLFxuICAgIGFycmF5U3RhdGU6IHt9LFxuICAgIGl0ZW1TZWxlY3RvcjogbnVsbCxcbiAgICBjb21wb25lbnRMaXN0OiB7fSxcbiAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICBwcmV2aWV3TW9kZTogXCJlZGl0XCIsXG4gICAgdmlld3BvcnRzOiB7XG4gICAgICBjdXJyZW50OiB7XG4gICAgICAgIHdpZHRoOiBkZWZhdWx0Vmlld3BvcnRzWzBdLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGRlZmF1bHRWaWV3cG9ydHNbMF0uaGVpZ2h0IHx8IFwiYXV0b1wiXG4gICAgICB9LFxuICAgICAgb3B0aW9uczogW10sXG4gICAgICBjb250cm9sc1Zpc2libGU6IHRydWVcbiAgICB9LFxuICAgIGZpZWxkOiB7IGZvY3VzOiBudWxsIH1cbiAgfSxcbiAgaW5kZXhlczoge1xuICAgIG5vZGVzOiB7fSxcbiAgICB6b25lczoge31cbiAgfVxufTtcblxuLy8gbGliL2RhdGEvd2Fsay1hcHAtc3RhdGUudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi9kYXRhL2Zvci1yZWxhdGVkLXpvbmVzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBsaWIvZ2V0LXpvbmUtaWQudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi9yb290LWRyb3BwYWJsZS1pZC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciByb290QXJlYUlkID0gXCJyb290XCI7XG52YXIgcm9vdFpvbmUgPSBcImRlZmF1bHQtem9uZVwiO1xudmFyIHJvb3REcm9wcGFibGVJZCA9IGAke3Jvb3RBcmVhSWR9OiR7cm9vdFpvbmV9YDtcblxuLy8gbGliL2dldC16b25lLWlkLnRzXG52YXIgZ2V0Wm9uZUlkID0gKHpvbmVDb21wb3VuZCkgPT4ge1xuICBpZiAoIXpvbmVDb21wb3VuZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoem9uZUNvbXBvdW5kICYmIHpvbmVDb21wb3VuZC5pbmRleE9mKFwiOlwiKSA+IC0xKSB7XG4gICAgcmV0dXJuIHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIik7XG4gIH1cbiAgcmV0dXJuIFtyb290RHJvcHBhYmxlSWQsIHpvbmVDb21wb3VuZF07XG59O1xuXG4vLyBsaWIvZGF0YS9mb3ItcmVsYXRlZC16b25lcy50c1xuZnVuY3Rpb24gZm9yUmVsYXRlZFpvbmVzKGl0ZW0sIGRhdGEsIGNiLCBwYXRoID0gW10pIHtcbiAgT2JqZWN0LmVudHJpZXMoZGF0YS56b25lcyB8fCB7fSkuZm9yRWFjaCgoW3pvbmVDb21wb3VuZCwgY29udGVudF0pID0+IHtcbiAgICBjb25zdCBbcGFyZW50SWRdID0gZ2V0Wm9uZUlkKHpvbmVDb21wb3VuZCk7XG4gICAgaWYgKHBhcmVudElkID09PSBpdGVtLnByb3BzLmlkKSB7XG4gICAgICBjYihwYXRoLCB6b25lQ29tcG91bmQsIGNvbnRlbnQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGxpYi9kYXRhL2ZsYXR0ZW4tbm9kZS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCBmbGF0IGZyb20gXCJmbGF0XCI7XG5cbi8vIGxpYi9kYXRhL3N0cmlwLXNsb3RzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHN0cmlwU2xvdHMgPSAoZGF0YSwgY29uZmlnKSA9PiB7XG4gIHJldHVybiBtYXBGaWVsZHMoZGF0YSwgeyBzbG90OiAoKSA9PiBudWxsIH0sIGNvbmZpZyk7XG59O1xuXG4vLyBsaWIvZGF0YS9mbGF0dGVuLW5vZGUudHNcbnZhciB7IGZsYXR0ZW46IGZsYXR0ZW4yLCB1bmZsYXR0ZW4gfSA9IGZsYXQ7XG52YXIgZmxhdHRlbk5vZGUgPSAobm9kZSwgY29uZmlnKSA9PiB7XG4gIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBub2RlKSwge1xuICAgIHByb3BzOiBmbGF0dGVuMihzdHJpcFNsb3RzKG5vZGUsIGNvbmZpZykucHJvcHMpXG4gIH0pO1xufTtcbnZhciBleHBhbmROb2RlID0gKG5vZGUpID0+IHtcbiAgY29uc3QgcHJvcHMgPSB1bmZsYXR0ZW4obm9kZS5wcm9wcyk7XG4gIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBub2RlKSwge1xuICAgIHByb3BzXG4gIH0pO1xufTtcblxuLy8gbGliL2RhdGEvd2Fsay1hcHAtc3RhdGUudHNcbmZ1bmN0aW9uIHdhbGtBcHBTdGF0ZShzdGF0ZSwgY29uZmlnLCBtYXBDb250ZW50ID0gKGNvbnRlbnQpID0+IGNvbnRlbnQsIG1hcE5vZGVPclNraXAgPSAoaXRlbSkgPT4gaXRlbSkge1xuICB2YXIgX2E7XG4gIGxldCBuZXdab25lcyA9IHt9O1xuICBjb25zdCBuZXdab25lSW5kZXggPSB7fTtcbiAgY29uc3QgbmV3Tm9kZUluZGV4ID0ge307XG4gIGNvbnN0IHByb2Nlc3NDb250ZW50ID0gKHBhdGgsIHpvbmVDb21wb3VuZCwgY29udGVudCwgem9uZVR5cGUsIG5ld0lkKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBjb25zdCBbcGFyZW50SWRdID0gem9uZUNvbXBvdW5kLnNwbGl0KFwiOlwiKTtcbiAgICBjb25zdCBtYXBwZWRDb250ZW50ID0gKChfYTIgPSBtYXBDb250ZW50KGNvbnRlbnQsIHpvbmVDb21wb3VuZCwgem9uZVR5cGUpKSAhPSBudWxsID8gX2EyIDogY29udGVudCkgfHwgW107XG4gICAgY29uc3QgW18yLCB6b25lXSA9IHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIik7XG4gICAgY29uc3QgbmV3Wm9uZUNvbXBvdW5kID0gYCR7bmV3SWQgfHwgcGFyZW50SWR9OiR7em9uZX1gO1xuICAgIGNvbnN0IG5ld0NvbnRlbnQyID0gbWFwcGVkQ29udGVudC5tYXAoXG4gICAgICAoem9uZUNoaWxkLCBpbmRleCkgPT4gcHJvY2Vzc0l0ZW0oem9uZUNoaWxkLCBbLi4ucGF0aCwgbmV3Wm9uZUNvbXBvdW5kXSwgaW5kZXgpXG4gICAgKTtcbiAgICBuZXdab25lSW5kZXhbbmV3Wm9uZUNvbXBvdW5kXSA9IHtcbiAgICAgIGNvbnRlbnRJZHM6IG5ld0NvbnRlbnQyLm1hcCgoaXRlbSkgPT4gaXRlbS5wcm9wcy5pZCksXG4gICAgICB0eXBlOiB6b25lVHlwZVxuICAgIH07XG4gICAgcmV0dXJuIFtuZXdab25lQ29tcG91bmQsIG5ld0NvbnRlbnQyXTtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc1JlbGF0ZWRab25lcyA9IChpdGVtLCBuZXdJZCwgaW5pdGlhbFBhdGgpID0+IHtcbiAgICBmb3JSZWxhdGVkWm9uZXMoXG4gICAgICBpdGVtLFxuICAgICAgc3RhdGUuZGF0YSxcbiAgICAgIChyZWxhdGVkUGF0aCwgcmVsYXRlZFpvbmVDb21wb3VuZCwgcmVsYXRlZENvbnRlbnQpID0+IHtcbiAgICAgICAgY29uc3QgW3pvbmVDb21wb3VuZCwgbmV3Q29udGVudDJdID0gcHJvY2Vzc0NvbnRlbnQoXG4gICAgICAgICAgcmVsYXRlZFBhdGgsXG4gICAgICAgICAgcmVsYXRlZFpvbmVDb21wb3VuZCxcbiAgICAgICAgICByZWxhdGVkQ29udGVudCxcbiAgICAgICAgICBcImRyb3B6b25lXCIsXG4gICAgICAgICAgbmV3SWRcbiAgICAgICAgKTtcbiAgICAgICAgbmV3Wm9uZXNbem9uZUNvbXBvdW5kXSA9IG5ld0NvbnRlbnQyO1xuICAgICAgfSxcbiAgICAgIGluaXRpYWxQYXRoXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0l0ZW0gPSAoaXRlbSwgcGF0aCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBtYXBwZWRJdGVtID0gbWFwTm9kZU9yU2tpcChpdGVtLCBwYXRoLCBpbmRleCk7XG4gICAgaWYgKCFtYXBwZWRJdGVtKSByZXR1cm4gaXRlbTtcbiAgICBjb25zdCBpZCA9IG1hcHBlZEl0ZW0ucHJvcHMuaWQ7XG4gICAgY29uc3QgbmV3UHJvcHMgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBtYXBGaWVsZHMoXG4gICAgICBtYXBwZWRJdGVtLFxuICAgICAge1xuICAgICAgICBzbG90OiAoeyB2YWx1ZSwgcGFyZW50SWQ6IHBhcmVudElkMiwgcHJvcFBhdGggfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgICBjb25zdCB6b25lQ29tcG91bmQgPSBgJHtwYXJlbnRJZDJ9OiR7cHJvcFBhdGh9YDtcbiAgICAgICAgICBjb25zdCBbXzIsIG5ld0NvbnRlbnQyXSA9IHByb2Nlc3NDb250ZW50KFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHpvbmVDb21wb3VuZCxcbiAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICBcInNsb3RcIixcbiAgICAgICAgICAgIHBhcmVudElkMlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG5ld0NvbnRlbnQyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29uZmlnXG4gICAgKS5wcm9wcyksIHtcbiAgICAgIGlkXG4gICAgfSk7XG4gICAgcHJvY2Vzc1JlbGF0ZWRab25lcyhpdGVtLCBpZCwgcGF0aCk7XG4gICAgY29uc3QgbmV3SXRlbSA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGl0ZW0pLCB7IHByb3BzOiBuZXdQcm9wcyB9KTtcbiAgICBjb25zdCB0aGlzWm9uZUNvbXBvdW5kID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IFtwYXJlbnRJZCwgem9uZV0gPSB0aGlzWm9uZUNvbXBvdW5kID8gdGhpc1pvbmVDb21wb3VuZC5zcGxpdChcIjpcIikgOiBbbnVsbCwgXCJcIl07XG4gICAgbmV3Tm9kZUluZGV4W2lkXSA9IHtcbiAgICAgIGRhdGE6IG5ld0l0ZW0sXG4gICAgICBmbGF0RGF0YTogZmxhdHRlbk5vZGUobmV3SXRlbSwgY29uZmlnKSxcbiAgICAgIHBhdGgsXG4gICAgICBwYXJlbnRJZCxcbiAgICAgIHpvbmVcbiAgICB9O1xuICAgIGNvbnN0IGZpbmFsRGF0YSA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG5ld0l0ZW0pLCB7IHByb3BzOiBfX3NwcmVhZFZhbHVlcyh7fSwgbmV3SXRlbS5wcm9wcykgfSk7XG4gICAgaWYgKG5ld1Byb3BzLmlkID09PSBcInJvb3RcIikge1xuICAgICAgZGVsZXRlIGZpbmFsRGF0YVtcInR5cGVcIl07XG4gICAgICBkZWxldGUgZmluYWxEYXRhLnByb3BzW1wiaWRcIl07XG4gICAgfVxuICAgIHJldHVybiBmaW5hbERhdGE7XG4gIH07XG4gIGNvbnN0IHpvbmVzID0gc3RhdGUuZGF0YS56b25lcyB8fCB7fTtcbiAgY29uc3QgW18sIG5ld0NvbnRlbnRdID0gcHJvY2Vzc0NvbnRlbnQoXG4gICAgW10sXG4gICAgcm9vdERyb3BwYWJsZUlkLFxuICAgIHN0YXRlLmRhdGEuY29udGVudCxcbiAgICBcInJvb3RcIlxuICApO1xuICBjb25zdCBwcm9jZXNzZWRDb250ZW50ID0gbmV3Q29udGVudDtcbiAgY29uc3Qgem9uZXNBbHJlYWR5UHJvY2Vzc2VkID0gT2JqZWN0LmtleXMobmV3Wm9uZXMpO1xuICBPYmplY3Qua2V5cyh6b25lcyB8fCB7fSkuZm9yRWFjaCgoem9uZUNvbXBvdW5kKSA9PiB7XG4gICAgY29uc3QgW3BhcmVudElkXSA9IHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIik7XG4gICAgaWYgKHpvbmVzQWxyZWFkeVByb2Nlc3NlZC5pbmNsdWRlcyh6b25lQ29tcG91bmQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IFtfMiwgbmV3Q29udGVudDJdID0gcHJvY2Vzc0NvbnRlbnQoXG4gICAgICBbcm9vdERyb3BwYWJsZUlkXSxcbiAgICAgIHpvbmVDb21wb3VuZCxcbiAgICAgIHpvbmVzW3pvbmVDb21wb3VuZF0sXG4gICAgICBcImRyb3B6b25lXCIsXG4gICAgICBwYXJlbnRJZFxuICAgICk7XG4gICAgbmV3Wm9uZXNbem9uZUNvbXBvdW5kXSA9IG5ld0NvbnRlbnQyO1xuICB9LCBuZXdab25lcyk7XG4gIGNvbnN0IHByb2Nlc3NlZFJvb3QgPSBwcm9jZXNzSXRlbShcbiAgICB7XG4gICAgICB0eXBlOiBcInJvb3RcIixcbiAgICAgIHByb3BzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCAoX2EgPSBzdGF0ZS5kYXRhLnJvb3QucHJvcHMpICE9IG51bGwgPyBfYSA6IHN0YXRlLmRhdGEucm9vdCksIHsgaWQ6IFwicm9vdFwiIH0pXG4gICAgfSxcbiAgICBbXSxcbiAgICAtMVxuICApO1xuICBjb25zdCByb290ID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUuZGF0YS5yb290KSwge1xuICAgIHByb3BzOiBwcm9jZXNzZWRSb290LnByb3BzXG4gIH0pO1xuICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUpLCB7XG4gICAgZGF0YToge1xuICAgICAgcm9vdCxcbiAgICAgIGNvbnRlbnQ6IHByb2Nlc3NlZENvbnRlbnQsXG4gICAgICB6b25lczogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLmRhdGEuem9uZXMpLCBuZXdab25lcylcbiAgICB9LFxuICAgIGluZGV4ZXM6IHtcbiAgICAgIG5vZGVzOiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUuaW5kZXhlcy5ub2RlcyksIG5ld05vZGVJbmRleCksXG4gICAgICB6b25lczogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLmluZGV4ZXMuem9uZXMpLCBuZXdab25lSW5kZXgpXG4gICAgfVxuICB9KTtcbn1cblxuLy8gbGliL21pZ3JhdGUudHNcbnZhciBtaWdyYXRpb25zID0gW1xuICAvLyBNaWdyYXRlIHJvb3QgdG8gcm9vdC5wcm9wc1xuICAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHJvb3RQcm9wcyA9IGRhdGEucm9vdC5wcm9wcyB8fCBkYXRhLnJvb3Q7XG4gICAgaWYgKE9iamVjdC5rZXlzKGRhdGEucm9vdCkubGVuZ3RoID4gMCAmJiAhZGF0YS5yb290LnByb3BzKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiTWlncmF0aW9uIGFwcGxpZWQ6IFJvb3QgcHJvcHMgbW92ZWQgZnJvbSBgcm9vdGAgdG8gYHJvb3QucHJvcHNgLlwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGRhdGEpLCB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBwcm9wczogX19zcHJlYWRWYWx1ZXMoe30sIHJvb3RQcm9wcylcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuICAvLyBNaWdyYXRlIHpvbmVzIHRvIHNsb3RzXG4gIChkYXRhLCBjb25maWcsIG1pZ3JhdGlvbk9wdGlvbnMpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghY29uZmlnKSByZXR1cm4gZGF0YTtcbiAgICBjb25zb2xlLmxvZyhcIk1pZ3JhdGluZyBEcm9wWm9uZXMgdG8gc2xvdHMuLi5cIik7XG4gICAgY29uc3QgdXBkYXRlZEl0ZW1zID0ge307XG4gICAgY29uc3QgYXBwU3RhdGUgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBkZWZhdWx0QXBwU3RhdGUpLCB7IGRhdGEgfSk7XG4gICAgY29uc3QgeyBpbmRleGVzIH0gPSB3YWxrQXBwU3RhdGUoYXBwU3RhdGUsIGNvbmZpZyk7XG4gICAgY29uc3QgZGVsZXRlZENvbXBvdW5kcyA9IFtdO1xuICAgIHdhbGtBcHBTdGF0ZShhcHBTdGF0ZSwgY29uZmlnLCAoY29udGVudCwgem9uZUNvbXBvdW5kLCB6b25lVHlwZSkgPT4ge1xuICAgICAgdmFyIF9hMiwgX2IyLCBfYztcbiAgICAgIGlmICh6b25lVHlwZSA9PT0gXCJkcm9wem9uZVwiKSB7XG4gICAgICAgIGNvbnN0IFtpZCwgc2xvdE5hbWVdID0gem9uZUNvbXBvdW5kLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgY29uc3Qgbm9kZURhdGEgPSBpbmRleGVzLm5vZGVzW2lkXS5kYXRhO1xuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gbm9kZURhdGEudHlwZTtcbiAgICAgICAgY29uc3QgY29uZmlnRm9yQ29tcG9uZW50ID0gaWQgPT09IFwicm9vdFwiID8gY29uZmlnLnJvb3QgOiBjb25maWcuY29tcG9uZW50c1tjb21wb25lbnRUeXBlXTtcbiAgICAgICAgaWYgKCgoX2IyID0gKF9hMiA9IGNvbmZpZ0ZvckNvbXBvbmVudCA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnRm9yQ29tcG9uZW50LmZpZWxkcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMltzbG90TmFtZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYjIudHlwZSkgPT09IFwic2xvdFwiKSB7XG4gICAgICAgICAgdXBkYXRlZEl0ZW1zW2lkXSA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG5vZGVEYXRhKSwge1xuICAgICAgICAgICAgcHJvcHM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIG5vZGVEYXRhLnByb3BzKSwgKF9jID0gdXBkYXRlZEl0ZW1zW2lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnByb3BzKSwge1xuICAgICAgICAgICAgICBbc2xvdE5hbWVdOiBjb250ZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRlbGV0ZWRDb21wb3VuZHMucHVzaCh6b25lQ29tcG91bmQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSk7XG4gICAgY29uc3QgdXBkYXRlZCA9IHdhbGtBcHBTdGF0ZShcbiAgICAgIGFwcFN0YXRlLFxuICAgICAgY29uZmlnLFxuICAgICAgKGNvbnRlbnQpID0+IGNvbnRlbnQsXG4gICAgICAoaXRlbSkgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICByZXR1cm4gKF9hMiA9IHVwZGF0ZWRJdGVtc1tpdGVtLnByb3BzLmlkXSkgIT0gbnVsbCA/IF9hMiA6IGl0ZW07XG4gICAgICB9XG4gICAgKTtcbiAgICBkZWxldGVkQ29tcG91bmRzLmZvckVhY2goKHpvbmVDb21wb3VuZCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGNvbnN0IFtfLCBwcm9wTmFtZV0gPSB6b25lQ29tcG91bmQuc3BsaXQoXCI6XCIpO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBcXHUyNzEzIFN1Y2Nlc3M6IE1pZ3JhdGVkIFwiJHt6b25lQ29tcG91bmR9XCIgZnJvbSBEcm9wWm9uZSB0byBzbG90IGZpZWxkIFwiJHtwcm9wTmFtZX1cImBcbiAgICAgICk7XG4gICAgICAoX2EyID0gdXBkYXRlZC5kYXRhLnpvbmVzKSA9PSBudWxsID8gdHJ1ZSA6IGRlbGV0ZSBfYTJbem9uZUNvbXBvdW5kXTtcbiAgICB9KTtcbiAgICBpZiAobWlncmF0aW9uT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogbWlncmF0aW9uT3B0aW9ucy5taWdyYXRlRHluYW1pY1pvbmVzRm9yQ29tcG9uZW50KSB7XG4gICAgICBjb25zdCB1bm1pZ3JhdGVkWm9uZXNHcm91cGVkID0ge307XG4gICAgICBPYmplY3Qua2V5cygoX2EgPSB1cGRhdGVkLmRhdGEuem9uZXMpICE9IG51bGwgPyBfYSA6IHt9KS5mb3JFYWNoKCh6b25lQ29tcG91bmQpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgY29uc3QgW2NvbXBvbmVudElkLCBwcm9wTmFtZV0gPSB6b25lQ29tcG91bmQuc3BsaXQoXCI6XCIpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gKF9hMiA9IHVwZGF0ZWQuZGF0YS56b25lcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMlt6b25lQ29tcG91bmRdO1xuICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1bm1pZ3JhdGVkWm9uZXNHcm91cGVkW2NvbXBvbmVudElkXSkge1xuICAgICAgICAgIHVubWlncmF0ZWRab25lc0dyb3VwZWRbY29tcG9uZW50SWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1bm1pZ3JhdGVkWm9uZXNHcm91cGVkW2NvbXBvbmVudElkXVtwcm9wTmFtZV0pIHtcbiAgICAgICAgICB1bm1pZ3JhdGVkWm9uZXNHcm91cGVkW2NvbXBvbmVudElkXVtwcm9wTmFtZV0gPSBjb250ZW50O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5rZXlzKHVubWlncmF0ZWRab25lc0dyb3VwZWQpLmZvckVhY2goKGNvbXBvbmVudElkKSA9PiB7XG4gICAgICAgIHVwZGF0ZWQuZGF0YSA9IHdhbGtUcmVlKHVwZGF0ZWQuZGF0YSwgY29uZmlnLCAoY29udGVudCkgPT4ge1xuICAgICAgICAgIHJldHVybiBjb250ZW50Lm1hcCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTI7XG4gICAgICAgICAgICBpZiAoY2hpbGQucHJvcHMuaWQgIT09IGNvbXBvbmVudElkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGVGbiA9IChfYTIgPSBtaWdyYXRpb25PcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtaWdyYXRpb25PcHRpb25zLm1pZ3JhdGVEeW5hbWljWm9uZXNGb3JDb21wb25lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTJbY2hpbGQudHlwZV07XG4gICAgICAgICAgICBpZiAoIW1pZ3JhdGVGbikge1xuICAgICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB6b25lcyA9IHVubWlncmF0ZWRab25lc0dyb3VwZWRbY29tcG9uZW50SWRdO1xuICAgICAgICAgICAgY29uc3QgbWlncmF0ZWRQcm9wcyA9IG1pZ3JhdGVGbihjaGlsZC5wcm9wcywgem9uZXMpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoem9uZXMpLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICAgIHZhciBfYTM7XG4gICAgICAgICAgICAgIGNvbnN0IHpvbmVDb21wb3VuZCA9IGAke2NvbXBvbmVudElkfToke3Byb3BOYW1lfWA7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBcXHUyNzEzIFN1Y2Nlc3M6IE1pZ3JhdGVkIFwiJHt6b25lQ29tcG91bmR9XCIgRHJvcFpvbmVgKTtcbiAgICAgICAgICAgICAgKF9hMyA9IHVwZGF0ZWQuZGF0YS56b25lcykgPT0gbnVsbCA/IHRydWUgOiBkZWxldGUgX2EzW3pvbmVDb21wb3VuZF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjaGlsZCksIHtcbiAgICAgICAgICAgICAgcHJvcHM6IG1pZ3JhdGVkUHJvcHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBPYmplY3Qua2V5cygoX2IgPSB1cGRhdGVkLmRhdGEuem9uZXMpICE9IG51bGwgPyBfYiA6IHt9KS5mb3JFYWNoKCh6b25lQ29tcG91bmQpID0+IHtcbiAgICAgIGNvbnN0IFtfLCBwcm9wTmFtZV0gPSB6b25lQ29tcG91bmQuc3BsaXQoXCI6XCIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ291bGQgbm90IG1pZ3JhdGUgRHJvcFpvbmUgXCIke3pvbmVDb21wb3VuZH1cIiB0byBzbG90IGZpZWxkLiBObyBzbG90IGV4aXN0cyB3aXRoIHRoZSBuYW1lIFwiJHtwcm9wTmFtZX1cIi5gXG4gICAgICApO1xuICAgIH0pO1xuICAgIGRlbGV0ZSB1cGRhdGVkLmRhdGEuem9uZXM7XG4gICAgcmV0dXJuIHVwZGF0ZWQuZGF0YTtcbiAgfVxuXTtcbmZ1bmN0aW9uIG1pZ3JhdGUoZGF0YSwgY29uZmlnLCBtaWdyYXRpb25PcHRpb25zKSB7XG4gIHJldHVybiBtaWdyYXRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtaWdyYXRpb25zLnJlZHVjZShcbiAgICAoYWNjLCBtaWdyYXRpb24pID0+IG1pZ3JhdGlvbihhY2MsIGNvbmZpZywgbWlncmF0aW9uT3B0aW9ucyksXG4gICAgZGF0YVxuICApO1xufVxuXG4vLyBsaWIvdHJhbnNmb3JtLXByb3BzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBsaWIvZGF0YS9kZWZhdWx0LWRhdGEudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZGVmYXVsdERhdGEgPSAoZGF0YSkgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZGF0YSksIHtcbiAgcm9vdDogZGF0YS5yb290IHx8IHt9LFxuICBjb250ZW50OiBkYXRhLmNvbnRlbnQgfHwgW11cbn0pO1xuXG4vLyBsaWIvdHJhbnNmb3JtLXByb3BzLnRzXG5mdW5jdGlvbiB0cmFuc2Zvcm1Qcm9wcyhkYXRhLCBwcm9wVHJhbnNmb3JtcywgY29uZmlnID0geyBjb21wb25lbnRzOiB7fSB9KSB7XG4gIGNvbnN0IG1hcEl0ZW0gPSAoaXRlbSkgPT4ge1xuICAgIGlmIChwcm9wVHJhbnNmb3Jtc1tpdGVtLnR5cGVdKSB7XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbSksIHtcbiAgICAgICAgcHJvcHM6IF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgICBpZDogaXRlbS5wcm9wcy5pZFxuICAgICAgICB9LCBwcm9wVHJhbnNmb3Jtc1tpdGVtLnR5cGVdKGl0ZW0ucHJvcHMpKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xuICB9O1xuICBjb25zdCBkZWZhdWx0ZWREYXRhID0gZGVmYXVsdERhdGEoZGF0YSk7XG4gIGNvbnN0IHJvb3RQcm9wcyA9IGRlZmF1bHRlZERhdGEucm9vdC5wcm9wcyB8fCBkZWZhdWx0ZWREYXRhLnJvb3Q7XG4gIGxldCBuZXdSb290ID0gX19zcHJlYWRWYWx1ZXMoe30sIGRlZmF1bHRlZERhdGEucm9vdCk7XG4gIGlmIChwcm9wVHJhbnNmb3Jtc1tcInJvb3RcIl0pIHtcbiAgICBuZXdSb290LnByb3BzID0gcHJvcFRyYW5zZm9ybXNbXCJyb290XCJdKHJvb3RQcm9wcyk7XG4gIH1cbiAgY29uc3QgZGF0YVdpdGhVcGRhdGVkUm9vdCA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGRlZmF1bHRlZERhdGEpLCB7IHJvb3Q6IG5ld1Jvb3QgfSk7XG4gIGNvbnN0IHVwZGF0ZWREYXRhID0gd2Fsa1RyZWUoXG4gICAgZGF0YVdpdGhVcGRhdGVkUm9vdCxcbiAgICBjb25maWcsXG4gICAgKGNvbnRlbnQpID0+IGNvbnRlbnQubWFwKG1hcEl0ZW0pXG4gICk7XG4gIGlmICghZGVmYXVsdGVkRGF0YS5yb290LnByb3BzKSB7XG4gICAgdXBkYXRlZERhdGEucm9vdCA9IHVwZGF0ZWREYXRhLnJvb3QucHJvcHM7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZWREYXRhO1xufVxuXG4vLyBsaWIvcmVzb2x2ZS1hbGwtZGF0YS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gbGliL3Jlc29sdmUtY29tcG9uZW50LWRhdGEudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi9nZXQtY2hhbmdlZC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCBmZGVxIGZyb20gXCJmYXN0LWRlZXAtZXF1YWxcIjtcbnZhciBnZXRDaGFuZ2VkID0gKG5ld0l0ZW0sIG9sZEl0ZW0pID0+IHtcbiAgcmV0dXJuIG5ld0l0ZW0gPyBPYmplY3Qua2V5cyhuZXdJdGVtLnByb3BzIHx8IHt9KS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuICAgIGNvbnN0IG5ld0l0ZW1Qcm9wcyA9IChuZXdJdGVtID09IG51bGwgPyB2b2lkIDAgOiBuZXdJdGVtLnByb3BzKSB8fCB7fTtcbiAgICBjb25zdCBvbGRJdGVtUHJvcHMgPSAob2xkSXRlbSA9PSBudWxsID8gdm9pZCAwIDogb2xkSXRlbS5wcm9wcykgfHwge307XG4gICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFjYyksIHtcbiAgICAgIFtpdGVtXTogIWZkZXEob2xkSXRlbVByb3BzW2l0ZW1dLCBuZXdJdGVtUHJvcHNbaXRlbV0pXG4gICAgfSk7XG4gIH0sIHt9KSA6IHt9O1xufTtcblxuLy8gbGliL3Jlc29sdmUtY29tcG9uZW50LWRhdGEudHNcbmltcG9ydCBmZGVxMiBmcm9tIFwiZmFzdC1kZWVwLWVxdWFsXCI7XG52YXIgY2FjaGUgPSB7IGxhc3RDaGFuZ2U6IHt9IH07XG52YXIgcmVzb2x2ZUNvbXBvbmVudERhdGEgPSAoXzAsIF8xLCAuLi5fMikgPT4gX19hc3luYyh2b2lkIDAsIFtfMCwgXzEsIC4uLl8yXSwgZnVuY3Rpb24qIChpdGVtLCBjb25maWcsIG1ldGFkYXRhID0ge30sIG9uUmVzb2x2ZVN0YXJ0LCBvblJlc29sdmVFbmQsIHRyaWdnZXIgPSBcInJlcGxhY2VcIikge1xuICBjb25zdCBjb25maWdGb3JJdGVtID0gXCJ0eXBlXCIgaW4gaXRlbSAmJiBpdGVtLnR5cGUgIT09IFwicm9vdFwiID8gY29uZmlnLmNvbXBvbmVudHNbaXRlbS50eXBlXSA6IGNvbmZpZy5yb290O1xuICBjb25zdCByZXNvbHZlZEl0ZW0gPSBfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbSk7XG4gIGNvbnN0IHNob3VsZFJ1blJlc29sdmVyID0gKGNvbmZpZ0Zvckl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZ0Zvckl0ZW0ucmVzb2x2ZURhdGEpICYmIGl0ZW0ucHJvcHM7XG4gIGNvbnN0IGlkID0gXCJpZFwiIGluIGl0ZW0ucHJvcHMgPyBpdGVtLnByb3BzLmlkIDogXCJyb290XCI7XG4gIGlmIChzaG91bGRSdW5SZXNvbHZlcikge1xuICAgIGNvbnN0IHsgaXRlbTogb2xkSXRlbSA9IG51bGwsIHJlc29sdmVkID0ge30gfSA9IGNhY2hlLmxhc3RDaGFuZ2VbaWRdIHx8IHt9O1xuICAgIGlmICh0cmlnZ2VyICE9PSBcImZvcmNlXCIgJiYgaXRlbSAmJiBmZGVxMihpdGVtLCBvbGRJdGVtKSkge1xuICAgICAgcmV0dXJuIHsgbm9kZTogcmVzb2x2ZWQsIGRpZENoYW5nZTogZmFsc2UgfTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlZCA9IGdldENoYW5nZWQoaXRlbSwgb2xkSXRlbSk7XG4gICAgaWYgKG9uUmVzb2x2ZVN0YXJ0KSB7XG4gICAgICBvblJlc29sdmVTdGFydChpdGVtKTtcbiAgICB9XG4gICAgY29uc3QgeyBwcm9wczogcmVzb2x2ZWRQcm9wcywgcmVhZE9ubHkgPSB7fSB9ID0geWllbGQgY29uZmlnRm9ySXRlbS5yZXNvbHZlRGF0YShpdGVtLCB7XG4gICAgICBjaGFuZ2VkLFxuICAgICAgbGFzdERhdGE6IG9sZEl0ZW0sXG4gICAgICBtZXRhZGF0YTogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIG1ldGFkYXRhKSwgY29uZmlnRm9ySXRlbS5tZXRhZGF0YSksXG4gICAgICB0cmlnZ2VyXG4gICAgfSk7XG4gICAgcmVzb2x2ZWRJdGVtLnByb3BzID0gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGl0ZW0ucHJvcHMpLCByZXNvbHZlZFByb3BzKTtcbiAgICBpZiAoT2JqZWN0LmtleXMocmVhZE9ubHkpLmxlbmd0aCkge1xuICAgICAgcmVzb2x2ZWRJdGVtLnJlYWRPbmx5ID0gcmVhZE9ubHk7XG4gICAgfVxuICB9XG4gIGxldCBpdGVtV2l0aFJlc29sdmVkQ2hpbGRyZW4gPSB5aWVsZCBtYXBGaWVsZHMoXG4gICAgcmVzb2x2ZWRJdGVtLFxuICAgIHtcbiAgICAgIHNsb3Q6IChfMDIpID0+IF9fYXN5bmModm9pZCAwLCBbXzAyXSwgZnVuY3Rpb24qICh7IHZhbHVlIH0pIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHZhbHVlO1xuICAgICAgICByZXR1cm4geWllbGQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgY29udGVudC5tYXAoXG4gICAgICAgICAgICAoY2hpbGRJdGVtKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICh5aWVsZCByZXNvbHZlQ29tcG9uZW50RGF0YShcbiAgICAgICAgICAgICAgICBjaGlsZEl0ZW0sXG4gICAgICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIG9uUmVzb2x2ZVN0YXJ0LFxuICAgICAgICAgICAgICAgIG9uUmVzb2x2ZUVuZCxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyXG4gICAgICAgICAgICAgICkpLm5vZGU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgfSxcbiAgICBjb25maWdcbiAgKTtcbiAgaWYgKHNob3VsZFJ1blJlc29sdmVyICYmIG9uUmVzb2x2ZUVuZCkge1xuICAgIG9uUmVzb2x2ZUVuZChyZXNvbHZlZEl0ZW0pO1xuICB9XG4gIGNhY2hlLmxhc3RDaGFuZ2VbaWRdID0ge1xuICAgIGl0ZW0sXG4gICAgcmVzb2x2ZWQ6IGl0ZW1XaXRoUmVzb2x2ZWRDaGlsZHJlblxuICB9O1xuICByZXR1cm4ge1xuICAgIG5vZGU6IGl0ZW1XaXRoUmVzb2x2ZWRDaGlsZHJlbixcbiAgICBkaWRDaGFuZ2U6ICFmZGVxMihpdGVtLCBpdGVtV2l0aFJlc29sdmVkQ2hpbGRyZW4pXG4gIH07XG59KTtcblxuLy8gbGliL2RhdGEvdG8tY29tcG9uZW50LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHRvQ29tcG9uZW50ID0gKGl0ZW0pID0+IHtcbiAgcmV0dXJuIFwidHlwZVwiIGluIGl0ZW0gPyBpdGVtIDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbSksIHtcbiAgICBwcm9wczogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbS5wcm9wcyksIHsgaWQ6IFwicm9vdFwiIH0pLFxuICAgIHR5cGU6IFwicm9vdFwiXG4gIH0pO1xufTtcblxuLy8gbGliL3Jlc29sdmUtYWxsLWRhdGEudHNcbmZ1bmN0aW9uIHJlc29sdmVBbGxEYXRhKF8wLCBfMSkge1xuICByZXR1cm4gX19hc3luYyh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAoZGF0YSwgY29uZmlnLCBtZXRhZGF0YSA9IHt9LCBvblJlc29sdmVTdGFydCwgb25SZXNvbHZlRW5kKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGRlZmF1bHRlZERhdGEgPSBkZWZhdWx0RGF0YShkYXRhKTtcbiAgICBjb25zdCByZXNvbHZlTm9kZSA9IChfbm9kZSkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHRvQ29tcG9uZW50KF9ub2RlKTtcbiAgICAgIG9uUmVzb2x2ZVN0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblJlc29sdmVTdGFydChub2RlKTtcbiAgICAgIGNvbnN0IHJlc29sdmVkID0gKHlpZWxkIHJlc29sdmVDb21wb25lbnREYXRhKFxuICAgICAgICBub2RlLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgfSxcbiAgICAgICAgXCJmb3JjZVwiXG4gICAgICApKS5ub2RlO1xuICAgICAgY29uc3QgcmVzb2x2ZWREZWVwID0geWllbGQgbWFwRmllbGRzKFxuICAgICAgICByZXNvbHZlZCxcbiAgICAgICAgeyBzbG90OiAoeyB2YWx1ZSB9KSA9PiBwcm9jZXNzQ29udGVudCh2YWx1ZSkgfSxcbiAgICAgICAgY29uZmlnXG4gICAgICApO1xuICAgICAgb25SZXNvbHZlRW5kID09IG51bGwgPyB2b2lkIDAgOiBvblJlc29sdmVFbmQodG9Db21wb25lbnQocmVzb2x2ZWREZWVwKSk7XG4gICAgICByZXR1cm4gcmVzb2x2ZWREZWVwO1xuICAgIH0pO1xuICAgIGNvbnN0IHByb2Nlc3NDb250ZW50ID0gKGNvbnRlbnQpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChjb250ZW50Lm1hcChyZXNvbHZlTm9kZSkpO1xuICAgIH0pO1xuICAgIGNvbnN0IHByb2Nlc3Nab25lcyA9ICgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBjb25zdCB6b25lcyA9IChfYTIgPSBkYXRhLnpvbmVzKSAhPSBudWxsID8gX2EyIDoge307XG4gICAgICBPYmplY3QuZW50cmllcyh6b25lcykuZm9yRWFjaCgoXzAyKSA9PiBfX2FzeW5jKHRoaXMsIFtfMDJdLCBmdW5jdGlvbiogKFt6b25lS2V5LCBjb250ZW50XSkge1xuICAgICAgICB6b25lc1t6b25lS2V5XSA9IHlpZWxkIFByb21pc2UuYWxsKGNvbnRlbnQubWFwKHJlc29sdmVOb2RlKSk7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gem9uZXM7XG4gICAgfSk7XG4gICAgY29uc3QgZHluYW1pYyA9IHtcbiAgICAgIHJvb3Q6IHlpZWxkIHJlc29sdmVOb2RlKGRlZmF1bHRlZERhdGEucm9vdCksXG4gICAgICBjb250ZW50OiB5aWVsZCBwcm9jZXNzQ29udGVudChkZWZhdWx0ZWREYXRhLmNvbnRlbnQpLFxuICAgICAgem9uZXM6IHlpZWxkIHByb2Nlc3Nab25lcygpXG4gICAgfTtcbiAgICBPYmplY3Qua2V5cygoX2EgPSBkZWZhdWx0ZWREYXRhLnpvbmVzKSAhPSBudWxsID8gX2EgOiB7fSkuZm9yRWFjaCgoem9uZUtleSkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgY29udGVudCA9IGRlZmF1bHRlZERhdGEuem9uZXNbem9uZUtleV07XG4gICAgICBkeW5hbWljLnpvbmVzW3pvbmVLZXldID0geWllbGQgcHJvY2Vzc0NvbnRlbnQoY29udGVudCk7XG4gICAgfSksIHt9KTtcbiAgICByZXR1cm4gZHluYW1pYztcbiAgfSk7XG59XG5cbi8vIGxpYi9kYXRhL3NldHVwLXpvbmUudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc2V0dXBab25lID0gKGRhdGEsIHpvbmVLZXkpID0+IHtcbiAgaWYgKHpvbmVLZXkgPT09IHJvb3REcm9wcGFibGVJZCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIGNvbnN0IG5ld0RhdGEgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBkYXRhKSwge1xuICAgIHpvbmVzOiBkYXRhLnpvbmVzID8gX19zcHJlYWRWYWx1ZXMoe30sIGRhdGEuem9uZXMpIDoge31cbiAgfSk7XG4gIG5ld0RhdGEuem9uZXNbem9uZUtleV0gPSBuZXdEYXRhLnpvbmVzW3pvbmVLZXldIHx8IFtdO1xuICByZXR1cm4gbmV3RGF0YTtcbn07XG5cbi8vIGxpYi9maWVsZC10cmFuc2Zvcm1zL3VzZS1maWVsZC10cmFuc2Zvcm1zLnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZUZpZWxkVHJhbnNmb3Jtcyhjb25maWcsIGl0ZW0sIHRyYW5zZm9ybXMsIHJlYWRPbmx5LCBmb3JjZVJlYWRPbmx5KSB7XG4gIGNvbnN0IG1hcHBlcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModHJhbnNmb3JtcykucmVkdWNlKChhY2MsIF9maWVsZFR5cGUpID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkVHlwZSA9IF9maWVsZFR5cGU7XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgYWNjKSwge1xuICAgICAgICBbZmllbGRUeXBlXTogKF9hKSA9PiB7XG4gICAgICAgICAgdmFyIF9iID0gX2EsIHtcbiAgICAgICAgICAgIHBhcmVudElkXG4gICAgICAgICAgfSA9IF9iLCBwYXJhbXMgPSBfX29ialJlc3QoX2IsIFtcbiAgICAgICAgICAgIFwicGFyZW50SWRcIlxuICAgICAgICAgIF0pO1xuICAgICAgICAgIGNvbnN0IHdpbGRjYXJkUGF0aCA9IHBhcmFtcy5wcm9wUGF0aC5yZXBsYWNlKC9cXFtcXGQrXFxdL2csIFwiWypdXCIpO1xuICAgICAgICAgIGNvbnN0IGlzUmVhZE9ubHkgPSAocmVhZE9ubHkgPT0gbnVsbCA/IHZvaWQgMCA6IHJlYWRPbmx5W3BhcmFtcy5wcm9wUGF0aF0pIHx8IChyZWFkT25seSA9PSBudWxsID8gdm9pZCAwIDogcmVhZE9ubHlbd2lsZGNhcmRQYXRoXSkgfHwgZm9yY2VSZWFkT25seSB8fCBmYWxzZTtcbiAgICAgICAgICBjb25zdCBmbiA9IHRyYW5zZm9ybXNbZmllbGRUeXBlXTtcbiAgICAgICAgICByZXR1cm4gZm4gPT0gbnVsbCA/IHZvaWQgMCA6IGZuKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHBhcmFtcyksIHtcbiAgICAgICAgICAgIGlzUmVhZE9ubHksXG4gICAgICAgICAgICBjb21wb25lbnRJZDogcGFyZW50SWRcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIHt9KTtcbiAgfSwgW3RyYW5zZm9ybXMsIHJlYWRPbmx5LCBmb3JjZVJlYWRPbmx5XSk7XG4gIGNvbnN0IHRyYW5zZm9ybWVkUHJvcHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBtYXBwZWQgPSBtYXBGaWVsZHMoaXRlbSwgbWFwcGVycywgY29uZmlnKS5wcm9wcztcbiAgICByZXR1cm4gbWFwcGVkO1xuICB9LCBbY29uZmlnLCBpdGVtLCBtYXBwZXJzXSk7XG4gIGNvbnN0IG1lcmdlZFByb3BzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbS5wcm9wcyksIHRyYW5zZm9ybWVkUHJvcHMpLFxuICAgIFtpdGVtLnByb3BzLCB0cmFuc2Zvcm1lZFByb3BzXVxuICApO1xuICByZXR1cm4gbWVyZ2VkUHJvcHM7XG59XG5cbi8vIGxpYi9maWVsZC10cmFuc2Zvcm1zL2RlZmF1bHQtdHJhbnNmb3Jtcy9zbG90LXRyYW5zZm9ybS50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZ2V0U2xvdFRyYW5zZm9ybSA9IChyZW5kZXJTbG90RWRpdCwgcmVuZGVyU2xvdFJlbmRlciA9IHJlbmRlclNsb3RFZGl0KSA9PiAoe1xuICBzbG90OiAoeyB2YWx1ZTogY29udGVudCwgcHJvcE5hbWUsIGZpZWxkLCBpc1JlYWRPbmx5IH0pID0+IHtcbiAgICBjb25zdCByZW5kZXIgPSBpc1JlYWRPbmx5ID8gcmVuZGVyU2xvdFJlbmRlciA6IHJlbmRlclNsb3RFZGl0O1xuICAgIGNvbnN0IFNsb3QgPSAoZHpQcm9wcykgPT4gcmVuZGVyKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgYWxsb3c6IChmaWVsZCA9PSBudWxsID8gdm9pZCAwIDogZmllbGQudHlwZSkgPT09IFwic2xvdFwiID8gZmllbGQuYWxsb3cgOiBbXSxcbiAgICAgIGRpc2FsbG93OiAoZmllbGQgPT0gbnVsbCA/IHZvaWQgMCA6IGZpZWxkLnR5cGUpID09PSBcInNsb3RcIiA/IGZpZWxkLmRpc2FsbG93IDogW11cbiAgICB9LCBkelByb3BzKSwge1xuICAgICAgem9uZTogcHJvcE5hbWUsXG4gICAgICBjb250ZW50XG4gICAgfSkpO1xuICAgIHJldHVybiBTbG90O1xuICB9XG59KTtcblxuLy8gbGliL3VzZS1zbG90cy50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5mdW5jdGlvbiB1c2VTbG90cyhjb25maWcsIGl0ZW0sIHJlbmRlclNsb3RFZGl0LCByZW5kZXJTbG90UmVuZGVyID0gcmVuZGVyU2xvdEVkaXQsIHJlYWRPbmx5LCBmb3JjZVJlYWRPbmx5KSB7XG4gIHJldHVybiB1c2VGaWVsZFRyYW5zZm9ybXMoXG4gICAgY29uZmlnLFxuICAgIGl0ZW0sXG4gICAgZ2V0U2xvdFRyYW5zZm9ybShyZW5kZXJTbG90RWRpdCwgcmVuZGVyU2xvdFJlbmRlciksXG4gICAgcmVhZE9ubHksXG4gICAgZm9yY2VSZWFkT25seVxuICApO1xufVxuXG4vLyBjb21wb25lbnRzL1Nsb3RSZW5kZXIvc2VydmVyLnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFNsb3RSZW5kZXJQdXJlID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFNsb3RSZW5kZXIsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xudmFyIEl0ZW0gPSAoe1xuICBjb25maWcsXG4gIGl0ZW0sXG4gIG1ldGFkYXRhXG59KSA9PiB7XG4gIGNvbnN0IENvbXBvbmVudCA9IGNvbmZpZy5jb21wb25lbnRzW2l0ZW0udHlwZV07XG4gIGNvbnN0IHByb3BzID0gdXNlU2xvdHMoY29uZmlnLCBpdGVtLCAoc2xvdFByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFNsb3RSZW5kZXJQdXJlLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzbG90UHJvcHMpLCB7IGNvbmZpZywgbWV0YWRhdGEgfSkpKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgQ29tcG9uZW50LnJlbmRlcixcbiAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHtcbiAgICAgIHB1Y2s6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzLnB1Y2spLCB7XG4gICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YSB8fCB7fVxuICAgICAgfSlcbiAgICB9KVxuICApO1xufTtcbnZhciBTbG90UmVuZGVyID0gZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24gU2xvdFJlbmRlckludGVybmFsKHsgY2xhc3NOYW1lLCBzdHlsZSwgY29udGVudCwgY29uZmlnLCBtZXRhZGF0YSB9LCByZWYpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZSwgc3R5bGUsIHJlZiwgY2hpbGRyZW46IGNvbnRlbnQubWFwKChpdGVtKSA9PiB7XG4gICAgICBpZiAoIWNvbmZpZy5jb21wb25lbnRzW2l0ZW0udHlwZV0pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgSXRlbSxcbiAgICAgICAge1xuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBpdGVtLFxuICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgIH0sXG4gICAgICAgIGl0ZW0ucHJvcHMuaWRcbiAgICAgICk7XG4gICAgfSkgfSk7XG4gIH1cbik7XG5cbmV4cG9ydCB7XG4gIF9fc3ByZWFkVmFsdWVzLFxuICBfX3NwcmVhZFByb3BzLFxuICBfX29ialJlc3QsXG4gIF9fY29tbW9uSlMsXG4gIF9fdG9FU00sXG4gIF9fYXN5bmMsXG4gIGluaXRfcmVhY3RfaW1wb3J0LFxuICByb290QXJlYUlkLFxuICByb290Wm9uZSxcbiAgcm9vdERyb3BwYWJsZUlkLFxuICBkZWZhdWx0U2xvdHMsXG4gIHdhbGtGaWVsZCxcbiAgZXhwYW5kTm9kZSxcbiAgd2Fsa0FwcFN0YXRlLFxuICB3YWxrVHJlZSxcbiAgc2V0dXBab25lLFxuICBkZWZhdWx0Vmlld3BvcnRzLFxuICBnZXRDaGFuZ2VkLFxuICByZXNvbHZlQ29tcG9uZW50RGF0YSxcbiAgZGVmYXVsdEFwcFN0YXRlLFxuICB1c2VGaWVsZFRyYW5zZm9ybXMsXG4gIGdldFNsb3RUcmFuc2Zvcm0sXG4gIHVzZVNsb3RzLFxuICBTbG90UmVuZGVyUHVyZSxcbiAgU2xvdFJlbmRlcixcbiAgbWlncmF0ZSxcbiAgdHJhbnNmb3JtUHJvcHMsXG4gIHJlc29sdmVBbGxEYXRhXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-OOLYDXKW.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-QIGVND56.mjs":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-QIGVND56.mjs ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Action: () => (/* binding */ Action),\n/* harmony export */   ActionBar: () => (/* binding */ ActionBar),\n/* harmony export */   AutoField: () => (/* binding */ AutoField),\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   Drawer: () => (/* binding */ Drawer),\n/* harmony export */   DropZone: () => (/* binding */ DropZone),\n/* harmony export */   FieldLabel: () => (/* binding */ FieldLabel),\n/* harmony export */   Group: () => (/* binding */ Group),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   Label: () => (/* binding */ Label),\n/* harmony export */   Puck: () => (/* binding */ Puck),\n/* harmony export */   Render: () => (/* binding */ Render),\n/* harmony export */   createUsePuck: () => (/* binding */ createUsePuck),\n/* harmony export */   overrideKeys: () => (/* binding */ overrideKeys),\n/* harmony export */   registerOverlayPortal: () => (/* binding */ registerOverlayPortal),\n/* harmony export */   renderContext: () => (/* binding */ renderContext),\n/* harmony export */   setDeep: () => (/* binding */ setDeep),\n/* harmony export */   useGetPuck: () => (/* binding */ useGetPuck),\n/* harmony export */   usePuck: () => (/* binding */ usePuck)\n/* harmony export */ });\n/* harmony import */ var _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-OOLYDXKW.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-OOLYDXKW.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zustand/middleware */ \"(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/middleware.mjs\");\n/* harmony import */ var _dnd_kit_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @dnd-kit/react */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/index.js\");\n/* harmony import */ var _dnd_kit_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @dnd-kit/dom */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/index.js\");\n/* harmony import */ var _dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @dnd-kit/dom/utilities */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+dom@0.1.21/node_modules/@dnd-kit/dom/utilities.js\");\n/* harmony import */ var _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @dnd-kit/abstract */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+abstract@0.1.21/node_modules/@dnd-kit/abstract/index.js\");\n/* harmony import */ var _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @dnd-kit/geometry */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+geometry@0.1.21/node_modules/@dnd-kit/geometry/dist/index.mjs\");\n/* harmony import */ var zustand_vanilla__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla.mjs\");\n/* harmony import */ var _dnd_kit_react_sortable__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @dnd-kit/react/sortable */ \"(app-pages-browser)/./node_modules/.pnpm/@dnd-kit+react@0.1.18_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/react/sortable.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react-dom/index.js\");\n/* harmony import */ var zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! zustand/react/shallow */ \"(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react/shallow.mjs\");\n/* harmony import */ var use_debounce__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! use-debounce */ \"(app-pages-browser)/./node_modules/.pnpm/use-debounce@9.0.4_react@19.2.0/node_modules/use-debounce/dist/index.module.js\");\n/* harmony import */ var _dnd_kit_state__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @dnd-kit/state */ \"(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\");\n/* harmony import */ var object_hash__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! object-hash */ \"(app-pages-browser)/./node_modules/.pnpm/object-hash@3.0.0/node_modules/object-hash/dist/object_hash.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! fast-deep-equal */ \"(app-pages-browser)/./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js\");\n\n\n// ../../node_modules/classnames/index.js\nvar require_classnames = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__commonJS)({\n  \"../../node_modules/classnames/index.js\"(exports, module) {\n    \"use strict\";\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n    (function() {\n      \"use strict\";\n      var hasOwn = {}.hasOwnProperty;\n      function classNames() {\n        var classes = \"\";\n        for (var i = 0; i < arguments.length; i++) {\n          var arg = arguments[i];\n          if (arg) {\n            classes = appendClass(classes, parseValue(arg));\n          }\n        }\n        return classes;\n      }\n      function parseValue(arg) {\n        if (typeof arg === \"string\" || typeof arg === \"number\") {\n          return arg;\n        }\n        if (typeof arg !== \"object\") {\n          return \"\";\n        }\n        if (Array.isArray(arg)) {\n          return classNames.apply(null, arg);\n        }\n        if (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes(\"[native code]\")) {\n          return arg.toString();\n        }\n        var classes = \"\";\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes = appendClass(classes, key);\n          }\n        }\n        return classes;\n      }\n      function appendClass(value, newClass) {\n        if (!newClass) {\n          return value;\n        }\n        if (value) {\n          return value + \" \" + newClass;\n        }\n        return value + newClass;\n      }\n      if (typeof module !== \"undefined\" && module.exports) {\n        classNames.default = classNames;\n        module.exports = classNames;\n      } else if (typeof define === \"function\" && typeof define.amd === \"object\" && define.amd) {\n        define(\"classnames\", [], function() {\n          return classNames;\n        });\n      } else {\n        window.classNames = classNames;\n      }\n    })();\n  }\n});\n\n// types/API/Overrides.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar overrideKeys = [\n  \"header\",\n  \"headerActions\",\n  \"fields\",\n  \"fieldLabel\",\n  \"drawer\",\n  \"drawerItem\",\n  \"componentOverlay\",\n  \"outline\",\n  \"puck\",\n  \"preview\"\n];\n\n// components/ActionBar/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/get-class-name-factory.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar import_classnames = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__toESM)(require_classnames());\nvar getClassNameFactory = (rootClass, styles2, config = { baseClass: \"\" }) => (options = {}) => {\n  if (typeof options === \"string\") {\n    const descendant = options;\n    const style = styles2[`${rootClass}-${descendant}`];\n    if (style) {\n      return config.baseClass + styles2[`${rootClass}-${descendant}`] || \"\";\n    }\n    return \"\";\n  } else if (typeof options === \"object\") {\n    const modifiers = options;\n    const prefixedModifiers = {};\n    for (let modifier in modifiers) {\n      prefixedModifiers[styles2[`${rootClass}--${modifier}`]] = modifiers[modifier];\n    }\n    const c = styles2[rootClass];\n    return config.baseClass + (0, import_classnames.default)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n      [c]: !!c\n    }, prefixedModifiers));\n  } else {\n    return config.baseClass + styles2[rootClass] || \"\";\n  }\n};\nvar get_class_name_factory_default = getClassNameFactory;\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/ActionBar/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default = { \"ActionBar\": \"_ActionBar_rvadt_1\", \"ActionBar-label\": \"_ActionBar-label_rvadt_18\", \"ActionBar-action\": \"_ActionBar-action_rvadt_30\", \"ActionBar-group\": \"_ActionBar-group_rvadt_38\" };\n\n// components/ActionBar/index.tsx\n\nvar getClassName = get_class_name_factory_default(\"ActionBar\", styles_module_default);\nvar ActionBar = ({\n  label,\n  children\n}) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n  \"div\",\n  {\n    className: getClassName(),\n    onClick: (e) => {\n      e.stopPropagation();\n    },\n    children: [\n      label && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ActionBar.Group, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName(\"label\"), children: label }) }),\n      children\n    ]\n  }\n);\nvar Action = ({\n  children,\n  label,\n  onClick\n}) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n  \"button\",\n  {\n    type: \"button\",\n    className: getClassName(\"action\"),\n    onClick,\n    title: label,\n    children\n  }\n);\nvar Group = ({ children }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName(\"group\"), children });\nvar Label = ({ label }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName(\"label\"), children: label });\nActionBar.Action = Action;\nActionBar.Label = Label;\nActionBar.Group = Group;\n\n// components/IconButton/IconButton.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/IconButton/IconButton.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar IconButton_module_default = { \"IconButton\": \"_IconButton_swpni_1\", \"IconButton--disabled\": \"_IconButton--disabled_swpni_20\", \"IconButton-title\": \"_IconButton-title_swpni_33\" };\n\n// components/Loader/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/filter.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/data/reorder.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\n// lib/data/replace.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar replace = (list, index, newItem) => {\n  const result = Array.from(list);\n  result.splice(index, 1);\n  result.splice(index, 0, newItem);\n  return result;\n};\n\n// lib/use-reset-auto-zoom.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// store/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// reducer/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// reducer/actions/set.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar setAction = (state, action, appStore) => {\n  if (typeof action.state === \"object\") {\n    const newState = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), action.state);\n    if (action.state.indexes) {\n      return newState;\n    }\n    console.warn(\n      \"`set` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead.\"\n    );\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(newState, appStore.config);\n  }\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), action.state(state));\n};\n\n// reducer/actions/insert.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/data/insert.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar insert = (list, index, item) => {\n  const result = Array.from(list || []);\n  result.splice(index, 0, item);\n  return result;\n};\n\n// lib/generate-id.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar generateId = (type) => type ? `${type}-${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}` : (0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n\n// lib/data/get-ids-for-parent.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar getIdsForParent = (zoneCompound, state) => {\n  const [parentId] = zoneCompound.split(\":\");\n  const node = state.indexes.nodes[parentId];\n  return ((node == null ? void 0 : node.path) || []).map((p) => p.split(\":\")[0]);\n};\n\n// lib/data/populate-ids.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar populateIds = (data, config, override = false) => {\n  const id = generateId(data.type);\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkTree)(\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, data), {\n      props: override ? (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, data.props), { id }) : (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, data.props)\n    }),\n    config,\n    (contents) => contents.map((item) => {\n      const id2 = generateId(item.type);\n      return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, item), {\n        props: override ? (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, item.props), { id: id2 }) : (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({ id: id2 }, item.props)\n      });\n    })\n  );\n};\n\n// reducer/actions/insert.ts\nfunction insertAction(state, action, appStore) {\n  const id = action.id || generateId(action.componentType);\n  const emptyComponentData = populateIds(\n    {\n      type: action.componentType,\n      props: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, appStore.config.components[action.componentType].defaultProps || {}), {\n        id\n      })\n    },\n    appStore.config\n  );\n  const [parentId] = action.destinationZone.split(\":\");\n  const idsInPath = getIdsForParent(action.destinationZone, state);\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    state,\n    appStore.config,\n    (content, zoneCompound) => {\n      if (zoneCompound === action.destinationZone) {\n        return insert(\n          content || [],\n          action.destinationIndex,\n          emptyComponentData\n        );\n      }\n      return content;\n    },\n    (childItem, path) => {\n      if (childItem.props.id === id || childItem.props.id === parentId) {\n        return childItem;\n      } else if (idsInPath.includes(childItem.props.id)) {\n        return childItem;\n      } else if (path.includes(action.destinationZone)) {\n        return childItem;\n      }\n      return null;\n    }\n  );\n}\n\n// reducer/actions/replace.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar replaceAction = (state, action, appStore) => {\n  const [parentId] = action.destinationZone.split(\":\");\n  const idsInPath = getIdsForParent(action.destinationZone, state);\n  const originalId = state.indexes.zones[action.destinationZone].contentIds[action.destinationIndex];\n  const idChanged = originalId !== action.data.props.id;\n  if (idChanged) {\n    throw new Error(\n      `Can't change the id during a replace action. Please us \"remove\" and \"insert\" to define a new node.`\n    );\n  }\n  const newSlotIds = [];\n  const data = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkTree)(action.data, appStore.config, (contents, opts) => {\n    newSlotIds.push(`${opts.parentId}:${opts.propName}`);\n    return contents.map((item) => {\n      const id = generateId(item.type);\n      return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, item), {\n        props: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({ id }, item.props)\n      });\n    });\n  });\n  const stateWithDeepSlotsRemoved = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state);\n  Object.keys(state.indexes.zones).forEach((zoneCompound) => {\n    const id = zoneCompound.split(\":\")[0];\n    if (id === originalId) {\n      if (!newSlotIds.includes(zoneCompound)) {\n        delete stateWithDeepSlotsRemoved.indexes.zones[zoneCompound];\n      }\n    }\n  });\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    stateWithDeepSlotsRemoved,\n    appStore.config,\n    (content, zoneCompound) => {\n      const newContent = [...content];\n      if (zoneCompound === action.destinationZone) {\n        newContent[action.destinationIndex] = data;\n      }\n      return newContent;\n    },\n    (childItem, path) => {\n      const pathIds = path.map((p) => p.split(\":\")[0]);\n      if (childItem.props.id === data.props.id) {\n        return data;\n      } else if (childItem.props.id === parentId) {\n        return childItem;\n      } else if (idsInPath.indexOf(childItem.props.id) > -1) {\n        return childItem;\n      } else if (pathIds.indexOf(data.props.id) > -1) {\n        return childItem;\n      }\n      return null;\n    }\n  );\n};\n\n// reducer/actions/replace-root.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar replaceRootAction = (state, action, appStore) => {\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    state,\n    appStore.config,\n    (content) => content,\n    (childItem) => {\n      if (childItem.props.id === \"root\") {\n        return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, childItem), {\n          props: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, childItem.props), action.root.props),\n          readOnly: action.root.readOnly\n        });\n      }\n      return childItem;\n    }\n  );\n};\n\n// reducer/actions/duplicate.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/data/get-item.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nfunction getItem(selector, state) {\n  var _a, _b;\n  const zone = (_a = state.indexes.zones) == null ? void 0 : _a[selector.zone || _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId];\n  return zone ? (_b = state.indexes.nodes[zone.contentIds[selector.index]]) == null ? void 0 : _b.data : void 0;\n}\n\n// reducer/actions/duplicate.ts\nfunction duplicateAction(state, action, appStore) {\n  const item = getItem(\n    { index: action.sourceIndex, zone: action.sourceZone },\n    state\n  );\n  const idsInPath = getIdsForParent(action.sourceZone, state);\n  const newItem = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, item), {\n    props: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, item.props), {\n      id: generateId(item.type)\n    })\n  });\n  const modified = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    state,\n    appStore.config,\n    (content, zoneCompound) => {\n      if (zoneCompound === action.sourceZone) {\n        return insert(content, action.sourceIndex + 1, item);\n      }\n      return content;\n    },\n    (childItem, path, index) => {\n      const zoneCompound = path[path.length - 1];\n      const parents = path.map((p) => p.split(\":\")[0]);\n      if (parents.indexOf(newItem.props.id) > -1) {\n        return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, childItem), {\n          props: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, childItem.props), {\n            id: generateId(childItem.type)\n          })\n        });\n      }\n      if (zoneCompound === action.sourceZone && index === action.sourceIndex + 1) {\n        return newItem;\n      }\n      const [sourceZoneParent] = action.sourceZone.split(\":\");\n      if (sourceZoneParent === childItem.props.id || idsInPath.indexOf(childItem.props.id) > -1) {\n        return childItem;\n      }\n      return null;\n    }\n  );\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, modified), {\n    ui: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, modified.ui), {\n      itemSelector: {\n        index: action.sourceIndex + 1,\n        zone: action.sourceZone\n      }\n    })\n  });\n}\n\n// reducer/actions/reorder.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// reducer/actions/move.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/data/remove.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar remove = (list, index) => {\n  const result = Array.from(list);\n  result.splice(index, 1);\n  return result;\n};\n\n// reducer/actions/move.ts\nvar moveAction = (state, action, appStore) => {\n  if (action.sourceZone === action.destinationZone && action.sourceIndex === action.destinationIndex) {\n    return state;\n  }\n  const item = getItem(\n    { zone: action.sourceZone, index: action.sourceIndex },\n    state\n  );\n  if (!item) return state;\n  const idsInSourcePath = getIdsForParent(action.sourceZone, state);\n  const idsInDestinationPath = getIdsForParent(action.destinationZone, state);\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    state,\n    appStore.config,\n    (content, zoneCompound) => {\n      if (zoneCompound === action.sourceZone && zoneCompound === action.destinationZone) {\n        return insert(\n          remove(content, action.sourceIndex),\n          action.destinationIndex,\n          item\n        );\n      } else if (zoneCompound === action.sourceZone) {\n        return remove(content, action.sourceIndex);\n      } else if (zoneCompound === action.destinationZone) {\n        return insert(content, action.destinationIndex, item);\n      }\n      return content;\n    },\n    (childItem, path) => {\n      const [sourceZoneParent] = action.sourceZone.split(\":\");\n      const [destinationZoneParent] = action.destinationZone.split(\":\");\n      const childId = childItem.props.id;\n      if (sourceZoneParent === childId || destinationZoneParent === childId || item.props.id === childId || idsInSourcePath.indexOf(childId) > -1 || idsInDestinationPath.indexOf(childId) > -1 || path.includes(action.destinationZone)) {\n        return childItem;\n      }\n      return null;\n    }\n  );\n};\n\n// reducer/actions/reorder.ts\nvar reorderAction = (state, action, appStore) => {\n  return moveAction(\n    state,\n    {\n      type: \"move\",\n      sourceIndex: action.sourceIndex,\n      sourceZone: action.destinationZone,\n      destinationIndex: action.destinationIndex,\n      destinationZone: action.destinationZone\n    },\n    appStore\n  );\n};\n\n// reducer/actions/remove.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar removeAction = (state, action, appStore) => {\n  const item = getItem({ index: action.index, zone: action.zone }, state);\n  const nodesToDelete = Object.entries(state.indexes.nodes).reduce(\n    (acc, [nodeId, nodeData]) => {\n      const pathIds = nodeData.path.map((p) => p.split(\":\")[0]);\n      if (pathIds.includes(item.props.id)) {\n        return [...acc, nodeId];\n      }\n      return acc;\n    },\n    [item.props.id]\n  );\n  const newState = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    state,\n    appStore.config,\n    (content, zoneCompound) => {\n      if (zoneCompound === action.zone) {\n        return remove(content, action.index);\n      }\n      return content;\n    }\n  );\n  Object.keys(newState.data.zones || {}).forEach((zoneCompound) => {\n    const parentId = zoneCompound.split(\":\")[0];\n    if (nodesToDelete.includes(parentId) && newState.data.zones) {\n      delete newState.data.zones[zoneCompound];\n    }\n  });\n  Object.keys(newState.indexes.zones).forEach((zoneCompound) => {\n    const parentId = zoneCompound.split(\":\")[0];\n    if (nodesToDelete.includes(parentId)) {\n      delete newState.indexes.zones[zoneCompound];\n    }\n  });\n  nodesToDelete.forEach((id) => {\n    delete newState.indexes.nodes[id];\n  });\n  return newState;\n};\n\n// reducer/actions/register-zone.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar zoneCache = {};\nfunction registerZoneAction(state, action) {\n  if (zoneCache[action.zone]) {\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), {\n      data: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.data), {\n        zones: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.data.zones), {\n          [action.zone]: zoneCache[action.zone]\n        })\n      }),\n      indexes: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.indexes), {\n        zones: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.indexes.zones), {\n          [action.zone]: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.indexes.zones[action.zone]), {\n            contentIds: zoneCache[action.zone].map((item) => item.props.id),\n            type: \"dropzone\"\n          })\n        })\n      })\n    });\n  }\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), { data: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.setupZone)(state.data, action.zone) });\n}\nfunction unregisterZoneAction(state, action) {\n  const _zones = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.data.zones || {});\n  const zoneIndex = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.indexes.zones || {});\n  if (_zones[action.zone]) {\n    zoneCache[action.zone] = _zones[action.zone];\n    delete _zones[action.zone];\n  }\n  delete zoneIndex[action.zone];\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), {\n    data: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.data), {\n      zones: _zones\n    }),\n    indexes: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.indexes), {\n      zones: zoneIndex\n    })\n  });\n}\n\n// reducer/actions/set-data.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar setDataAction = (state, action, appStore) => {\n  if (typeof action.data === \"object\") {\n    console.warn(\n      \"`setData` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead.\"\n    );\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n      (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), {\n        data: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.data), action.data)\n      }),\n      appStore.config\n    );\n  }\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), {\n      data: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.data), action.data(state.data))\n    }),\n    appStore.config\n  );\n};\n\n// reducer/actions/set-ui.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar setUiAction = (state, action) => {\n  if (typeof action.ui === \"object\") {\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), {\n      ui: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.ui), action.ui)\n    });\n  }\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), {\n    ui: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.ui), action.ui(state.ui))\n  });\n};\n\n// lib/data/make-state-public.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar makeStatePublic = (state) => {\n  const { data, ui } = state;\n  return { data, ui };\n};\n\n// reducer/actions.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// reducer/index.ts\nfunction storeInterceptor(reducer, record, onAction) {\n  return (state, action) => {\n    const newAppState = reducer(state, action);\n    const isValidType = ![\n      \"registerZone\",\n      \"unregisterZone\",\n      \"setData\",\n      \"setUi\",\n      \"set\"\n    ].includes(action.type);\n    if (typeof action.recordHistory !== \"undefined\" ? action.recordHistory : isValidType) {\n      if (record) record(newAppState);\n    }\n    onAction == null ? void 0 : onAction(action, makeStatePublic(newAppState), makeStatePublic(state));\n    return newAppState;\n  };\n}\nfunction createReducer({\n  record,\n  onAction,\n  appStore\n}) {\n  return storeInterceptor(\n    (state, action) => {\n      if (action.type === \"set\") {\n        return setAction(state, action, appStore);\n      }\n      if (action.type === \"insert\") {\n        return insertAction(state, action, appStore);\n      }\n      if (action.type === \"replace\") {\n        return replaceAction(state, action, appStore);\n      }\n      if (action.type === \"replaceRoot\") {\n        return replaceRootAction(state, action, appStore);\n      }\n      if (action.type === \"duplicate\") {\n        return duplicateAction(state, action, appStore);\n      }\n      if (action.type === \"reorder\") {\n        return reorderAction(state, action, appStore);\n      }\n      if (action.type === \"move\") {\n        return moveAction(state, action, appStore);\n      }\n      if (action.type === \"remove\") {\n        return removeAction(state, action, appStore);\n      }\n      if (action.type === \"registerZone\") {\n        return registerZoneAction(state, action);\n      }\n      if (action.type === \"unregisterZone\") {\n        return unregisterZoneAction(state, action);\n      }\n      if (action.type === \"setData\") {\n        return setDataAction(state, action, appStore);\n      }\n      if (action.type === \"setUi\") {\n        return setUiAction(state, action);\n      }\n      return state;\n    },\n    record,\n    onAction\n  );\n}\n\n// store/index.ts\n\n\n\n\n// store/slices/history.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/use-hotkey.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n\nvar keyCodeMap = {\n  ControlLeft: \"ctrl\",\n  ControlRight: \"ctrl\",\n  MetaLeft: \"meta\",\n  MetaRight: \"meta\",\n  ShiftLeft: \"shift\",\n  ShiftRight: \"shift\",\n  KeyA: \"a\",\n  KeyB: \"b\",\n  KeyC: \"c\",\n  KeyD: \"d\",\n  KeyE: \"e\",\n  KeyF: \"f\",\n  KeyG: \"g\",\n  KeyH: \"h\",\n  KeyI: \"i\",\n  KeyJ: \"j\",\n  KeyK: \"k\",\n  KeyL: \"l\",\n  KeyM: \"m\",\n  KeyN: \"n\",\n  KeyO: \"o\",\n  KeyP: \"p\",\n  KeyQ: \"q\",\n  KeyR: \"r\",\n  KeyS: \"s\",\n  KeyT: \"t\",\n  KeyU: \"u\",\n  KeyV: \"v\",\n  KeyW: \"w\",\n  KeyX: \"x\",\n  KeyY: \"y\",\n  KeyZ: \"z\"\n};\nvar useHotkeyStore = (0,zustand__WEBPACK_IMPORTED_MODULE_4__.create)()(\n  (0,zustand_middleware__WEBPACK_IMPORTED_MODULE_5__.subscribeWithSelector)((set) => ({\n    held: {},\n    hold: (key) => set((s) => s.held[key] ? s : { held: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.held), { [key]: true }) }),\n    release: (key) => set((s) => s.held[key] ? { held: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.held), { [key]: false }) } : s),\n    reset: (held = {}) => set(() => ({ held })),\n    triggers: {}\n  }))\n);\nvar monitorHotkeys = (doc) => {\n  const onKeyDown = (e) => {\n    const key = keyCodeMap[e.code];\n    if (key) {\n      useHotkeyStore.getState().hold(key);\n      const { held, triggers } = useHotkeyStore.getState();\n      Object.values(triggers).forEach(({ combo, cb }) => {\n        const conditionMet = Object.entries(combo).every(\n          ([key2, value]) => value === !!held[key2]\n        ) && Object.entries(held).every(\n          ([key2, value]) => value === !!combo[key2]\n        );\n        if (conditionMet) {\n          e.preventDefault();\n          cb();\n        }\n      });\n      if (key !== \"meta\" && key !== \"ctrl\" && key !== \"shift\") {\n        useHotkeyStore.getState().release(key);\n      }\n    }\n  };\n  const onKeyUp = (e) => {\n    const key = keyCodeMap[e.code];\n    if (key) {\n      if (key === \"meta\") {\n        useHotkeyStore.getState().reset();\n      } else {\n        useHotkeyStore.getState().release(key);\n      }\n    }\n  };\n  const onVisibilityChanged = (e) => {\n    if (document.visibilityState === \"hidden\") {\n      useHotkeyStore.getState().reset();\n    }\n  };\n  doc.addEventListener(\"keydown\", onKeyDown);\n  doc.addEventListener(\"keyup\", onKeyUp);\n  doc.addEventListener(\"visibilitychange\", onVisibilityChanged);\n  return () => {\n    doc.removeEventListener(\"keydown\", onKeyDown);\n    doc.removeEventListener(\"keyup\", onKeyUp);\n    doc.removeEventListener(\"visibilitychange\", onVisibilityChanged);\n  };\n};\nvar useMonitorHotkeys = () => {\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => monitorHotkeys(document), []);\n};\nvar useHotkey = (combo, cb) => {\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(\n    () => useHotkeyStore.setState((s) => ({\n      triggers: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.triggers), {\n        [`${Object.keys(combo).join(\"+\")}`]: { combo, cb }\n      })\n    })),\n    []\n  );\n};\n\n// store/slices/history.ts\nvar EMPTY_HISTORY_INDEX = 0;\nfunction debounce(func, timeout3 = 300) {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func(...args);\n    }, timeout3);\n  };\n}\nvar tidyState = (state) => {\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state), {\n    ui: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.ui), {\n      field: {\n        focus: null\n      }\n    })\n  });\n};\nvar createHistorySlice = (set, get) => {\n  const record = debounce((state) => {\n    const { histories, index } = get().history;\n    const history = {\n      state,\n      id: generateId(\"history\")\n    };\n    const newHistories = [...histories.slice(0, index + 1), history];\n    set({\n      history: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, get().history), {\n        histories: newHistories,\n        index: newHistories.length - 1\n      })\n    });\n  }, 250);\n  return {\n    initialAppState: {},\n    index: EMPTY_HISTORY_INDEX,\n    histories: [],\n    hasPast: () => get().history.index > EMPTY_HISTORY_INDEX,\n    hasFuture: () => get().history.index < get().history.histories.length - 1,\n    prevHistory: () => {\n      const { history } = get();\n      return history.hasPast() ? history.histories[history.index - 1] : null;\n    },\n    nextHistory: () => {\n      const s = get().history;\n      return s.hasFuture() ? s.histories[s.index + 1] : null;\n    },\n    currentHistory: () => get().history.histories[get().history.index],\n    back: () => {\n      var _a;\n      const { history, dispatch } = get();\n      if (history.hasPast()) {\n        const state = tidyState(\n          ((_a = history.prevHistory()) == null ? void 0 : _a.state) || history.initialAppState\n        );\n        dispatch({\n          type: \"set\",\n          state\n        });\n        set({ history: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, history), { index: history.index - 1 }) });\n      }\n    },\n    forward: () => {\n      var _a;\n      const { history, dispatch } = get();\n      if (history.hasFuture()) {\n        const state = (_a = history.nextHistory()) == null ? void 0 : _a.state;\n        dispatch({ type: \"set\", state: state ? tidyState(state) : {} });\n        set({ history: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, history), { index: history.index + 1 }) });\n      }\n    },\n    setHistories: (histories) => {\n      var _a;\n      const { dispatch, history } = get();\n      dispatch({\n        type: \"set\",\n        state: ((_a = histories[histories.length - 1]) == null ? void 0 : _a.state) || history.initialAppState\n      });\n      set({ history: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, history), { histories, index: histories.length - 1 }) });\n    },\n    setHistoryIndex: (index) => {\n      var _a;\n      const { dispatch, history } = get();\n      dispatch({\n        type: \"set\",\n        state: ((_a = history.histories[index]) == null ? void 0 : _a.state) || history.initialAppState\n      });\n      set({ history: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, history), { index }) });\n    },\n    record\n  };\n};\nfunction useRegisterHistorySlice(appStore, {\n  histories,\n  index,\n  initialAppState\n}) {\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(\n    () => appStore.setState({\n      history: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, appStore.getState().history), {\n        histories,\n        index,\n        initialAppState\n      })\n    }),\n    [histories, index, initialAppState]\n  );\n  const back = () => {\n    appStore.getState().history.back();\n  };\n  const forward = () => {\n    appStore.getState().history.forward();\n  };\n  useHotkey({ meta: true, z: true }, back);\n  useHotkey({ meta: true, shift: true, z: true }, forward);\n  useHotkey({ meta: true, y: true }, forward);\n  useHotkey({ ctrl: true, z: true }, back);\n  useHotkey({ ctrl: true, shift: true, z: true }, forward);\n  useHotkey({ ctrl: true, y: true }, forward);\n}\n\n// store/slices/nodes.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar createNodesSlice = (set, get) => ({\n  nodes: {},\n  registerNode: (id, node) => {\n    const s = get().nodes;\n    const emptyNode = {\n      id,\n      methods: {\n        sync: () => null,\n        hideOverlay: () => null,\n        showOverlay: () => null\n      },\n      element: null\n    };\n    const existingNode = s.nodes[id];\n    set({\n      nodes: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s), {\n        nodes: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.nodes), {\n          [id]: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, emptyNode), existingNode), node), {\n            id\n          })\n        })\n      })\n    });\n  },\n  unregisterNode: (id) => {\n    const s = get().nodes;\n    const existingNode = s.nodes[id];\n    if (existingNode) {\n      const newNodes = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.nodes);\n      delete newNodes[id];\n      set({\n        nodes: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s), {\n          nodes: newNodes\n        })\n      });\n    }\n  }\n});\n\n// store/slices/permissions.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/data/flatten-data.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar flattenData = (state, config) => {\n  const data = [];\n  (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n    state,\n    config,\n    (content) => content,\n    (item) => {\n      data.push(item);\n      return null;\n    }\n  );\n  return data;\n};\n\n// store/slices/permissions.ts\nvar createPermissionsSlice = (set, get) => {\n  const resolvePermissions = (..._0) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, [..._0], function* (params = {}, force) {\n    const { state, permissions, config } = get();\n    const { cache, globalPermissions } = permissions;\n    const resolveDataForItem = (item2, force2 = false) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n      var _a, _b, _c;\n      const { config: config2, state: appState, setComponentLoading } = get();\n      const componentConfig = item2.type === \"root\" ? config2.root : config2.components[item2.type];\n      if (!componentConfig) {\n        return;\n      }\n      const initialPermissions = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, globalPermissions), componentConfig.permissions);\n      if (componentConfig.resolvePermissions) {\n        const changed = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.getChanged)(item2, (_a = cache[item2.props.id]) == null ? void 0 : _a.lastData);\n        if (Object.values(changed).some((el) => el === true) || force2) {\n          const clearTimeout2 = setComponentLoading(item2.props.id, true, 50);\n          const resolvedPermissions = yield componentConfig.resolvePermissions(\n            item2,\n            {\n              changed,\n              lastPermissions: ((_b = cache[item2.props.id]) == null ? void 0 : _b.lastPermissions) || null,\n              permissions: initialPermissions,\n              appState: makeStatePublic(appState),\n              lastData: ((_c = cache[item2.props.id]) == null ? void 0 : _c.lastData) || null\n            }\n          );\n          const latest = get().permissions;\n          set({\n            permissions: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, latest), {\n              cache: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, latest.cache), {\n                [item2.props.id]: {\n                  lastData: item2,\n                  lastPermissions: resolvedPermissions\n                }\n              }),\n              resolvedPermissions: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, latest.resolvedPermissions), {\n                [item2.props.id]: resolvedPermissions\n              })\n            })\n          });\n          clearTimeout2();\n        }\n      }\n    });\n    const resolveDataForRoot = (force2 = false) => {\n      const { state: appState } = get();\n      resolveDataForItem(\n        // Shim the root data in by conforming to component data shape\n        {\n          type: \"root\",\n          props: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, appState.data.root.props), { id: \"root\" })\n        },\n        force2\n      );\n    };\n    const { item, type, root } = params;\n    if (item) {\n      yield resolveDataForItem(item, force);\n    } else if (type) {\n      flattenData(state, config).filter((item2) => item2.type === type).map((item2) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n        yield resolveDataForItem(item2, force);\n      }));\n    } else if (root) {\n      resolveDataForRoot(force);\n    } else {\n      flattenData(state, config).map((item2) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n        yield resolveDataForItem(item2, force);\n      }));\n    }\n  });\n  const refreshPermissions = (params) => resolvePermissions(params, true);\n  return {\n    cache: {},\n    globalPermissions: {\n      drag: true,\n      edit: true,\n      delete: true,\n      duplicate: true,\n      insert: true\n    },\n    resolvedPermissions: {},\n    getPermissions: ({ item, type, root } = {}) => {\n      const { config, permissions } = get();\n      const { globalPermissions, resolvedPermissions } = permissions;\n      if (item) {\n        const componentConfig = config.components[item.type];\n        const initialPermissions = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, globalPermissions), componentConfig == null ? void 0 : componentConfig.permissions);\n        const resolvedForItem = resolvedPermissions[item.props.id];\n        return resolvedForItem ? (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, globalPermissions), resolvedForItem) : initialPermissions;\n      } else if (type) {\n        const componentConfig = config.components[type];\n        return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, globalPermissions), componentConfig == null ? void 0 : componentConfig.permissions);\n      } else if (root) {\n        const rootConfig = config.root;\n        const initialPermissions = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, globalPermissions), rootConfig == null ? void 0 : rootConfig.permissions);\n        const resolvedForItem = resolvedPermissions[\"root\"];\n        return resolvedForItem ? (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, globalPermissions), resolvedForItem) : initialPermissions;\n      }\n      return globalPermissions;\n    },\n    resolvePermissions,\n    refreshPermissions\n  };\n};\nvar useRegisterPermissionsSlice = (appStore, globalPermissions) => {\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const { permissions } = appStore.getState();\n    const { globalPermissions: existingGlobalPermissions } = permissions;\n    appStore.setState({\n      permissions: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, permissions), {\n        globalPermissions: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, existingGlobalPermissions), globalPermissions)\n      })\n    });\n    permissions.resolvePermissions();\n  }, [globalPermissions]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    return appStore.subscribe(\n      (s) => s.state.data,\n      () => {\n        appStore.getState().permissions.resolvePermissions();\n      }\n    );\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    return appStore.subscribe(\n      (s) => s.config,\n      () => {\n        appStore.getState().permissions.resolvePermissions();\n      }\n    );\n  }, []);\n};\n\n// store/slices/fields.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar createFieldsSlice = (_set, _get) => {\n  return {\n    fields: {},\n    loading: false,\n    lastResolvedData: {},\n    id: void 0\n  };\n};\nvar useRegisterFieldsSlice = (appStore, id) => {\n  const resolveFields = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (reset) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n      var _a, _b;\n      const { fields, lastResolvedData } = appStore.getState().fields;\n      const nodes = appStore.getState().state.indexes.nodes;\n      const node = nodes[id || \"root\"];\n      const componentData = node == null ? void 0 : node.data;\n      const parentNode = (node == null ? void 0 : node.parentId) ? nodes[node.parentId] : null;\n      const parent = (parentNode == null ? void 0 : parentNode.data) || null;\n      const { getComponentConfig, state } = appStore.getState();\n      const componentConfig = getComponentConfig(componentData == null ? void 0 : componentData.type);\n      if (!componentData || !componentConfig) return;\n      const defaultFields2 = componentConfig.fields || {};\n      const resolver = componentConfig.resolveFields;\n      let lastFields = fields;\n      if (reset) {\n        appStore.setState((s) => ({\n          fields: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.fields), { fields: defaultFields2, id })\n        }));\n        lastFields = defaultFields2;\n      }\n      if (resolver) {\n        const timeout3 = setTimeout(() => {\n          appStore.setState((s) => ({\n            fields: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.fields), { loading: true })\n          }));\n        }, 50);\n        const lastData = ((_a = lastResolvedData.props) == null ? void 0 : _a.id) === id ? lastResolvedData : null;\n        const changed = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.getChanged)(componentData, lastData);\n        const newFields = yield resolver(componentData, {\n          changed,\n          fields: defaultFields2,\n          lastFields,\n          lastData,\n          appState: makeStatePublic(state),\n          parent\n        });\n        clearTimeout(timeout3);\n        if (((_b = appStore.getState().selectedItem) == null ? void 0 : _b.props.id) !== id) {\n          return;\n        }\n        appStore.setState({\n          fields: {\n            fields: newFields,\n            loading: false,\n            lastResolvedData: componentData,\n            id\n          }\n        });\n      } else {\n        appStore.setState((s) => ({\n          fields: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s.fields), { fields: defaultFields2, id })\n        }));\n      }\n    }),\n    [id]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    resolveFields(true);\n    return appStore.subscribe(\n      (s) => s.state.indexes.nodes[id || \"root\"],\n      () => resolveFields()\n    );\n  }, [id]);\n};\n\n// lib/data/to-root.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar toRoot = (item) => {\n  if (\"type\" in item && item.type !== \"root\") {\n    throw new Error(\"Converting non-root item to root.\");\n  }\n  const { readOnly } = item;\n  if (item.props) {\n    if (\"id\" in item.props) {\n      const _a = item.props, { id } = _a, props = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__objRest)(_a, [\"id\"]);\n      return { props, readOnly };\n    }\n    return { props: item.props, readOnly };\n  }\n  return { props: {}, readOnly };\n};\n\n// store/index.ts\nvar defaultPageFields = {\n  title: { type: \"text\" }\n};\nvar createAppStore = (initialAppStore) => (0,zustand__WEBPACK_IMPORTED_MODULE_4__.create)()(\n  (0,zustand_middleware__WEBPACK_IMPORTED_MODULE_5__.subscribeWithSelector)((set, get) => {\n    var _a, _b;\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n      state: _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultAppState,\n      config: { components: {} },\n      componentState: {},\n      plugins: [],\n      overrides: {},\n      viewports: _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultViewports,\n      zoomConfig: {\n        autoZoom: 1,\n        rootHeight: 0,\n        zoom: 1\n      },\n      status: \"LOADING\",\n      iframe: {},\n      metadata: {},\n      fieldTransforms: {}\n    }, initialAppStore), {\n      fields: createFieldsSlice(set, get),\n      history: createHistorySlice(set, get),\n      nodes: createNodesSlice(set, get),\n      permissions: createPermissionsSlice(set, get),\n      getComponentConfig: (type) => {\n        var _a2;\n        const { config, selectedItem } = get();\n        const rootFields = ((_a2 = config.root) == null ? void 0 : _a2.fields) || defaultPageFields;\n        return type && type !== \"root\" ? config.components[type] : selectedItem ? config.components[selectedItem.type] : (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, config.root), { fields: rootFields });\n      },\n      selectedItem: ((_a = initialAppStore == null ? void 0 : initialAppStore.state) == null ? void 0 : _a.ui.itemSelector) ? getItem(\n        (_b = initialAppStore == null ? void 0 : initialAppStore.state) == null ? void 0 : _b.ui.itemSelector,\n        initialAppStore.state\n      ) : null,\n      dispatch: (action) => set((s) => {\n        var _a2, _b2;\n        const { record } = get().history;\n        const dispatch = createReducer({\n          record,\n          appStore: s\n        });\n        const state = dispatch(s.state, action);\n        const selectedItem = state.ui.itemSelector ? getItem(state.ui.itemSelector, state) : null;\n        (_b2 = (_a2 = get()).onAction) == null ? void 0 : _b2.call(_a2, action, state, get().state);\n        return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s), { state, selectedItem });\n      }),\n      setZoomConfig: (zoomConfig) => set({ zoomConfig }),\n      setStatus: (status) => set({ status }),\n      setComponentState: (componentState) => set({ componentState }),\n      pendingLoadTimeouts: {},\n      setComponentLoading: (id, loading = true, defer2 = 0) => {\n        const { setComponentState, pendingLoadTimeouts } = get();\n        const loadId = generateId();\n        const setLoading = () => {\n          var _a2;\n          const { componentState } = get();\n          setComponentState((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, componentState), {\n            [id]: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, componentState[id]), {\n              loadingCount: (((_a2 = componentState[id]) == null ? void 0 : _a2.loadingCount) || 0) + 1\n            })\n          }));\n        };\n        const unsetLoading = () => {\n          var _a2;\n          const { componentState } = get();\n          clearTimeout(timeout3);\n          delete pendingLoadTimeouts[loadId];\n          set({ pendingLoadTimeouts });\n          setComponentState((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, componentState), {\n            [id]: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, componentState[id]), {\n              loadingCount: Math.max(\n                (((_a2 = componentState[id]) == null ? void 0 : _a2.loadingCount) || 0) - 1,\n                0\n              )\n            })\n          }));\n        };\n        const timeout3 = setTimeout(() => {\n          if (loading) {\n            setLoading();\n          } else {\n            unsetLoading();\n          }\n          delete pendingLoadTimeouts[loadId];\n          set({ pendingLoadTimeouts });\n        }, defer2);\n        set({\n          pendingLoadTimeouts: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, pendingLoadTimeouts), {\n            [id]: timeout3\n          })\n        });\n        return unsetLoading;\n      },\n      unsetComponentLoading: (id) => {\n        const { setComponentLoading } = get();\n        setComponentLoading(id, false);\n      },\n      // Helper\n      setUi: (ui, recordHistory) => set((s) => {\n        const dispatch = createReducer({\n          record: () => {\n          },\n          appStore: s\n        });\n        const state = dispatch(s.state, {\n          type: \"setUi\",\n          ui,\n          recordHistory\n        });\n        const selectedItem = state.ui.itemSelector ? getItem(state.ui.itemSelector, state) : null;\n        return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, s), { state, selectedItem });\n      }),\n      resolveComponentData: (componentData, trigger) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n        const { config, metadata, setComponentLoading, permissions } = get();\n        const timeouts = {};\n        return yield (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.resolveComponentData)(\n          componentData,\n          config,\n          metadata,\n          (item) => {\n            const id = \"id\" in item.props ? item.props.id : \"root\";\n            timeouts[id] = setComponentLoading(id, true, 50);\n          },\n          (item) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n            const id = \"id\" in item.props ? item.props.id : \"root\";\n            if (\"type\" in item) {\n              yield permissions.refreshPermissions({ item });\n            } else {\n              yield permissions.refreshPermissions({ root: true });\n            }\n            timeouts[id]();\n          }),\n          trigger\n        );\n      }),\n      resolveAndCommitData: () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n        const { config, state, dispatch, resolveComponentData: resolveComponentData2 } = get();\n        (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(\n          state,\n          config,\n          (content) => content,\n          (childItem) => {\n            resolveComponentData2(childItem, \"load\").then((resolved) => {\n              const { state: state2 } = get();\n              const node = state2.indexes.nodes[resolved.node.props.id];\n              if (node && resolved.didChange) {\n                if (resolved.node.props.id === \"root\") {\n                  dispatch({\n                    type: \"replaceRoot\",\n                    root: toRoot(resolved.node)\n                  });\n                } else {\n                  const zoneCompound = `${node.parentId}:${node.zone}`;\n                  const parentZone = state2.indexes.zones[zoneCompound];\n                  const index = parentZone.contentIds.indexOf(\n                    resolved.node.props.id\n                  );\n                  dispatch({\n                    type: \"replace\",\n                    data: resolved.node,\n                    destinationIndex: index,\n                    destinationZone: zoneCompound\n                  });\n                }\n              }\n            });\n            return childItem;\n          }\n        );\n      })\n    });\n  })\n);\nvar appStoreContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)(createAppStore());\nfunction useAppStore(selector) {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(appStoreContext);\n  return (0,zustand__WEBPACK_IMPORTED_MODULE_4__.useStore)(context, selector);\n}\nfunction useAppStoreApi() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(appStoreContext);\n}\n\n// lib/get-zoom-config.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// ../../node_modules/css-box-model/dist/css-box-model.esm.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// ../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar isProduction = \"development\" === \"production\";\nvar prefix = \"Invariant failed\";\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n  if (isProduction) {\n    throw new Error(prefix);\n  }\n  var provided = typeof message === \"function\" ? message() : message;\n  var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n  throw new Error(value);\n}\n\n// ../../node_modules/css-box-model/dist/css-box-model.esm.js\nvar getRect = function getRect2(_ref) {\n  var top = _ref.top, right = _ref.right, bottom = _ref.bottom, left = _ref.left;\n  var width = right - left;\n  var height = bottom - top;\n  var rect = {\n    top,\n    right,\n    bottom,\n    left,\n    width,\n    height,\n    x: left,\n    y: top,\n    center: {\n      x: (right + left) / 2,\n      y: (bottom + top) / 2\n    }\n  };\n  return rect;\n};\nvar expand = function expand2(target, expandBy) {\n  return {\n    top: target.top - expandBy.top,\n    left: target.left - expandBy.left,\n    bottom: target.bottom + expandBy.bottom,\n    right: target.right + expandBy.right\n  };\n};\nvar shrink = function shrink2(target, shrinkBy) {\n  return {\n    top: target.top + shrinkBy.top,\n    left: target.left + shrinkBy.left,\n    bottom: target.bottom - shrinkBy.bottom,\n    right: target.right - shrinkBy.right\n  };\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar createBox = function createBox2(_ref2) {\n  var borderBox = _ref2.borderBox, _ref2$margin = _ref2.margin, margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin, _ref2$border = _ref2.border, border = _ref2$border === void 0 ? noSpacing : _ref2$border, _ref2$padding = _ref2.padding, padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;\n  var marginBox = getRect(expand(borderBox, margin));\n  var paddingBox = getRect(shrink(borderBox, border));\n  var contentBox = getRect(shrink(paddingBox, padding));\n  return {\n    marginBox,\n    borderBox: getRect(borderBox),\n    paddingBox,\n    contentBox,\n    margin,\n    border,\n    padding\n  };\n};\nvar parse = function parse2(raw) {\n  var value = raw.slice(0, -2);\n  var suffix = raw.slice(-2);\n  if (suffix !== \"px\") {\n    return 0;\n  }\n  var result = Number(value);\n  !!isNaN(result) ?  true ? invariant(false, \"Could not parse value [raw: \" + raw + \", without suffix: \" + value + \"]\") : 0 : void 0;\n  return result;\n};\nvar calculateBox = function calculateBox2(borderBox, styles2) {\n  var margin = {\n    top: parse(styles2.marginTop),\n    right: parse(styles2.marginRight),\n    bottom: parse(styles2.marginBottom),\n    left: parse(styles2.marginLeft)\n  };\n  var padding = {\n    top: parse(styles2.paddingTop),\n    right: parse(styles2.paddingRight),\n    bottom: parse(styles2.paddingBottom),\n    left: parse(styles2.paddingLeft)\n  };\n  var border = {\n    top: parse(styles2.borderTopWidth),\n    right: parse(styles2.borderRightWidth),\n    bottom: parse(styles2.borderBottomWidth),\n    left: parse(styles2.borderLeftWidth)\n  };\n  return createBox({\n    borderBox,\n    margin,\n    padding,\n    border\n  });\n};\nvar getBox = function getBox2(el) {\n  var borderBox = el.getBoundingClientRect();\n  var styles2 = window.getComputedStyle(el);\n  return calculateBox(borderBox, styles2);\n};\n\n// lib/get-zoom-config.ts\nvar RESET_ZOOM_SMALLER_THAN_FRAME = true;\nvar getZoomConfig = (uiViewport, frame, zoom) => {\n  const box = getBox(frame);\n  const { width: frameWidth, height: frameHeight } = box.contentBox;\n  const viewportHeight = uiViewport.height === \"auto\" ? frameHeight : uiViewport.height;\n  let rootHeight = 0;\n  let autoZoom = 1;\n  if (uiViewport.width > frameWidth || viewportHeight > frameHeight) {\n    const widthZoom = Math.min(frameWidth / uiViewport.width, 1);\n    const heightZoom = Math.min(frameHeight / viewportHeight, 1);\n    zoom = widthZoom;\n    if (widthZoom < heightZoom) {\n      rootHeight = viewportHeight / zoom;\n    } else {\n      rootHeight = viewportHeight;\n      zoom = heightZoom;\n    }\n    autoZoom = zoom;\n  } else {\n    if (RESET_ZOOM_SMALLER_THAN_FRAME) {\n      autoZoom = 1;\n      zoom = 1;\n      rootHeight = viewportHeight;\n    }\n  }\n  return { autoZoom, rootHeight, zoom };\n};\n\n// lib/use-reset-auto-zoom.ts\nvar useResetAutoZoom = (frameRef) => {\n  const appStoreApi = useAppStoreApi();\n  const resetAutoZoom = (options) => {\n    const { state, zoomConfig, setZoomConfig } = appStoreApi.getState();\n    const { viewports } = state.ui;\n    const newViewports = (options == null ? void 0 : options.viewports) || viewports;\n    if (frameRef.current) {\n      setZoomConfig(\n        getZoomConfig(newViewports == null ? void 0 : newViewports.current, frameRef.current, zoomConfig.zoom)\n      );\n    }\n  };\n  return resetAutoZoom;\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Loader/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default2 = { \"Loader\": \"_Loader_nacdm_13\", \"loader-animation\": \"_loader-animation_nacdm_1\" };\n\n// components/Loader/index.tsx\n\nvar getClassName2 = get_class_name_factory_default(\"Loader\", styles_module_default2);\nvar Loader = (_a) => {\n  var _b = _a, {\n    color,\n    size = 16\n  } = _b, props = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__objRest)(_b, [\n    \"color\",\n    \"size\"\n  ]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"span\",\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n      className: getClassName2(),\n      style: {\n        width: size,\n        height: size,\n        color\n      },\n      \"aria-label\": \"loading\"\n    }, props)\n  );\n};\n\n// components/IconButton/IconButton.tsx\n\nvar getClassName3 = get_class_name_factory_default(\"IconButton\", IconButton_module_default);\nvar IconButton = ({\n  children,\n  href,\n  onClick,\n  variant = \"primary\",\n  type,\n  disabled,\n  tabIndex,\n  newTab,\n  fullWidth,\n  title\n}) => {\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const ElementType = href ? \"a\" : \"button\";\n  const el = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    ElementType,\n    {\n      className: getClassName3({\n        primary: variant === \"primary\",\n        secondary: variant === \"secondary\",\n        disabled,\n        fullWidth\n      }),\n      onClick: (e) => {\n        if (!onClick) return;\n        setLoading(true);\n        Promise.resolve(onClick(e)).then(() => {\n          setLoading(false);\n        });\n      },\n      type,\n      disabled: disabled || loading,\n      tabIndex,\n      target: newTab ? \"_blank\" : void 0,\n      rel: newTab ? \"noreferrer\" : void 0,\n      href,\n      title,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { className: getClassName3(\"title\"), children: title }),\n        children,\n        loading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n          \"\\xA0\\xA0\",\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loader, { size: 14 })\n        ] })\n      ]\n    }\n  );\n  return el;\n};\n\n// components/Button/Button.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Button/Button.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Button_module_default = { \"Button\": \"_Button_10byl_1\", \"Button--medium\": \"_Button--medium_10byl_29\", \"Button--large\": \"_Button--large_10byl_37\", \"Button-icon\": \"_Button-icon_10byl_44\", \"Button--primary\": \"_Button--primary_10byl_48\", \"Button--secondary\": \"_Button--secondary_10byl_67\", \"Button--flush\": \"_Button--flush_10byl_84\", \"Button--disabled\": \"_Button--disabled_10byl_88\", \"Button--fullWidth\": \"_Button--fullWidth_10byl_95\", \"Button-spinner\": \"_Button-spinner_10byl_100\" };\n\n// lib/filter-data-attrs.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar dataAttrRe = /^(data-.*)$/;\nvar filterDataAttrs = (props) => {\n  let filteredProps = {};\n  for (const prop in props) {\n    if (Object.prototype.hasOwnProperty.call(props, prop) && dataAttrRe.test(prop)) {\n      filteredProps[prop] = props[prop];\n    }\n  }\n  return filteredProps;\n};\n\n// components/Button/Button.tsx\n\nvar getClassName4 = get_class_name_factory_default(\"Button\", Button_module_default);\nvar Button = (_a) => {\n  var _b = _a, {\n    children,\n    href,\n    onClick,\n    variant = \"primary\",\n    type,\n    disabled,\n    tabIndex,\n    newTab,\n    fullWidth,\n    icon,\n    size = \"medium\",\n    loading: loadingProp = false\n  } = _b, props = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__objRest)(_b, [\n    \"children\",\n    \"href\",\n    \"onClick\",\n    \"variant\",\n    \"type\",\n    \"disabled\",\n    \"tabIndex\",\n    \"newTab\",\n    \"fullWidth\",\n    \"icon\",\n    \"size\",\n    \"loading\"\n  ]);\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(loadingProp);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => setLoading(loadingProp), [loadingProp]);\n  const ElementType = href ? \"a\" : type ? \"button\" : \"span\";\n  const dataAttrs = filterDataAttrs(props);\n  const el = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    ElementType,\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n      className: getClassName4({\n        primary: variant === \"primary\",\n        secondary: variant === \"secondary\",\n        disabled,\n        fullWidth,\n        [size]: true\n      }),\n      onClick: (e) => {\n        if (!onClick) return;\n        setLoading(true);\n        Promise.resolve(onClick(e)).then(() => {\n          setLoading(false);\n        });\n      },\n      type,\n      disabled: disabled || loading,\n      tabIndex,\n      target: newTab ? \"_blank\" : void 0,\n      rel: newTab ? \"noreferrer\" : void 0,\n      href\n    }, dataAttrs), {\n      children: [\n        icon && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName4(\"icon\"), children: icon }),\n        children,\n        loading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName4(\"spinner\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loader, { size: 14 }) })\n      ]\n    })\n  );\n  return el;\n};\n\n// components/AutoField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/AutoField/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default3 = { \"InputWrapper\": \"_InputWrapper_bsxfo_1\", \"Input-label\": \"_Input-label_bsxfo_5\", \"Input-labelIcon\": \"_Input-labelIcon_bsxfo_14\", \"Input-disabledIcon\": \"_Input-disabledIcon_bsxfo_21\", \"Input-input\": \"_Input-input_bsxfo_26\", \"Input\": \"_Input_bsxfo_1\", \"Input--readOnly\": \"_Input--readOnly_bsxfo_82\", \"Input-radioGroupItems\": \"_Input-radioGroupItems_bsxfo_93\", \"Input-radio\": \"_Input-radio_bsxfo_93\", \"Input-radioInner\": \"_Input-radioInner_bsxfo_110\", \"Input-radioInput\": \"_Input-radioInput_bsxfo_155\" };\n\n// components/AutoField/index.tsx\n\n\n// components/AutoField/fields/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// components/AutoField/fields/ArrayField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/AutoField/fields/ArrayField/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default4 = { \"ArrayField\": \"_ArrayField_14u8o_5\", \"ArrayField--isDraggingFrom\": \"_ArrayField--isDraggingFrom_14u8o_13\", \"ArrayField-addButton\": \"_ArrayField-addButton_14u8o_18\", \"ArrayField--hasItems\": \"_ArrayField--hasItems_14u8o_33\", \"ArrayField-inner\": \"_ArrayField-inner_14u8o_59\", \"ArrayFieldItem\": \"_ArrayFieldItem_14u8o_67\", \"ArrayFieldItem--isDragging\": \"_ArrayFieldItem--isDragging_14u8o_78\", \"ArrayFieldItem--isExpanded\": \"_ArrayFieldItem--isExpanded_14u8o_82\", \"ArrayFieldItem-summary\": \"_ArrayFieldItem-summary_14u8o_97\", \"ArrayField--addDisabled\": \"_ArrayField--addDisabled_14u8o_127\", \"ArrayFieldItem-body\": \"_ArrayFieldItem-body_14u8o_166\", \"ArrayFieldItem-fieldset\": \"_ArrayFieldItem-fieldset_14u8o_175\", \"ArrayFieldItem-rhs\": \"_ArrayFieldItem-rhs_14u8o_183\", \"ArrayFieldItem-actions\": \"_ArrayFieldItem-actions_14u8o_189\" };\n\n// ../../node_modules/lucide-react/dist/esm/lucide-react.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// ../../node_modules/lucide-react/dist/esm/createLucideIcon.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// ../../node_modules/lucide-react/dist/esm/shared/src/utils.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nvar mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\n\n// ../../node_modules/lucide-react/dist/esm/Icon.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// ../../node_modules/lucide-react/dist/esm/defaultAttributes.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\n// ../../node_modules/lucide-react/dist/esm/Icon.js\nvar Icon = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(\n  (_a, ref) => {\n    var _b = _a, {\n      color = \"currentColor\",\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = \"\",\n      children,\n      iconNode\n    } = _b, rest = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__objRest)(_b, [\n      \"color\",\n      \"size\",\n      \"strokeWidth\",\n      \"absoluteStrokeWidth\",\n      \"className\",\n      \"children\",\n      \"iconNode\"\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.createElement)(\n      \"svg\",\n      (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n        ref\n      }, defaultAttributes), {\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: mergeClasses(\"lucide\", className)\n      }), rest),\n      [\n        ...iconNode.map(([tag, attrs]) => (0,react__WEBPACK_IMPORTED_MODULE_2__.createElement)(tag, attrs)),\n        ...Array.isArray(children) ? children : [children]\n      ]\n    );\n  }\n);\n\n// ../../node_modules/lucide-react/dist/esm/createLucideIcon.js\nvar createLucideIcon = (iconName, iconNode) => {\n  const Component = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(\n    (_a, ref) => {\n      var _b = _a, { className } = _b, props = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__objRest)(_b, [\"className\"]);\n      return (0,react__WEBPACK_IMPORTED_MODULE_2__.createElement)(Icon, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n        ref,\n        iconNode,\n        className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className)\n      }, props));\n    }\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\n\n// ../../node_modules/lucide-react/dist/esm/icons/chevron-down.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar ChevronDown = createLucideIcon(\"ChevronDown\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/chevron-right.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar ChevronRight = createLucideIcon(\"ChevronRight\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/chevron-up.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar ChevronUp = createLucideIcon(\"ChevronUp\", [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar CircleCheckBig = createLucideIcon(\"CircleCheckBig\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/copy.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Copy = createLucideIcon(\"Copy\", [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/corner-left-up.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar CornerLeftUp = createLucideIcon(\"CornerLeftUp\", [\n  [\"polyline\", { points: \"14 9 9 4 4 9\", key: \"m9oyvo\" }],\n  [\"path\", { d: \"M20 20h-7a4 4 0 0 1-4-4V4\", key: \"1blwi3\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar EllipsisVertical = createLucideIcon(\"EllipsisVertical\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n  [\"circle\", { cx: \"12\", cy: \"5\", r: \"1\", key: \"gxeob9\" }],\n  [\"circle\", { cx: \"12\", cy: \"19\", r: \"1\", key: \"lyex9k\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/globe.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Globe = createLucideIcon(\"Globe\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\", key: \"13o1zl\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/hash.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Hash = createLucideIcon(\"Hash\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"9\", y2: \"9\", key: \"4lhtct\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"15\", y2: \"15\", key: \"vyu0kd\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"3\", y2: \"21\", key: \"1ggp8o\" }],\n  [\"line\", { x1: \"16\", x2: \"14\", y1: \"3\", y2: \"21\", key: \"weycgp\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/layers.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Layers = createLucideIcon(\"Layers\", [\n  [\n    \"path\",\n    {\n      d: \"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z\",\n      key: \"zw3jo\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12\",\n      key: \"1wduqc\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17\",\n      key: \"kqbvx6\"\n    }\n  ]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/layout-grid.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar LayoutGrid = createLucideIcon(\"LayoutGrid\", [\n  [\"rect\", { width: \"7\", height: \"7\", x: \"3\", y: \"3\", rx: \"1\", key: \"1g98yp\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"14\", y: \"3\", rx: \"1\", key: \"6d4xhi\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"14\", y: \"14\", rx: \"1\", key: \"nxv5o0\" }],\n  [\"rect\", { width: \"7\", height: \"7\", x: \"3\", y: \"14\", rx: \"1\", key: \"1bb6yr\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/link.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Link = createLucideIcon(\"Link\", [\n  [\"path\", { d: \"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\", key: \"1cjeqo\" }],\n  [\"path\", { d: \"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\", key: \"19qd67\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/list.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar List = createLucideIcon(\"List\", [\n  [\"path\", { d: \"M3 12h.01\", key: \"nlz23k\" }],\n  [\"path\", { d: \"M3 18h.01\", key: \"1tta3j\" }],\n  [\"path\", { d: \"M3 6h.01\", key: \"1rqtza\" }],\n  [\"path\", { d: \"M8 12h13\", key: \"1za7za\" }],\n  [\"path\", { d: \"M8 18h13\", key: \"1lx6n3\" }],\n  [\"path\", { d: \"M8 6h13\", key: \"ik3vkj\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/lock-open.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar LockOpen = createLucideIcon(\"LockOpen\", [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 9.9-1\", key: \"1mm8w8\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/lock.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Lock = createLucideIcon(\"Lock\", [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/monitor.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Monitor = createLucideIcon(\"Monitor\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"3\", rx: \"2\", key: \"48i651\" }],\n  [\"line\", { x1: \"8\", x2: \"16\", y1: \"21\", y2: \"21\", key: \"1svkeh\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"17\", y2: \"21\", key: \"vw1qmm\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/panel-left.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar PanelLeft = createLucideIcon(\"PanelLeft\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/panel-right.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar PanelRight = createLucideIcon(\"PanelRight\", [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/plus.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/redo-2.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Redo2 = createLucideIcon(\"Redo2\", [\n  [\"path\", { d: \"m15 14 5-5-5-5\", key: \"12vg1m\" }],\n  [\"path\", { d: \"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13\", key: \"6uklza\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/search.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar SlidersHorizontal = createLucideIcon(\"SlidersHorizontal\", [\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"4\", y2: \"4\", key: \"obuewd\" }],\n  [\"line\", { x1: \"10\", x2: \"3\", y1: \"4\", y2: \"4\", key: \"1q6298\" }],\n  [\"line\", { x1: \"21\", x2: \"12\", y1: \"12\", y2: \"12\", key: \"1iu8h1\" }],\n  [\"line\", { x1: \"8\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"ntss68\" }],\n  [\"line\", { x1: \"21\", x2: \"16\", y1: \"20\", y2: \"20\", key: \"14d8ph\" }],\n  [\"line\", { x1: \"12\", x2: \"3\", y1: \"20\", y2: \"20\", key: \"m0wm8r\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"2\", y2: \"6\", key: \"14e1ph\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"10\", y2: \"14\", key: \"1i6ji0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"18\", y2: \"22\", key: \"1lctlv\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/smartphone.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Smartphone = createLucideIcon(\"Smartphone\", [\n  [\"rect\", { width: \"14\", height: \"20\", x: \"5\", y: \"2\", rx: \"2\", ry: \"2\", key: \"1yt0o3\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/tablet.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Tablet = createLucideIcon(\"Tablet\", [\n  [\"rect\", { width: \"16\", height: \"20\", x: \"4\", y: \"2\", rx: \"2\", ry: \"2\", key: \"76otgf\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"18\", y2: \"18\", key: \"1dp563\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/trash.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Trash = createLucideIcon(\"Trash\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/type.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Type = createLucideIcon(\"Type\", [\n  [\"polyline\", { points: \"4 7 4 4 20 4 20 7\", key: \"1nosan\" }],\n  [\"line\", { x1: \"9\", x2: \"15\", y1: \"20\", y2: \"20\", key: \"swin9y\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"4\", y2: \"20\", key: \"1tx1rr\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/undo-2.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar Undo2 = createLucideIcon(\"Undo2\", [\n  [\"path\", { d: \"M9 14 4 9l5-5\", key: \"102s5s\" }],\n  [\"path\", { d: \"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11\", key: \"f3b9sd\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/zoom-in.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar ZoomIn = createLucideIcon(\"ZoomIn\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"11\", x2: \"11\", y1: \"8\", y2: \"14\", key: \"1vmskp\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n]);\n\n// ../../node_modules/lucide-react/dist/esm/icons/zoom-out.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar ZoomOut = createLucideIcon(\"ZoomOut\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n]);\n\n// components/IconButton/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// components/AutoField/fields/ArrayField/index.tsx\n\n\n// components/DragIcon/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/DragIcon/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default5 = { \"DragIcon\": \"_DragIcon_17p8x_1\", \"DragIcon--disabled\": \"_DragIcon--disabled_17p8x_8\" };\n\n// components/DragIcon/index.tsx\n\nvar getClassName5 = get_class_name_factory_default(\"DragIcon\", styles_module_default5);\nvar DragIcon = ({ isDragDisabled }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName5({ disabled: isDragDisabled }), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", { viewBox: \"0 0 20 20\", width: \"12\", fill: \"currentColor\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"path\", { d: \"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z\" }) }) });\n\n// components/Sortable/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/dnd/use-sensors.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n\nvar touchDefault = { delay: { value: 200, tolerance: 10 } };\nvar otherDefault = {\n  delay: { value: 200, tolerance: 10 },\n  distance: { value: 5 }\n};\nvar useSensors = ({\n  other = otherDefault,\n  mouse,\n  touch = touchDefault\n} = {\n  touch: touchDefault,\n  other: otherDefault\n}) => {\n  const [sensors] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => [\n    _dnd_kit_react__WEBPACK_IMPORTED_MODULE_6__.PointerSensor.configure({\n      activationConstraints(event, source) {\n        var _a;\n        const { pointerType, target } = event;\n        if (pointerType === \"mouse\" && (0,_dnd_kit_dom_utilities__WEBPACK_IMPORTED_MODULE_7__.isElement)(target) && (source.handle === target || ((_a = source.handle) == null ? void 0 : _a.contains(target)))) {\n          return mouse;\n        }\n        if (pointerType === \"touch\") {\n          return touch;\n        }\n        return other;\n      }\n    })\n  ]);\n  return sensors;\n};\n\n// lib/dnd/collision/dynamic/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/dnd/collision/directional/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/dnd/collision/collision-debug.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar DEBUG = false;\nvar debugElements = {};\nvar timeout;\nvar collisionDebug = (a, b, id, color, label) => {\n  if (!DEBUG) return;\n  const debugId = `${id}-debug`;\n  clearTimeout(timeout);\n  timeout = setTimeout(() => {\n    Object.entries(debugElements).forEach(([id2, { svg }]) => {\n      svg.remove();\n      delete debugElements[id2];\n    });\n  }, 1e3);\n  requestAnimationFrame(() => {\n    var _a, _b;\n    const existingEl = debugElements[debugId];\n    let line = (_a = debugElements[debugId]) == null ? void 0 : _a.line;\n    let text = (_b = debugElements[debugId]) == null ? void 0 : _b.text;\n    if (!existingEl) {\n      const svgNs = \"http://www.w3.org/2000/svg\";\n      const svg = document.createElementNS(svgNs, \"svg\");\n      line = document.createElementNS(svgNs, \"line\");\n      text = document.createElementNS(svgNs, \"text\");\n      svg.setAttribute(\"id\", debugId);\n      svg.setAttribute(\n        \"style\",\n        \"position: fixed; height: 100%; width: 100%; pointer-events: none; top: 0px; left: 0px;\"\n      );\n      svg.appendChild(line);\n      svg.appendChild(text);\n      text.setAttribute(\"fill\", `black`);\n      document.body.appendChild(svg);\n      debugElements[debugId] = { svg, line, text };\n    }\n    line.setAttribute(\"x1\", a.x.toString());\n    line.setAttribute(\"x2\", b.x.toString());\n    line.setAttribute(\"y1\", a.y.toString());\n    line.setAttribute(\"y2\", b.y.toString());\n    line.setAttribute(\"style\", `stroke:${color};stroke-width:2`);\n    text.setAttribute(\"x\", (a.x - (a.x - b.x) / 2).toString());\n    text.setAttribute(\"y\", (a.y - (a.y - b.y) / 2).toString());\n    if (label) {\n      text.innerHTML = label;\n    }\n  });\n};\n\n// lib/dnd/collision/directional/index.ts\nvar distanceChange = \"increasing\";\nvar directionalCollision = (input, previous) => {\n  var _a;\n  const { dragOperation, droppable } = input;\n  const { shape: dropShape } = droppable;\n  const { position } = dragOperation;\n  const dragShape = (_a = dragOperation.shape) == null ? void 0 : _a.current;\n  if (!dragShape || !dropShape) return null;\n  const dropCenter = dropShape.center;\n  const distanceToPrevious = Math.sqrt(\n    Math.pow(dropCenter.x - previous.x, 2) + Math.pow(dropCenter.y - previous.y, 2)\n  );\n  const distanceToCurrent = Math.sqrt(\n    Math.pow(dropCenter.x - position.current.x, 2) + Math.pow(dropCenter.y - position.current.y, 2)\n  );\n  distanceChange = distanceToCurrent === distanceToPrevious ? distanceChange : distanceToCurrent < distanceToPrevious ? \"decreasing\" : \"increasing\";\n  collisionDebug(\n    dragShape.center,\n    dropCenter,\n    droppable.id.toString(),\n    \"rebeccapurple\"\n  );\n  if (distanceChange === \"decreasing\") {\n    return {\n      id: droppable.id,\n      value: 1,\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionType.Collision\n    };\n  }\n  return null;\n};\n\n// lib/dnd/collision/dynamic/get-direction.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar getDirection = (dragAxis, delta) => {\n  if (dragAxis === \"dynamic\") {\n    if (Math.abs(delta.y) > Math.abs(delta.x)) {\n      return delta.y === 0 ? null : delta.y > 0 ? \"down\" : \"up\";\n    } else {\n      return delta.x === 0 ? null : delta.x > 0 ? \"right\" : \"left\";\n    }\n  } else if (dragAxis === \"x\") {\n    return delta.x === 0 ? null : delta.x > 0 ? \"right\" : \"left\";\n  }\n  return delta.y === 0 ? null : delta.y > 0 ? \"down\" : \"up\";\n};\n\n// lib/dnd/collision/dynamic/get-midpoint-impact.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar getMidpointImpact = (dragShape, dropShape, direction, offsetMultiplier = 0) => {\n  const dragRect = dragShape.boundingRectangle;\n  const dropCenter = dropShape.center;\n  if (direction === \"down\") {\n    const offset2 = offsetMultiplier * dropShape.boundingRectangle.height;\n    return dragRect.bottom >= dropCenter.y + offset2;\n  } else if (direction === \"up\") {\n    const offset2 = offsetMultiplier * dropShape.boundingRectangle.height;\n    return dragRect.top < dropCenter.y - offset2;\n  } else if (direction === \"left\") {\n    const offset2 = offsetMultiplier * dropShape.boundingRectangle.width;\n    return dropCenter.x - offset2 >= dragRect.left;\n  }\n  const offset = offsetMultiplier * dropShape.boundingRectangle.width;\n  return dragRect.right - offset >= dropCenter.x;\n};\n\n// lib/dnd/collision/dynamic/track-movement-interval.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar INTERVAL_SENSITIVITY = 10;\nvar intervalCache = {\n  current: { x: 0, y: 0 },\n  delta: { x: 0, y: 0 },\n  previous: { x: 0, y: 0 },\n  direction: null\n};\nvar trackMovementInterval = (point, dragAxis = \"dynamic\") => {\n  intervalCache.current = point;\n  intervalCache.delta = {\n    x: point.x - intervalCache.previous.x,\n    y: point.y - intervalCache.previous.y\n  };\n  intervalCache.direction = getDirection(dragAxis, intervalCache.delta) || intervalCache.direction;\n  if (Math.abs(intervalCache.delta.x) > INTERVAL_SENSITIVITY || Math.abs(intervalCache.delta.y) > INTERVAL_SENSITIVITY) {\n    intervalCache.previous = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_9__.Point.from(point);\n  }\n  return intervalCache;\n};\n\n// ../../node_modules/@dnd-kit/collision/dist/index.js\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n\n\n\n\n\n\n\n\n\n\nvar pointerIntersection = ({\n  dragOperation,\n  droppable\n}) => {\n  const pointerCoordinates = dragOperation.position.current;\n  if (!pointerCoordinates) {\n    return null;\n  }\n  const { id } = droppable;\n  if (!droppable.shape) {\n    return null;\n  }\n  if (droppable.shape.containsPoint(pointerCoordinates)) {\n    const distance = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_9__.Point.distance(droppable.shape.center, pointerCoordinates);\n    return {\n      id,\n      value: 1 / distance,\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionType.PointerIntersection,\n      priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionPriority.High\n    };\n  }\n  return null;\n};\nvar closestCorners = (input) => {\n  const { dragOperation, droppable } = input;\n  const { shape, position } = dragOperation;\n  if (!droppable.shape) {\n    return null;\n  }\n  const shapeCorners = shape ? _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_9__.Rectangle.from(shape.current.boundingRectangle).corners : void 0;\n  const distance = _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_9__.Rectangle.from(\n    droppable.shape.boundingRectangle\n  ).corners.reduce(\n    (acc, corner, index) => {\n      var _a;\n      return acc + _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_9__.Point.distance(\n        _dnd_kit_geometry__WEBPACK_IMPORTED_MODULE_9__.Point.from(corner),\n        (_a = shapeCorners == null ? void 0 : shapeCorners[index]) != null ? _a : position.current\n      );\n    },\n    0\n  );\n  const value = distance / 4;\n  return {\n    id: droppable.id,\n    value: 1 / value,\n    type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionType.Collision,\n    priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionPriority.Normal\n  };\n};\n\n// lib/dnd/collision/dynamic/store.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar collisionStore = (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_10__.createStore)(() => ({\n  fallbackEnabled: false\n}));\n\n// lib/dnd/collision/dynamic/index.ts\nvar flushNext = \"\";\nvar createDynamicCollisionDetector = (dragAxis, midpointOffset = 0.05) => (input) => {\n  var _a, _b, _c, _d, _e;\n  const { dragOperation, droppable } = input;\n  const { position } = dragOperation;\n  const dragShape = (_a = dragOperation.shape) == null ? void 0 : _a.current;\n  const { shape: dropShape } = droppable;\n  if (!dragShape || !dropShape) {\n    return null;\n  }\n  const { center: dragCenter } = dragShape;\n  const { fallbackEnabled } = collisionStore.getState();\n  const interval = trackMovementInterval(position.current, dragAxis);\n  const data = {\n    direction: interval.direction\n  };\n  const { center: dropCenter } = dropShape;\n  const overMidpoint = getMidpointImpact(\n    dragShape,\n    dropShape,\n    interval.direction,\n    midpointOffset\n  );\n  if (((_b = dragOperation.source) == null ? void 0 : _b.id) === droppable.id) {\n    const collision = directionalCollision(input, interval.previous);\n    collisionDebug(dragCenter, dropCenter, droppable.id.toString(), \"yellow\");\n    if (collision) {\n      return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, collision), {\n        priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionPriority.Highest,\n        data\n      });\n    }\n  }\n  const intersectionArea = dragShape.intersectionArea(dropShape);\n  const intersectionRatio = intersectionArea / dropShape.area;\n  if (intersectionArea && overMidpoint) {\n    collisionDebug(\n      dragCenter,\n      dropCenter,\n      droppable.id.toString(),\n      \"green\",\n      interval.direction\n    );\n    const collision = {\n      id: droppable.id,\n      value: intersectionRatio,\n      priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionPriority.High,\n      type: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionType.Collision\n    };\n    const shouldFlushId = flushNext === droppable.id;\n    flushNext = \"\";\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, collision), { id: shouldFlushId ? \"flush\" : collision.id, data });\n  }\n  if (fallbackEnabled && ((_c = dragOperation.source) == null ? void 0 : _c.id) !== droppable.id) {\n    const xAxisIntersection = dropShape.boundingRectangle.right > dragShape.boundingRectangle.left && dropShape.boundingRectangle.left < dragShape.boundingRectangle.right;\n    const yAxisIntersection = dropShape.boundingRectangle.bottom > dragShape.boundingRectangle.top && dropShape.boundingRectangle.top < dragShape.boundingRectangle.bottom;\n    if (dragAxis === \"y\" && xAxisIntersection || yAxisIntersection) {\n      const fallbackCollision = closestCorners(input);\n      if (fallbackCollision) {\n        const direction = getDirection(dragAxis, {\n          x: dragShape.center.x - (((_d = droppable.shape) == null ? void 0 : _d.center.x) || 0),\n          y: dragShape.center.y - (((_e = droppable.shape) == null ? void 0 : _e.center.y) || 0)\n        });\n        data.direction = direction;\n        if (intersectionArea) {\n          collisionDebug(\n            dragCenter,\n            dropCenter,\n            droppable.id.toString(),\n            \"red\",\n            direction || \"\"\n          );\n          flushNext = droppable.id;\n          return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, fallbackCollision), {\n            priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionPriority.Low,\n            data\n          });\n        }\n        collisionDebug(\n          dragCenter,\n          dropCenter,\n          droppable.id.toString(),\n          \"orange\",\n          direction || \"\"\n        );\n        return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, fallbackCollision), {\n          priority: _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.CollisionPriority.Lowest,\n          data\n        });\n      }\n    }\n  }\n  collisionDebug(dragCenter, dropCenter, droppable.id.toString(), \"hotpink\");\n  return null;\n};\n\n// components/Sortable/index.tsx\n\n\nvar SortableProvider = ({\n  children,\n  onDragStart,\n  onDragEnd,\n  onMove\n}) => {\n  const sensors = useSensors({\n    mouse: { distance: { value: 5 } }\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    _dnd_kit_react__WEBPACK_IMPORTED_MODULE_11__.DragDropProvider,\n    {\n      sensors,\n      onDragStart: (event) => {\n        var _a, _b;\n        return onDragStart((_b = (_a = event.operation.source) == null ? void 0 : _a.id.toString()) != null ? _b : \"\");\n      },\n      onDragOver: (event, manager) => {\n        var _a;\n        event.preventDefault();\n        const { operation } = event;\n        const { source, target } = operation;\n        if (!source || !target) return;\n        let sourceIndex = source.data.index;\n        let targetIndex = target.data.index;\n        const collisionData = (_a = manager.collisionObserver.collisions[0]) == null ? void 0 : _a.data;\n        if (sourceIndex !== targetIndex && source.id !== target.id) {\n          const collisionPosition = (collisionData == null ? void 0 : collisionData.direction) === \"up\" ? \"before\" : \"after\";\n          if (targetIndex >= sourceIndex) {\n            targetIndex = targetIndex - 1;\n          }\n          if (collisionPosition === \"after\") {\n            targetIndex = targetIndex + 1;\n          }\n          onMove({\n            source: sourceIndex,\n            target: targetIndex\n          });\n        }\n      },\n      onDragEnd: () => {\n        setTimeout(() => {\n          onDragEnd();\n        }, 250);\n      },\n      children\n    }\n  );\n};\nvar Sortable = ({\n  id,\n  index,\n  disabled,\n  children,\n  type = \"item\"\n}) => {\n  const {\n    ref: sortableRef,\n    isDragging,\n    isDropping,\n    handleRef\n  } = (0,_dnd_kit_react_sortable__WEBPACK_IMPORTED_MODULE_12__.useSortable)({\n    id,\n    type,\n    index,\n    disabled,\n    data: { index },\n    collisionDetector: createDynamicCollisionDetector(\"y\")\n  });\n  return children({ isDragging, isDropping, ref: sortableRef, handleRef });\n};\n\n// components/AutoField/context.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\nvar NestedFieldContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({});\nvar useNestedFieldContext = () => {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(NestedFieldContext);\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, context), {\n    readOnlyFields: context.readOnlyFields || {}\n  });\n};\nvar NestedFieldProvider = ({\n  children,\n  name,\n  subName,\n  wildcardName = name,\n  readOnlyFields\n}) => {\n  const subPath = `${name}.${subName}`;\n  const wildcardSubPath = `${wildcardName}.${subName}`;\n  const subReadOnlyFields = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => Object.keys(readOnlyFields).reduce((acc, readOnlyKey) => {\n      const isLocal = readOnlyKey.indexOf(subPath) > -1 || readOnlyKey.indexOf(wildcardSubPath) > -1;\n      if (isLocal) {\n        const subPathPattern = new RegExp(\n          `^(${name}|${wildcardName}).`.replace(/\\[/g, \"\\\\[\").replace(/\\]/g, \"\\\\]\").replace(/\\./g, \"\\\\.\").replace(/\\*/g, \"\\\\*\")\n        );\n        const localName = readOnlyKey.replace(subPathPattern, \"\");\n        return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, acc), {\n          [localName]: readOnlyFields[readOnlyKey]\n        });\n      }\n      return acc;\n    }, {}),\n    [name, subName, wildcardName, readOnlyFields]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    NestedFieldContext.Provider,\n    {\n      value: { readOnlyFields: subReadOnlyFields, localName: subName },\n      children\n    }\n  );\n};\n\n// components/AutoField/fields/ArrayField/index.tsx\n\nvar getClassName6 = get_class_name_factory_default(\"ArrayField\", styles_module_default4);\nvar getClassNameItem = get_class_name_factory_default(\"ArrayFieldItem\", styles_module_default4);\nvar ArrayField = ({\n  field,\n  onChange,\n  value: _value,\n  name,\n  label,\n  labelIcon,\n  readOnly,\n  id,\n  Label: Label2 = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props))\n}) => {\n  const thisArrayState = useAppStore((s) => s.state.ui.arrayState[id]);\n  const setUi = useAppStore((s) => s.setUi);\n  const { readOnlyFields, localName = name } = useNestedFieldContext();\n  const value = _value;\n  const arrayState = thisArrayState || {\n    items: Array.from(value || []).map((item, idx) => {\n      return {\n        _originalIndex: idx,\n        _arrayId: `${id}-${idx}`\n      };\n    }),\n    openId: \"\"\n  };\n  const [localState, setLocalState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({ arrayState, value });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    var _a;\n    const _arrayState = (_a = appStore.getState().state.ui.arrayState[id]) != null ? _a : arrayState;\n    setLocalState({ arrayState: _arrayState, value });\n  }, [value]);\n  const appStore = useAppStoreApi();\n  const mapArrayStateToUi = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (partialArrayState) => {\n      const state = appStore.getState().state;\n      return {\n        arrayState: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.ui.arrayState), {\n          [id]: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, arrayState), partialArrayState)\n        })\n      };\n    },\n    [arrayState, appStore]\n  );\n  const getHighestIndex = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    return arrayState.items.reduce(\n      (acc, item) => item._originalIndex > acc ? item._originalIndex : acc,\n      -1\n    );\n  }, [arrayState]);\n  const regenerateArrayState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (value2) => {\n      let highestIndex = getHighestIndex();\n      const newItems = Array.from(value2 || []).map((item, idx) => {\n        var _a;\n        const arrayStateItem = arrayState.items[idx];\n        const newItem = {\n          _originalIndex: typeof (arrayStateItem == null ? void 0 : arrayStateItem._originalIndex) !== \"undefined\" ? arrayStateItem._originalIndex : highestIndex + 1,\n          _arrayId: ((_a = arrayState.items[idx]) == null ? void 0 : _a._arrayId) || `${id}-${highestIndex + 1}`\n        };\n        if (newItem._originalIndex > highestIndex) {\n          highestIndex = newItem._originalIndex;\n        }\n        return newItem;\n      });\n      return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, arrayState), { items: newItems });\n    },\n    [arrayState]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (arrayState.items.length > 0) {\n      setUi(mapArrayStateToUi(arrayState));\n    }\n  }, []);\n  const [draggedItem, setDraggedItem] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  const isDraggingAny = !!draggedItem;\n  const canEdit = useAppStore(\n    (s) => s.permissions.getPermissions({ item: s.selectedItem }).edit\n  );\n  const forceReadOnly = !canEdit;\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(value);\n  const uniqifyItem = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (val) => {\n      if (field.type !== \"array\" || !field.arrayFields) return;\n      const config = appStore.getState().config;\n      return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkField)({\n        value: val,\n        fields: field.arrayFields,\n        mappers: {\n          slot: ({ value: value2 }) => {\n            const content = value2;\n            return content.map((item) => populateIds(item, config, true));\n          }\n        },\n        config\n      });\n    },\n    [appStore, field]\n  );\n  if (field.type !== \"array\" || !field.arrayFields) {\n    return null;\n  }\n  const addDisabled = field.max !== void 0 && localState.arrayState.items.length >= field.max || readOnly;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Label2,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(List, { size: 16 }),\n      el: \"div\",\n      readOnly,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        SortableProvider,\n        {\n          onDragStart: (id2) => setDraggedItem(id2),\n          onDragEnd: () => {\n            setDraggedItem(\"\");\n            onChange(valueRef.current);\n          },\n          onMove: (move) => {\n            if (arrayState.items[move.source]._arrayId !== draggedItem) {\n              return;\n            }\n            const newValue = reorder(localState.value, move.source, move.target);\n            const newArrayStateItems = reorder(\n              arrayState.items,\n              move.source,\n              move.target\n            );\n            const state = appStore.getState().state;\n            const newUi = {\n              arrayState: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, state.ui.arrayState), {\n                [id]: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, arrayState), { items: newArrayStateItems })\n              })\n            };\n            setUi(newUi, false);\n            setLocalState({\n              value: newValue,\n              arrayState: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, arrayState), { items: newArrayStateItems })\n            });\n            valueRef.current = newValue;\n          },\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n            \"div\",\n            {\n              className: getClassName6({\n                hasItems: Array.isArray(value) && value.length > 0,\n                addDisabled\n              }),\n              children: [\n                localState.arrayState.items.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName6(\"inner\"), \"data-dnd-container\": true, children: localState.arrayState.items.map((item, i) => {\n                  const { _arrayId = `${id}-${i}`, _originalIndex = i } = item;\n                  const data = Array.from(localState.value || [])[i] || {};\n                  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    Sortable,\n                    {\n                      id: _arrayId,\n                      index: i,\n                      disabled: readOnly,\n                      children: ({ isDragging, ref, handleRef }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                        \"div\",\n                        {\n                          ref,\n                          className: getClassNameItem({\n                            isExpanded: arrayState.openId === _arrayId,\n                            isDragging,\n                            readOnly\n                          }),\n                          children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                              \"div\",\n                              {\n                                ref: handleRef,\n                                onClick: (e) => {\n                                  if (isDragging) return;\n                                  e.preventDefault();\n                                  e.stopPropagation();\n                                  if (arrayState.openId === _arrayId) {\n                                    setUi(\n                                      mapArrayStateToUi({\n                                        openId: \"\"\n                                      })\n                                    );\n                                  } else {\n                                    setUi(\n                                      mapArrayStateToUi({\n                                        openId: _arrayId\n                                      })\n                                    );\n                                  }\n                                },\n                                className: getClassNameItem(\"summary\"),\n                                children: [\n                                  field.getItemSummary ? field.getItemSummary(data, i) : `Item #${_originalIndex}`,\n                                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameItem(\"rhs\"), children: [\n                                    !readOnly && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameItem(\"actions\"), children: [\n                                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameItem(\"action\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                                        IconButton,\n                                        {\n                                          type: \"button\",\n                                          disabled: !!addDisabled,\n                                          onClick: (e) => {\n                                            e.stopPropagation();\n                                            const existingValue = [...value || []];\n                                            const newItem = uniqifyItem(\n                                              existingValue[i]\n                                            );\n                                            existingValue.splice(i, 0, newItem);\n                                            const newUi = mapArrayStateToUi(\n                                              regenerateArrayState(existingValue)\n                                            );\n                                            setUi(newUi, false);\n                                            onChange(existingValue);\n                                          },\n                                          title: \"Duplicate\",\n                                          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Copy, { size: 16 })\n                                        }\n                                      ) }),\n                                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameItem(\"action\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                                        IconButton,\n                                        {\n                                          type: \"button\",\n                                          disabled: field.min !== void 0 && field.min >= localState.arrayState.items.length,\n                                          onClick: (e) => {\n                                            e.stopPropagation();\n                                            const existingValue = [...value || []];\n                                            const existingItems = [\n                                              ...arrayState.items || []\n                                            ];\n                                            existingValue.splice(i, 1);\n                                            existingItems.splice(i, 1);\n                                            setUi(\n                                              mapArrayStateToUi({\n                                                items: existingItems\n                                              }),\n                                              false\n                                            );\n                                            onChange(existingValue);\n                                          },\n                                          title: \"Delete\",\n                                          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Trash, { size: 16 })\n                                        }\n                                      ) })\n                                    ] }),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DragIcon, {}) })\n                                  ] })\n                                ]\n                              }\n                            ),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameItem(\"body\"), children: arrayState.openId === _arrayId && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"fieldset\", { className: getClassNameItem(\"fieldset\"), children: Object.keys(field.arrayFields).map(\n                              (subName) => {\n                                const subField = field.arrayFields[subName];\n                                const indexName = `${name}[${i}]`;\n                                const subPath = `${indexName}.${subName}`;\n                                const localIndexName = `${localName}[${i}]`;\n                                const localWildcardName = `${localName}[*]`;\n                                const localSubPath = `${localIndexName}.${subName}`;\n                                const localWildcardSubPath = `${localWildcardName}.${subName}`;\n                                const subReadOnly = forceReadOnly ? forceReadOnly : typeof readOnlyFields[subPath] !== \"undefined\" ? readOnlyFields[localSubPath] : readOnlyFields[localWildcardSubPath];\n                                const label2 = subField.label || subName;\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                                  NestedFieldProvider,\n                                  {\n                                    name: localIndexName,\n                                    wildcardName: localWildcardName,\n                                    subName,\n                                    readOnlyFields,\n                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                                      AutoFieldPrivate,\n                                      {\n                                        name: subPath,\n                                        label: label2,\n                                        id: `${_arrayId}_${subName}`,\n                                        readOnly: subReadOnly,\n                                        field: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, subField), {\n                                          label: label2\n                                          // May be used by custom fields\n                                        }),\n                                        value: data[subName],\n                                        onChange: (val, ui) => {\n                                          onChange(\n                                            replace(value, i, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, data), {\n                                              [subName]: val\n                                            })),\n                                            ui\n                                          );\n                                        }\n                                      }\n                                    )\n                                  },\n                                  subPath\n                                );\n                              }\n                            ) }) })\n                          ]\n                        }\n                      )\n                    },\n                    _arrayId\n                  );\n                }) }),\n                !addDisabled && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                  \"button\",\n                  {\n                    type: \"button\",\n                    className: getClassName6(\"addButton\"),\n                    onClick: () => {\n                      var _a;\n                      if (isDraggingAny) return;\n                      const existingValue = value || [];\n                      const newItem = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultSlots)(\n                        uniqifyItem((_a = field.defaultItemProps) != null ? _a : {}),\n                        field.arrayFields\n                      );\n                      const newValue = [...existingValue, newItem];\n                      const newArrayState = regenerateArrayState(newValue);\n                      setUi(mapArrayStateToUi(newArrayState), false);\n                      onChange(newValue);\n                    },\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Plus, { size: 21 })\n                  }\n                )\n              ]\n            }\n          )\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/DefaultField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar getClassName7 = get_class_name_factory_default(\"Input\", styles_module_default3);\nvar DefaultField = ({\n  field,\n  onChange,\n  readOnly,\n  value: _value,\n  name,\n  label,\n  labelIcon,\n  Label: Label2,\n  id\n}) => {\n  const value = _value;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Label2,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n        field.type === \"text\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Type, { size: 16 }),\n        field.type === \"number\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Hash, { size: 16 })\n      ] }),\n      readOnly,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"input\",\n        {\n          className: getClassName7(\"input\"),\n          autoComplete: \"off\",\n          type: field.type,\n          title: label || name,\n          name,\n          value: (value == null ? void 0 : value.toString) ? value.toString() : \"\",\n          onChange: (e) => {\n            if (field.type === \"number\") {\n              const numberValue = Number(e.currentTarget.value);\n              if (typeof field.min !== \"undefined\" && numberValue < field.min) {\n                return;\n              }\n              if (typeof field.max !== \"undefined\" && numberValue > field.max) {\n                return;\n              }\n              onChange(numberValue);\n            } else {\n              onChange(e.currentTarget.value);\n            }\n          },\n          readOnly,\n          tabIndex: readOnly ? -1 : void 0,\n          id,\n          min: field.type === \"number\" ? field.min : void 0,\n          max: field.type === \"number\" ? field.max : void 0,\n          placeholder: field.type === \"text\" || field.type === \"number\" ? field.placeholder : void 0,\n          step: field.type === \"number\" ? field.step : void 0\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/ExternalField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// components/ExternalInput/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/ExternalInput/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default6 = { \"ExternalInput-actions\": \"_ExternalInput-actions_91ls0_1\", \"ExternalInput-button\": \"_ExternalInput-button_91ls0_5\", \"ExternalInput--dataSelected\": \"_ExternalInput--dataSelected_91ls0_24\", \"ExternalInput--readOnly\": \"_ExternalInput--readOnly_91ls0_31\", \"ExternalInput-detachButton\": \"_ExternalInput-detachButton_91ls0_35\", \"ExternalInput\": \"_ExternalInput_91ls0_1\", \"ExternalInputModal\": \"_ExternalInputModal_91ls0_79\", \"ExternalInputModal-grid\": \"_ExternalInputModal-grid_91ls0_89\", \"ExternalInputModal--filtersToggled\": \"_ExternalInputModal--filtersToggled_91ls0_100\", \"ExternalInputModal-filters\": \"_ExternalInputModal-filters_91ls0_105\", \"ExternalInputModal-masthead\": \"_ExternalInputModal-masthead_91ls0_124\", \"ExternalInputModal-tableWrapper\": \"_ExternalInputModal-tableWrapper_91ls0_133\", \"ExternalInputModal-table\": \"_ExternalInputModal-table_91ls0_133\", \"ExternalInputModal-thead\": \"_ExternalInputModal-thead_91ls0_149\", \"ExternalInputModal-th\": \"_ExternalInputModal-th_91ls0_149\", \"ExternalInputModal-td\": \"_ExternalInputModal-td_91ls0_164\", \"ExternalInputModal-tr\": \"_ExternalInputModal-tr_91ls0_169\", \"ExternalInputModal-tbody\": \"_ExternalInputModal-tbody_91ls0_176\", \"ExternalInputModal--hasData\": \"_ExternalInputModal--hasData_91ls0_202\", \"ExternalInputModal-loadingBanner\": \"_ExternalInputModal-loadingBanner_91ls0_206\", \"ExternalInputModal--isLoading\": \"_ExternalInputModal--isLoading_91ls0_223\", \"ExternalInputModal-searchForm\": \"_ExternalInputModal-searchForm_91ls0_227\", \"ExternalInputModal-search\": \"_ExternalInputModal-search_91ls0_227\", \"ExternalInputModal-searchIcon\": \"_ExternalInputModal-searchIcon_91ls0_264\", \"ExternalInputModal-searchIconText\": \"_ExternalInputModal-searchIconText_91ls0_289\", \"ExternalInputModal-searchInput\": \"_ExternalInputModal-searchInput_91ls0_299\", \"ExternalInputModal-searchActions\": \"_ExternalInputModal-searchActions_91ls0_313\", \"ExternalInputModal-searchActionIcon\": \"_ExternalInputModal-searchActionIcon_91ls0_326\", \"ExternalInputModal-footerContainer\": \"_ExternalInputModal-footerContainer_91ls0_330\", \"ExternalInputModal-footer\": \"_ExternalInputModal-footer_91ls0_330\", \"ExternalInputModal-field\": \"_ExternalInputModal-field_91ls0_343\" };\n\n// components/Modal/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Modal/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default7 = { \"Modal\": \"_Modal_ikbaj_1\", \"Modal--isOpen\": \"_Modal--isOpen_ikbaj_15\", \"Modal-inner\": \"_Modal-inner_ikbaj_19\" };\n\n// components/Modal/index.tsx\n\n\nvar getClassName8 = get_class_name_factory_default(\"Modal\", styles_module_default7);\nvar Modal = ({\n  children,\n  onClose,\n  isOpen\n}) => {\n  const [rootEl, setRootEl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setRootEl(document.getElementById(\"puck-portal-root\"));\n  }, []);\n  if (!rootEl) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {});\n  }\n  return (0,react_dom__WEBPACK_IMPORTED_MODULE_13__.createPortal)(\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName8({ isOpen }), onClick: onClose, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"div\",\n      {\n        className: getClassName8(\"inner\"),\n        onClick: (e) => e.stopPropagation(),\n        children\n      }\n    ) }),\n    rootEl\n  );\n};\n\n// components/Heading/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Heading/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default8 = { \"Heading\": \"_Heading_qxrry_1\", \"Heading--xxxxl\": \"_Heading--xxxxl_qxrry_12\", \"Heading--xxxl\": \"_Heading--xxxl_qxrry_18\", \"Heading--xxl\": \"_Heading--xxl_qxrry_22\", \"Heading--xl\": \"_Heading--xl_qxrry_26\", \"Heading--l\": \"_Heading--l_qxrry_30\", \"Heading--m\": \"_Heading--m_qxrry_34\", \"Heading--s\": \"_Heading--s_qxrry_38\", \"Heading--xs\": \"_Heading--xs_qxrry_42\" };\n\n// components/Heading/index.tsx\n\nvar getClassName9 = get_class_name_factory_default(\"Heading\", styles_module_default8);\nvar Heading = ({ children, rank, size = \"m\" }) => {\n  const Tag = rank ? `h${rank}` : \"span\";\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Tag,\n    {\n      className: getClassName9({\n        [size]: true\n      }),\n      children\n    }\n  );\n};\n\n// components/Button/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// components/ExternalInput/index.tsx\n\nvar getClassName10 = get_class_name_factory_default(\"ExternalInput\", styles_module_default6);\nvar getClassNameModal = get_class_name_factory_default(\"ExternalInputModal\", styles_module_default6);\nvar dataCache = {};\nvar ExternalInput = ({\n  field,\n  onChange,\n  value = null,\n  name,\n  id,\n  readOnly\n}) => {\n  const {\n    mapProp = (val) => val,\n    mapRow = (val) => val,\n    filterFields\n  } = field || {};\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n  const [isOpen, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n  const hasFilterFields = !!filterFields;\n  const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(field.initialFilters || {});\n  const [filtersToggled, setFiltersToggled] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(hasFilterFields);\n  const mappedData = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return data.map(mapRow);\n  }, [data]);\n  const keys = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const validKeys = /* @__PURE__ */ new Set();\n    for (const item of mappedData) {\n      for (const key of Object.keys(item)) {\n        if (typeof item[key] === \"string\" || typeof item[key] === \"number\" || (0,react__WEBPACK_IMPORTED_MODULE_2__.isValidElement)(item[key])) {\n          validKeys.add(key);\n        }\n      }\n    }\n    return Array.from(validKeys);\n  }, [mappedData]);\n  const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(field.initialQuery || \"\");\n  const search = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (query, filters2) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n      setIsLoading(true);\n      const cacheKey = `${id}-${query}-${JSON.stringify(filters2)}`;\n      const listData = dataCache[cacheKey] || (yield field.fetchList({ query, filters: filters2 }));\n      if (listData) {\n        setData(listData);\n        setIsLoading(false);\n        dataCache[cacheKey] = listData;\n      }\n    }),\n    [id, field]\n  );\n  const Footer = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (props) => field.renderFooter ? field.renderFooter(props) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", { className: getClassNameModal(\"footer\"), children: [\n      props.items.length,\n      \" result\",\n      props.items.length === 1 ? \"\" : \"s\"\n    ] }),\n    [field.renderFooter]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    search(searchQuery, filters);\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      className: getClassName10({\n        dataSelected: !!value,\n        modalVisible: isOpen,\n        readOnly\n      }),\n      id,\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName10(\"actions\"), children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"button\",\n            {\n              type: \"button\",\n              onClick: () => setOpen(true),\n              className: getClassName10(\"button\"),\n              disabled: readOnly,\n              children: value ? field.getItemSummary ? field.getItemSummary(value) : \"External item\" : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Link, { size: \"16\" }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { children: field.placeholder })\n              ] })\n            }\n          ),\n          value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"button\",\n            {\n              type: \"button\",\n              className: getClassName10(\"detachButton\"),\n              onClick: () => {\n                onChange(null);\n              },\n              disabled: readOnly,\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LockOpen, { size: 16 })\n            }\n          )\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Modal, { onClose: () => setOpen(false), isOpen, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n          \"form\",\n          {\n            className: getClassNameModal({\n              isLoading,\n              loaded: !isLoading,\n              hasData: mappedData.length > 0,\n              filtersToggled\n            }),\n            onSubmit: (e) => {\n              e.preventDefault();\n              search(searchQuery, filters);\n            },\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameModal(\"masthead\"), children: field.showSearch ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameModal(\"searchForm\"), children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"label\", { className: getClassNameModal(\"search\"), children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { className: getClassNameModal(\"searchIconText\"), children: \"Search\" }),\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameModal(\"searchIcon\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Search, { size: \"18\" }) }),\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    \"input\",\n                    {\n                      className: getClassNameModal(\"searchInput\"),\n                      name: \"q\",\n                      type: \"search\",\n                      placeholder: field.placeholder,\n                      onChange: (e) => {\n                        setSearchQuery(e.currentTarget.value);\n                      },\n                      autoComplete: \"off\",\n                      value: searchQuery\n                    }\n                  )\n                ] }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameModal(\"searchActions\"), children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Button, { type: \"submit\", loading: isLoading, fullWidth: true, children: \"Search\" }),\n                  hasFilterFields && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameModal(\"searchActionIcon\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    IconButton,\n                    {\n                      type: \"button\",\n                      title: \"Toggle filters\",\n                      onClick: (e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        setFiltersToggled(!filtersToggled);\n                      },\n                      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SlidersHorizontal, { size: 20 })\n                    }\n                  ) })\n                ] })\n              ] }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Heading, { rank: \"2\", size: \"xs\", children: field.placeholder || \"Select data\" }) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameModal(\"grid\"), children: [\n                hasFilterFields && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameModal(\"filters\"), children: hasFilterFields && Object.keys(filterFields).map((fieldName) => {\n                  const filterField = filterFields[fieldName];\n                  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    \"div\",\n                    {\n                      className: getClassNameModal(\"field\"),\n                      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                        AutoFieldPrivate,\n                        {\n                          field: filterField,\n                          name: fieldName,\n                          id: `external_field_${fieldName}_filter`,\n                          label: filterField.label || fieldName,\n                          value: filters[fieldName],\n                          onChange: (value2) => {\n                            const newFilters = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, filters), {\n                              [fieldName]: value2\n                            });\n                            setFilters(newFilters);\n                            search(searchQuery, newFilters);\n                          }\n                        }\n                      )\n                    },\n                    fieldName\n                  );\n                }) }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameModal(\"tableWrapper\"), children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"table\", { className: getClassNameModal(\"table\"), children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"thead\", { className: getClassNameModal(\"thead\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"tr\", { className: getClassNameModal(\"tr\"), children: keys.map((key) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                      \"th\",\n                      {\n                        className: getClassNameModal(\"th\"),\n                        style: { textAlign: \"left\" },\n                        children: key\n                      },\n                      key\n                    )) }) }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"tbody\", { className: getClassNameModal(\"tbody\"), children: mappedData.map((item, i) => {\n                      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                        \"tr\",\n                        {\n                          style: { whiteSpace: \"nowrap\" },\n                          className: getClassNameModal(\"tr\"),\n                          onClick: () => {\n                            onChange(mapProp(data[i]));\n                            setOpen(false);\n                          },\n                          children: keys.map((key) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"td\", { className: getClassNameModal(\"td\"), children: item[key] }, key))\n                        },\n                        i\n                      );\n                    }) })\n                  ] }),\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameModal(\"loadingBanner\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loader, { size: 24 }) })\n                ] })\n              ] }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameModal(\"footerContainer\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Footer, { items: mappedData }) })\n            ]\n          }\n        ) })\n      ]\n    }\n  );\n};\n\n// components/AutoField/fields/ExternalField/index.tsx\n\nvar ExternalField = ({\n  field,\n  onChange,\n  value,\n  name,\n  label,\n  labelIcon,\n  Label: Label2,\n  id,\n  readOnly\n}) => {\n  var _a, _b, _c;\n  const validField = field;\n  const deprecatedField = field;\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (deprecatedField.adaptor) {\n      console.error(\n        \"Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.\"\n      );\n    }\n  }, []);\n  if (field.type !== \"external\") {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Label2,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Link, { size: 16 }),\n      el: \"div\",\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        ExternalInput,\n        {\n          name,\n          field: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, validField), {\n            // DEPRECATED\n            placeholder: ((_a = deprecatedField.adaptor) == null ? void 0 : _a.name) ? `Select from ${deprecatedField.adaptor.name}` : validField.placeholder || \"Select data\",\n            mapProp: ((_b = deprecatedField.adaptor) == null ? void 0 : _b.mapProp) || validField.mapProp,\n            mapRow: validField.mapRow,\n            fetchList: ((_c = deprecatedField.adaptor) == null ? void 0 : _c.fetchList) ? () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n              return yield deprecatedField.adaptor.fetchList(\n                deprecatedField.adaptorParams\n              );\n            }) : validField.fetchList\n          }),\n          onChange,\n          value,\n          id,\n          readOnly\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/RadioField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar getClassName11 = get_class_name_factory_default(\"Input\", styles_module_default3);\nvar RadioField = ({\n  field,\n  onChange,\n  readOnly,\n  value,\n  name,\n  id,\n  label,\n  labelIcon,\n  Label: Label2\n}) => {\n  if (field.type !== \"radio\" || !field.options) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Label2,\n    {\n      icon: labelIcon || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CircleCheckBig, { size: 16 }),\n      label: label || name,\n      readOnly,\n      el: \"div\",\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName11(\"radioGroupItems\"), id, children: field.options.map((option) => {\n        var _a;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n          \"label\",\n          {\n            className: getClassName11(\"radio\"),\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                \"input\",\n                {\n                  type: \"radio\",\n                  className: getClassName11(\"radioInput\"),\n                  value: JSON.stringify({ value: option.value }),\n                  name,\n                  onChange: (e) => {\n                    onChange(JSON.parse(e.target.value).value);\n                  },\n                  disabled: readOnly,\n                  checked: value === option.value\n                }\n              ),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName11(\"radioInner\"), children: option.label || ((_a = option.value) == null ? void 0 : _a.toString()) })\n            ]\n          },\n          option.label + option.value\n        );\n      }) })\n    }\n  );\n};\n\n// components/AutoField/fields/SelectField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar getClassName12 = get_class_name_factory_default(\"Input\", styles_module_default3);\nvar SelectField = ({\n  field,\n  onChange,\n  label,\n  labelIcon,\n  Label: Label2,\n  value,\n  name,\n  readOnly,\n  id\n}) => {\n  if (field.type !== \"select\" || !field.options) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Label2,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChevronDown, { size: 16 }),\n      readOnly,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"select\",\n        {\n          id,\n          title: label || name,\n          className: getClassName12(\"input\"),\n          disabled: readOnly,\n          onChange: (e) => {\n            onChange(JSON.parse(e.target.value).value);\n          },\n          value: JSON.stringify({ value }),\n          children: field.options.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"option\",\n            {\n              label: option.label,\n              value: JSON.stringify({ value: option.value })\n            },\n            option.label + JSON.stringify(option.value)\n          ))\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/TextareaField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar getClassName13 = get_class_name_factory_default(\"Input\", styles_module_default3);\nvar TextareaField = ({\n  field,\n  onChange,\n  readOnly,\n  value,\n  name,\n  label,\n  labelIcon,\n  Label: Label2,\n  id\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Label2,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Type, { size: 16 }),\n      readOnly,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"textarea\",\n        {\n          id,\n          className: getClassName13(\"input\"),\n          autoComplete: \"off\",\n          name,\n          value: typeof value === \"undefined\" ? \"\" : value,\n          onChange: (e) => onChange(e.currentTarget.value),\n          readOnly,\n          tabIndex: readOnly ? -1 : void 0,\n          rows: 5,\n          placeholder: field.type === \"textarea\" ? field.placeholder : void 0\n        }\n      )\n    }\n  );\n};\n\n// components/AutoField/fields/ObjectField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/AutoField/fields/ObjectField/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default9 = { \"ObjectField\": \"_ObjectField_1ua3y_5\", \"ObjectField-fieldset\": \"_ObjectField-fieldset_1ua3y_13\" };\n\n// components/AutoField/fields/ObjectField/index.tsx\n\nvar getClassName14 = get_class_name_factory_default(\"ObjectField\", styles_module_default9);\nvar ObjectField = ({\n  field,\n  onChange,\n  value,\n  name,\n  label,\n  labelIcon,\n  Label: Label2,\n  readOnly,\n  id\n}) => {\n  const { readOnlyFields, localName = name } = useNestedFieldContext();\n  if (field.type !== \"object\" || !field.objectFields) {\n    return null;\n  }\n  const data = value || {};\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Label2,\n    {\n      label: label || name,\n      icon: labelIcon || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(EllipsisVertical, { size: 16 }),\n      el: \"div\",\n      readOnly,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName14(), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"fieldset\", { className: getClassName14(\"fieldset\"), children: Object.keys(field.objectFields).map((subName) => {\n        const subField = field.objectFields[subName];\n        const subPath = `${localName}.${subName}`;\n        const subReadOnly = readOnly ? readOnly : readOnlyFields[subPath];\n        const label2 = subField.label || subName;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          NestedFieldProvider,\n          {\n            name: localName || id,\n            subName,\n            readOnlyFields,\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              AutoFieldPrivate,\n              {\n                name: subPath,\n                label: subPath,\n                id: `${id}_${subName}`,\n                readOnly: subReadOnly,\n                field: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, subField), {\n                  label: label2\n                  // May be used by custom fields\n                }),\n                value: data[subName],\n                onChange: (val, ui) => {\n                  onChange(\n                    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, data), {\n                      [subName]: val\n                    }),\n                    ui\n                  );\n                }\n              }\n            )\n          },\n          subPath\n        );\n      }) }) })\n    }\n  );\n};\n\n// lib/use-safe-id.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar useSafeId = () => {\n  if (typeof react__WEBPACK_IMPORTED_MODULE_2__.useId !== \"undefined\") {\n    return react__WEBPACK_IMPORTED_MODULE_2__.useId();\n  }\n  const [id] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(generateId());\n  return id;\n};\n\n// components/AutoField/index.tsx\n\nvar getClassName15 = get_class_name_factory_default(\"Input\", styles_module_default3);\nvar getClassNameWrapper = get_class_name_factory_default(\"InputWrapper\", styles_module_default3);\nvar FieldLabel = ({\n  children,\n  icon,\n  label,\n  el = \"label\",\n  readOnly,\n  className\n}) => {\n  const El = el;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(El, { className, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName15(\"label\"), children: [\n      icon ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName15(\"labelIcon\"), children: icon }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {}),\n      label,\n      readOnly && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName15(\"disabledIcon\"), title: \"Read-only\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Lock, { size: \"12\" }) })\n    ] }),\n    children\n  ] });\n};\nvar FieldLabelInternal = ({\n  children,\n  icon,\n  label,\n  el = \"label\",\n  readOnly\n}) => {\n  const overrides = useAppStore((s) => s.overrides);\n  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => overrides.fieldLabel || FieldLabel,\n    [overrides]\n  );\n  if (!label) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Wrapper,\n    {\n      label,\n      icon,\n      className: getClassName15({ readOnly }),\n      readOnly,\n      el,\n      children\n    }\n  );\n};\nvar defaultFields = {\n  array: ArrayField,\n  external: ExternalField,\n  object: ObjectField,\n  select: SelectField,\n  textarea: TextareaField,\n  radio: RadioField,\n  text: DefaultField,\n  number: DefaultField\n};\nfunction AutoFieldInternal(props) {\n  var _a;\n  const dispatch = useAppStore((s) => s.dispatch);\n  const overrides = useAppStore((s) => s.overrides);\n  const readOnly = useAppStore((s) => {\n    var _a2;\n    return (_a2 = s.selectedItem) == null ? void 0 : _a2.readOnly;\n  });\n  const nestedFieldContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(NestedFieldContext);\n  const { id, Label: Label2 = FieldLabelInternal } = props;\n  const field = props.field;\n  const label = field.label;\n  const labelIcon = field.labelIcon;\n  const defaultId = useSafeId();\n  const resolvedId = id || defaultId;\n  const render = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => {\n      var _a2, _b, _c, _d, _e, _f, _g, _h;\n      return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, overrides.fieldTypes), {\n        array: ((_a2 = overrides.fieldTypes) == null ? void 0 : _a2.array) || defaultFields.array,\n        external: ((_b = overrides.fieldTypes) == null ? void 0 : _b.external) || defaultFields.external,\n        object: ((_c = overrides.fieldTypes) == null ? void 0 : _c.object) || defaultFields.object,\n        select: ((_d = overrides.fieldTypes) == null ? void 0 : _d.select) || defaultFields.select,\n        textarea: ((_e = overrides.fieldTypes) == null ? void 0 : _e.textarea) || defaultFields.textarea,\n        radio: ((_f = overrides.fieldTypes) == null ? void 0 : _f.radio) || defaultFields.radio,\n        text: ((_g = overrides.fieldTypes) == null ? void 0 : _g.text) || defaultFields.text,\n        number: ((_h = overrides.fieldTypes) == null ? void 0 : _h.number) || defaultFields.number\n      });\n    },\n    [overrides]\n  );\n  const mergedProps = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), {\n      field,\n      label,\n      labelIcon,\n      Label: Label2,\n      id: resolvedId\n    }),\n    [props, field, label, labelIcon, Label2, resolvedId]\n  );\n  const onFocus = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (e) => {\n      if (mergedProps.name && (e.target.nodeName === \"INPUT\" || e.target.nodeName === \"TEXTAREA\")) {\n        e.stopPropagation();\n        dispatch({\n          type: \"setUi\",\n          ui: {\n            field: { focus: mergedProps.name }\n          }\n        });\n      }\n    },\n    [mergedProps.name]\n  );\n  const onBlur = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((e) => {\n    if (\"name\" in e.target) {\n      dispatch({\n        type: \"setUi\",\n        ui: {\n          field: { focus: null }\n        }\n      });\n    }\n  }, []);\n  let Children = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (field.type !== \"custom\" && field.type !== \"slot\") {\n      return defaultFields[field.type];\n    }\n    return (_props) => null;\n  }, [field.type]);\n  let FieldComponent = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (field.type === \"custom\") {\n      if (!field.render) {\n        return null;\n      }\n      return field.render;\n    } else if (field.type !== \"slot\") {\n      return render[field.type];\n    }\n  }, [field.type, render]);\n  const { visible = true } = props.field;\n  if (!visible) {\n    return null;\n  }\n  if (field.type === \"slot\") {\n    return null;\n  }\n  if (!FieldComponent) {\n    throw new Error(`Field type for ${field.type} did not exist.`);\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    NestedFieldContext.Provider,\n    {\n      value: {\n        readOnlyFields: nestedFieldContext.readOnlyFields || readOnly || {},\n        localName: (_a = nestedFieldContext.localName) != null ? _a : mergedProps.name\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"div\",\n        {\n          className: getClassNameWrapper(),\n          onFocus,\n          onBlur,\n          onClick: (e) => {\n            e.stopPropagation();\n          },\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FieldComponent, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, mergedProps), { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Children, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, mergedProps)) }))\n        }\n      )\n    }\n  );\n}\nfunction AutoFieldPrivate(props) {\n  const isFocused = useAppStore((s) => s.state.ui.field.focus === props.name);\n  const { value, onChange } = props;\n  const [localValue, setLocalValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(value);\n  const onChangeLocal = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (val, ui) => {\n      setLocalValue(val);\n      onChange(val, ui);\n    },\n    [onChange]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!isFocused) {\n      setLocalValue(value);\n    }\n  }, [value]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!isFocused) {\n      if (value !== localValue) {\n        setLocalValue(value);\n      }\n    }\n  }, [isFocused, value, localValue]);\n  const localProps = {\n    value: localValue,\n    onChange: onChangeLocal\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AutoFieldInternal, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), localProps));\n}\nfunction AutoField(props) {\n  const DefaultLabel = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const DefaultLabel2 = (labelProps) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"div\",\n      (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, labelProps), {\n        className: getClassName15({ readOnly: props.readOnly })\n      })\n    );\n    return DefaultLabel2;\n  }, [props.readOnly]);\n  if (props.field.type === \"slot\") {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AutoFieldInternal, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { Label: DefaultLabel }));\n}\n\n// components/Render/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// components/DropZone/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// components/DraggableComponent/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/DraggableComponent/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default10 = { \"DraggableComponent\": \"_DraggableComponent_1vaqy_1\", \"DraggableComponent-overlayWrapper\": \"_DraggableComponent-overlayWrapper_1vaqy_12\", \"DraggableComponent-overlay\": \"_DraggableComponent-overlay_1vaqy_12\", \"DraggableComponent-loadingOverlay\": \"_DraggableComponent-loadingOverlay_1vaqy_34\", \"DraggableComponent--hover\": \"_DraggableComponent--hover_1vaqy_50\", \"DraggableComponent--isSelected\": \"_DraggableComponent--isSelected_1vaqy_57\", \"DraggableComponent-actionsOverlay\": \"_DraggableComponent-actionsOverlay_1vaqy_71\", \"DraggableComponent-actions\": \"_DraggableComponent-actions_1vaqy_71\" };\n\n// components/DraggableComponent/index.tsx\n\n\n// lib/get-deep-scroll-position.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nfunction getDeepScrollPosition(element) {\n  let totalScroll = {\n    x: 0,\n    y: 0\n  };\n  let current = element;\n  while (current && current !== document.documentElement) {\n    const parent = current.parentElement;\n    if (parent) {\n      totalScroll.x += parent.scrollLeft;\n      totalScroll.y += parent.scrollTop;\n    }\n    current = parent;\n  }\n  return totalScroll;\n}\n\n// components/DropZone/context.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n\nvar dropZoneContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)(null);\nvar ZoneStoreContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)(\n  (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_10__.createStore)(() => ({\n    zoneDepthIndex: {},\n    nextZoneDepthIndex: {},\n    areaDepthIndex: {},\n    nextAreaDepthIndex: {},\n    draggedItem: null,\n    previewIndex: {},\n    enabledIndex: {},\n    hoveringComponent: null\n  }))\n);\nvar ZoneStoreProvider = ({\n  children,\n  store\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ZoneStoreContext.Provider, { value: store, children });\n};\nvar DropZoneProvider = ({\n  children,\n  value\n}) => {\n  const dispatch = useAppStore((s) => s.dispatch);\n  const registerZone = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (zoneCompound) => {\n      dispatch({\n        type: \"registerZone\",\n        zone: zoneCompound\n      });\n    },\n    [dispatch]\n  );\n  const memoValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n      registerZone\n    }, value),\n    [value]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: memoValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(dropZoneContext.Provider, { value: memoValue, children }) });\n};\n\n// components/DraggableComponent/index.tsx\n\n\n\n// lib/accumulate-transform.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nfunction accumulateTransform(el) {\n  let matrix = new DOMMatrixReadOnly();\n  let n = el.parentElement;\n  while (n && n !== document.documentElement) {\n    const t = getComputedStyle(n).transform;\n    if (t && t !== \"none\") {\n      matrix = new DOMMatrixReadOnly(t).multiply(matrix);\n    }\n    n = n.parentElement;\n  }\n  return { scaleX: matrix.a, scaleY: matrix.d };\n}\n\n// lib/use-context-store.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n\nfunction useContextStore(context, selector) {\n  const store = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(context);\n  if (!store) {\n    throw new Error(\"useContextStore must be used inside context\");\n  }\n  return (0,zustand__WEBPACK_IMPORTED_MODULE_4__.useStore)(store, (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)(selector));\n}\n\n// lib/dnd/use-on-drag-finished.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar useOnDragFinished = (cb, deps = []) => {\n  const appStore = useAppStoreApi();\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    let dispose = () => {\n    };\n    const processDragging = (isDragging2) => {\n      if (isDragging2) {\n        cb(false);\n      } else {\n        setTimeout(() => {\n          cb(true);\n        }, 0);\n        if (dispose) dispose();\n      }\n    };\n    const isDragging = appStore.getState().state.ui.isDragging;\n    processDragging(isDragging);\n    if (isDragging) {\n      dispose = appStore.subscribe(\n        (s) => s.state.ui.isDragging,\n        (isDragging2) => {\n          processDragging(isDragging2);\n        }\n      );\n    }\n    return dispose;\n  }, [appStore, ...deps]);\n};\n\n// components/DraggableComponent/index.tsx\n\nvar getClassName16 = get_class_name_factory_default(\"DraggableComponent\", styles_module_default10);\nvar DEBUG2 = false;\nvar space = 8;\nvar actionsOverlayTop = space * 6.5;\nvar actionsTop = -(actionsOverlayTop - 8);\nvar actionsSide = space;\nvar DefaultActionBar = ({\n  label,\n  children,\n  parentAction\n}) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(ActionBar, { children: [\n  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(ActionBar.Group, { children: [\n    parentAction,\n    label && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ActionBar.Label, { label })\n  ] }),\n  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ActionBar.Group, { children })\n] });\nvar DefaultOverlay = ({\n  children\n}) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children });\nvar DraggableComponent = ({\n  children,\n  depth,\n  componentType,\n  id,\n  index,\n  zoneCompound,\n  isLoading = false,\n  isSelected = false,\n  debug,\n  label,\n  autoDragAxis,\n  userDragAxis,\n  inDroppableZone = true\n}) => {\n  const zoom = useAppStore(\n    (s) => {\n      var _a;\n      return ((_a = s.selectedItem) == null ? void 0 : _a.props.id) === id ? s.zoomConfig.zoom : 1;\n    }\n  );\n  const overrides = useAppStore((s) => s.overrides);\n  const dispatch = useAppStore((s) => s.dispatch);\n  const iframe = useAppStore((s) => s.iframe);\n  const ctx = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(dropZoneContext);\n  const [localZones, setLocalZones] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n  const registerLocalZone = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (zoneCompound2, active) => {\n      var _a;\n      (_a = ctx == null ? void 0 : ctx.registerLocalZone) == null ? void 0 : _a.call(ctx, zoneCompound2, active);\n      setLocalZones((obj) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, obj), {\n        [zoneCompound2]: active\n      }));\n    },\n    [setLocalZones]\n  );\n  const unregisterLocalZone = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (zoneCompound2) => {\n      var _a;\n      (_a = ctx == null ? void 0 : ctx.unregisterLocalZone) == null ? void 0 : _a.call(ctx, zoneCompound2);\n      setLocalZones((obj) => {\n        const newLocalZones = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, obj);\n        delete newLocalZones[zoneCompound2];\n        return newLocalZones;\n      });\n    },\n    [setLocalZones]\n  );\n  const containsActiveZone = Object.values(localZones).filter(Boolean).length > 0;\n  const path = useAppStore((0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n    var _a;\n    return (_a = s.state.indexes.nodes[id]) == null ? void 0 : _a.path;\n  }));\n  const permissions = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n      const item = getItem({ index, zone: zoneCompound }, s.state);\n      return s.permissions.getPermissions({ item });\n    })\n  );\n  const zoneStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(ZoneStoreContext);\n  const [dragAxis, setDragAxis] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(userDragAxis || autoDragAxis);\n  const dynamicCollisionDetector = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => createDynamicCollisionDetector(dragAxis),\n    [dragAxis]\n  );\n  const {\n    ref: sortableRef,\n    isDragging: thisIsDragging,\n    sortable\n  } = (0,_dnd_kit_react_sortable__WEBPACK_IMPORTED_MODULE_12__.useSortable)({\n    id,\n    index,\n    group: zoneCompound,\n    type: \"component\",\n    data: {\n      areaId: ctx == null ? void 0 : ctx.areaId,\n      zone: zoneCompound,\n      index,\n      componentType,\n      containsActiveZone,\n      depth,\n      path: path || [],\n      inDroppableZone\n    },\n    collisionPriority: depth,\n    collisionDetector: dynamicCollisionDetector,\n    // \"Out of the way\" transition from react-beautiful-dnd\n    transition: {\n      duration: 200,\n      easing: \"cubic-bezier(0.2, 0, 0, 1)\"\n    },\n    feedback: \"clone\"\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const isEnabled = zoneStore.getState().enabledIndex[zoneCompound];\n    sortable.droppable.disabled = !isEnabled;\n    sortable.draggable.disabled = !permissions.drag;\n    const cleanup = zoneStore.subscribe((s) => {\n      sortable.droppable.disabled = !s.enabledIndex[zoneCompound];\n    });\n    if (ref.current && !permissions.drag) {\n      ref.current.setAttribute(\"data-puck-disabled\", \"\");\n      return () => {\n        var _a;\n        (_a = ref.current) == null ? void 0 : _a.removeAttribute(\"data-puck-disabled\");\n        cleanup();\n      };\n    }\n    return cleanup;\n  }, [permissions.drag, zoneCompound]);\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const refSetter = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (el) => {\n      sortableRef(el);\n      if (el) {\n        ref.current = el;\n      }\n    },\n    [sortableRef]\n  );\n  const [portalEl, setPortalEl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    var _a, _b, _c;\n    setPortalEl(\n      iframe.enabled ? (_a = ref.current) == null ? void 0 : _a.ownerDocument.body : (_c = (_b = ref.current) == null ? void 0 : _b.closest(\"[data-puck-preview]\")) != null ? _c : document.body\n    );\n  }, [iframe.enabled, ref.current]);\n  const getStyle = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    var _a, _b, _c;\n    if (!ref.current) return;\n    const rect = ref.current.getBoundingClientRect();\n    const deepScrollPosition = getDeepScrollPosition(ref.current);\n    const portalContainerEl = iframe.enabled ? null : (_a = ref.current) == null ? void 0 : _a.closest(\"[data-puck-preview]\");\n    const portalContainerRect = portalContainerEl == null ? void 0 : portalContainerEl.getBoundingClientRect();\n    const portalScroll = portalContainerEl ? getDeepScrollPosition(portalContainerEl) : { x: 0, y: 0 };\n    const scroll = {\n      x: deepScrollPosition.x - portalScroll.x - ((_b = portalContainerRect == null ? void 0 : portalContainerRect.left) != null ? _b : 0),\n      y: deepScrollPosition.y - portalScroll.y - ((_c = portalContainerRect == null ? void 0 : portalContainerRect.top) != null ? _c : 0)\n    };\n    const untransformed = {\n      height: ref.current.offsetHeight,\n      width: ref.current.offsetWidth\n    };\n    const transform = accumulateTransform(ref.current);\n    const style2 = {\n      left: `${(rect.left + scroll.x) / transform.scaleX}px`,\n      top: `${(rect.top + scroll.y) / transform.scaleY}px`,\n      height: `${untransformed.height}px`,\n      width: `${untransformed.width}px`\n    };\n    return style2;\n  }, [ref.current]);\n  const [style, setStyle] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const sync = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    setStyle(getStyle());\n  }, [ref.current, iframe]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (ref.current) {\n      const observer = new ResizeObserver(sync);\n      observer.observe(ref.current);\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [ref.current]);\n  const registerNode = useAppStore((s) => s.nodes.registerNode);\n  const hideOverlay = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    setIsVisible(false);\n  }, []);\n  const showOverlay = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    setIsVisible(true);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    var _a;\n    registerNode(id, {\n      methods: { sync, showOverlay, hideOverlay },\n      element: (_a = ref.current) != null ? _a : null\n    });\n    return () => {\n      registerNode(id, {\n        methods: {\n          sync: () => null,\n          hideOverlay: () => null,\n          showOverlay: () => null\n        },\n        element: null\n      });\n    };\n  }, [id, zoneCompound, index, componentType, sync]);\n  const CustomActionBar = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => overrides.actionBar || DefaultActionBar,\n    [overrides.actionBar]\n  );\n  const CustomOverlay = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => overrides.componentOverlay || DefaultOverlay,\n    [overrides.componentOverlay]\n  );\n  const onClick = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (e) => {\n      const el = e.target;\n      if (!el.closest(\"[data-puck-overlay-portal]\")) {\n        e.stopPropagation();\n      }\n      dispatch({\n        type: \"setUi\",\n        ui: {\n          itemSelector: { index, zone: zoneCompound }\n        }\n      });\n    },\n    [index, zoneCompound, id]\n  );\n  const appStore = useAppStoreApi();\n  const onSelectParent = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    const { nodes, zones } = appStore.getState().state.indexes;\n    const node = nodes[id];\n    const parentNode = (node == null ? void 0 : node.parentId) ? nodes[node == null ? void 0 : node.parentId] : null;\n    if (!parentNode || !node.parentId) {\n      return;\n    }\n    const parentZoneCompound = `${parentNode.parentId}:${parentNode.zone}`;\n    const parentIndex = zones[parentZoneCompound].contentIds.indexOf(\n      node.parentId\n    );\n    dispatch({\n      type: \"setUi\",\n      ui: {\n        itemSelector: {\n          zone: parentZoneCompound,\n          index: parentIndex\n        }\n      }\n    });\n  }, [ctx, path]);\n  const onDuplicate = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    dispatch({\n      type: \"duplicate\",\n      sourceIndex: index,\n      sourceZone: zoneCompound\n    });\n  }, [index, zoneCompound]);\n  const onDelete = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    dispatch({\n      type: \"remove\",\n      index,\n      zone: zoneCompound\n    });\n  }, [index, zoneCompound]);\n  const [hover, setHover] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const indicativeHover = useContextStore(\n    ZoneStoreContext,\n    (s) => s.hoveringComponent === id\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!ref.current) {\n      return;\n    }\n    const el = ref.current;\n    const _onMouseOver = (e) => {\n      const userIsDragging = !!zoneStore.getState().draggedItem;\n      if (userIsDragging) {\n        if (thisIsDragging) {\n          setHover(true);\n        } else {\n          setHover(false);\n        }\n      } else {\n        setHover(true);\n      }\n      e.stopPropagation();\n    };\n    const _onMouseOut = (e) => {\n      e.stopPropagation();\n      setHover(false);\n    };\n    el.setAttribute(\"data-puck-component\", id);\n    el.setAttribute(\"data-puck-dnd\", id);\n    el.style.position = \"relative\";\n    el.addEventListener(\"click\", onClick);\n    el.addEventListener(\"mouseover\", _onMouseOver);\n    el.addEventListener(\"mouseout\", _onMouseOut);\n    return () => {\n      el.removeAttribute(\"data-puck-component\");\n      el.removeAttribute(\"data-puck-dnd\");\n      el.removeEventListener(\"click\", onClick);\n      el.removeEventListener(\"mouseover\", _onMouseOver);\n      el.removeEventListener(\"mouseout\", _onMouseOut);\n    };\n  }, [\n    ref.current,\n    // Remount attributes if the element changes\n    onClick,\n    containsActiveZone,\n    zoneCompound,\n    id,\n    thisIsDragging,\n    inDroppableZone\n  ]);\n  const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [dragFinished, setDragFinished] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n  const [_, startTransition] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useTransition)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    startTransition(() => {\n      if (hover || indicativeHover || isSelected) {\n        sync();\n        setIsVisible(true);\n        setThisWasDragging(false);\n      } else {\n        setIsVisible(false);\n      }\n    });\n  }, [hover, indicativeHover, isSelected, iframe]);\n  const [thisWasDragging, setThisWasDragging] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const onDragFinished = useOnDragFinished((finished) => {\n    if (finished) {\n      startTransition(() => {\n        sync();\n        setDragFinished(true);\n      });\n    } else {\n      setDragFinished(false);\n    }\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (thisIsDragging) {\n      setThisWasDragging(true);\n    }\n  }, [thisIsDragging]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (thisWasDragging) return onDragFinished();\n  }, [thisWasDragging, onDragFinished]);\n  const syncActionsPosition = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (el) => {\n      if (el) {\n        const view = el.ownerDocument.defaultView;\n        if (view) {\n          const rect = el.getBoundingClientRect();\n          const diffLeft = rect.x;\n          const exceedsBoundsLeft = diffLeft < 0;\n          const diffTop = rect.y;\n          const exceedsBoundsTop = diffTop < 0;\n          if (exceedsBoundsLeft) {\n            el.style.transformOrigin = \"left top\";\n            el.style.left = \"0px\";\n          }\n          if (exceedsBoundsTop) {\n            el.style.top = \"12px\";\n            if (!exceedsBoundsLeft) {\n              el.style.transformOrigin = \"right top\";\n            }\n          }\n        }\n      }\n    },\n    [zoom]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (userDragAxis) {\n      setDragAxis(userDragAxis);\n      return;\n    }\n    if (ref.current) {\n      const computedStyle = window.getComputedStyle(ref.current);\n      if (computedStyle.display === \"inline\" || computedStyle.display === \"inline-block\") {\n        setDragAxis(\"x\");\n        return;\n      }\n    }\n    setDragAxis(autoDragAxis);\n  }, [ref, userDragAxis, autoDragAxis]);\n  const parentAction = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (ctx == null ? void 0 : ctx.areaId) && (ctx == null ? void 0 : ctx.areaId) !== \"root\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ActionBar.Action, { onClick: onSelectParent, label: \"Select parent\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CornerLeftUp, { size: 16 }) }),\n    [ctx == null ? void 0 : ctx.areaId]\n  );\n  const nextContextValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, ctx), {\n      areaId: id,\n      zoneCompound,\n      index,\n      depth: depth + 1,\n      registerLocalZone,\n      unregisterLocalZone\n    }),\n    [\n      ctx,\n      id,\n      zoneCompound,\n      index,\n      depth,\n      registerLocalZone,\n      unregisterLocalZone\n    ]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(DropZoneProvider, { value: nextContextValue, children: [\n    dragFinished && isVisible && (0,react_dom__WEBPACK_IMPORTED_MODULE_13__.createPortal)(\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n        \"div\",\n        {\n          className: getClassName16({\n            isSelected,\n            isDragging: thisIsDragging,\n            hover: hover || indicativeHover\n          }),\n          style: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, style),\n          \"data-puck-overlay\": true,\n          children: [\n            debug,\n            isLoading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName16(\"loadingOverlay\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loader, {}) }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"div\",\n              {\n                className: getClassName16(\"actionsOverlay\"),\n                style: {\n                  top: actionsOverlayTop / zoom\n                },\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                  \"div\",\n                  {\n                    className: getClassName16(\"actions\"),\n                    style: {\n                      transform: `scale(${1 / zoom}`,\n                      top: actionsTop / zoom,\n                      right: 0,\n                      paddingLeft: actionsSide,\n                      paddingRight: actionsSide\n                    },\n                    ref: syncActionsPosition,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                      CustomActionBar,\n                      {\n                        parentAction,\n                        label: DEBUG2 ? id : label,\n                        children: [\n                          permissions.duplicate && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ActionBar.Action, { onClick: onDuplicate, label: \"Duplicate\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Copy, { size: 16 }) }),\n                          permissions.delete && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ActionBar.Action, { onClick: onDelete, label: \"Delete\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Trash, { size: 16 }) })\n                        ]\n                      }\n                    )\n                  }\n                )\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName16(\"overlayWrapper\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              CustomOverlay,\n              {\n                componentId: id,\n                componentType,\n                hover,\n                isSelected,\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName16(\"overlay\") })\n              }\n            ) })\n          ]\n        }\n      ),\n      portalEl || document.body\n    ),\n    children(refSetter)\n  ] });\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/DropZone/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default11 = { \"DropZone\": \"_DropZone_1i2sv_1\", \"DropZone--hasChildren\": \"_DropZone--hasChildren_1i2sv_11\", \"DropZone--isAreaSelected\": \"_DropZone--isAreaSelected_1i2sv_24\", \"DropZone--hoveringOverArea\": \"_DropZone--hoveringOverArea_1i2sv_25\", \"DropZone--isRootZone\": \"_DropZone--isRootZone_1i2sv_25\", \"DropZone--isDestination\": \"_DropZone--isDestination_1i2sv_35\", \"DropZone-item\": \"_DropZone-item_1i2sv_47\", \"DropZone-hitbox\": \"_DropZone-hitbox_1i2sv_51\", \"DropZone--isEnabled\": \"_DropZone--isEnabled_1i2sv_59\", \"DropZone--isAnimating\": \"_DropZone--isAnimating_1i2sv_68\" };\n\n// components/DropZone/index.tsx\n\n\n// components/Drawer/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Drawer/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default12 = { \"Drawer\": \"_Drawer_pl7z0_1\", \"Drawer-draggable\": \"_Drawer-draggable_pl7z0_8\", \"Drawer-draggableBg\": \"_Drawer-draggableBg_pl7z0_12\", \"DrawerItem-draggable\": \"_DrawerItem-draggable_pl7z0_22\", \"DrawerItem--disabled\": \"_DrawerItem--disabled_pl7z0_35\", \"DrawerItem\": \"_DrawerItem_pl7z0_22\", \"Drawer--isDraggingFrom\": \"_Drawer--isDraggingFrom_pl7z0_45\", \"DrawerItem-name\": \"_DrawerItem-name_pl7z0_63\" };\n\n// components/Drawer/index.tsx\n\n\n// components/DragDropContext/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n\n\n// lib/dnd/NestedDroppablePlugin.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/throttle.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nfunction timeout2(callback, duration) {\n  const id = setTimeout(callback, duration);\n  return () => clearTimeout(id);\n}\nfunction throttle(func, limit) {\n  const time = () => performance.now();\n  let cancel;\n  let lastRan = 0;\n  return function(...args) {\n    const now = time();\n    const context = this;\n    if (now - lastRan >= limit) {\n      func.apply(context, args);\n      lastRan = now;\n    } else {\n      cancel == null ? void 0 : cancel();\n      cancel = timeout2(() => {\n        func.apply(context, args);\n        lastRan = time();\n      }, limit - (now - lastRan));\n    }\n  };\n}\n\n// lib/get-frame.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar getFrame = () => {\n  if (typeof window === \"undefined\") return;\n  let frameEl = document.querySelector(\"#preview-frame\");\n  if ((frameEl == null ? void 0 : frameEl.tagName) === \"IFRAME\") {\n    return frameEl.contentDocument || document;\n  }\n  return (frameEl == null ? void 0 : frameEl.ownerDocument) || document;\n};\n\n// lib/global-position.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar GlobalPosition = class {\n  constructor(target, original) {\n    this.scaleFactor = 1;\n    this.frameEl = null;\n    this.frameRect = null;\n    var _a;\n    this.target = target;\n    this.original = original;\n    this.frameEl = document.querySelector(\"iframe#preview-frame\");\n    if (this.frameEl) {\n      this.frameRect = this.frameEl.getBoundingClientRect();\n      this.scaleFactor = this.frameRect.width / (((_a = this.frameEl.contentWindow) == null ? void 0 : _a.innerWidth) || 1);\n    }\n  }\n  get x() {\n    return this.original.x;\n  }\n  get y() {\n    return this.original.y;\n  }\n  get global() {\n    if (document !== this.target.ownerDocument && this.frameRect) {\n      return {\n        x: this.x * this.scaleFactor + this.frameRect.left,\n        y: this.y * this.scaleFactor + this.frameRect.top\n      };\n    }\n    return this.original;\n  }\n  get frame() {\n    if (document === this.target.ownerDocument && this.frameRect) {\n      return {\n        x: (this.x - this.frameRect.left) / this.scaleFactor,\n        y: (this.y - this.frameRect.top) / this.scaleFactor\n      };\n    }\n    return this.original;\n  }\n};\n\n// lib/bubble-pointer-event.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar BaseEvent = typeof PointerEvent !== \"undefined\" ? PointerEvent : Event;\nvar BubbledPointerEvent = class extends BaseEvent {\n  constructor(type, data) {\n    super(type, data);\n    this._originalTarget = null;\n    this.originalTarget = data.originalTarget;\n  }\n  // Necessary for Firefox\n  set originalTarget(target) {\n    this._originalTarget = target;\n  }\n  // Necessary for Firefox\n  get originalTarget() {\n    return this._originalTarget;\n  }\n};\n\n// lib/dnd/NestedDroppablePlugin.ts\nvar depthSort = (candidates) => {\n  return candidates.sort((a, b) => {\n    const aData = a.data;\n    const bData = b.data;\n    if (aData.depth > bData.depth) {\n      return 1;\n    }\n    if (bData.depth > aData.depth) {\n      return -1;\n    }\n    return 0;\n  });\n};\nvar getZoneId = (candidate) => {\n  let id = candidate == null ? void 0 : candidate.id;\n  if (!candidate) return null;\n  if (candidate.type === \"component\") {\n    const data = candidate.data;\n    if (data.containsActiveZone) {\n      id = null;\n    } else {\n      id = data.zone;\n    }\n  } else if (candidate.type === \"void\") {\n    return \"void\";\n  }\n  return id;\n};\nvar BUFFER = 6;\nvar getPointerCollisions = (position, manager) => {\n  const candidates = [];\n  let elements = position.target.ownerDocument.elementsFromPoint(\n    position.x,\n    position.y\n  );\n  const previewFrame = elements.find(\n    (el) => el.getAttribute(\"data-puck-preview\")\n  );\n  const drawer = elements.find((el) => el.getAttribute(\"data-puck-drawer\"));\n  if (drawer) {\n    elements = [drawer];\n  }\n  if (previewFrame) {\n    const frame = getFrame();\n    if (frame) {\n      elements = frame.elementsFromPoint(position.frame.x, position.frame.y);\n    }\n  }\n  if (elements) {\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      const dropzoneId = element.getAttribute(\"data-puck-dropzone\");\n      const id = element.getAttribute(\"data-puck-dnd\");\n      const isVoid = element.hasAttribute(\"data-puck-dnd-void\");\n      if (BUFFER && (dropzoneId || id) && !isVoid) {\n        const box = element.getBoundingClientRect();\n        const contractedBox = {\n          left: box.left + BUFFER,\n          right: box.right - BUFFER,\n          top: box.top + BUFFER,\n          bottom: box.bottom - BUFFER\n        };\n        if (position.frame.x < contractedBox.left || position.frame.x > contractedBox.right || position.frame.y > contractedBox.bottom || position.frame.y < contractedBox.top) {\n          continue;\n        }\n      }\n      if (dropzoneId) {\n        const droppable = manager.registry.droppables.get(dropzoneId);\n        if (droppable) {\n          candidates.push(droppable);\n        }\n      }\n      if (id) {\n        const droppable = manager.registry.droppables.get(id);\n        if (droppable) {\n          candidates.push(droppable);\n        }\n      }\n    }\n  }\n  return candidates;\n};\nvar findDeepestCandidate = (position, manager) => {\n  var _a;\n  const candidates = getPointerCollisions(position, manager);\n  if (candidates.length > 0) {\n    const sortedCandidates = depthSort(candidates);\n    const draggable = manager.dragOperation.source;\n    const draggedCandidateIndex = sortedCandidates.findIndex(\n      (candidate) => candidate.id === (draggable == null ? void 0 : draggable.id)\n    );\n    const draggedCandidateId = draggable == null ? void 0 : draggable.id;\n    let filteredCandidates = [...sortedCandidates];\n    if (draggedCandidateId && draggedCandidateIndex > -1) {\n      filteredCandidates.splice(draggedCandidateIndex, 1);\n    }\n    filteredCandidates = filteredCandidates.filter((candidate) => {\n      const candidateData = candidate.data;\n      if (draggedCandidateId && draggedCandidateIndex > -1) {\n        if (candidateData.path.indexOf(draggedCandidateId) > -1) {\n          return false;\n        }\n      }\n      if (candidate.type === \"dropzone\") {\n        const candidateData2 = candidate.data;\n        if (!candidateData2.isDroppableTarget) {\n          return false;\n        }\n        if (candidateData2.areaId === draggedCandidateId) {\n          return false;\n        }\n      } else if (candidate.type === \"component\") {\n        const candidateData2 = candidate.data;\n        if (!candidateData2.inDroppableZone) {\n          return false;\n        }\n      }\n      return true;\n    });\n    filteredCandidates.reverse();\n    const primaryCandidate = filteredCandidates[0];\n    if (!primaryCandidate) return { zone: null, area: null };\n    const primaryCandidateData = primaryCandidate.data;\n    const primaryCandidateIsComponent = \"containsActiveZone\" in primaryCandidateData;\n    const zone = getZoneId(primaryCandidate);\n    const area = primaryCandidateIsComponent && primaryCandidateData.containsActiveZone ? filteredCandidates[0].id : (_a = filteredCandidates[0]) == null ? void 0 : _a.data.areaId;\n    return { zone, area };\n  }\n  return {\n    zone: _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId,\n    area: _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootAreaId\n  };\n};\nvar createNestedDroppablePlugin = ({ onChange }, id) => class NestedDroppablePlugin extends _dnd_kit_abstract__WEBPACK_IMPORTED_MODULE_8__.Plugin {\n  constructor(manager, options) {\n    super(manager);\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    this.registerEffect(() => {\n      const handleMove = (event) => {\n        const target = event instanceof BubbledPointerEvent ? event.originalTarget || event.target : event.target;\n        const position = new GlobalPosition(target, {\n          x: event.clientX,\n          y: event.clientY\n        });\n        const elements = document.elementsFromPoint(\n          position.global.x,\n          position.global.y\n        );\n        const overEl = elements.some((el) => el.id === id);\n        if (overEl) {\n          onChange(findDeepestCandidate(position, manager), manager);\n        }\n      };\n      const handleMoveThrottled = throttle(handleMove, 50);\n      const handlePointerMove = (event) => {\n        handleMoveThrottled(event);\n      };\n      document.body.addEventListener(\"pointermove\", handlePointerMove, {\n        capture: true\n        // dndkit's PointerSensor prevents propagation during drag\n      });\n      const cleanup = () => {\n        document.body.removeEventListener(\"pointermove\", handlePointerMove, {\n          capture: true\n        });\n      };\n      return cleanup;\n    });\n  }\n};\n\n// lib/insert-component.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar insertComponent = (componentType, zone, index, appStore) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n  const id = generateId(componentType);\n  const insertActionData = {\n    type: \"insert\",\n    componentType,\n    destinationIndex: index,\n    destinationZone: zone,\n    id\n  };\n  const { state, dispatch, resolveComponentData: resolveComponentData2 } = appStore;\n  const insertedState = insertAction(state, insertActionData, appStore);\n  dispatch((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, insertActionData), {\n    // Dispatch insert rather set, as user's may rely on this via onAction\n    // We must always record history here so the insert is added to user history\n    // If the user has defined a resolveData method, they will end up with 2 history\n    // entries on insert - one for the initial insert, and one when the data resolves\n    recordHistory: true\n  }));\n  const itemSelector = {\n    index,\n    zone\n  };\n  dispatch({ type: \"setUi\", ui: { itemSelector } });\n  const itemData = getItem(itemSelector, insertedState);\n  if (itemData) {\n    const resolved = yield resolveComponentData2(itemData, \"insert\");\n    if (resolved.didChange) {\n      dispatch({\n        type: \"replace\",\n        destinationZone: itemSelector.zone,\n        destinationIndex: itemSelector.index,\n        data: resolved.node\n      });\n    }\n  }\n});\n\n// components/DragDropContext/index.tsx\n\n\n\n// lib/get-deep-dir.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nfunction getDeepDir(el) {\n  function findDir(node) {\n    if (!node) return \"ltr\";\n    const d = node.getAttribute(\"dir\");\n    return d || findDir(node.parentElement);\n  }\n  return el ? findDir(el) : \"ltr\";\n}\n\n// components/DragDropContext/index.tsx\n\n\nvar DEBUG3 = false;\nvar dragListenerContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({\n  dragListeners: {}\n});\nfunction useDragListener(type, fn, deps = []) {\n  const { setDragListeners } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(dragListenerContext);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (setDragListeners) {\n      setDragListeners((old) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, old), {\n        [type]: [...old[type] || [], fn]\n      }));\n    }\n  }, deps);\n}\nvar AREA_CHANGE_DEBOUNCE_MS = 100;\nvar useTempDisableFallback = (timeout3) => {\n  const lastFallbackDisable = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((manager) => {\n    collisionStore.setState({ fallbackEnabled: false });\n    const fallbackId = generateId();\n    lastFallbackDisable.current = fallbackId;\n    setTimeout(() => {\n      if (lastFallbackDisable.current === fallbackId) {\n        collisionStore.setState({ fallbackEnabled: true });\n        manager.collisionObserver.forceUpdate(true);\n      }\n    }, timeout3);\n  }, []);\n};\nvar DragDropContextClient = ({\n  children,\n  disableAutoScroll\n}) => {\n  const dispatch = useAppStore((s) => s.dispatch);\n  const appStore = useAppStoreApi();\n  const id = useSafeId();\n  const debouncedParamsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const tempDisableFallback = useTempDisableFallback(100);\n  const [zoneStore] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    () => (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_10__.createStore)(() => ({\n      zoneDepthIndex: {},\n      nextZoneDepthIndex: {},\n      areaDepthIndex: {},\n      nextAreaDepthIndex: {},\n      draggedItem: null,\n      previewIndex: {},\n      enabledIndex: {},\n      hoveringComponent: null\n    }))\n  );\n  const getChanged2 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (params, id2) => {\n      const { zoneDepthIndex = {}, areaDepthIndex = {} } = zoneStore.getState() || {};\n      const stateHasZone = Object.keys(zoneDepthIndex).length > 0;\n      const stateHasArea = Object.keys(areaDepthIndex).length > 0;\n      let zoneChanged = false;\n      let areaChanged = false;\n      if (params.zone && !zoneDepthIndex[params.zone]) {\n        zoneChanged = true;\n      } else if (!params.zone && stateHasZone) {\n        zoneChanged = true;\n      }\n      if (params.area && !areaDepthIndex[params.area]) {\n        areaChanged = true;\n      } else if (!params.area && stateHasArea) {\n        areaChanged = true;\n      }\n      return { zoneChanged, areaChanged };\n    },\n    [zoneStore]\n  );\n  const setDeepestAndCollide = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (params, manager) => {\n      const { zoneChanged, areaChanged } = getChanged2(params, id);\n      if (!zoneChanged && !areaChanged) return;\n      zoneStore.setState({\n        zoneDepthIndex: params.zone ? { [params.zone]: true } : {},\n        areaDepthIndex: params.area ? { [params.area]: true } : {}\n      });\n      tempDisableFallback(manager);\n      setTimeout(() => {\n        manager.collisionObserver.forceUpdate(true);\n      }, 50);\n      debouncedParamsRef.current = null;\n    },\n    [zoneStore]\n  );\n  const setDeepestDb = (0,use_debounce__WEBPACK_IMPORTED_MODULE_15__.useDebouncedCallback)(\n    setDeepestAndCollide,\n    AREA_CHANGE_DEBOUNCE_MS\n  );\n  const cancelDb = () => {\n    setDeepestDb.cancel();\n    debouncedParamsRef.current = null;\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (DEBUG3) {\n      zoneStore.subscribe(\n        (s) => {\n          var _a, _b;\n          return console.log(\n            s.previewIndex,\n            (_a = Object.entries(s.zoneDepthIndex || {})[0]) == null ? void 0 : _a[0],\n            (_b = Object.entries(s.areaDepthIndex || {})[0]) == null ? void 0 : _b[0]\n          );\n        }\n      );\n    }\n  }, []);\n  const [plugins] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => [\n    ...disableAutoScroll ? _dnd_kit_react__WEBPACK_IMPORTED_MODULE_6__.defaultPreset.plugins.filter((plugin) => plugin !== _dnd_kit_react__WEBPACK_IMPORTED_MODULE_6__.AutoScroller) : _dnd_kit_react__WEBPACK_IMPORTED_MODULE_6__.defaultPreset.plugins,\n    createNestedDroppablePlugin(\n      {\n        onChange: (params, manager) => {\n          const state = zoneStore.getState();\n          const { zoneChanged, areaChanged } = getChanged2(params, id);\n          const isDragging = manager.dragOperation.status.dragging;\n          if (areaChanged || zoneChanged) {\n            let nextZoneDepthIndex = {};\n            let nextAreaDepthIndex = {};\n            if (params.zone) {\n              nextZoneDepthIndex = { [params.zone]: true };\n            }\n            if (params.area) {\n              nextAreaDepthIndex = { [params.area]: true };\n            }\n            zoneStore.setState({ nextZoneDepthIndex, nextAreaDepthIndex });\n          }\n          if (params.zone !== \"void\" && (state == null ? void 0 : state.zoneDepthIndex[\"void\"])) {\n            setDeepestAndCollide(params, manager);\n            return;\n          }\n          if (areaChanged) {\n            if (isDragging) {\n              const debouncedParams = debouncedParamsRef.current;\n              const isSameParams = debouncedParams && debouncedParams.area === params.area && debouncedParams.zone === params.zone;\n              if (!isSameParams) {\n                cancelDb();\n                setDeepestDb(params, manager);\n                debouncedParamsRef.current = params;\n              }\n            } else {\n              cancelDb();\n              setDeepestAndCollide(params, manager);\n            }\n            return;\n          }\n          if (zoneChanged) {\n            setDeepestAndCollide(params, manager);\n          }\n          cancelDb();\n        }\n      },\n      id\n    )\n  ]);\n  const sensors = useSensors();\n  const [dragListeners, setDragListeners] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n  const dragMode = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const initialSelector = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(void 0);\n  const nextContextValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => ({\n      mode: \"edit\",\n      areaId: \"root\",\n      depth: 0\n    }),\n    []\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    dragListenerContext.Provider,\n    {\n      value: {\n        dragListeners,\n        setDragListeners\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        _dnd_kit_react__WEBPACK_IMPORTED_MODULE_11__.DragDropProvider,\n        {\n          plugins,\n          sensors,\n          onDragEnd: (event, manager) => {\n            var _a, _b;\n            const entryEl = (_a = getFrame()) == null ? void 0 : _a.querySelector(\"[data-puck-entry]\");\n            entryEl == null ? void 0 : entryEl.removeAttribute(\"data-puck-dragging\");\n            const { source, target } = event.operation;\n            if (!source) {\n              zoneStore.setState({ draggedItem: null });\n              return;\n            }\n            const { zone, index } = source.data;\n            const { previewIndex = {} } = zoneStore.getState() || {};\n            const thisPreview = ((_b = previewIndex[zone]) == null ? void 0 : _b.props.id) === source.id ? previewIndex[zone] : null;\n            const onAnimationEnd = () => {\n              var _a2, _b2;\n              zoneStore.setState({ draggedItem: null });\n              if (event.canceled || (target == null ? void 0 : target.type) === \"void\") {\n                zoneStore.setState({ previewIndex: {} });\n                (_a2 = dragListeners.dragend) == null ? void 0 : _a2.forEach((fn) => {\n                  fn(event, manager);\n                });\n                dispatch({\n                  type: \"setUi\",\n                  ui: {\n                    itemSelector: null,\n                    isDragging: false\n                  }\n                });\n                return;\n              }\n              if (thisPreview) {\n                zoneStore.setState({ previewIndex: {} });\n                if (thisPreview.type === \"insert\") {\n                  insertComponent(\n                    thisPreview.componentType,\n                    thisPreview.zone,\n                    thisPreview.index,\n                    appStore.getState()\n                  );\n                } else if (initialSelector.current) {\n                  dispatch({\n                    type: \"move\",\n                    sourceIndex: initialSelector.current.index,\n                    sourceZone: initialSelector.current.zone,\n                    destinationIndex: thisPreview.index,\n                    destinationZone: thisPreview.zone,\n                    recordHistory: false\n                  });\n                }\n              }\n              dispatch({\n                type: \"setUi\",\n                ui: {\n                  itemSelector: { index, zone },\n                  isDragging: false\n                },\n                recordHistory: true\n              });\n              (_b2 = dragListeners.dragend) == null ? void 0 : _b2.forEach((fn) => {\n                fn(event, manager);\n              });\n            };\n            let dispose;\n            dispose = (0,_dnd_kit_state__WEBPACK_IMPORTED_MODULE_16__.effect)(() => {\n              if (source.status === \"idle\") {\n                onAnimationEnd();\n                dispose == null ? void 0 : dispose();\n              }\n            });\n          },\n          onDragOver: (event, manager) => {\n            var _a, _b, _c, _d;\n            event.preventDefault();\n            const draggedItem = (_a = zoneStore.getState()) == null ? void 0 : _a.draggedItem;\n            if (!draggedItem) return;\n            cancelDb();\n            const { source, target } = event.operation;\n            if (!target || !source || target.type === \"void\") return;\n            const [sourceId] = source.id.split(\":\");\n            const [targetId] = target.id.split(\":\");\n            const sourceData = source.data;\n            let sourceZone = sourceData.zone;\n            let sourceIndex = sourceData.index;\n            let targetZone = \"\";\n            let targetIndex = 0;\n            if (target.type === \"component\") {\n              const targetData = target.data;\n              targetZone = targetData.zone;\n              targetIndex = targetData.index;\n              const collisionData = (_b = manager.collisionObserver.collisions[0]) == null ? void 0 : _b.data;\n              const dir = getDeepDir(target.element);\n              const collisionPosition = (collisionData == null ? void 0 : collisionData.direction) === \"up\" || dir === \"ltr\" && (collisionData == null ? void 0 : collisionData.direction) === \"left\" || dir === \"rtl\" && (collisionData == null ? void 0 : collisionData.direction) === \"right\" ? \"before\" : \"after\";\n              if (targetIndex >= sourceIndex && sourceZone === targetZone) {\n                targetIndex = targetIndex - 1;\n              }\n              if (collisionPosition === \"after\") {\n                targetIndex = targetIndex + 1;\n              }\n            } else {\n              targetZone = target.id.toString();\n              targetIndex = 0;\n            }\n            const path = ((_c = appStore.getState().state.indexes.nodes[target.id]) == null ? void 0 : _c.path) || [];\n            if (targetId === sourceId || path.find((path2) => {\n              const [pathId] = path2.split(\":\");\n              return pathId === sourceId;\n            })) {\n              return;\n            }\n            if (dragMode.current === \"new\") {\n              zoneStore.setState({\n                previewIndex: {\n                  [targetZone]: {\n                    componentType: sourceData.componentType,\n                    type: \"insert\",\n                    index: targetIndex,\n                    zone: targetZone,\n                    element: source.element,\n                    props: {\n                      id: source.id.toString()\n                    }\n                  }\n                }\n              });\n            } else {\n              if (!initialSelector.current) {\n                initialSelector.current = {\n                  zone: sourceData.zone,\n                  index: sourceData.index\n                };\n              }\n              const item = getItem(\n                initialSelector.current,\n                appStore.getState().state\n              );\n              if (item) {\n                zoneStore.setState({\n                  previewIndex: {\n                    [targetZone]: {\n                      componentType: sourceData.componentType,\n                      type: \"move\",\n                      index: targetIndex,\n                      zone: targetZone,\n                      props: item.props,\n                      element: source.element\n                    }\n                  }\n                });\n              }\n            }\n            (_d = dragListeners.dragover) == null ? void 0 : _d.forEach((fn) => {\n              fn(event, manager);\n            });\n          },\n          onDragStart: (event, manager) => {\n            var _a;\n            const { source } = event.operation;\n            if (source && source.type !== \"void\") {\n              const sourceData = source.data;\n              const item = getItem(\n                {\n                  zone: sourceData.zone,\n                  index: sourceData.index\n                },\n                appStore.getState().state\n              );\n              if (item) {\n                zoneStore.setState({\n                  previewIndex: {\n                    [sourceData.zone]: {\n                      componentType: sourceData.componentType,\n                      type: \"move\",\n                      index: sourceData.index,\n                      zone: sourceData.zone,\n                      props: item.props,\n                      element: source.element\n                    }\n                  }\n                });\n              }\n            }\n            (_a = dragListeners.dragstart) == null ? void 0 : _a.forEach((fn) => {\n              fn(event, manager);\n            });\n          },\n          onBeforeDragStart: (event) => {\n            var _a, _b, _c, _d;\n            const isNewComponent = ((_a = event.operation.source) == null ? void 0 : _a.type) === \"drawer\";\n            dragMode.current = isNewComponent ? \"new\" : \"existing\";\n            initialSelector.current = void 0;\n            zoneStore.setState({ draggedItem: event.operation.source });\n            if (((_b = appStore.getState().selectedItem) == null ? void 0 : _b.props.id) !== ((_c = event.operation.source) == null ? void 0 : _c.id)) {\n              dispatch({\n                type: \"setUi\",\n                ui: {\n                  itemSelector: null,\n                  isDragging: true\n                },\n                recordHistory: false\n              });\n            } else {\n              dispatch({\n                type: \"setUi\",\n                ui: {\n                  isDragging: true\n                },\n                recordHistory: false\n              });\n            }\n            const entryEl = (_d = getFrame()) == null ? void 0 : _d.querySelector(\"[data-puck-entry]\");\n            entryEl == null ? void 0 : entryEl.setAttribute(\"data-puck-dragging\", \"true\");\n          },\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ZoneStoreProvider, { store: zoneStore, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneProvider, { value: nextContextValue, children }) })\n        }\n      )\n    }\n  ) });\n};\nvar DragDropContext = ({\n  children,\n  disableAutoScroll\n}) => {\n  const status = useAppStore((s) => s.status);\n  if (status === \"LOADING\") {\n    return children;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DragDropContextClient, { disableAutoScroll, children });\n};\n\n// components/Drawer/index.tsx\n\n\nvar getClassName17 = get_class_name_factory_default(\"Drawer\", styles_module_default12);\nvar getClassNameItem2 = get_class_name_factory_default(\"DrawerItem\", styles_module_default12);\nvar DrawerItemInner = ({\n  children,\n  name,\n  label,\n  dragRef,\n  isDragDisabled\n}) => {\n  const CustomInner = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => children || (({ children: children2 }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameItem2(\"default\"), children: children2 })),\n    [children]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      className: getClassNameItem2({ disabled: isDragDisabled }),\n      ref: dragRef,\n      onMouseDown: (e) => e.preventDefault(),\n      \"data-testid\": dragRef ? `drawer-item:${name}` : \"\",\n      \"data-puck-drawer-item\": true,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CustomInner, { name, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameItem2(\"draggableWrapper\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameItem2(\"draggable\"), children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameItem2(\"name\"), children: label != null ? label : name }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameItem2(\"icon\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DragIcon, {}) })\n      ] }) }) })\n    }\n  );\n};\nvar DrawerItemDraggable = ({\n  children,\n  name,\n  label,\n  id,\n  isDragDisabled\n}) => {\n  const { ref } = (0,_dnd_kit_react__WEBPACK_IMPORTED_MODULE_11__.useDraggable)({\n    id,\n    data: { componentType: name },\n    disabled: isDragDisabled,\n    type: \"drawer\"\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName17(\"draggable\"), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName17(\"draggableBg\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DrawerItemInner, { name, label, children }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName17(\"draggableFg\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      DrawerItemInner,\n      {\n        name,\n        label,\n        dragRef: ref,\n        isDragDisabled,\n        children\n      }\n    ) })\n  ] });\n};\nvar DrawerItem = ({\n  name,\n  children,\n  id,\n  label,\n  index,\n  isDragDisabled\n}) => {\n  const resolvedId = id || name;\n  const [dynamicId, setDynamicId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(generateId(resolvedId));\n  if (typeof index !== \"undefined\") {\n    console.error(\n      \"Warning: The `index` prop on Drawer.Item is deprecated and no longer required.\"\n    );\n  }\n  useDragListener(\n    \"dragend\",\n    () => {\n      setDynamicId(generateId(resolvedId));\n    },\n    [resolvedId]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    DrawerItemDraggable,\n    {\n      name,\n      label,\n      id: dynamicId,\n      isDragDisabled,\n      children\n    }\n  ) }, dynamicId);\n};\nvar Drawer = ({\n  children,\n  droppableId,\n  direction\n}) => {\n  if (droppableId) {\n    console.error(\n      \"Warning: The `droppableId` prop on Drawer is deprecated and no longer required.\"\n    );\n  }\n  if (direction) {\n    console.error(\n      \"Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.\"\n    );\n  }\n  const id = useSafeId();\n  const { ref } = (0,_dnd_kit_react__WEBPACK_IMPORTED_MODULE_11__.useDroppable)({\n    id,\n    type: \"void\",\n    collisionPriority: 0\n    // Never collide with this, but we use it so NestedDroppablePlugin respects the Drawer\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      className: getClassName17(),\n      ref,\n      \"data-puck-dnd\": id,\n      \"data-puck-drawer\": true,\n      \"data-puck-dnd-void\": true,\n      children\n    }\n  );\n};\nDrawer.Item = DrawerItem;\n\n// components/DropZone/lib/use-min-empty-height.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar getNumItems = (appStore, zoneCompound) => appStore.getState().state.indexes.zones[zoneCompound].contentIds.length;\nvar useMinEmptyHeight = ({\n  zoneCompound,\n  userMinEmptyHeight,\n  ref\n}) => {\n  const appStore = useAppStoreApi();\n  const [prevHeight, setPrevHeight] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n  const [isAnimating, setIsAnimating] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const { draggedItem, isZone } = useContextStore(ZoneStoreContext, (s) => {\n    var _a, _b;\n    return {\n      draggedItem: ((_a = s.draggedItem) == null ? void 0 : _a.data.zone) === zoneCompound ? s.draggedItem : null,\n      isZone: ((_b = s.draggedItem) == null ? void 0 : _b.data.zone) === zoneCompound\n    };\n  });\n  const numItems = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  const onDragFinished = useOnDragFinished(\n    (finished) => {\n      var _a;\n      if (finished) {\n        const newNumItems = getNumItems(appStore, zoneCompound);\n        setPrevHeight(0);\n        if (newNumItems || numItems.current === 0) {\n          setIsAnimating(false);\n          return;\n        }\n        const selectedItem = appStore.getState().selectedItem;\n        const zones = appStore.getState().state.indexes.zones;\n        const nodes = appStore.getState().nodes;\n        (_a = nodes.nodes[selectedItem == null ? void 0 : selectedItem.props.id]) == null ? void 0 : _a.methods.hideOverlay();\n        setTimeout(() => {\n          var _a2;\n          const contentIds = ((_a2 = zones[zoneCompound]) == null ? void 0 : _a2.contentIds) || [];\n          contentIds.forEach((contentId) => {\n            const node = nodes.nodes[contentId];\n            node == null ? void 0 : node.methods.sync();\n          });\n          if (selectedItem) {\n            setTimeout(() => {\n              var _a3, _b;\n              (_a3 = nodes.nodes[selectedItem.props.id]) == null ? void 0 : _a3.methods.sync();\n              (_b = nodes.nodes[selectedItem.props.id]) == null ? void 0 : _b.methods.showOverlay();\n            }, 200);\n          }\n          setIsAnimating(false);\n        }, 100);\n      }\n    },\n    [appStore, prevHeight, zoneCompound]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (draggedItem && ref.current) {\n      if (isZone) {\n        const rect = ref.current.getBoundingClientRect();\n        numItems.current = getNumItems(appStore, zoneCompound);\n        setPrevHeight(rect.height);\n        setIsAnimating(true);\n        return onDragFinished();\n      }\n    }\n  }, [ref.current, draggedItem, onDragFinished]);\n  return [prevHeight || userMinEmptyHeight, isAnimating];\n};\n\n// lib/assign-refs.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nfunction assignRef(ref, node) {\n  if (typeof ref === \"function\") {\n    ref(node);\n  } else if (ref && typeof ref === \"object\" && \"current\" in ref) {\n    ref.current = node;\n  }\n}\nfunction assignRefs(refs, node) {\n  refs.forEach((ref) => {\n    assignRef(ref, node);\n  });\n}\n\n// components/DropZone/lib/use-content-with-preview.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/dnd/use-rendered-callback.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\nfunction useRenderedCallback(callback, deps) {\n  const manager = (0,_dnd_kit_react__WEBPACK_IMPORTED_MODULE_11__.useDragDropManager)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (...args) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(this, null, function* () {\n      yield manager == null ? void 0 : manager.renderer.rendering;\n      return callback(...args);\n    }),\n    [...deps, manager]\n  );\n}\n\n// components/DropZone/lib/use-content-with-preview.ts\nvar useContentIdsWithPreview = (contentIds, zoneCompound) => {\n  const zoneStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(ZoneStoreContext);\n  const preview = useContextStore(\n    ZoneStoreContext,\n    (s) => s.previewIndex[zoneCompound]\n  );\n  const isDragging = useAppStore((s) => s.state.ui.isDragging);\n  const [contentIdsWithPreview, setContentIdsWithPreview] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(contentIds);\n  const [localPreview, setLocalPreview] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    preview\n  );\n  const updateContent = useRenderedCallback(\n    (contentIds2, preview2, isDragging2, draggedItemId, previewExists) => {\n      if (isDragging2 && !previewExists) {\n        return;\n      }\n      if (preview2) {\n        if (preview2.type === \"insert\") {\n          setContentIdsWithPreview(\n            insert(\n              contentIds2.filter((id) => id !== preview2.props.id),\n              preview2.index,\n              preview2.props.id\n            )\n          );\n        } else {\n          setContentIdsWithPreview(\n            insert(\n              contentIds2.filter((id) => id !== preview2.props.id),\n              preview2.index,\n              preview2.props.id\n            )\n          );\n        }\n      } else {\n        setContentIdsWithPreview(\n          previewExists ? contentIds2.filter((id) => id !== draggedItemId) : contentIds2\n        );\n      }\n      setLocalPreview(preview2);\n    },\n    []\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    var _a;\n    const s = zoneStore.getState();\n    const draggedItemId = (_a = s.draggedItem) == null ? void 0 : _a.id;\n    const previewExists = Object.keys(s.previewIndex || {}).length > 0;\n    updateContent(\n      contentIds,\n      preview,\n      isDragging,\n      draggedItemId,\n      previewExists\n    );\n  }, [contentIds, preview, isDragging]);\n  return [contentIdsWithPreview, localPreview];\n};\n\n// components/DropZone/lib/use-drag-axis.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar GRID_DRAG_AXIS = \"dynamic\";\nvar FLEX_ROW_DRAG_AXIS = \"x\";\nvar DEFAULT_DRAG_AXIS = \"y\";\nvar useDragAxis = (ref, collisionAxis) => {\n  const status = useAppStore((s) => s.status);\n  const [dragAxis, setDragAxis] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    collisionAxis || DEFAULT_DRAG_AXIS\n  );\n  const calculateDragAxis = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (ref.current) {\n      const computedStyle = window.getComputedStyle(ref.current);\n      if (computedStyle.display === \"grid\") {\n        setDragAxis(GRID_DRAG_AXIS);\n      } else if (computedStyle.display === \"flex\" && computedStyle.flexDirection === \"row\") {\n        setDragAxis(FLEX_ROW_DRAG_AXIS);\n      } else {\n        setDragAxis(DEFAULT_DRAG_AXIS);\n      }\n    }\n  }, [ref.current]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const onViewportChange = () => {\n      calculateDragAxis();\n    };\n    window.addEventListener(\"viewportchange\", onViewportChange);\n    return () => {\n      window.removeEventListener(\"viewportchange\", onViewportChange);\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(calculateDragAxis, [status, collisionAxis]);\n  return [dragAxis, calculateDragAxis];\n};\n\n// components/DropZone/index.tsx\n\n\n// components/SlotRender/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\nvar ContextSlotRender = ({\n  componentId,\n  zone\n}) => {\n  const config = useAppStore((s) => s.config);\n  const metadata = useAppStore((s) => s.metadata);\n  const slotContent = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n      var _a, _b;\n      const indexes = s.state.indexes;\n      const contentIds = (_b = (_a = indexes.zones[`${componentId}:${zone}`]) == null ? void 0 : _a.contentIds) != null ? _b : [];\n      return contentIds.map((contentId) => indexes.nodes[contentId].flatData);\n    })\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.SlotRenderPure,\n    {\n      content: slotContent,\n      zone,\n      config,\n      metadata\n    }\n  );\n};\n\n// lib/field-transforms/default-transforms/inline-text-transform.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// components/InlineTextField/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/overlay-portal/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar registerOverlayPortal = (el, opts = {}) => {\n  if (!el) return;\n  const { disableDrag = false, disableDragOnFocus = true } = opts;\n  const stopPropagation = (e) => {\n    e.stopPropagation();\n  };\n  el.addEventListener(\"mouseover\", stopPropagation, {\n    capture: true\n  });\n  const onFocus = () => {\n    setTimeout(() => {\n      el.addEventListener(\"pointerdown\", stopPropagation, {\n        capture: true\n      });\n    }, 200);\n  };\n  const onBlur = () => {\n    el.removeEventListener(\"pointerdown\", stopPropagation, {\n      capture: true\n    });\n  };\n  if (disableDragOnFocus) {\n    el.addEventListener(\"focus\", onFocus, { capture: true });\n    el.addEventListener(\"blur\", onBlur, { capture: true });\n  } else if (disableDrag) {\n    el.addEventListener(\"pointerdown\", stopPropagation, {\n      capture: true\n    });\n  }\n  el.setAttribute(\"data-puck-overlay-portal\", \"true\");\n  return () => {\n    el.removeEventListener(\"mouseover\", stopPropagation, {\n      capture: true\n    });\n    if (disableDragOnFocus) {\n      el.removeEventListener(\"focus\", onFocus, { capture: true });\n      el.removeEventListener(\"blur\", onFocus, { capture: true });\n    } else if (disableDrag) {\n      el.removeEventListener(\"pointerdown\", stopPropagation, {\n        capture: true\n      });\n    }\n    el.removeAttribute(\"data-puck-overlay-portal\");\n  };\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/InlineTextField/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default13 = { \"InlineTextField\": \"_InlineTextField_1xph6_1\" };\n\n// lib/data/set-deep.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nfunction setDeep(node, path, newVal) {\n  const parts = path.split(\".\");\n  const newNode = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, node);\n  let cur = newNode;\n  for (let i = 0; i < parts.length; i++) {\n    const [prop, idxStr] = parts[i].replace(\"]\", \"\").split(\"[\");\n    const isLast = i === parts.length - 1;\n    if (idxStr !== void 0) {\n      if (!Array.isArray(cur[prop])) {\n        cur[prop] = [];\n      }\n      const idx = Number(idxStr);\n      if (isLast) {\n        cur[prop][idx] = newVal;\n        continue;\n      }\n      if (cur[prop][idx] === void 0) cur[prop][idx] = {};\n      cur = cur[prop][idx];\n      continue;\n    }\n    if (isLast) {\n      cur[prop] = newVal;\n      continue;\n    }\n    if (cur[prop] === void 0) {\n      cur[prop] = {};\n    }\n    cur = cur[prop];\n  }\n  return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, node), newNode);\n}\n\n// lib/get-selector-for-id.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar getSelectorForId = (state, id) => {\n  const node = state.indexes.nodes[id];\n  if (!node) return;\n  const zoneCompound = `${node.parentId}:${node.zone}`;\n  const index = state.indexes.zones[zoneCompound].contentIds.indexOf(id);\n  return { zone: zoneCompound, index };\n};\n\n// components/InlineTextField/index.tsx\n\nvar getClassName18 = get_class_name_factory_default(\"InlineTextField\", styles_module_default13);\nvar InlineTextFieldInternal = ({\n  propPath,\n  componentId,\n  value,\n  isReadOnly,\n  opts = {}\n}) => {\n  var _a;\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const appStoreApi = useAppStoreApi();\n  const disableLineBreaks = (_a = opts.disableLineBreaks) != null ? _a : false;\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const appStore = appStoreApi.getState();\n    const data = appStore.state.indexes.nodes[componentId].data;\n    const componentConfig = appStore.getComponentConfig(data.type);\n    if (!componentConfig) {\n      throw new Error(\n        `InlineTextField Error: No config defined for ${data.type}`\n      );\n    }\n    if (ref.current) {\n      if (value !== ref.current.innerText) {\n        ref.current.replaceChildren(value);\n      }\n      const cleanupPortal = registerOverlayPortal(ref.current);\n      const handleInput = (e) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n        var _a2;\n        const appStore2 = appStoreApi.getState();\n        const node = appStore2.state.indexes.nodes[componentId];\n        const zoneCompound = `${node.parentId}:${node.zone}`;\n        const index = (_a2 = appStore2.state.indexes.zones[zoneCompound]) == null ? void 0 : _a2.contentIds.indexOf(\n          componentId\n        );\n        let value2 = e.target.innerText;\n        if (disableLineBreaks) {\n          value2 = value2.replaceAll(/\\n/gm, \"\");\n        }\n        const newProps = setDeep(node.data.props, propPath, value2);\n        const resolvedData = yield appStore2.resolveComponentData(\n          (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, node.data), { props: newProps }),\n          \"replace\"\n        );\n        appStore2.dispatch({\n          type: \"replace\",\n          data: resolvedData.node,\n          destinationIndex: index,\n          destinationZone: zoneCompound\n        });\n      });\n      ref.current.addEventListener(\"input\", handleInput);\n      return () => {\n        var _a2;\n        (_a2 = ref.current) == null ? void 0 : _a2.removeEventListener(\"input\", handleInput);\n        cleanupPortal == null ? void 0 : cleanupPortal();\n      };\n    }\n  }, [appStoreApi, ref.current, value, disableLineBreaks]);\n  const [isHovering, setIsHovering] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [isFocused, setIsFocused] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"span\",\n    {\n      className: getClassName18(),\n      ref,\n      contentEditable: isHovering || isFocused ? \"plaintext-only\" : \"false\",\n      onClick: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      },\n      onClickCapture: (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const itemSelector = getSelectorForId(\n          appStoreApi.getState().state,\n          componentId\n        );\n        appStoreApi.getState().setUi({ itemSelector });\n      },\n      onKeyDown: (e) => {\n        e.stopPropagation();\n        if (disableLineBreaks && e.key === \"Enter\" || isReadOnly) {\n          e.preventDefault();\n        }\n      },\n      onKeyUp: (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n      },\n      onMouseOverCapture: () => setIsHovering(true),\n      onMouseOutCapture: () => setIsHovering(false),\n      onFocus: () => setIsFocused(true),\n      onBlur: () => setIsFocused(false)\n    }\n  );\n};\nvar InlineTextField = (0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(InlineTextFieldInternal);\n\n// lib/field-transforms/default-transforms/inline-text-transform.tsx\n\nvar getInlineTextTransform = () => ({\n  text: ({ value, componentId, field, propPath, isReadOnly }) => {\n    if (field.contentEditable) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        InlineTextField,\n        {\n          propPath,\n          componentId,\n          value,\n          opts: { disableLineBreaks: true },\n          isReadOnly\n        }\n      );\n    }\n    return value;\n  },\n  textarea: ({ value, componentId, field, propPath, isReadOnly }) => {\n    if (field.contentEditable) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        InlineTextField,\n        {\n          propPath,\n          componentId,\n          value,\n          isReadOnly\n        }\n      );\n    }\n    return value;\n  },\n  custom: ({ value, componentId, field, propPath, isReadOnly }) => {\n    if (field.contentEditable && typeof value === \"string\") {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        InlineTextField,\n        {\n          propPath,\n          componentId,\n          value,\n          isReadOnly\n        }\n      );\n    }\n    return value;\n  }\n});\n\n// components/DropZone/index.tsx\n\nvar getClassName19 = get_class_name_factory_default(\"DropZone\", styles_module_default11);\nvar getRandomColor = () => `#${Math.floor(Math.random() * 16777215).toString(16)}`;\nvar RENDER_DEBUG = false;\nvar DropZoneEditPure = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneEdit, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props));\nvar DropZoneChild = ({\n  zoneCompound,\n  componentId,\n  index,\n  dragAxis,\n  collisionAxis,\n  inDroppableZone\n}) => {\n  var _a, _b;\n  const metadata = useAppStore((s) => s.metadata);\n  const ctx = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(dropZoneContext);\n  const { depth = 1 } = ctx != null ? ctx : {};\n  const zoneStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(ZoneStoreContext);\n  const nodeProps = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n      var _a2;\n      return (_a2 = s.state.indexes.nodes[componentId]) == null ? void 0 : _a2.flatData.props;\n    })\n  );\n  const nodeType = useAppStore(\n    (s) => {\n      var _a2;\n      return (_a2 = s.state.indexes.nodes[componentId]) == null ? void 0 : _a2.data.type;\n    }\n  );\n  const nodeReadOnly = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n      var _a2;\n      return (_a2 = s.state.indexes.nodes[componentId]) == null ? void 0 : _a2.data.readOnly;\n    })\n  );\n  const appStore = useAppStoreApi();\n  const item = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (nodeProps) {\n      const expanded = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.expandNode)({\n        type: nodeType,\n        props: nodeProps\n      });\n      return expanded;\n    }\n    const preview = zoneStore.getState().previewIndex[zoneCompound];\n    if (componentId === (preview == null ? void 0 : preview.props.id)) {\n      return {\n        type: preview.componentType,\n        props: preview.props,\n        previewType: preview.type,\n        element: preview.element\n      };\n    }\n    return null;\n  }, [appStore, componentId, zoneCompound, nodeType, nodeProps]);\n  const componentConfig = useAppStore(\n    (s) => (item == null ? void 0 : item.type) ? s.config.components[item.type] : null\n  );\n  const puckProps = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => ({\n      renderDropZone: DropZoneEditPure,\n      isEditing: true,\n      dragRef: null,\n      metadata: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, metadata), componentConfig == null ? void 0 : componentConfig.metadata)\n    }),\n    [metadata, componentConfig == null ? void 0 : componentConfig.metadata]\n  );\n  const overrides = useAppStore((s) => s.overrides);\n  const isLoading = useAppStore(\n    (s) => {\n      var _a2;\n      return ((_a2 = s.componentState[componentId]) == null ? void 0 : _a2.loadingCount) > 0;\n    }\n  );\n  const isSelected = useAppStore(\n    (s) => {\n      var _a2;\n      return ((_a2 = s.selectedItem) == null ? void 0 : _a2.props.id) === componentId || false;\n    }\n  );\n  let label = (_b = (_a = componentConfig == null ? void 0 : componentConfig.label) != null ? _a : item == null ? void 0 : item.type.toString()) != null ? _b : \"Component\";\n  const renderPreview = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => function Preview3() {\n      var _a2;\n      if (item && \"element\" in item && item.element) {\n        return (\n          // Safe to use this since the HTML is set by the user\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { dangerouslySetInnerHTML: { __html: item.element.outerHTML } })\n        );\n      }\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DrawerItemInner, { name: label, children: (_a2 = overrides.componentItem) != null ? _a2 : overrides.drawerItem });\n    },\n    [componentId, label, overrides]\n  );\n  const defaultsProps = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, componentConfig == null ? void 0 : componentConfig.defaultProps), item == null ? void 0 : item.props), {\n      puck: puckProps,\n      editMode: true\n      // DEPRECATED\n    }),\n    [componentConfig == null ? void 0 : componentConfig.defaultProps, item == null ? void 0 : item.props, puckProps]\n  );\n  const defaultedNode = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => {\n      var _a2;\n      return { type: (_a2 = item == null ? void 0 : item.type) != null ? _a2 : nodeType, props: defaultsProps };\n    },\n    [item == null ? void 0 : item.type, nodeType, defaultsProps]\n  );\n  const config = useAppStore((s) => s.config);\n  const plugins = useAppStore((s) => s.plugins);\n  const userFieldTransforms = useAppStore((s) => s.fieldTransforms);\n  const combinedFieldTransforms = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.getSlotTransform)(DropZoneEditPure, (slotProps) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ContextSlotRender, { componentId, zone: slotProps.zone }))), getInlineTextTransform()), plugins.reduce(\n      (acc, plugin) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, acc), plugin.fieldTransforms),\n      {}\n    )), userFieldTransforms),\n    [plugins, userFieldTransforms]\n  );\n  const transformedProps = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.useFieldTransforms)(\n    config,\n    defaultedNode,\n    combinedFieldTransforms,\n    nodeReadOnly,\n    isLoading\n  );\n  if (!item) return;\n  let Render2 = componentConfig ? componentConfig.render : () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { padding: 48, textAlign: \"center\" }, children: [\n    \"No configuration for \",\n    item.type\n  ] });\n  let componentType = item.type;\n  const isInserting = \"previewType\" in item ? item.previewType === \"insert\" : false;\n  if (isInserting) {\n    Render2 = renderPreview;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    DraggableComponent,\n    {\n      id: componentId,\n      componentType,\n      zoneCompound,\n      depth: depth + 1,\n      index,\n      isLoading,\n      isSelected,\n      label,\n      autoDragAxis: dragAxis,\n      userDragAxis: collisionAxis,\n      inDroppableZone,\n      children: (dragRef) => (componentConfig == null ? void 0 : componentConfig.inline) && !isInserting ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        Render2,\n        (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, transformedProps), {\n          puck: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, transformedProps.puck), {\n            dragRef\n          })\n        })\n      ) }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { ref: dragRef, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Render2, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, transformedProps)) })\n    }\n  );\n};\nvar DropZoneChildMemo = (0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(DropZoneChild);\nvar DropZoneEdit = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(\n  function DropZoneEditInternal({\n    zone,\n    allow,\n    disallow,\n    style,\n    className,\n    minEmptyHeight: userMinEmptyHeight = 128,\n    collisionAxis\n  }, userRef) {\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(dropZoneContext);\n    const appStoreApi = useAppStoreApi();\n    const {\n      // These all need setting via context\n      areaId,\n      depth = 0,\n      registerLocalZone,\n      unregisterLocalZone\n    } = ctx != null ? ctx : {};\n    const path = useAppStore(\n      (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n        var _a;\n        return areaId ? (_a = s.state.indexes.nodes[areaId]) == null ? void 0 : _a.path : null;\n      })\n    );\n    let zoneCompound = _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId;\n    if (areaId) {\n      if (zone !== _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId) {\n        zoneCompound = `${areaId}:${zone}`;\n      }\n    }\n    const isRootZone = zoneCompound === _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId || zone === _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId || areaId === \"root\";\n    const inNextDeepestArea = useContextStore(\n      ZoneStoreContext,\n      (s) => s.nextAreaDepthIndex[areaId || \"\"]\n    );\n    const zoneContentIds = useAppStore(\n      (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n        var _a;\n        return (_a = s.state.indexes.zones[zoneCompound]) == null ? void 0 : _a.contentIds;\n      })\n    );\n    const zoneType = useAppStore(\n      (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n        var _a;\n        return (_a = s.state.indexes.zones[zoneCompound]) == null ? void 0 : _a.type;\n      })\n    );\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n      if (!zoneType || zoneType === \"dropzone\") {\n        if (ctx == null ? void 0 : ctx.registerZone) {\n          ctx == null ? void 0 : ctx.registerZone(zoneCompound);\n        }\n      }\n    }, [zoneType, appStoreApi]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n      if (zoneType === \"dropzone\") {\n        if (zoneCompound !== _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId) {\n          console.warn(\n            \"DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots\"\n          );\n        }\n      }\n    }, [zoneType]);\n    const contentIds = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n      return zoneContentIds || [];\n    }, [zoneContentIds]);\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const acceptsTarget = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n      (componentType) => {\n        if (!componentType) {\n          return true;\n        }\n        if (disallow) {\n          const defaultedAllow = allow || [];\n          const filteredDisallow = (disallow || []).filter(\n            (item) => defaultedAllow.indexOf(item) === -1\n          );\n          if (filteredDisallow.indexOf(componentType) !== -1) {\n            return false;\n          }\n        } else if (allow) {\n          if (allow.indexOf(componentType) === -1) {\n            return false;\n          }\n        }\n        return true;\n      },\n      [allow, disallow]\n    );\n    const targetAccepted = useContextStore(ZoneStoreContext, (s) => {\n      var _a;\n      const draggedComponentType = (_a = s.draggedItem) == null ? void 0 : _a.data.componentType;\n      return acceptsTarget(draggedComponentType);\n    });\n    const hoveringOverArea = inNextDeepestArea || isRootZone;\n    const isEnabled = useContextStore(ZoneStoreContext, (s) => {\n      var _a;\n      let _isEnabled = true;\n      const isDeepestZone = (_a = s.zoneDepthIndex[zoneCompound]) != null ? _a : false;\n      _isEnabled = isDeepestZone;\n      if (_isEnabled) {\n        _isEnabled = targetAccepted;\n      }\n      return _isEnabled;\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n      if (registerLocalZone) {\n        registerLocalZone(zoneCompound, targetAccepted || isEnabled);\n      }\n      return () => {\n        if (unregisterLocalZone) {\n          unregisterLocalZone(zoneCompound);\n        }\n      };\n    }, [targetAccepted, isEnabled, zoneCompound]);\n    const [contentIdsWithPreview, preview] = useContentIdsWithPreview(\n      contentIds,\n      zoneCompound\n    );\n    const isDropEnabled = isEnabled && (preview ? contentIdsWithPreview.length === 1 : contentIdsWithPreview.length === 0);\n    const zoneStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(ZoneStoreContext);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n      const { enabledIndex } = zoneStore.getState();\n      zoneStore.setState({\n        enabledIndex: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, enabledIndex), { [zoneCompound]: isEnabled })\n      });\n    }, [isEnabled, zoneStore, zoneCompound]);\n    const droppableConfig = {\n      id: zoneCompound,\n      collisionPriority: isEnabled ? depth : 0,\n      disabled: !isDropEnabled,\n      collisionDetector: pointerIntersection,\n      type: \"dropzone\",\n      data: {\n        areaId,\n        depth,\n        isDroppableTarget: targetAccepted,\n        path: path || []\n      }\n    };\n    const { ref: dropRef } = (0,_dnd_kit_react__WEBPACK_IMPORTED_MODULE_11__.useDroppable)(droppableConfig);\n    const isAreaSelected = useAppStore(\n      (s) => (s == null ? void 0 : s.selectedItem) && areaId === (s == null ? void 0 : s.selectedItem.props.id)\n    );\n    const [dragAxis] = useDragAxis(ref, collisionAxis);\n    const [minEmptyHeight, isAnimating] = useMinEmptyHeight({\n      zoneCompound,\n      userMinEmptyHeight,\n      ref\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"div\",\n      {\n        className: `${getClassName19({\n          isRootZone,\n          hoveringOverArea,\n          isEnabled,\n          isAreaSelected,\n          hasChildren: contentIds.length > 0,\n          isAnimating\n        })}${className ? ` ${className}` : \"\"}`,\n        ref: (node) => {\n          assignRefs([ref, dropRef, userRef], node);\n        },\n        \"data-testid\": `dropzone:${zoneCompound}`,\n        \"data-puck-dropzone\": zoneCompound,\n        style: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, style), {\n          \"--min-empty-height\": `${minEmptyHeight}px`,\n          backgroundColor: RENDER_DEBUG ? getRandomColor() : style == null ? void 0 : style.backgroundColor\n        }),\n        children: contentIdsWithPreview.map((componentId, i) => {\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            DropZoneChildMemo,\n            {\n              zoneCompound,\n              componentId,\n              dragAxis,\n              index: i,\n              collisionAxis,\n              inDroppableZone: targetAccepted\n            },\n            componentId\n          );\n        })\n      }\n    );\n  }\n);\nvar DropZoneRenderItem = ({\n  config,\n  item,\n  metadata\n}) => {\n  const Component = config.components[item.type];\n  const props = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.useSlots)(config, item, (slotProps) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.SlotRenderPure, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, slotProps), { config, metadata })));\n  const nextContextValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => ({\n      areaId: props.id,\n      depth: 1\n    }),\n    [props]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneProvider, { value: nextContextValue, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Component.render,\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), {\n      puck: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props.puck), {\n        renderDropZone: DropZoneRenderPure,\n        metadata: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, metadata), Component.metadata)\n      })\n    })\n  ) }, props.id);\n};\nvar DropZoneRenderPure = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneRender, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props));\nvar DropZoneRender = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(\n  function DropZoneRenderInternal({ className, style, zone }, ref) {\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(dropZoneContext);\n    const { areaId = \"root\" } = ctx || {};\n    const { config, data, metadata } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(renderContext);\n    let zoneCompound = `${areaId}:${zone}`;\n    let content = (data == null ? void 0 : data.content) || [];\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n      if (!content) {\n        if (ctx == null ? void 0 : ctx.registerZone) {\n          ctx == null ? void 0 : ctx.registerZone(zoneCompound);\n        }\n      }\n    }, [content]);\n    if (!data || !config) {\n      return null;\n    }\n    if (zoneCompound !== _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId) {\n      content = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.setupZone)(data, zoneCompound).zones[zoneCompound];\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className, style, ref, children: content.map((item) => {\n      const Component = config.components[item.type];\n      if (Component) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          DropZoneRenderItem,\n          {\n            config,\n            item,\n            metadata\n          },\n          item.props.id\n        );\n      }\n      return null;\n    }) });\n  }\n);\nvar DropZonePure = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZone, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props));\nvar DropZone = (0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(\n  function DropZone2(props, ref) {\n    const ctx = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(dropZoneContext);\n    if ((ctx == null ? void 0 : ctx.mode) === \"edit\") {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneEdit, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { ref })) });\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneRender, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { ref })) });\n  }\n);\n\n// components/Render/index.tsx\n\n\nvar renderContext = react__WEBPACK_IMPORTED_MODULE_2__.createContext({\n  config: { components: {} },\n  data: { root: {}, content: [] },\n  metadata: {}\n});\nfunction Render({\n  config,\n  data,\n  metadata = {}\n}) {\n  var _a;\n  const defaultedData = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, data), {\n    root: data.root || {},\n    content: data.content || []\n  });\n  const rootProps = \"props\" in defaultedData.root ? defaultedData.root.props : defaultedData.root;\n  const title = (rootProps == null ? void 0 : rootProps.title) || \"\";\n  const pageProps = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, rootProps), {\n    puck: {\n      renderDropZone: DropZonePure,\n      isEditing: false,\n      dragRef: null,\n      metadata\n    },\n    title,\n    editMode: false,\n    id: \"puck-root\"\n  });\n  const propsWithSlots = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.useSlots)(\n    config,\n    { type: \"root\", props: pageProps },\n    (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.SlotRender, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { config, metadata }))\n  );\n  const nextContextValue = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => ({\n      mode: \"render\",\n      depth: 0\n    }),\n    []\n  );\n  if ((_a = config.root) == null ? void 0 : _a.render) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(renderContext.Provider, { value: { config, data: defaultedData, metadata }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneProvider, { value: nextContextValue, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(config.root.render, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, propsWithSlots), { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneRenderPure, { zone: _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootZone }) })) }) });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(renderContext.Provider, { value: { config, data: defaultedData, metadata }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneProvider, { value: nextContextValue, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZoneRenderPure, { zone: _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootZone }) }) });\n}\n\n// lib/use-puck.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\nvar generateUsePuck = (store) => {\n  const history = {\n    back: store.history.back,\n    forward: store.history.forward,\n    setHistories: store.history.setHistories,\n    setHistoryIndex: store.history.setHistoryIndex,\n    hasPast: store.history.hasPast(),\n    hasFuture: store.history.hasFuture(),\n    histories: store.history.histories,\n    index: store.history.index\n  };\n  const storeData = {\n    appState: makeStatePublic(store.state),\n    config: store.config,\n    dispatch: store.dispatch,\n    getPermissions: store.permissions.getPermissions,\n    refreshPermissions: store.permissions.refreshPermissions,\n    history,\n    selectedItem: store.selectedItem || null,\n    getItemBySelector: (selector) => getItem(selector, store.state),\n    getItemById: (id) => store.state.indexes.nodes[id].data,\n    getSelectorForId: (id) => getSelectorForId(store.state, id)\n  };\n  return storeData;\n};\nvar UsePuckStoreContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)(\n  null\n);\nvar convertToPickedStore = (store) => {\n  return {\n    state: store.state,\n    config: store.config,\n    dispatch: store.dispatch,\n    permissions: store.permissions,\n    history: store.history,\n    selectedItem: store.selectedItem\n  };\n};\nvar useRegisterUsePuckStore = (appStore) => {\n  const [usePuckStore] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    () => (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_10__.createStore)(\n      () => generateUsePuck(convertToPickedStore(appStore.getState()))\n    )\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    return appStore.subscribe(\n      (store) => convertToPickedStore(store),\n      (pickedStore) => {\n        usePuckStore.setState(generateUsePuck(pickedStore));\n      }\n    );\n  }, []);\n  return usePuckStore;\n};\nfunction createUsePuck() {\n  return function usePuck2(selector) {\n    const usePuckApi = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(UsePuckStoreContext);\n    if (!usePuckApi) {\n      throw new Error(\"usePuck must be used inside <Puck>.\");\n    }\n    const result = (0,zustand__WEBPACK_IMPORTED_MODULE_4__.useStore)(\n      usePuckApi,\n      selector != null ? selector : (s) => s\n    );\n    return result;\n  };\n}\nfunction usePuck() {\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    console.warn(\n      \"You're using the `usePuck` method without a selector, which may cause unnecessary re-renders. Replace with `createUsePuck` and provide a selector for improved performance.\"\n    );\n  }, []);\n  return createUsePuck()((s) => s);\n}\nfunction useGetPuck() {\n  const usePuckApi = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(UsePuckStoreContext);\n  if (!usePuckApi) {\n    throw new Error(\"usePuckGet must be used inside <Puck>.\");\n  }\n  return usePuckApi.getState;\n}\n\n// components/Puck/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// components/SidebarSection/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/SidebarSection/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default14 = { \"SidebarSection\": \"_SidebarSection_8boj8_1\", \"SidebarSection-title\": \"_SidebarSection-title_8boj8_12\", \"SidebarSection--noBorderTop\": \"_SidebarSection--noBorderTop_8boj8_20\", \"SidebarSection-content\": \"_SidebarSection-content_8boj8_24\", \"SidebarSection--noPadding\": \"_SidebarSection--noPadding_8boj8_28\", \"SidebarSection-breadcrumbLabel\": \"_SidebarSection-breadcrumbLabel_8boj8_41\", \"SidebarSection-breadcrumbs\": \"_SidebarSection-breadcrumbs_8boj8_70\", \"SidebarSection-breadcrumb\": \"_SidebarSection-breadcrumb_8boj8_41\", \"SidebarSection-heading\": \"_SidebarSection-heading_8boj8_82\", \"SidebarSection-loadingOverlay\": \"_SidebarSection-loadingOverlay_8boj8_86\" };\n\n// lib/use-breadcrumbs.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar useBreadcrumbs = (renderCount) => {\n  const selectedId = useAppStore((s) => {\n    var _a;\n    return (_a = s.selectedItem) == null ? void 0 : _a.props.id;\n  });\n  const config = useAppStore((s) => s.config);\n  const path = useAppStore((s) => {\n    var _a;\n    return (_a = s.state.indexes.nodes[selectedId]) == null ? void 0 : _a.path;\n  });\n  const appStore = useAppStoreApi();\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const breadcrumbs = (path == null ? void 0 : path.map((zoneCompound) => {\n      var _a, _b, _c;\n      const [componentId] = zoneCompound.split(\":\");\n      if (componentId === \"root\") {\n        return {\n          label: \"Page\",\n          selector: null\n        };\n      }\n      const node = appStore.getState().state.indexes.nodes[componentId];\n      const parentId = node.path[node.path.length - 1];\n      const contentIds = ((_a = appStore.getState().state.indexes.zones[parentId]) == null ? void 0 : _a.contentIds) || [];\n      const index = contentIds.indexOf(componentId);\n      const label = node ? (_c = (_b = config.components[node.data.type]) == null ? void 0 : _b.label) != null ? _c : node.data.type : \"Component\";\n      return {\n        label,\n        selector: node ? {\n          index,\n          zone: node.path[node.path.length - 1]\n        } : null\n      };\n    })) || [];\n    if (renderCount) {\n      return breadcrumbs.slice(breadcrumbs.length - renderCount);\n    }\n    return breadcrumbs;\n  }, [path, renderCount]);\n};\n\n// components/SidebarSection/index.tsx\n\nvar getClassName20 = get_class_name_factory_default(\"SidebarSection\", styles_module_default14);\nvar SidebarSection = ({\n  children,\n  title,\n  background,\n  showBreadcrumbs,\n  noBorderTop,\n  noPadding,\n  isLoading\n}) => {\n  const setUi = useAppStore((s) => s.setUi);\n  const breadcrumbs = useBreadcrumbs(1);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      className: getClassName20({ noBorderTop, noPadding }),\n      style: { background },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName20(\"title\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName20(\"breadcrumbs\"), children: [\n          showBreadcrumbs ? breadcrumbs.map((breadcrumb, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName20(\"breadcrumb\"), children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"button\",\n              {\n                type: \"button\",\n                className: getClassName20(\"breadcrumbLabel\"),\n                onClick: () => setUi({ itemSelector: breadcrumb.selector }),\n                children: breadcrumb.label\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChevronRight, { size: 16 })\n          ] }, i)) : null,\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName20(\"heading\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Heading, { rank: \"2\", size: \"xs\", children: title }) })\n        ] }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName20(\"content\"), children }),\n        isLoading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName20(\"loadingOverlay\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loader, { size: 32 }) })\n      ]\n    }\n  );\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default15 = { \"Puck\": \"_Puck_1yxlw_19\", \"Puck-portal\": \"_Puck-portal_1yxlw_31\", \"PuckLayout-inner\": \"_PuckLayout-inner_1yxlw_38\", \"PuckLayout--mounted\": \"_PuckLayout--mounted_1yxlw_59\", \"PuckLayout--leftSideBarVisible\": \"_PuckLayout--leftSideBarVisible_1yxlw_63\", \"PuckLayout--rightSideBarVisible\": \"_PuckLayout--rightSideBarVisible_1yxlw_69\", \"PuckLayout-mounted\": \"_PuckLayout-mounted_1yxlw_83\", \"PuckLayout\": \"_PuckLayout_1yxlw_38\" };\n\n// components/Puck/components/Fields/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Fields/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default16 = { \"PuckFields\": \"_PuckFields_10bh7_1\", \"PuckFields--isLoading\": \"_PuckFields--isLoading_10bh7_6\", \"PuckFields-loadingOverlay\": \"_PuckFields-loadingOverlay_10bh7_10\", \"PuckFields-loadingOverlayInner\": \"_PuckFields-loadingOverlayInner_10bh7_25\", \"PuckFields-field\": \"_PuckFields-field_10bh7_32\", \"PuckFields--wrapFields\": \"_PuckFields--wrapFields_10bh7_36\" };\n\n// components/Puck/components/Fields/index.tsx\n\n\n\nvar getClassName21 = get_class_name_factory_default(\"PuckFields\", styles_module_default16);\nvar DefaultFields = ({\n  children\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children });\n};\nvar createOnChange = (fieldName, appStore) => (value, updatedUi) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n  let currentProps;\n  const { dispatch, state, selectedItem, resolveComponentData: resolveComponentData2 } = appStore.getState();\n  const { data, ui } = state;\n  const { itemSelector } = ui;\n  const rootProps = data.root.props || data.root;\n  if (selectedItem) {\n    currentProps = selectedItem.props;\n  } else {\n    currentProps = rootProps;\n  }\n  const newProps = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, currentProps), {\n    [fieldName]: value\n  });\n  if (selectedItem && itemSelector) {\n    dispatch({\n      type: \"replace\",\n      destinationIndex: itemSelector.index,\n      destinationZone: itemSelector.zone || _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId,\n      data: (yield resolveComponentData2(\n        (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, selectedItem), { props: newProps }),\n        \"replace\"\n      )).node,\n      ui: updatedUi\n    });\n  } else {\n    if (data.root.props) {\n      dispatch({\n        type: \"replaceRoot\",\n        root: (yield resolveComponentData2(\n          (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, data.root), { props: newProps }),\n          \"replace\"\n        )).node,\n        ui: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, ui), updatedUi),\n        recordHistory: true\n      });\n    } else {\n      dispatch({\n        type: \"setData\",\n        data: { root: newProps }\n      });\n    }\n  }\n});\nvar FieldsChild = ({ fieldName }) => {\n  const field = useAppStore((s) => s.fields.fields[fieldName]);\n  const isReadOnly = useAppStore(\n    (s) => ((s.selectedItem ? s.selectedItem.readOnly : s.state.data.root.readOnly) || {})[fieldName]\n  );\n  const value = useAppStore((s) => {\n    const rootProps = s.state.data.root.props || s.state.data.root;\n    return s.selectedItem ? s.selectedItem.props[fieldName] : rootProps[fieldName];\n  });\n  const id = useAppStore((s) => {\n    if (!field) return null;\n    return s.selectedItem ? `${s.selectedItem.props.id}_${field.type}_${fieldName}` : `root_${field.type}_${fieldName}`;\n  });\n  const permissions = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n      const { selectedItem, permissions: permissions2 } = s;\n      return selectedItem ? permissions2.getPermissions({ item: selectedItem }) : permissions2.getPermissions({ root: true });\n    })\n  );\n  const appStore = useAppStoreApi();\n  const onChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(createOnChange(fieldName, appStore), [\n    fieldName\n  ]);\n  const { visible = true } = field != null ? field : {};\n  if (!field || !id || !visible) return null;\n  if (field.type === \"slot\") return null;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName21(\"field\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    AutoFieldPrivate,\n    {\n      field,\n      name: fieldName,\n      id,\n      readOnly: !permissions.edit || isReadOnly,\n      value,\n      onChange\n    }\n  ) }, id);\n};\nvar FieldsChildMemo = (0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(FieldsChild);\nvar FieldsInternal = ({ wrapFields = true }) => {\n  const overrides = useAppStore((s) => s.overrides);\n  const componentResolving = useAppStore((s) => {\n    var _a, _b;\n    const loadingCount = s.selectedItem ? (_a = s.componentState[s.selectedItem.props.id]) == null ? void 0 : _a.loadingCount : (_b = s.componentState[\"root\"]) == null ? void 0 : _b.loadingCount;\n    return (loadingCount != null ? loadingCount : 0) > 0;\n  });\n  const itemSelector = useAppStore((0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => s.state.ui.itemSelector));\n  const id = useAppStore((s) => {\n    var _a;\n    return (_a = s.selectedItem) == null ? void 0 : _a.props.id;\n  });\n  const appStore = useAppStoreApi();\n  useRegisterFieldsSlice(appStore, id);\n  const fieldsLoading = useAppStore((s) => s.fields.loading);\n  const fieldNames = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => {\n      if (s.fields.id === id) {\n        return Object.keys(s.fields.fields);\n      }\n      return [];\n    })\n  );\n  const isLoading = fieldsLoading || componentResolving;\n  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => overrides.fields || DefaultFields, [overrides]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"form\",\n    {\n      className: getClassName21({ wrapFields }),\n      onSubmit: (e) => {\n        e.preventDefault();\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Wrapper, { isLoading, itemSelector, children: fieldNames.map((fieldName) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FieldsChildMemo, { fieldName }, fieldName)) }),\n        isLoading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName21(\"loadingOverlay\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName21(\"loadingOverlayInner\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loader, { size: 16 }) }) })\n      ]\n    }\n  );\n};\nvar Fields = (0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(FieldsInternal);\n\n// components/Puck/components/Components/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// lib/use-component-list.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// components/ComponentList/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/ComponentList/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default17 = { \"ComponentList\": \"_ComponentList_1rrlt_1\", \"ComponentList--isExpanded\": \"_ComponentList--isExpanded_1rrlt_5\", \"ComponentList-content\": \"_ComponentList-content_1rrlt_9\", \"ComponentList-title\": \"_ComponentList-title_1rrlt_17\", \"ComponentList-titleIcon\": \"_ComponentList-titleIcon_1rrlt_53\" };\n\n// components/ComponentList/index.tsx\n\n\nvar getClassName22 = get_class_name_factory_default(\"ComponentList\", styles_module_default17);\nvar ComponentListItem = ({\n  name,\n  label\n}) => {\n  var _a;\n  const overrides = useAppStore((s) => s.overrides);\n  const canInsert = useAppStore(\n    (s) => s.permissions.getPermissions({\n      type: name\n    }).insert\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (overrides.componentItem) {\n      console.warn(\n        \"The `componentItem` override has been deprecated and renamed to `drawerItem`\"\n      );\n    }\n  }, [overrides]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Drawer.Item, { label, name, isDragDisabled: !canInsert, children: (_a = overrides.componentItem) != null ? _a : overrides.drawerItem });\n};\nvar ComponentList = ({\n  children,\n  title,\n  id\n}) => {\n  const config = useAppStore((s) => s.config);\n  const setUi = useAppStore((s) => s.setUi);\n  const componentList = useAppStore((s) => s.state.ui.componentList);\n  const { expanded = true } = componentList[id] || {};\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName22({ isExpanded: expanded }), children: [\n    title && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n      \"button\",\n      {\n        type: \"button\",\n        className: getClassName22(\"title\"),\n        onClick: () => setUi({\n          componentList: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, componentList), {\n            [id]: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, componentList[id]), {\n              expanded: !expanded\n            })\n          })\n        }),\n        title: expanded ? `Collapse${title ? ` ${title}` : \"\"}` : `Expand${title ? ` ${title}` : \"\"}`,\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { children: title }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName22(\"titleIcon\"), children: expanded ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChevronUp, { size: 12 }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChevronDown, { size: 12 }) })\n        ]\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName22(\"content\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Drawer, { children: children || Object.keys(config.components).map((componentKey) => {\n      var _a;\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        ComponentListItem,\n        {\n          label: (_a = config.components[componentKey][\"label\"]) != null ? _a : componentKey,\n          name: componentKey\n        },\n        componentKey\n      );\n    }) }) })\n  ] });\n};\nComponentList.Item = ComponentListItem;\n\n// lib/use-component-list.tsx\n\nvar useComponentList = () => {\n  const [componentList, setComponentList] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const config = useAppStore((s) => s.config);\n  const uiComponentList = useAppStore((s) => s.state.ui.componentList);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    var _a, _b, _c;\n    if (Object.keys(uiComponentList).length > 0) {\n      const matchedComponents = [];\n      let _componentList;\n      _componentList = Object.entries(uiComponentList).map(\n        ([categoryKey, category]) => {\n          if (!category.components) {\n            return null;\n          }\n          category.components.forEach((componentName) => {\n            matchedComponents.push(componentName);\n          });\n          if (category.visible === false) {\n            return null;\n          }\n          return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            ComponentList,\n            {\n              id: categoryKey,\n              title: category.title || categoryKey,\n              children: category.components.map((componentName, i) => {\n                var _a2;\n                const componentConf = config.components[componentName] || {};\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                  ComponentList.Item,\n                  {\n                    label: (_a2 = componentConf[\"label\"]) != null ? _a2 : componentName,\n                    name: componentName,\n                    index: i\n                  },\n                  componentName\n                );\n              })\n            },\n            categoryKey\n          );\n        }\n      );\n      const remainingComponents = Object.keys(config.components).filter(\n        (component) => matchedComponents.indexOf(component) === -1\n      );\n      if (remainingComponents.length > 0 && !((_a = uiComponentList.other) == null ? void 0 : _a.components) && ((_b = uiComponentList.other) == null ? void 0 : _b.visible) !== false) {\n        _componentList.push(\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            ComponentList,\n            {\n              id: \"other\",\n              title: ((_c = uiComponentList.other) == null ? void 0 : _c.title) || \"Other\",\n              children: remainingComponents.map((componentName, i) => {\n                var _a2;\n                const componentConf = config.components[componentName] || {};\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                  ComponentList.Item,\n                  {\n                    name: componentName,\n                    label: (_a2 = componentConf[\"label\"]) != null ? _a2 : componentName,\n                    index: i\n                  },\n                  componentName\n                );\n              })\n            },\n            \"other\"\n          )\n        );\n      }\n      setComponentList(_componentList);\n    }\n  }, [config.categories, config.components, uiComponentList]);\n  return componentList;\n};\n\n// components/Puck/components/Components/index.tsx\n\n\nvar Components = () => {\n  const overrides = useAppStore((s) => s.overrides);\n  const componentList = useComponentList();\n  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (overrides.components) {\n      console.warn(\n        \"The `components` override has been deprecated and renamed to `drawer`\"\n      );\n    }\n    return overrides.components || overrides.drawer || \"div\";\n  }, [overrides]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Wrapper, { children: componentList ? componentList : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ComponentList, { id: \"all\" }) });\n};\n\n// components/Puck/components/Preview/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// components/AutoFrame/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n\n\nvar styleSelector = 'style, link[rel=\"stylesheet\"]';\nvar collectStyles = (doc) => {\n  const collected = [];\n  doc.querySelectorAll(styleSelector).forEach((style) => {\n    if (style.tagName === \"STYLE\") {\n      const hasContent = !!style.innerHTML.trim();\n      if (hasContent) {\n        collected.push(style);\n      }\n    } else {\n      collected.push(style);\n    }\n  });\n  return collected;\n};\nvar getStyleSheet = (el) => {\n  return Array.from(document.styleSheets).find((ss) => {\n    const ownerNode = ss.ownerNode;\n    return ownerNode.href === el.href;\n  });\n};\nvar getStyles = (styleSheet) => {\n  if (styleSheet) {\n    try {\n      return [...Array.from(styleSheet.cssRules)].map((rule) => rule.cssText).join(\"\");\n    } catch (e) {\n      console.warn(\n        \"Access to stylesheet %s is denied. Ignoring\\u2026\",\n        styleSheet.href\n      );\n    }\n  }\n  return \"\";\n};\nvar syncAttributes = (sourceElement, targetElement) => {\n  const attributes = sourceElement.attributes;\n  if ((attributes == null ? void 0 : attributes.length) > 0) {\n    Array.from(attributes).forEach((attribute) => {\n      targetElement.setAttribute(attribute.name, attribute.value);\n    });\n  }\n};\nvar defer = (fn) => setTimeout(fn, 0);\nvar CopyHostStyles = ({\n  children,\n  debug = false,\n  onStylesLoaded = () => null\n}) => {\n  const { document: doc, window: win } = useFrame();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!win || !doc) {\n      return () => {\n      };\n    }\n    let elements = [];\n    const hashes = {};\n    const lookupEl = (el) => elements.findIndex((elementMap) => elementMap.original === el);\n    const mirrorEl = (el, inlineStyles = false) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n      let mirror;\n      if (el.nodeName === \"LINK\" && inlineStyles) {\n        mirror = document.createElement(\"style\");\n        mirror.type = \"text/css\";\n        let styleSheet = getStyleSheet(el);\n        if (!styleSheet) {\n          yield new Promise((resolve) => {\n            const fn = () => {\n              resolve();\n              el.removeEventListener(\"load\", fn);\n            };\n            el.addEventListener(\"load\", fn);\n          });\n          styleSheet = getStyleSheet(el);\n        }\n        const styles2 = getStyles(styleSheet);\n        if (!styles2) {\n          if (debug) {\n            console.warn(\n              `Tried to load styles for link element, but couldn't find them. Skipping...`\n            );\n          }\n          return;\n        }\n        mirror.innerHTML = styles2;\n        mirror.setAttribute(\"data-href\", el.getAttribute(\"href\"));\n      } else {\n        mirror = el.cloneNode(true);\n      }\n      return mirror;\n    });\n    const addEl = (el) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n      const index = lookupEl(el);\n      if (index > -1) {\n        if (debug)\n          console.log(\n            `Tried to add an element that was already mirrored. Updating instead...`\n          );\n        elements[index].mirror.innerText = el.innerText;\n        return;\n      }\n      const mirror = yield mirrorEl(el);\n      if (!mirror) {\n        return;\n      }\n      const elHash = object_hash__WEBPACK_IMPORTED_MODULE_17__(mirror.outerHTML);\n      if (hashes[elHash]) {\n        if (debug)\n          console.log(\n            `iframe already contains element that is being mirrored. Skipping...`\n          );\n        return;\n      }\n      hashes[elHash] = true;\n      doc.head.append(mirror);\n      elements.push({ original: el, mirror });\n      if (debug) console.log(`Added style node ${el.outerHTML}`);\n    });\n    const removeEl = (el) => {\n      var _a, _b;\n      const index = lookupEl(el);\n      if (index === -1) {\n        if (debug)\n          console.log(\n            `Tried to remove an element that did not exist. Skipping...`\n          );\n        return;\n      }\n      const elHash = object_hash__WEBPACK_IMPORTED_MODULE_17__(el.outerHTML);\n      (_b = (_a = elements[index]) == null ? void 0 : _a.mirror) == null ? void 0 : _b.remove();\n      delete hashes[elHash];\n      if (debug) console.log(`Removed style node ${el.outerHTML}`);\n    };\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.type === \"childList\") {\n          mutation.addedNodes.forEach((node) => {\n            if (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE) {\n              const el = node.nodeType === Node.TEXT_NODE ? node.parentElement : node;\n              if (el && el.matches(styleSelector)) {\n                defer(() => addEl(el));\n              }\n            }\n          });\n          mutation.removedNodes.forEach((node) => {\n            if (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE) {\n              const el = node.nodeType === Node.TEXT_NODE ? node.parentElement : node;\n              if (el && el.matches(styleSelector)) {\n                defer(() => removeEl(el));\n              }\n            }\n          });\n        }\n      });\n    });\n    const parentDocument = win.parent.document;\n    const collectedStyles = collectStyles(parentDocument);\n    const hrefs = [];\n    let stylesLoaded = 0;\n    const parentHtml = parentDocument.getElementsByTagName(\"html\")[0];\n    syncAttributes(parentHtml, doc.documentElement);\n    const parentBody = parentDocument.getElementsByTagName(\"body\")[0];\n    syncAttributes(parentBody, doc.body);\n    Promise.all(\n      collectedStyles.map((styleNode, i) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(void 0, null, function* () {\n        if (styleNode.nodeName === \"LINK\") {\n          const linkHref = styleNode.href;\n          if (hrefs.indexOf(linkHref) > -1) {\n            return;\n          }\n          hrefs.push(linkHref);\n        }\n        const mirror = yield mirrorEl(styleNode);\n        if (!mirror) return;\n        elements.push({ original: styleNode, mirror });\n        return mirror;\n      }))\n    ).then((mirrorStyles) => {\n      const filtered = mirrorStyles.filter(\n        (el) => typeof el !== \"undefined\"\n      );\n      filtered.forEach((mirror) => {\n        mirror.onload = () => {\n          stylesLoaded = stylesLoaded + 1;\n          if (stylesLoaded >= elements.length) {\n            onStylesLoaded();\n          }\n        };\n        mirror.onerror = () => {\n          console.warn(`AutoFrame couldn't load a stylesheet`);\n          stylesLoaded = stylesLoaded + 1;\n          if (stylesLoaded >= elements.length) {\n            onStylesLoaded();\n          }\n        };\n      });\n      doc.head.innerHTML = \"\";\n      doc.head.append(...filtered);\n      observer.observe(parentDocument.head, { childList: true, subtree: true });\n      filtered.forEach((el) => {\n        const elHash = object_hash__WEBPACK_IMPORTED_MODULE_17__(el.outerHTML);\n        hashes[elHash] = true;\n      });\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children });\n};\nvar autoFrameContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({});\nvar useFrame = () => (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(autoFrameContext);\nfunction AutoFrame(_a) {\n  var _b = _a, {\n    children,\n    className,\n    debug,\n    id,\n    onReady = () => {\n    },\n    onNotReady = () => {\n    },\n    frameRef\n  } = _b, props = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__objRest)(_b, [\n    \"children\",\n    \"className\",\n    \"debug\",\n    \"id\",\n    \"onReady\",\n    \"onNotReady\",\n    \"frameRef\"\n  ]);\n  const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [ctx, setCtx] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n  const [mountTarget, setMountTarget] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [stylesLoaded, setStylesLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    var _a2;\n    if (frameRef.current) {\n      const doc = frameRef.current.contentDocument;\n      const win = frameRef.current.contentWindow;\n      setCtx({\n        document: doc || void 0,\n        window: win || void 0\n      });\n      setMountTarget(\n        (_a2 = frameRef.current.contentDocument) == null ? void 0 : _a2.getElementById(\"frame-root\")\n      );\n      if (doc && win && stylesLoaded) {\n        onReady();\n      } else {\n        onNotReady();\n      }\n    }\n  }, [frameRef, loaded, stylesLoaded]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"iframe\",\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), {\n      className,\n      id,\n      srcDoc: '<!DOCTYPE html><html><head></head><body><div id=\"frame-root\" data-puck-entry></div></body></html>',\n      ref: frameRef,\n      onLoad: () => {\n        setLoaded(true);\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(autoFrameContext.Provider, { value: ctx, children: loaded && mountTarget && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        CopyHostStyles,\n        {\n          debug,\n          onStylesLoaded: () => setStylesLoaded(true),\n          children: (0,react_dom__WEBPACK_IMPORTED_MODULE_13__.createPortal)(children, mountTarget)\n        }\n      ) })\n    })\n  );\n}\nAutoFrame.displayName = \"AutoFrame\";\nvar AutoFrame_default = AutoFrame;\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Preview/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default18 = { \"PuckPreview\": \"_PuckPreview_z2rgu_1\", \"PuckPreview-frame\": \"_PuckPreview-frame_z2rgu_6\" };\n\n// components/Puck/components/Preview/index.tsx\n\nvar getClassName23 = get_class_name_factory_default(\"PuckPreview\", styles_module_default18);\nvar useBubbleIframeEvents = (ref) => {\n  const status = useAppStore((s) => s.status);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (ref.current && status === \"READY\") {\n      const iframe = ref.current;\n      const handlePointerMove = (event) => {\n        const evt = new BubbledPointerEvent(\"pointermove\", (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, event), {\n          bubbles: true,\n          cancelable: false,\n          clientX: event.clientX,\n          clientY: event.clientY,\n          originalTarget: event.target\n        }));\n        iframe.dispatchEvent(evt);\n      };\n      const register = () => {\n        var _a;\n        unregister();\n        (_a = iframe.contentDocument) == null ? void 0 : _a.addEventListener(\n          \"pointermove\",\n          handlePointerMove,\n          {\n            capture: true\n          }\n        );\n      };\n      const unregister = () => {\n        var _a;\n        (_a = iframe.contentDocument) == null ? void 0 : _a.removeEventListener(\n          \"pointermove\",\n          handlePointerMove\n        );\n      };\n      register();\n      return () => {\n        unregister();\n      };\n    }\n  }, [status]);\n};\nvar Preview2 = ({ id = \"puck-preview\" }) => {\n  const dispatch = useAppStore((s) => s.dispatch);\n  const root = useAppStore((s) => s.state.data.root);\n  const config = useAppStore((s) => s.config);\n  const setStatus = useAppStore((s) => s.setStatus);\n  const iframe = useAppStore((s) => s.iframe);\n  const overrides = useAppStore((s) => s.overrides);\n  const metadata = useAppStore((s) => s.metadata);\n  const renderData = useAppStore(\n    (s) => s.state.ui.previewMode === \"edit\" ? null : s.state.data\n  );\n  const Page = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (pageProps) => {\n      var _a, _b;\n      const propsWithSlots = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.useSlots)(\n        config,\n        { type: \"root\", props: pageProps },\n        DropZoneEditPure\n      );\n      return ((_a = config.root) == null ? void 0 : _a.render) ? (_b = config.root) == null ? void 0 : _b.render((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n        id: \"puck-root\"\n      }, propsWithSlots)) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: propsWithSlots.children });\n    },\n    [config]\n  );\n  const Frame = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => overrides.iframe, [overrides]);\n  const rootProps = root.props || root;\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  useBubbleIframeEvents(ref);\n  const inner = !renderData ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Page,\n    (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, rootProps), {\n      puck: {\n        renderDropZone: DropZonePure,\n        isEditing: true,\n        dragRef: null,\n        metadata\n      },\n      editMode: true,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DropZonePure, { zone: _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId })\n    })\n  ) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Render, { data: renderData, config, metadata });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!iframe.enabled) {\n      setStatus(\"READY\");\n    }\n  }, [iframe.enabled]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      className: getClassName23(),\n      id,\n      \"data-puck-preview\": true,\n      onClick: (e) => {\n        const el = e.target;\n        if (!el.hasAttribute(\"data-puck-component\") && !el.hasAttribute(\"data-puck-dropzone\")) {\n          dispatch({ type: \"setUi\", ui: { itemSelector: null } });\n        }\n      },\n      children: iframe.enabled ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        AutoFrame_default,\n        {\n          id: \"preview-frame\",\n          className: getClassName23(\"frame\"),\n          \"data-rfd-iframe\": true,\n          onReady: () => {\n            setStatus(\"READY\");\n          },\n          onNotReady: () => {\n            setStatus(\"MOUNTED\");\n          },\n          frameRef: ref,\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(autoFrameContext.Consumer, { children: ({ document: document2 }) => {\n            if (Frame) {\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Frame, { document: document2, children: inner });\n            }\n            return inner;\n          } })\n        }\n      ) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"div\",\n        {\n          id: \"preview-frame\",\n          className: getClassName23(\"frame\"),\n          ref,\n          \"data-puck-entry\": true,\n          children: inner\n        }\n      )\n    }\n  );\n};\n\n// components/Puck/components/Outline/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// components/LayerTree/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/LayerTree/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default19 = { \"LayerTree\": \"_LayerTree_7rx04_1\", \"LayerTree-zoneTitle\": \"_LayerTree-zoneTitle_7rx04_11\", \"LayerTree-helper\": \"_LayerTree-helper_7rx04_17\", \"Layer\": \"_Layer_7rx04_1\", \"Layer-inner\": \"_Layer-inner_7rx04_29\", \"Layer--containsZone\": \"_Layer--containsZone_7rx04_35\", \"Layer-clickable\": \"_Layer-clickable_7rx04_39\", \"Layer--isSelected\": \"_Layer--isSelected_7rx04_61\", \"Layer-chevron\": \"_Layer-chevron_7rx04_77\", \"Layer--childIsSelected\": \"_Layer--childIsSelected_7rx04_78\", \"Layer-zones\": \"_Layer-zones_7rx04_82\", \"Layer-title\": \"_Layer-title_7rx04_96\", \"Layer-name\": \"_Layer-name_7rx04_105\", \"Layer-icon\": \"_Layer-icon_7rx04_111\", \"Layer-zoneIcon\": \"_Layer-zoneIcon_7rx04_116\" };\n\n// lib/scroll-into-view.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar scrollIntoView = (el) => {\n  const oldStyle = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, el.style);\n  el.style.scrollMargin = \"256px\";\n  if (el) {\n    el == null ? void 0 : el.scrollIntoView({ behavior: \"smooth\" });\n    el.style.scrollMargin = oldStyle.scrollMargin || \"\";\n  }\n};\n\n// components/LayerTree/index.tsx\n\n\n// lib/on-scroll-end.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar onScrollEnd = (frame, cb) => {\n  let scrollTimeout;\n  const callback = function() {\n    clearTimeout(scrollTimeout);\n    scrollTimeout = setTimeout(function() {\n      cb();\n      frame == null ? void 0 : frame.removeEventListener(\"scroll\", callback);\n    }, 50);\n  };\n  frame == null ? void 0 : frame.addEventListener(\"scroll\", callback);\n  setTimeout(() => {\n    if (!scrollTimeout) {\n      cb();\n    }\n  }, 50);\n};\n\n// components/LayerTree/index.tsx\n\n\nvar getClassName24 = get_class_name_factory_default(\"LayerTree\", styles_module_default19);\nvar getClassNameLayer = get_class_name_factory_default(\"Layer\", styles_module_default19);\nvar Layer = ({\n  index,\n  itemId,\n  zoneCompound\n}) => {\n  var _a;\n  const config = useAppStore((s) => s.config);\n  const itemSelector = useAppStore((s) => s.state.ui.itemSelector);\n  const dispatch = useAppStore((s) => s.dispatch);\n  const setItemSelector = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (itemSelector2) => {\n      dispatch({ type: \"setUi\", ui: { itemSelector: itemSelector2 } });\n    },\n    [dispatch]\n  );\n  const selecedItemId = useAppStore((s) => {\n    var _a2;\n    return (_a2 = s.selectedItem) == null ? void 0 : _a2.props.id;\n  });\n  const isSelected = selecedItemId === itemId || itemSelector && itemSelector.zone === _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId && !zoneCompound;\n  const nodeData = useAppStore((s) => s.state.indexes.nodes[itemId]);\n  const zonesForItem = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)(\n      (s) => Object.keys(s.state.indexes.zones).filter(\n        (z) => z.split(\":\")[0] === itemId\n      )\n    )\n  );\n  const containsZone = zonesForItem.length > 0;\n  const zoneStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(ZoneStoreContext);\n  const isHovering = useContextStore(\n    ZoneStoreContext,\n    (s) => s.hoveringComponent === itemId\n  );\n  const childIsSelected = useAppStore((s) => {\n    var _a2, _b;\n    const selectedData = s.state.indexes.nodes[(_a2 = s.selectedItem) == null ? void 0 : _a2.props.id];\n    return (_b = selectedData == null ? void 0 : selectedData.path.some((candidate) => {\n      const [candidateId] = candidate.split(\":\");\n      return candidateId === itemId;\n    })) != null ? _b : false;\n  });\n  const componentConfig = config.components[nodeData.data.type];\n  const label = (_a = componentConfig == null ? void 0 : componentConfig[\"label\"]) != null ? _a : nodeData.data.type.toString();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"li\",\n    {\n      className: getClassNameLayer({\n        isSelected,\n        isHovering,\n        containsZone,\n        childIsSelected\n      }),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameLayer(\"inner\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n          \"button\",\n          {\n            type: \"button\",\n            className: getClassNameLayer(\"clickable\"),\n            onClick: () => {\n              if (isSelected) {\n                setItemSelector(null);\n                return;\n              }\n              const frame = getFrame();\n              const el = frame == null ? void 0 : frame.querySelector(\n                `[data-puck-component=\"${itemId}\"]`\n              );\n              if (!el) {\n                setItemSelector({\n                  index,\n                  zone: zoneCompound\n                });\n                return;\n              }\n              scrollIntoView(el);\n              onScrollEnd(frame, () => {\n                setItemSelector({\n                  index,\n                  zone: zoneCompound\n                });\n              });\n            },\n            onMouseEnter: (e) => {\n              e.stopPropagation();\n              zoneStore.setState({ hoveringComponent: itemId });\n            },\n            onMouseLeave: (e) => {\n              e.stopPropagation();\n              zoneStore.setState({ hoveringComponent: null });\n            },\n            children: [\n              containsZone && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                \"div\",\n                {\n                  className: getClassNameLayer(\"chevron\"),\n                  title: isSelected ? \"Collapse\" : \"Expand\",\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChevronDown, { size: \"12\" })\n                }\n              ),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassNameLayer(\"title\"), children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameLayer(\"icon\"), children: nodeData.data.type === \"Text\" || nodeData.data.type === \"Heading\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Type, { size: \"16\" }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LayoutGrid, { size: \"16\" }) }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameLayer(\"name\"), children: label })\n              ] })\n            ]\n          }\n        ) }),\n        containsZone && zonesForItem.map((subzone) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassNameLayer(\"zones\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LayerTree, { zoneCompound: subzone }) }, subzone))\n      ]\n    }\n  );\n};\nvar LayerTree = ({\n  label: _label,\n  zoneCompound\n}) => {\n  const label = useAppStore((s) => {\n    var _a, _b, _c, _d;\n    if (_label) return _label;\n    if (zoneCompound === _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootDroppableId) return;\n    const [componentId, slotId] = zoneCompound.split(\":\");\n    const componentType = (_a = s.state.indexes.nodes[componentId]) == null ? void 0 : _a.data.type;\n    const configForComponent = componentType && componentType !== _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.rootAreaId ? s.config.components[componentType] : s.config.root;\n    return (_d = (_c = (_b = configForComponent == null ? void 0 : configForComponent.fields) == null ? void 0 : _b[slotId]) == null ? void 0 : _c.label) != null ? _d : slotId;\n  });\n  const contentIds = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)(\n      (s) => {\n        var _a, _b;\n        return zoneCompound ? (_b = (_a = s.state.indexes.zones[zoneCompound]) == null ? void 0 : _a.contentIds) != null ? _b : [] : [];\n      }\n    )\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n    label && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName24(\"zoneTitle\"), children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName24(\"zoneIcon\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Layers, { size: \"16\" }) }),\n      label\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"ul\", { className: getClassName24(), children: [\n      contentIds.length === 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName24(\"helper\"), children: \"No items\" }),\n      contentIds.map((itemId, i) => {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          Layer,\n          {\n            index: i,\n            itemId,\n            zoneCompound\n          },\n          itemId\n        );\n      })\n    ] })\n  ] });\n};\n\n// components/Puck/components/Outline/index.tsx\n\n\n// lib/data/find-zones-for-area.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar findZonesForArea = (state, area) => {\n  return Object.keys(state.indexes.zones).filter(\n    (zone) => zone.split(\":\")[0] === area\n  );\n};\n\n// components/Puck/components/Outline/index.tsx\n\n\nvar Outline = () => {\n  const outlineOverride = useAppStore((s) => s.overrides.outline);\n  const rootZones = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => findZonesForArea(s.state, \"root\"))\n  );\n  const Wrapper = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => outlineOverride || \"div\", [outlineOverride]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Wrapper, { children: rootZones.map((zoneCompound) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    LayerTree,\n    {\n      label: rootZones.length === 1 ? \"\" : zoneCompound.split(\":\")[1],\n      zoneCompound\n    },\n    zoneCompound\n  )) });\n};\n\n// components/Puck/components/Canvas/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// components/ViewportControls/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/ViewportControls/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default20 = { \"ViewportControls\": \"_ViewportControls_gejzr_1\", \"ViewportControls-divider\": \"_ViewportControls-divider_gejzr_15\", \"ViewportControls-zoomSelect\": \"_ViewportControls-zoomSelect_gejzr_21\", \"ViewportButton--isActive\": \"_ViewportButton--isActive_gejzr_38\", \"ViewportButton-inner\": \"_ViewportButton-inner_gejzr_38\" };\n\n// components/ViewportControls/index.tsx\n\nvar icons = {\n  Smartphone: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Smartphone, { size: 16 }),\n  Tablet: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Tablet, { size: 16 }),\n  Monitor: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Monitor, { size: 16 })\n};\nvar getClassName25 = get_class_name_factory_default(\"ViewportControls\", styles_module_default20);\nvar getClassNameButton = get_class_name_factory_default(\"ViewportButton\", styles_module_default20);\nvar ViewportButton = ({\n  children,\n  height = \"auto\",\n  title,\n  width,\n  onClick\n}) => {\n  const viewports = useAppStore((s) => s.state.ui.viewports);\n  const [isActive, setIsActive] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setIsActive(width === viewports.current.width);\n  }, [width, viewports.current.width]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { className: getClassNameButton({ isActive }), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    IconButton,\n    {\n      type: \"button\",\n      title,\n      disabled: isActive,\n      onClick: (e) => {\n        e.stopPropagation();\n        onClick({ width, height });\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { className: getClassNameButton(\"inner\"), children })\n    }\n  ) });\n};\nvar defaultZoomOptions = [\n  { label: \"25%\", value: 0.25 },\n  { label: \"50%\", value: 0.5 },\n  { label: \"75%\", value: 0.75 },\n  { label: \"100%\", value: 1 },\n  { label: \"125%\", value: 1.25 },\n  { label: \"150%\", value: 1.5 },\n  { label: \"200%\", value: 2 }\n];\nvar ViewportControls = ({\n  autoZoom,\n  zoom,\n  onViewportChange,\n  onZoom\n}) => {\n  var _a, _b;\n  const viewports = useAppStore((s) => s.viewports);\n  const defaultsContainAutoZoom = defaultZoomOptions.find(\n    (option) => option.value === autoZoom\n  );\n  const zoomOptions = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => [\n      ...defaultZoomOptions,\n      ...defaultsContainAutoZoom ? [] : [\n        {\n          value: autoZoom,\n          label: `${(autoZoom * 100).toFixed(0)}% (Auto)`\n        }\n      ]\n    ].filter((a) => a.value <= autoZoom).sort((a, b) => a.value > b.value ? 1 : -1),\n    [autoZoom]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName25(), children: [\n    viewports.map((viewport, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      ViewportButton,\n      {\n        height: viewport.height,\n        width: viewport.width,\n        title: viewport.label ? `Switch to ${viewport.label} viewport` : \"Switch viewport\",\n        onClick: onViewportChange,\n        children: typeof viewport.icon === \"string\" ? icons[viewport.icon] || viewport.icon : viewport.icon || icons.Smartphone\n      },\n      i\n    )),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName25(\"divider\") }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      IconButton,\n      {\n        type: \"button\",\n        title: \"Zoom viewport out\",\n        disabled: zoom <= ((_a = zoomOptions[0]) == null ? void 0 : _a.value),\n        onClick: (e) => {\n          e.stopPropagation();\n          onZoom(\n            zoomOptions[Math.max(\n              zoomOptions.findIndex((option) => option.value === zoom) - 1,\n              0\n            )].value\n          );\n        },\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ZoomOut, { size: 16 })\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      IconButton,\n      {\n        type: \"button\",\n        title: \"Zoom viewport in\",\n        disabled: zoom >= ((_b = zoomOptions[zoomOptions.length - 1]) == null ? void 0 : _b.value),\n        onClick: (e) => {\n          e.stopPropagation();\n          onZoom(\n            zoomOptions[Math.min(\n              zoomOptions.findIndex((option) => option.value === zoom) + 1,\n              zoomOptions.length - 1\n            )].value\n          );\n        },\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ZoomIn, { size: 16 })\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName25(\"divider\") }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"select\",\n      {\n        className: getClassName25(\"zoomSelect\"),\n        value: zoom.toString(),\n        onClick: (e) => {\n          e.stopPropagation();\n        },\n        onChange: (e) => {\n          onZoom(parseFloat(e.currentTarget.value));\n        },\n        children: zoomOptions.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"option\",\n          {\n            value: option.value,\n            label: option.label\n          },\n          option.label\n        ))\n      }\n    )\n  ] });\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Canvas/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default21 = { \"PuckCanvas\": \"_PuckCanvas_18jay_1\", \"PuckCanvas-controls\": \"_PuckCanvas-controls_18jay_16\", \"PuckCanvas-inner\": \"_PuckCanvas-inner_18jay_21\", \"PuckCanvas-root\": \"_PuckCanvas-root_18jay_30\", \"PuckCanvas--ready\": \"_PuckCanvas--ready_18jay_55\", \"PuckCanvas-loader\": \"_PuckCanvas-loader_18jay_60\", \"PuckCanvas--showLoader\": \"_PuckCanvas--showLoader_18jay_70\" };\n\n// components/Puck/components/Canvas/index.tsx\n\n\n// lib/frame-context.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\nvar FrameContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)(null);\nvar FrameProvider = ({\n  children\n}) => {\n  const frameRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const value = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => ({\n      frameRef\n    }),\n    []\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FrameContext.Provider, { value, children });\n};\nvar useCanvasFrame = () => {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(FrameContext);\n  if (context === null) {\n    throw new Error(\"useCanvasFrame must be used within a FrameProvider\");\n  }\n  return context;\n};\n\n// components/Puck/components/Canvas/index.tsx\n\nvar getClassName26 = get_class_name_factory_default(\"PuckCanvas\", styles_module_default21);\nvar ZOOM_ON_CHANGE = true;\nvar TRANSITION_DURATION = 150;\nvar Canvas = () => {\n  const { frameRef } = useCanvasFrame();\n  const resetAutoZoom = useResetAutoZoom(frameRef);\n  const {\n    dispatch,\n    overrides,\n    setUi,\n    zoomConfig,\n    setZoomConfig,\n    status,\n    iframe\n  } = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => ({\n      dispatch: s.dispatch,\n      overrides: s.overrides,\n      setUi: s.setUi,\n      zoomConfig: s.zoomConfig,\n      setZoomConfig: s.setZoomConfig,\n      status: s.status,\n      iframe: s.iframe\n    }))\n  );\n  const {\n    leftSideBarVisible,\n    rightSideBarVisible,\n    leftSideBarWidth,\n    rightSideBarWidth,\n    viewports\n  } = useAppStore(\n    (0,zustand_react_shallow__WEBPACK_IMPORTED_MODULE_14__.useShallow)((s) => ({\n      leftSideBarVisible: s.state.ui.leftSideBarVisible,\n      rightSideBarVisible: s.state.ui.rightSideBarVisible,\n      leftSideBarWidth: s.state.ui.leftSideBarWidth,\n      rightSideBarWidth: s.state.ui.rightSideBarWidth,\n      viewports: s.state.ui.viewports\n    }))\n  );\n  const [showTransition, setShowTransition] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const isResizingRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  const defaultRender = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const PuckDefault = ({ children }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children });\n    return PuckDefault;\n  }, []);\n  const CustomPreview = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => overrides.preview || defaultRender,\n    [overrides]\n  );\n  const getFrameDimensions = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    if (frameRef.current) {\n      const frame = frameRef.current;\n      const box = getBox(frame);\n      return { width: box.contentBox.width, height: box.contentBox.height };\n    }\n    return { width: 0, height: 0 };\n  }, [frameRef]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    resetAutoZoom();\n  }, [\n    frameRef,\n    leftSideBarVisible,\n    rightSideBarVisible,\n    leftSideBarWidth,\n    rightSideBarWidth,\n    viewports\n  ]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const { height: frameHeight } = getFrameDimensions();\n    if (viewports.current.height === \"auto\") {\n      setZoomConfig((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, zoomConfig), {\n        rootHeight: frameHeight / zoomConfig.zoom\n      }));\n    }\n  }, [zoomConfig.zoom, getFrameDimensions, setZoomConfig]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (ZOOM_ON_CHANGE) {\n      resetAutoZoom();\n    }\n  }, [viewports.current.width, viewports]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!frameRef.current) return;\n    const resizeObserver = new ResizeObserver(() => {\n      if (!isResizingRef.current) {\n        resetAutoZoom();\n      }\n    });\n    resizeObserver.observe(frameRef.current);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [frameRef.current]);\n  const [showLoader, setShowLoader] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setTimeout(() => {\n      setShowLoader(true);\n    }, 500);\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      className: getClassName26({\n        ready: status === \"READY\" || !iframe.enabled || !iframe.waitForStyles,\n        showLoader\n      }),\n      onClick: (e) => {\n        const el = e.target;\n        if (!el.hasAttribute(\"data-puck-component\") && !el.hasAttribute(\"data-puck-dropzone\")) {\n          dispatch({\n            type: \"setUi\",\n            ui: { itemSelector: null },\n            recordHistory: true\n          });\n        }\n      },\n      children: [\n        viewports.controlsVisible && iframe.enabled && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName26(\"controls\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          ViewportControls,\n          {\n            autoZoom: zoomConfig.autoZoom,\n            zoom: zoomConfig.zoom,\n            onViewportChange: (viewport) => {\n              setShowTransition(true);\n              isResizingRef.current = true;\n              const uiViewport = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, viewport), {\n                height: viewport.height || \"auto\",\n                zoom: zoomConfig.zoom\n              });\n              const newUi = {\n                viewports: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, viewports), { current: uiViewport })\n              };\n              setUi(newUi);\n              if (ZOOM_ON_CHANGE) {\n                resetAutoZoom({\n                  viewports: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, viewports), { current: uiViewport })\n                });\n              }\n            },\n            onZoom: (zoom) => {\n              setShowTransition(true);\n              isResizingRef.current = true;\n              setZoomConfig((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, zoomConfig), { zoom }));\n            }\n          }\n        ) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName26(\"inner\"), ref: frameRef, children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"div\",\n            {\n              className: getClassName26(\"root\"),\n              style: {\n                width: iframe.enabled ? viewports.current.width : \"100%\",\n                height: zoomConfig.rootHeight,\n                transform: iframe.enabled ? `scale(${zoomConfig.zoom})` : void 0,\n                transition: showTransition ? `width ${TRANSITION_DURATION}ms ease-out, height ${TRANSITION_DURATION}ms ease-out, transform ${TRANSITION_DURATION}ms ease-out` : \"\",\n                overflow: iframe.enabled ? void 0 : \"auto\"\n              },\n              suppressHydrationWarning: true,\n              id: \"puck-canvas-root\",\n              onTransitionEnd: () => {\n                setShowTransition(false);\n                isResizingRef.current = false;\n              },\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CustomPreview, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Preview2, {}) })\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName26(\"loader\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Loader, { size: 24 }) })\n        ] })\n      ]\n    }\n  );\n};\n\n// lib/use-loaded-overrides.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// lib/load-overrides.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar loadOverrides = ({\n  overrides,\n  plugins\n}) => {\n  const collected = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, overrides);\n  plugins == null ? void 0 : plugins.forEach((plugin) => {\n    if (!plugin.overrides) return;\n    Object.keys(plugin.overrides).forEach((_overridesType) => {\n      var _a;\n      const overridesType = _overridesType;\n      if (!((_a = plugin.overrides) == null ? void 0 : _a[overridesType])) return;\n      if (overridesType === \"fieldTypes\") {\n        const fieldTypes = plugin.overrides.fieldTypes;\n        Object.keys(fieldTypes).forEach((fieldType) => {\n          collected.fieldTypes = collected.fieldTypes || {};\n          const childNode2 = collected.fieldTypes[fieldType];\n          const Comp2 = (props) => fieldTypes[fieldType]((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), {\n            children: childNode2 ? childNode2(props) : props.children\n          }));\n          collected.fieldTypes[fieldType] = Comp2;\n        });\n        return;\n      }\n      const childNode = collected[overridesType];\n      const Comp = (props) => plugin.overrides[overridesType]((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), {\n        children: childNode ? childNode(props) : props.children\n      }));\n      collected[overridesType] = Comp;\n    });\n  });\n  return collected;\n};\n\n// lib/use-loaded-overrides.ts\nvar useLoadedOverrides = ({\n  overrides,\n  plugins\n}) => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    return loadOverrides({ overrides, plugins });\n  }, [plugins, overrides]);\n};\n\n// components/DefaultOverride/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar DefaultOverride = ({ children }) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children });\n\n// lib/use-inject-css.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar styles = ``;\nvar useInjectStyleSheet = (initialStyles, iframeEnabled) => {\n  const [el, setEl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setEl(document.createElement(\"style\"));\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    var _a;\n    if (!el || typeof window === \"undefined\") {\n      return;\n    }\n    el.innerHTML = initialStyles;\n    if (iframeEnabled) {\n      const frame = getFrame();\n      (_a = frame == null ? void 0 : frame.head) == null ? void 0 : _a.appendChild(el);\n    }\n    document.head.appendChild(el);\n  }, [iframeEnabled, el]);\n  return el;\n};\nvar useInjectGlobalCss = (iframeEnabled) => {\n  return useInjectStyleSheet(styles, iframeEnabled);\n};\n\n// lib/use-preview-mode-hotkeys.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nvar usePreviewModeHotkeys = () => {\n  const appStore = useAppStoreApi();\n  const toggleInteractive = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    const dispatch = appStore.getState().dispatch;\n    dispatch({\n      type: \"setUi\",\n      ui: (ui) => ({\n        previewMode: ui.previewMode === \"edit\" ? \"interactive\" : \"edit\"\n      })\n    });\n  }, [appStore]);\n  useHotkey({ meta: true, i: true }, toggleInteractive);\n  useHotkey({ ctrl: true, i: true }, toggleInteractive);\n};\n\n// components/Puck/index.tsx\n\n\n// components/Puck/components/Header/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// components/MenuBar/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/MenuBar/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default22 = { \"MenuBar\": \"_MenuBar_8pf8c_1\", \"MenuBar--menuOpen\": \"_MenuBar--menuOpen_8pf8c_14\", \"MenuBar-inner\": \"_MenuBar-inner_8pf8c_29\", \"MenuBar-history\": \"_MenuBar-history_8pf8c_45\" };\n\n// components/MenuBar/index.tsx\n\nvar getClassName27 = get_class_name_factory_default(\"MenuBar\", styles_module_default22);\nfunction MenuBar({\n  menuOpen = false,\n  renderHeaderActions,\n  setMenuOpen\n}) {\n  const back = useAppStore((s) => s.history.back);\n  const forward = useAppStore((s) => s.history.forward);\n  const hasFuture = useAppStore((s) => s.history.hasFuture());\n  const hasPast = useAppStore((s) => s.history.hasPast());\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      className: getClassName27({ menuOpen }),\n      onClick: (event) => {\n        var _a;\n        const element = event.target;\n        if (window.matchMedia(\"(min-width: 638px)\").matches) {\n          return;\n        }\n        if (element.tagName === \"A\" && ((_a = element.getAttribute(\"href\")) == null ? void 0 : _a.startsWith(\"#\"))) {\n          setMenuOpen(false);\n        }\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName27(\"inner\"), children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName27(\"history\"), children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            IconButton,\n            {\n              type: \"button\",\n              title: \"undo\",\n              disabled: !hasPast,\n              onClick: back,\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Undo2, { size: 21 })\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            IconButton,\n            {\n              type: \"button\",\n              title: \"redo\",\n              disabled: !hasFuture,\n              onClick: forward,\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Redo2, { size: 21 })\n            }\n          )\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: renderHeaderActions && renderHeaderActions() })\n      ] })\n    }\n  );\n}\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Header/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default23 = { \"PuckHeader\": \"_PuckHeader_15xnq_1\", \"PuckHeader-inner\": \"_PuckHeader-inner_15xnq_10\", \"PuckHeader-toggle\": \"_PuckHeader-toggle_15xnq_20\", \"PuckHeader--rightSideBarVisible\": \"_PuckHeader--rightSideBarVisible_15xnq_27\", \"PuckHeader-rightSideBarToggle\": \"_PuckHeader-rightSideBarToggle_15xnq_27\", \"PuckHeader--leftSideBarVisible\": \"_PuckHeader--leftSideBarVisible_15xnq_28\", \"PuckHeader-leftSideBarToggle\": \"_PuckHeader-leftSideBarToggle_15xnq_28\", \"PuckHeader-title\": \"_PuckHeader-title_15xnq_32\", \"PuckHeader-path\": \"_PuckHeader-path_15xnq_36\", \"PuckHeader-tools\": \"_PuckHeader-tools_15xnq_43\", \"PuckHeader-menuButton\": \"_PuckHeader-menuButton_15xnq_49\", \"PuckHeader--menuOpen\": \"_PuckHeader--menuOpen_15xnq_54\" };\n\n// components/Puck/components/Header/index.tsx\n\nvar getClassName28 = get_class_name_factory_default(\"PuckHeader\", styles_module_default23);\nvar HeaderInner = () => {\n  const {\n    onPublish,\n    renderHeader,\n    renderHeaderActions,\n    headerTitle,\n    headerPath,\n    iframe: _iframe\n  } = usePropsContext();\n  const dispatch = useAppStore((s) => s.dispatch);\n  const appStore = useAppStoreApi();\n  const defaultHeaderRender = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (renderHeader) {\n      console.warn(\n        \"`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead\"\n      );\n      const RenderHeader = (_a) => {\n        var _b = _a, { actions } = _b, props = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__objRest)(_b, [\"actions\"]);\n        const Comp = renderHeader;\n        const appState = useAppStore((s) => s.state);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Comp, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { dispatch, state: appState, children: actions }));\n      };\n      return RenderHeader;\n    }\n    return DefaultOverride;\n  }, [renderHeader]);\n  const defaultHeaderActionsRender = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (renderHeaderActions) {\n      console.warn(\n        \"`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead.\"\n      );\n      const RenderHeader = (props) => {\n        const Comp = renderHeaderActions;\n        const appState = useAppStore((s) => s.state);\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Comp, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { dispatch, state: appState }));\n      };\n      return RenderHeader;\n    }\n    return DefaultOverride;\n  }, [renderHeaderActions]);\n  const CustomHeader = useAppStore(\n    (s) => s.overrides.header || defaultHeaderRender\n  );\n  const CustomHeaderActions = useAppStore(\n    (s) => s.overrides.headerActions || defaultHeaderActionsRender\n  );\n  const [menuOpen, setMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const rootTitle = useAppStore((s) => {\n    var _a, _b;\n    const rootData = (_a = s.state.indexes.nodes[\"root\"]) == null ? void 0 : _a.data;\n    return (_b = rootData.props.title) != null ? _b : \"\";\n  });\n  const leftSideBarVisible = useAppStore((s) => s.state.ui.leftSideBarVisible);\n  const rightSideBarVisible = useAppStore(\n    (s) => s.state.ui.rightSideBarVisible\n  );\n  const toggleSidebars = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (sidebar) => {\n      const widerViewport = window.matchMedia(\"(min-width: 638px)\").matches;\n      const sideBarVisible = sidebar === \"left\" ? leftSideBarVisible : rightSideBarVisible;\n      const oppositeSideBar = sidebar === \"left\" ? \"rightSideBarVisible\" : \"leftSideBarVisible\";\n      dispatch({\n        type: \"setUi\",\n        ui: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n          [`${sidebar}SideBarVisible`]: !sideBarVisible\n        }, !widerViewport ? { [oppositeSideBar]: false } : {})\n      });\n    },\n    [dispatch, leftSideBarVisible, rightSideBarVisible]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    CustomHeader,\n    {\n      actions: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CustomHeaderActions, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        Button,\n        {\n          onClick: () => {\n            const data = appStore.getState().state.data;\n            onPublish && onPublish(data);\n          },\n          icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Globe, { size: \"14px\" }),\n          children: \"Publish\"\n        }\n      ) }) }),\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"header\",\n        {\n          className: getClassName28({ leftSideBarVisible, rightSideBarVisible }),\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName28(\"inner\"), children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName28(\"toggle\"), children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName28(\"leftSideBarToggle\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                IconButton,\n                {\n                  type: \"button\",\n                  onClick: () => {\n                    toggleSidebars(\"left\");\n                  },\n                  title: \"Toggle left sidebar\",\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PanelLeft, { focusable: \"false\" })\n                }\n              ) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName28(\"rightSideBarToggle\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                IconButton,\n                {\n                  type: \"button\",\n                  onClick: () => {\n                    toggleSidebars(\"right\");\n                  },\n                  title: \"Toggle right sidebar\",\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PanelRight, { focusable: \"false\" })\n                }\n              ) })\n            ] }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName28(\"title\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(Heading, { rank: \"2\", size: \"xs\", children: [\n              headerTitle || rootTitle || \"Page\",\n              headerPath && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n                \" \",\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"code\", { className: getClassName28(\"path\"), children: headerPath })\n              ] })\n            ] }) }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: getClassName28(\"tools\"), children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: getClassName28(\"menuButton\"), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                IconButton,\n                {\n                  type: \"button\",\n                  onClick: () => {\n                    return setMenuOpen(!menuOpen);\n                  },\n                  title: \"Toggle menu bar\",\n                  children: menuOpen ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChevronUp, { focusable: \"false\" }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChevronDown, { focusable: \"false\" })\n                }\n              ) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                MenuBar,\n                {\n                  dispatch,\n                  onPublish,\n                  menuOpen,\n                  renderHeaderActions: () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CustomHeaderActions, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    Button,\n                    {\n                      onClick: () => {\n                        const data = appStore.getState().state.data;\n                        onPublish && onPublish(data);\n                      },\n                      icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Globe, { size: \"14px\" }),\n                      children: \"Publish\"\n                    }\n                  ) }),\n                  setMenuOpen\n                }\n              )\n            ] })\n          ] })\n        }\n      )\n    }\n  );\n};\nvar Header = (0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(HeaderInner);\n\n// components/Puck/components/Sidebar/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// components/Puck/components/ResizeHandle/index.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/ResizeHandle/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default24 = { \"ResizeHandle\": \"_ResizeHandle_144bf_2\", \"ResizeHandle--left\": \"_ResizeHandle--left_144bf_16\", \"ResizeHandle--right\": \"_ResizeHandle--right_144bf_20\" };\n\n// components/Puck/components/ResizeHandle/index.tsx\n\nvar getClassName29 = get_class_name_factory_default(\"ResizeHandle\", styles_module_default24);\nvar ResizeHandle = ({\n  position,\n  sidebarRef,\n  onResize,\n  onResizeEnd\n}) => {\n  const { frameRef } = useCanvasFrame();\n  const resetAutoZoom = useResetAutoZoom(frameRef);\n  const handleRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const isDragging = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n  const startX = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  const startWidth = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n  const handleMouseMove = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (e) => {\n      if (!isDragging.current) return;\n      const delta = e.clientX - startX.current;\n      const newWidth = position === \"left\" ? startWidth.current + delta : startWidth.current - delta;\n      const width = Math.max(192, newWidth);\n      onResize(width);\n      e.preventDefault();\n    },\n    [onResize, position]\n  );\n  const handleMouseUp = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(() => {\n    var _a;\n    if (!isDragging.current) return;\n    isDragging.current = false;\n    document.body.style.cursor = \"\";\n    document.body.style.userSelect = \"\";\n    const overlay = document.getElementById(\"resize-overlay\");\n    if (overlay) {\n      document.body.removeChild(overlay);\n    }\n    document.removeEventListener(\"mousemove\", handleMouseMove);\n    document.removeEventListener(\"mouseup\", handleMouseUp);\n    const finalWidth = ((_a = sidebarRef.current) == null ? void 0 : _a.getBoundingClientRect().width) || 0;\n    onResizeEnd(finalWidth);\n    resetAutoZoom();\n  }, [onResizeEnd]);\n  const handleMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (e) => {\n      var _a;\n      isDragging.current = true;\n      startX.current = e.clientX;\n      startWidth.current = ((_a = sidebarRef.current) == null ? void 0 : _a.getBoundingClientRect().width) || 0;\n      document.body.style.cursor = \"col-resize\";\n      document.body.style.userSelect = \"none\";\n      const overlay = document.createElement(\"div\");\n      overlay.id = \"resize-overlay\";\n      overlay.setAttribute(\"data-resize-overlay\", \"\");\n      document.body.appendChild(overlay);\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n      e.preventDefault();\n    },\n    [position, handleMouseMove, handleMouseUp]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      ref: handleRef,\n      className: getClassName29({ [position]: true }),\n      onMouseDown: handleMouseDown\n    }\n  );\n};\n\n// css-module:/home/runner/work/puck/puck/packages/core/components/Puck/components/Sidebar/styles.module.css#css-module\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\nvar styles_module_default25 = { \"Sidebar\": \"_Sidebar_1xksb_1\", \"Sidebar--left\": \"_Sidebar--left_1xksb_8\", \"Sidebar--right\": \"_Sidebar--right_1xksb_14\", \"Sidebar-resizeHandle\": \"_Sidebar-resizeHandle_1xksb_20\" };\n\n// components/Puck/components/Sidebar/index.tsx\n\nvar getClassName30 = get_class_name_factory_default(\"Sidebar\", styles_module_default25);\nvar Sidebar = ({\n  position,\n  sidebarRef,\n  isVisible,\n  onResize,\n  onResizeEnd,\n  children\n}) => {\n  if (!isVisible) return null;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { ref: sidebarRef, className: getClassName30({ [position]: true }), children }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: `${getClassName30(\"resizeHandle\")}`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      ResizeHandle,\n      {\n        position,\n        sidebarRef,\n        onResize,\n        onResizeEnd\n      }\n    ) })\n  ] });\n};\n\n// lib/use-sidebar-resize.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\nfunction useSidebarResize(position, dispatch) {\n  const [width, setWidth] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  const sidebarRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  const storeWidth = useAppStore(\n    (s) => position === \"left\" ? s.state.ui.leftSideBarWidth : s.state.ui.rightSideBarWidth\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (typeof window !== \"undefined\" && !storeWidth) {\n      try {\n        const savedWidths = localStorage.getItem(\"puck-sidebar-widths\");\n        if (savedWidths) {\n          const widths = JSON.parse(savedWidths);\n          const savedWidth = widths[position];\n          const key = position === \"left\" ? \"leftSideBarWidth\" : \"rightSideBarWidth\";\n          if (savedWidth) {\n            dispatch({\n              type: \"setUi\",\n              ui: {\n                [key]: savedWidth\n              }\n            });\n          }\n        }\n      } catch (error) {\n        console.error(\n          `Failed to load ${position} sidebar width from localStorage`,\n          error\n        );\n      }\n    }\n  }, [dispatch, position, storeWidth]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (storeWidth !== void 0) {\n      setWidth(storeWidth);\n    }\n  }, [storeWidth]);\n  const handleResizeEnd = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (width2) => {\n      dispatch({\n        type: \"setUi\",\n        ui: {\n          [position === \"left\" ? \"leftSideBarWidth\" : \"rightSideBarWidth\"]: width2\n        }\n      });\n      let widths = {};\n      try {\n        const savedWidths = localStorage.getItem(\"puck-sidebar-widths\");\n        widths = savedWidths ? JSON.parse(savedWidths) : {};\n      } catch (error) {\n        console.error(\n          `Failed to save ${position} sidebar width to localStorage`,\n          error\n        );\n      } finally {\n        localStorage.setItem(\n          \"puck-sidebar-widths\",\n          JSON.stringify((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, widths), {\n            [position]: width2\n          }))\n        );\n      }\n      window.dispatchEvent(\n        new CustomEvent(\"viewportchange\", {\n          bubbles: true,\n          cancelable: false\n        })\n      );\n    },\n    [dispatch, position]\n  );\n  return {\n    width,\n    setWidth,\n    sidebarRef,\n    handleResizeEnd\n  };\n}\n\n// components/Puck/index.tsx\n\nvar getClassName31 = get_class_name_factory_default(\"Puck\", styles_module_default15);\nvar getLayoutClassName = get_class_name_factory_default(\"PuckLayout\", styles_module_default15);\nvar FieldSideBar = () => {\n  const title = useAppStore(\n    (s) => {\n      var _a, _b;\n      return s.selectedItem ? (_b = (_a = s.config.components[s.selectedItem.type]) == null ? void 0 : _a[\"label\"]) != null ? _b : s.selectedItem.type.toString() : \"Page\";\n    }\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SidebarSection, { noPadding: true, noBorderTop: true, showBreadcrumbs: true, title, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Fields, {}) });\n};\nvar propsContext = (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({});\nfunction PropsProvider(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(propsContext.Provider, { value: props, children: props.children });\n}\nvar usePropsContext = () => (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(propsContext);\nfunction PuckProvider({ children }) {\n  const {\n    config,\n    data: initialData,\n    ui: initialUi,\n    onChange,\n    permissions = {},\n    plugins,\n    overrides,\n    viewports = _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultViewports,\n    iframe: _iframe,\n    initialHistory: _initialHistory,\n    metadata,\n    onAction,\n    fieldTransforms\n  } = usePropsContext();\n  const iframe = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n      enabled: true,\n      waitForStyles: true\n    }, _iframe),\n    [_iframe]\n  );\n  const [generatedAppState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const initial = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultAppState.ui), initialUi);\n    let clientUiState = {};\n    if (typeof window !== \"undefined\") {\n      if (window.matchMedia(\"(max-width: 638px)\").matches) {\n        clientUiState = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, clientUiState), {\n          leftSideBarVisible: false,\n          rightSideBarVisible: false\n        });\n      }\n      const viewportWidth = window.innerWidth;\n      const viewportDifferences = Object.entries(viewports).map(([key, value]) => ({\n        key,\n        diff: Math.abs(viewportWidth - value.width)\n      })).sort((a, b) => a.diff > b.diff ? 1 : -1);\n      const closestViewport = viewportDifferences[0].key;\n      if (iframe.enabled) {\n        clientUiState = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, clientUiState), {\n          viewports: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, initial.viewports), {\n            current: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, initial.viewports.current), {\n              height: ((_b = (_a = initialUi == null ? void 0 : initialUi.viewports) == null ? void 0 : _a.current) == null ? void 0 : _b.height) || ((_c = viewports[closestViewport]) == null ? void 0 : _c.height) || \"auto\",\n              width: ((_e = (_d = initialUi == null ? void 0 : initialUi.viewports) == null ? void 0 : _d.current) == null ? void 0 : _e.width) || ((_f = viewports[closestViewport]) == null ? void 0 : _f.width)\n            })\n          })\n        });\n      }\n    }\n    if (Object.keys((initialData == null ? void 0 : initialData.root) || {}).length > 0 && !((_g = initialData == null ? void 0 : initialData.root) == null ? void 0 : _g.props)) {\n      console.warn(\n        \"Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.\"\n      );\n    }\n    const rootProps = ((_h = initialData == null ? void 0 : initialData.root) == null ? void 0 : _h.props) || (initialData == null ? void 0 : initialData.root) || {};\n    const defaultedRootProps = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, (_i = config.root) == null ? void 0 : _i.defaultProps), rootProps);\n    const newAppState = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.defaultAppState), {\n      data: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, initialData), {\n        root: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, initialData == null ? void 0 : initialData.root), { props: defaultedRootProps }),\n        content: initialData.content || []\n      }),\n      ui: (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, initial), clientUiState), {\n        // Store categories under componentList on state to allow render functions and plugins to modify\n        componentList: config.categories ? Object.entries(config.categories).reduce(\n          (acc, [categoryName, category]) => {\n            return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, acc), {\n              [categoryName]: {\n                title: category.title,\n                components: category.components,\n                expanded: category.defaultExpanded,\n                visible: category.visible\n              }\n            });\n          },\n          {}\n        ) : {}\n      })\n    });\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(newAppState, config);\n  });\n  const { appendData = true } = _initialHistory || {};\n  const [blendedHistories] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    [\n      ...(_initialHistory == null ? void 0 : _initialHistory.histories) || [],\n      ...appendData ? [{ state: generatedAppState }] : []\n    ].map((history) => {\n      let newState = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, generatedAppState), history.state);\n      if (!history.state.indexes) {\n        newState = (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.walkAppState)(newState, config);\n      }\n      return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, history), {\n        state: newState\n      });\n    })\n  );\n  const initialHistoryIndex = (_initialHistory == null ? void 0 : _initialHistory.index) || blendedHistories.length - 1;\n  const initialAppState = blendedHistories[initialHistoryIndex].state;\n  const loadedOverrides = useLoadedOverrides({\n    overrides,\n    plugins\n  });\n  const loadedFieldTransforms = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const _plugins = plugins || [];\n    const pluginFieldTransforms = _plugins.reduce(\n      (acc, plugin) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, acc), plugin.fieldTransforms),\n      {}\n    );\n    return (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, pluginFieldTransforms), fieldTransforms);\n  }, [fieldTransforms, plugins]);\n  const generateAppStore = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(\n    (state) => {\n      return {\n        state,\n        config,\n        plugins: plugins || [],\n        overrides: loadedOverrides,\n        viewports,\n        iframe,\n        onAction,\n        metadata,\n        fieldTransforms: loadedFieldTransforms\n      };\n    },\n    [\n      initialAppState,\n      config,\n      plugins,\n      loadedOverrides,\n      viewports,\n      iframe,\n      onAction,\n      metadata,\n      loadedFieldTransforms\n    ]\n  );\n  const [appStore] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    () => createAppStore(generateAppStore(initialAppState))\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (true) {\n      window.__PUCK_INTERNAL_DO_NOT_USE = { appStore };\n    }\n  }, [appStore]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const state = appStore.getState().state;\n    appStore.setState((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, generateAppStore(state)));\n  }, [config, plugins, loadedOverrides, viewports, iframe, onAction, metadata]);\n  useRegisterHistorySlice(appStore, {\n    histories: blendedHistories,\n    index: initialHistoryIndex,\n    initialAppState\n  });\n  const previousData = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    appStore.subscribe(\n      (s) => s.state.data,\n      (data) => {\n        if (onChange) {\n          if (fast_deep_equal__WEBPACK_IMPORTED_MODULE_18__(data, previousData.current)) return;\n          onChange(data);\n          previousData.current = data;\n        }\n      }\n    );\n  }, []);\n  useRegisterPermissionsSlice(appStore, permissions);\n  const uPuckStore = useRegisterUsePuckStore(appStore);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const { resolveAndCommitData } = appStore.getState();\n    resolveAndCommitData();\n  }, []);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(appStoreContext.Provider, { value: appStore, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(UsePuckStoreContext.Provider, { value: uPuckStore, children }) });\n}\nfunction PuckLayout({ children }) {\n  const {\n    iframe: _iframe,\n    dnd,\n    initialHistory: _initialHistory\n  } = usePropsContext();\n  const iframe = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n      enabled: true,\n      waitForStyles: true\n    }, _iframe),\n    [_iframe]\n  );\n  useInjectGlobalCss(iframe.enabled);\n  const dispatch = useAppStore((s) => s.dispatch);\n  const leftSideBarVisible = useAppStore((s) => s.state.ui.leftSideBarVisible);\n  const rightSideBarVisible = useAppStore(\n    (s) => s.state.ui.rightSideBarVisible\n  );\n  const {\n    width: leftWidth,\n    setWidth: setLeftWidth,\n    sidebarRef: leftSidebarRef,\n    handleResizeEnd: handleLeftSidebarResizeEnd\n  } = useSidebarResize(\"left\", dispatch);\n  const {\n    width: rightWidth,\n    setWidth: setRightWidth,\n    sidebarRef: rightSidebarRef,\n    handleResizeEnd: handleRightSidebarResizeEnd\n  } = useSidebarResize(\"right\", dispatch);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (!window.matchMedia(\"(min-width: 638px)\").matches) {\n      dispatch({\n        type: \"setUi\",\n        ui: {\n          leftSideBarVisible: false,\n          rightSideBarVisible: false\n        }\n      });\n    }\n    const handleResize = () => {\n      if (!window.matchMedia(\"(min-width: 638px)\").matches) {\n        dispatch({\n          type: \"setUi\",\n          ui: (ui) => (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, ui), ui.rightSideBarVisible ? { leftSideBarVisible: false } : {})\n        });\n      }\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n  const overrides = useAppStore((s) => s.overrides);\n  const CustomPuck = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => overrides.puck || DefaultOverride,\n    [overrides]\n  );\n  const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setMounted(true);\n  }, []);\n  const ready = useAppStore((s) => s.status === \"READY\");\n  useMonitorHotkeys();\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (ready && iframe.enabled) {\n      const frameDoc = getFrame();\n      if (frameDoc) {\n        return monitorHotkeys(frameDoc);\n      }\n    }\n  }, [ready, iframe.enabled]);\n  usePreviewModeHotkeys();\n  const layoutOptions = {};\n  if (leftWidth) {\n    layoutOptions[\"--puck-user-left-side-bar-width\"] = `${leftWidth}px`;\n  }\n  if (rightWidth) {\n    layoutOptions[\"--puck-user-right-side-bar-width\"] = `${rightWidth}px`;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: `Puck ${getClassName31()}`, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DragDropContext, { disableAutoScroll: dnd == null ? void 0 : dnd.disableAutoScroll, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(CustomPuck, { children: children || /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FrameProvider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"div\",\n      {\n        className: getLayoutClassName({\n          leftSideBarVisible,\n          mounted,\n          rightSideBarVisible\n        }),\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n          \"div\",\n          {\n            className: getLayoutClassName(\"inner\"),\n            style: layoutOptions,\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Header, {}),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                Sidebar,\n                {\n                  position: \"left\",\n                  sidebarRef: leftSidebarRef,\n                  isVisible: leftSideBarVisible,\n                  onResize: setLeftWidth,\n                  onResizeEnd: handleLeftSidebarResizeEnd,\n                  children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SidebarSection, { title: \"Components\", noBorderTop: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Components, {}) }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SidebarSection, { title: \"Outline\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Outline, {}) })\n                  ]\n                }\n              ),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Canvas, {}),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                Sidebar,\n                {\n                  position: \"right\",\n                  sidebarRef: rightSidebarRef,\n                  isVisible: rightSideBarVisible,\n                  onResize: setRightWidth,\n                  onResizeEnd: handleRightSidebarResizeEnd,\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FieldSideBar, {})\n                }\n              )\n            ]\n          }\n        )\n      }\n    ) }) }) }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { id: \"puck-portal-root\", className: getClassName31(\"portal\") })\n  ] });\n}\nfunction Puck(props) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PropsProvider, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PuckProvider, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadProps)((0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props), { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(PuckLayout, (0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({}, props)) })) }));\n}\nPuck.Components = Components;\nPuck.Fields = Fields;\nPuck.Outline = Outline;\nPuck.Preview = Preview2;\n\n// bundle/core.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/API/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/API/DropZone.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/API/Viewports.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/API/FieldTransforms.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/AppState.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/Config.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/Data.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/Fields.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/Props.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n// types/Utils.tsx\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_0__.init_react_import)();\n\n\n/*! Bundled license information:\n\nclassnames/index.js:\n  (*!\n  \tCopyright (c) 2018 Jed Watson.\n  \tLicensed under the MIT License (MIT), see\n  \thttp://jedwatson.github.io/classnames\n  *)\n\nlucide-react/dist/esm/shared/src/utils.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/defaultAttributes.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/Icon.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/createLucideIcon.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/chevron-down.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/chevron-right.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/chevron-up.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/circle-check-big.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/copy.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/corner-left-up.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/ellipsis-vertical.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/globe.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/hash.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/layers.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/layout-grid.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/link.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/list.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/lock-open.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/lock.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/monitor.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/panel-left.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/panel-right.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/plus.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/redo-2.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/search.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/sliders-horizontal.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/smartphone.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/tablet.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/trash.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/type.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/undo-2.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/zoom-in.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/icons/zoom-out.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n\nlucide-react/dist/esm/lucide-react.js:\n  (**\n   * @license lucide-react v0.468.0 - ISC\n   *\n   * This source code is licensed under the ISC license.\n   * See the LICENSE file in the root directory of this source tree.\n   *)\n*/\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbWVhc3VyZWQrcHVja0AwLjIwLjJfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9AbWVhc3VyZWQvcHVjay9kaXN0L2NodW5rLVFJR1ZORDU2Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBCOEI7O0FBRTlCO0FBQ0EseUJBQXlCLCtEQUFVO0FBQ25DO0FBQ0E7QUFDQSxJQUFJLHNFQUFpQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSx3QkFBd0Isc0JBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDOztBQUVEO0FBQ0Esc0VBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNFQUFpQjs7QUFFakI7QUFDQSxzRUFBaUI7QUFDakIsd0JBQXdCLDREQUFPO0FBQy9CLDBEQUEwRCxlQUFlLGtCQUFrQjtBQUMzRjtBQUNBO0FBQ0EsNkJBQTZCLFVBQVUsR0FBRyxXQUFXO0FBQ3JEO0FBQ0EsMkNBQTJDLFVBQVUsR0FBRyxXQUFXO0FBQ25FO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7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O0FBRUE7QUFDQSxzRUFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNFQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzRUFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LGFBQWEsbUVBQWMsR0FBRyxXQUFXLElBQUk7QUFDOVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNFQUFpQjs7QUFFakI7QUFDQSxzRUFBaUI7O0FBRWpCO0FBQ0Esc0VBQWlCOztBQUVqQjtBQUNBLHNFQUFpQjs7QUFFakI7QUFDQSxzRUFBaUI7O0FBRWpCO0FBQ0Esc0VBQWlCOztBQUVqQjtBQUNBLHNFQUFpQjs7QUFFakI7QUFDQSxzRUFBaUI7O0FBRWpCO0FBQ0Esc0VBQWlCOztBQUVqQjtBQUNBLHNFQUFpQjs7QUFFakI7QUFDQSxzRUFBaUI7O0FBRWpCO0FBQ0Esc0VBQWlCOztBQXNCZjtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vQG1lYXN1cmVkK3B1Y2tAMC4yMC4yX0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3QtZG9tQDE5LjIuMF9yZWFjdEAxOS4yLjBfX3JlYWN0QDE5LjIuMC9ub2RlX21vZHVsZXMvQG1lYXN1cmVkL3B1Y2svZGlzdC9jaHVuay1RSUdWTkQ1Ni5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgU2xvdFJlbmRlcixcbiAgU2xvdFJlbmRlclB1cmUsXG4gIF9fYXN5bmMsXG4gIF9fY29tbW9uSlMsXG4gIF9fb2JqUmVzdCxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXMsXG4gIF9fdG9FU00sXG4gIGRlZmF1bHRBcHBTdGF0ZSxcbiAgZGVmYXVsdFNsb3RzLFxuICBkZWZhdWx0Vmlld3BvcnRzLFxuICBleHBhbmROb2RlLFxuICBnZXRDaGFuZ2VkLFxuICBnZXRTbG90VHJhbnNmb3JtLFxuICBpbml0X3JlYWN0X2ltcG9ydCxcbiAgcmVzb2x2ZUNvbXBvbmVudERhdGEsXG4gIHJvb3RBcmVhSWQsXG4gIHJvb3REcm9wcGFibGVJZCxcbiAgcm9vdFpvbmUsXG4gIHNldHVwWm9uZSxcbiAgdXNlRmllbGRUcmFuc2Zvcm1zLFxuICB1c2VTbG90cyxcbiAgd2Fsa0FwcFN0YXRlLFxuICB3YWxrRmllbGQsXG4gIHdhbGtUcmVlXG59IGZyb20gXCIuL2NodW5rLU9PTFlEWEtXLm1qc1wiO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfY2xhc3NuYW1lcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaW5pdF9yZWFjdF9pbXBvcnQoKTtcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgIHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgIGZ1bmN0aW9uIGNsYXNzTmFtZXMoKSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgIGNsYXNzZXMgPSBhcHBlbmRDbGFzcyhjbGFzc2VzLCBwYXJzZVZhbHVlKGFyZykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHBhcnNlVmFsdWUoYXJnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBhcmcgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgYXJnICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgIHJldHVybiBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFyZy50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAmJiAhYXJnLnRvU3RyaW5nLnRvU3RyaW5nKCkuaW5jbHVkZXMoXCJbbmF0aXZlIGNvZGVdXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZy50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGFzc2VzID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZykge1xuICAgICAgICAgIGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcbiAgICAgICAgICAgIGNsYXNzZXMgPSBhcHBlbmRDbGFzcyhjbGFzc2VzLCBrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGFwcGVuZENsYXNzKHZhbHVlLCBuZXdDbGFzcykge1xuICAgICAgICBpZiAoIW5ld0NsYXNzKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZSArIFwiIFwiICsgbmV3Q2xhc3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlICsgbmV3Q2xhc3M7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICBjbGFzc05hbWVzLmRlZmF1bHQgPSBjbGFzc05hbWVzO1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gXCJvYmplY3RcIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShcImNsYXNzbmFtZXNcIiwgW10sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBjbGFzc05hbWVzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9XG59KTtcblxuLy8gdHlwZXMvQVBJL092ZXJyaWRlcy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBvdmVycmlkZUtleXMgPSBbXG4gIFwiaGVhZGVyXCIsXG4gIFwiaGVhZGVyQWN0aW9uc1wiLFxuICBcImZpZWxkc1wiLFxuICBcImZpZWxkTGFiZWxcIixcbiAgXCJkcmF3ZXJcIixcbiAgXCJkcmF3ZXJJdGVtXCIsXG4gIFwiY29tcG9uZW50T3ZlcmxheVwiLFxuICBcIm91dGxpbmVcIixcbiAgXCJwdWNrXCIsXG4gIFwicHJldmlld1wiXG5dO1xuXG4vLyBjb21wb25lbnRzL0FjdGlvbkJhci9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi9nZXQtY2xhc3MtbmFtZS1mYWN0b3J5LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIGltcG9ydF9jbGFzc25hbWVzID0gX190b0VTTShyZXF1aXJlX2NsYXNzbmFtZXMoKSk7XG52YXIgZ2V0Q2xhc3NOYW1lRmFjdG9yeSA9IChyb290Q2xhc3MsIHN0eWxlczIsIGNvbmZpZyA9IHsgYmFzZUNsYXNzOiBcIlwiIH0pID0+IChvcHRpb25zID0ge30pID0+IHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgZGVzY2VuZGFudCA9IG9wdGlvbnM7XG4gICAgY29uc3Qgc3R5bGUgPSBzdHlsZXMyW2Ake3Jvb3RDbGFzc30tJHtkZXNjZW5kYW50fWBdO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5iYXNlQ2xhc3MgKyBzdHlsZXMyW2Ake3Jvb3RDbGFzc30tJHtkZXNjZW5kYW50fWBdIHx8IFwiXCI7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gb3B0aW9ucztcbiAgICBjb25zdCBwcmVmaXhlZE1vZGlmaWVycyA9IHt9O1xuICAgIGZvciAobGV0IG1vZGlmaWVyIGluIG1vZGlmaWVycykge1xuICAgICAgcHJlZml4ZWRNb2RpZmllcnNbc3R5bGVzMltgJHtyb290Q2xhc3N9LS0ke21vZGlmaWVyfWBdXSA9IG1vZGlmaWVyc1ttb2RpZmllcl07XG4gICAgfVxuICAgIGNvbnN0IGMgPSBzdHlsZXMyW3Jvb3RDbGFzc107XG4gICAgcmV0dXJuIGNvbmZpZy5iYXNlQ2xhc3MgKyAoMCwgaW1wb3J0X2NsYXNzbmFtZXMuZGVmYXVsdCkoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgW2NdOiAhIWNcbiAgICB9LCBwcmVmaXhlZE1vZGlmaWVycykpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb25maWcuYmFzZUNsYXNzICsgc3R5bGVzMltyb290Q2xhc3NdIHx8IFwiXCI7XG4gIH1cbn07XG52YXIgZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0ID0gZ2V0Q2xhc3NOYW1lRmFjdG9yeTtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL0FjdGlvbkJhci9zdHlsZXMubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHN0eWxlc19tb2R1bGVfZGVmYXVsdCA9IHsgXCJBY3Rpb25CYXJcIjogXCJfQWN0aW9uQmFyX3J2YWR0XzFcIiwgXCJBY3Rpb25CYXItbGFiZWxcIjogXCJfQWN0aW9uQmFyLWxhYmVsX3J2YWR0XzE4XCIsIFwiQWN0aW9uQmFyLWFjdGlvblwiOiBcIl9BY3Rpb25CYXItYWN0aW9uX3J2YWR0XzMwXCIsIFwiQWN0aW9uQmFyLWdyb3VwXCI6IFwiX0FjdGlvbkJhci1ncm91cF9ydmFkdF8zOFwiIH07XG5cbi8vIGNvbXBvbmVudHMvQWN0aW9uQmFyL2luZGV4LnRzeFxuaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiQWN0aW9uQmFyXCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdCk7XG52YXIgQWN0aW9uQmFyID0gKHtcbiAgbGFiZWwsXG4gIGNoaWxkcmVuXG59KSA9PiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgXCJkaXZcIixcbiAge1xuICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lKCksXG4gICAgb25DbGljazogKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAgbGFiZWwgJiYgLyogQF9fUFVSRV9fICovIGpzeChBY3Rpb25CYXIuR3JvdXAsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZShcImxhYmVsXCIpLCBjaGlsZHJlbjogbGFiZWwgfSkgfSksXG4gICAgICBjaGlsZHJlblxuICAgIF1cbiAgfVxuKTtcbnZhciBBY3Rpb24gPSAoe1xuICBjaGlsZHJlbixcbiAgbGFiZWwsXG4gIG9uQ2xpY2tcbn0pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwiYnV0dG9uXCIsXG4gIHtcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lKFwiYWN0aW9uXCIpLFxuICAgIG9uQ2xpY2ssXG4gICAgdGl0bGU6IGxhYmVsLFxuICAgIGNoaWxkcmVuXG4gIH1cbik7XG52YXIgR3JvdXAgPSAoeyBjaGlsZHJlbiB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUoXCJncm91cFwiKSwgY2hpbGRyZW4gfSk7XG52YXIgTGFiZWwgPSAoeyBsYWJlbCB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUoXCJsYWJlbFwiKSwgY2hpbGRyZW46IGxhYmVsIH0pO1xuQWN0aW9uQmFyLkFjdGlvbiA9IEFjdGlvbjtcbkFjdGlvbkJhci5MYWJlbCA9IExhYmVsO1xuQWN0aW9uQmFyLkdyb3VwID0gR3JvdXA7XG5cbi8vIGNvbXBvbmVudHMvSWNvbkJ1dHRvbi9JY29uQnV0dG9uLnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9JY29uQnV0dG9uL0ljb25CdXR0b24ubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIEljb25CdXR0b25fbW9kdWxlX2RlZmF1bHQgPSB7IFwiSWNvbkJ1dHRvblwiOiBcIl9JY29uQnV0dG9uX3N3cG5pXzFcIiwgXCJJY29uQnV0dG9uLS1kaXNhYmxlZFwiOiBcIl9JY29uQnV0dG9uLS1kaXNhYmxlZF9zd3BuaV8yMFwiLCBcIkljb25CdXR0b24tdGl0bGVcIjogXCJfSWNvbkJ1dHRvbi10aXRsZV9zd3BuaV8zM1wiIH07XG5cbi8vIGNvbXBvbmVudHMvTG9hZGVyL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gbGliL2luZGV4LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBsaWIvZmlsdGVyLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBsaWIvZGF0YS9yZW9yZGVyLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHJlb3JkZXIgPSAobGlzdCwgc3RhcnRJbmRleCwgZW5kSW5kZXgpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gQXJyYXkuZnJvbShsaXN0KTtcbiAgY29uc3QgW3JlbW92ZWRdID0gcmVzdWx0LnNwbGljZShzdGFydEluZGV4LCAxKTtcbiAgcmVzdWx0LnNwbGljZShlbmRJbmRleCwgMCwgcmVtb3ZlZCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyBsaWIvZGF0YS9yZXBsYWNlLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHJlcGxhY2UgPSAobGlzdCwgaW5kZXgsIG5ld0l0ZW0pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gQXJyYXkuZnJvbShsaXN0KTtcbiAgcmVzdWx0LnNwbGljZShpbmRleCwgMSk7XG4gIHJlc3VsdC5zcGxpY2UoaW5kZXgsIDAsIG5ld0l0ZW0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gbGliL3VzZS1yZXNldC1hdXRvLXpvb20udHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIHN0b3JlL2luZGV4LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyByZWR1Y2VyL2luZGV4LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyByZWR1Y2VyL2FjdGlvbnMvc2V0LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHNldEFjdGlvbiA9IChzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSkgPT4ge1xuICBpZiAodHlwZW9mIGFjdGlvbi5zdGF0ZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IG5ld1N0YXRlID0gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlKSwgYWN0aW9uLnN0YXRlKTtcbiAgICBpZiAoYWN0aW9uLnN0YXRlLmluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJgc2V0YCBpcyBleHBlbnNpdmUgYW5kIG1heSBjYXVzZSB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzLiBDb25zaWRlciB1c2luZyBhIG1vcmUgYXRvbWljIGFjdGlvbiBpbnN0ZWFkLlwiXG4gICAgKTtcbiAgICByZXR1cm4gd2Fsa0FwcFN0YXRlKG5ld1N0YXRlLCBhcHBTdG9yZS5jb25maWcpO1xuICB9XG4gIHJldHVybiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUpLCBhY3Rpb24uc3RhdGUoc3RhdGUpKTtcbn07XG5cbi8vIHJlZHVjZXIvYWN0aW9ucy9pbnNlcnQudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi9kYXRhL2luc2VydC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBpbnNlcnQgPSAobGlzdCwgaW5kZXgsIGl0ZW0pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gQXJyYXkuZnJvbShsaXN0IHx8IFtdKTtcbiAgcmVzdWx0LnNwbGljZShpbmRleCwgMCwgaXRlbSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyBsaWIvZ2VuZXJhdGUtaWQudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xudmFyIGdlbmVyYXRlSWQgPSAodHlwZSkgPT4gdHlwZSA/IGAke3R5cGV9LSR7dXVpZHY0KCl9YCA6IHV1aWR2NCgpO1xuXG4vLyBsaWIvZGF0YS9nZXQtaWRzLWZvci1wYXJlbnQudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZ2V0SWRzRm9yUGFyZW50ID0gKHpvbmVDb21wb3VuZCwgc3RhdGUpID0+IHtcbiAgY29uc3QgW3BhcmVudElkXSA9IHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIik7XG4gIGNvbnN0IG5vZGUgPSBzdGF0ZS5pbmRleGVzLm5vZGVzW3BhcmVudElkXTtcbiAgcmV0dXJuICgobm9kZSA9PSBudWxsID8gdm9pZCAwIDogbm9kZS5wYXRoKSB8fCBbXSkubWFwKChwKSA9PiBwLnNwbGl0KFwiOlwiKVswXSk7XG59O1xuXG4vLyBsaWIvZGF0YS9wb3B1bGF0ZS1pZHMudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgcG9wdWxhdGVJZHMgPSAoZGF0YSwgY29uZmlnLCBvdmVycmlkZSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IGlkID0gZ2VuZXJhdGVJZChkYXRhLnR5cGUpO1xuICByZXR1cm4gd2Fsa1RyZWUoXG4gICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZGF0YSksIHtcbiAgICAgIHByb3BzOiBvdmVycmlkZSA/IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGRhdGEucHJvcHMpLCB7IGlkIH0pIDogX19zcHJlYWRWYWx1ZXMoe30sIGRhdGEucHJvcHMpXG4gICAgfSksXG4gICAgY29uZmlnLFxuICAgIChjb250ZW50cykgPT4gY29udGVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBpZDIgPSBnZW5lcmF0ZUlkKGl0ZW0udHlwZSk7XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbSksIHtcbiAgICAgICAgcHJvcHM6IG92ZXJyaWRlID8gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbS5wcm9wcyksIHsgaWQ6IGlkMiB9KSA6IF9fc3ByZWFkVmFsdWVzKHsgaWQ6IGlkMiB9LCBpdGVtLnByb3BzKVxuICAgICAgfSk7XG4gICAgfSlcbiAgKTtcbn07XG5cbi8vIHJlZHVjZXIvYWN0aW9ucy9pbnNlcnQudHNcbmZ1bmN0aW9uIGluc2VydEFjdGlvbihzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSkge1xuICBjb25zdCBpZCA9IGFjdGlvbi5pZCB8fCBnZW5lcmF0ZUlkKGFjdGlvbi5jb21wb25lbnRUeXBlKTtcbiAgY29uc3QgZW1wdHlDb21wb25lbnREYXRhID0gcG9wdWxhdGVJZHMoXG4gICAge1xuICAgICAgdHlwZTogYWN0aW9uLmNvbXBvbmVudFR5cGUsXG4gICAgICBwcm9wczogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgYXBwU3RvcmUuY29uZmlnLmNvbXBvbmVudHNbYWN0aW9uLmNvbXBvbmVudFR5cGVdLmRlZmF1bHRQcm9wcyB8fCB7fSksIHtcbiAgICAgICAgaWRcbiAgICAgIH0pXG4gICAgfSxcbiAgICBhcHBTdG9yZS5jb25maWdcbiAgKTtcbiAgY29uc3QgW3BhcmVudElkXSA9IGFjdGlvbi5kZXN0aW5hdGlvblpvbmUuc3BsaXQoXCI6XCIpO1xuICBjb25zdCBpZHNJblBhdGggPSBnZXRJZHNGb3JQYXJlbnQoYWN0aW9uLmRlc3RpbmF0aW9uWm9uZSwgc3RhdGUpO1xuICByZXR1cm4gd2Fsa0FwcFN0YXRlKFxuICAgIHN0YXRlLFxuICAgIGFwcFN0b3JlLmNvbmZpZyxcbiAgICAoY29udGVudCwgem9uZUNvbXBvdW5kKSA9PiB7XG4gICAgICBpZiAoem9uZUNvbXBvdW5kID09PSBhY3Rpb24uZGVzdGluYXRpb25ab25lKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnQoXG4gICAgICAgICAgY29udGVudCB8fCBbXSxcbiAgICAgICAgICBhY3Rpb24uZGVzdGluYXRpb25JbmRleCxcbiAgICAgICAgICBlbXB0eUNvbXBvbmVudERhdGFcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0sXG4gICAgKGNoaWxkSXRlbSwgcGF0aCkgPT4ge1xuICAgICAgaWYgKGNoaWxkSXRlbS5wcm9wcy5pZCA9PT0gaWQgfHwgY2hpbGRJdGVtLnByb3BzLmlkID09PSBwYXJlbnRJZCkge1xuICAgICAgICByZXR1cm4gY2hpbGRJdGVtO1xuICAgICAgfSBlbHNlIGlmIChpZHNJblBhdGguaW5jbHVkZXMoY2hpbGRJdGVtLnByb3BzLmlkKSkge1xuICAgICAgICByZXR1cm4gY2hpbGRJdGVtO1xuICAgICAgfSBlbHNlIGlmIChwYXRoLmluY2x1ZGVzKGFjdGlvbi5kZXN0aW5hdGlvblpvbmUpKSB7XG4gICAgICAgIHJldHVybiBjaGlsZEl0ZW07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICk7XG59XG5cbi8vIHJlZHVjZXIvYWN0aW9ucy9yZXBsYWNlLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHJlcGxhY2VBY3Rpb24gPSAoc3RhdGUsIGFjdGlvbiwgYXBwU3RvcmUpID0+IHtcbiAgY29uc3QgW3BhcmVudElkXSA9IGFjdGlvbi5kZXN0aW5hdGlvblpvbmUuc3BsaXQoXCI6XCIpO1xuICBjb25zdCBpZHNJblBhdGggPSBnZXRJZHNGb3JQYXJlbnQoYWN0aW9uLmRlc3RpbmF0aW9uWm9uZSwgc3RhdGUpO1xuICBjb25zdCBvcmlnaW5hbElkID0gc3RhdGUuaW5kZXhlcy56b25lc1thY3Rpb24uZGVzdGluYXRpb25ab25lXS5jb250ZW50SWRzW2FjdGlvbi5kZXN0aW5hdGlvbkluZGV4XTtcbiAgY29uc3QgaWRDaGFuZ2VkID0gb3JpZ2luYWxJZCAhPT0gYWN0aW9uLmRhdGEucHJvcHMuaWQ7XG4gIGlmIChpZENoYW5nZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2FuJ3QgY2hhbmdlIHRoZSBpZCBkdXJpbmcgYSByZXBsYWNlIGFjdGlvbi4gUGxlYXNlIHVzIFwicmVtb3ZlXCIgYW5kIFwiaW5zZXJ0XCIgdG8gZGVmaW5lIGEgbmV3IG5vZGUuYFxuICAgICk7XG4gIH1cbiAgY29uc3QgbmV3U2xvdElkcyA9IFtdO1xuICBjb25zdCBkYXRhID0gd2Fsa1RyZWUoYWN0aW9uLmRhdGEsIGFwcFN0b3JlLmNvbmZpZywgKGNvbnRlbnRzLCBvcHRzKSA9PiB7XG4gICAgbmV3U2xvdElkcy5wdXNoKGAke29wdHMucGFyZW50SWR9OiR7b3B0cy5wcm9wTmFtZX1gKTtcbiAgICByZXR1cm4gY29udGVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGdlbmVyYXRlSWQoaXRlbS50eXBlKTtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBpdGVtKSwge1xuICAgICAgICBwcm9wczogX19zcHJlYWRWYWx1ZXMoeyBpZCB9LCBpdGVtLnByb3BzKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCBzdGF0ZVdpdGhEZWVwU2xvdHNSZW1vdmVkID0gX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlKTtcbiAgT2JqZWN0LmtleXMoc3RhdGUuaW5kZXhlcy56b25lcykuZm9yRWFjaCgoem9uZUNvbXBvdW5kKSA9PiB7XG4gICAgY29uc3QgaWQgPSB6b25lQ29tcG91bmQuc3BsaXQoXCI6XCIpWzBdO1xuICAgIGlmIChpZCA9PT0gb3JpZ2luYWxJZCkge1xuICAgICAgaWYgKCFuZXdTbG90SWRzLmluY2x1ZGVzKHpvbmVDb21wb3VuZCkpIHtcbiAgICAgICAgZGVsZXRlIHN0YXRlV2l0aERlZXBTbG90c1JlbW92ZWQuaW5kZXhlcy56b25lc1t6b25lQ29tcG91bmRdO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB3YWxrQXBwU3RhdGUoXG4gICAgc3RhdGVXaXRoRGVlcFNsb3RzUmVtb3ZlZCxcbiAgICBhcHBTdG9yZS5jb25maWcsXG4gICAgKGNvbnRlbnQsIHpvbmVDb21wb3VuZCkgPT4ge1xuICAgICAgY29uc3QgbmV3Q29udGVudCA9IFsuLi5jb250ZW50XTtcbiAgICAgIGlmICh6b25lQ29tcG91bmQgPT09IGFjdGlvbi5kZXN0aW5hdGlvblpvbmUpIHtcbiAgICAgICAgbmV3Q29udGVudFthY3Rpb24uZGVzdGluYXRpb25JbmRleF0gPSBkYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld0NvbnRlbnQ7XG4gICAgfSxcbiAgICAoY2hpbGRJdGVtLCBwYXRoKSA9PiB7XG4gICAgICBjb25zdCBwYXRoSWRzID0gcGF0aC5tYXAoKHApID0+IHAuc3BsaXQoXCI6XCIpWzBdKTtcbiAgICAgIGlmIChjaGlsZEl0ZW0ucHJvcHMuaWQgPT09IGRhdGEucHJvcHMuaWQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkSXRlbS5wcm9wcy5pZCA9PT0gcGFyZW50SWQpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkSXRlbTtcbiAgICAgIH0gZWxzZSBpZiAoaWRzSW5QYXRoLmluZGV4T2YoY2hpbGRJdGVtLnByb3BzLmlkKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBjaGlsZEl0ZW07XG4gICAgICB9IGVsc2UgaWYgKHBhdGhJZHMuaW5kZXhPZihkYXRhLnByb3BzLmlkKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBjaGlsZEl0ZW07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICk7XG59O1xuXG4vLyByZWR1Y2VyL2FjdGlvbnMvcmVwbGFjZS1yb290LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHJlcGxhY2VSb290QWN0aW9uID0gKHN0YXRlLCBhY3Rpb24sIGFwcFN0b3JlKSA9PiB7XG4gIHJldHVybiB3YWxrQXBwU3RhdGUoXG4gICAgc3RhdGUsXG4gICAgYXBwU3RvcmUuY29uZmlnLFxuICAgIChjb250ZW50KSA9PiBjb250ZW50LFxuICAgIChjaGlsZEl0ZW0pID0+IHtcbiAgICAgIGlmIChjaGlsZEl0ZW0ucHJvcHMuaWQgPT09IFwicm9vdFwiKSB7XG4gICAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjaGlsZEl0ZW0pLCB7XG4gICAgICAgICAgcHJvcHM6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBjaGlsZEl0ZW0ucHJvcHMpLCBhY3Rpb24ucm9vdC5wcm9wcyksXG4gICAgICAgICAgcmVhZE9ubHk6IGFjdGlvbi5yb290LnJlYWRPbmx5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkSXRlbTtcbiAgICB9XG4gICk7XG59O1xuXG4vLyByZWR1Y2VyL2FjdGlvbnMvZHVwbGljYXRlLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBsaWIvZGF0YS9nZXQtaXRlbS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmZ1bmN0aW9uIGdldEl0ZW0oc2VsZWN0b3IsIHN0YXRlKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHpvbmUgPSAoX2EgPSBzdGF0ZS5pbmRleGVzLnpvbmVzKSA9PSBudWxsID8gdm9pZCAwIDogX2Fbc2VsZWN0b3Iuem9uZSB8fCByb290RHJvcHBhYmxlSWRdO1xuICByZXR1cm4gem9uZSA/IChfYiA9IHN0YXRlLmluZGV4ZXMubm9kZXNbem9uZS5jb250ZW50SWRzW3NlbGVjdG9yLmluZGV4XV0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5kYXRhIDogdm9pZCAwO1xufVxuXG4vLyByZWR1Y2VyL2FjdGlvbnMvZHVwbGljYXRlLnRzXG5mdW5jdGlvbiBkdXBsaWNhdGVBY3Rpb24oc3RhdGUsIGFjdGlvbiwgYXBwU3RvcmUpIHtcbiAgY29uc3QgaXRlbSA9IGdldEl0ZW0oXG4gICAgeyBpbmRleDogYWN0aW9uLnNvdXJjZUluZGV4LCB6b25lOiBhY3Rpb24uc291cmNlWm9uZSB9LFxuICAgIHN0YXRlXG4gICk7XG4gIGNvbnN0IGlkc0luUGF0aCA9IGdldElkc0ZvclBhcmVudChhY3Rpb24uc291cmNlWm9uZSwgc3RhdGUpO1xuICBjb25zdCBuZXdJdGVtID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbSksIHtcbiAgICBwcm9wczogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaXRlbS5wcm9wcyksIHtcbiAgICAgIGlkOiBnZW5lcmF0ZUlkKGl0ZW0udHlwZSlcbiAgICB9KVxuICB9KTtcbiAgY29uc3QgbW9kaWZpZWQgPSB3YWxrQXBwU3RhdGUoXG4gICAgc3RhdGUsXG4gICAgYXBwU3RvcmUuY29uZmlnLFxuICAgIChjb250ZW50LCB6b25lQ29tcG91bmQpID0+IHtcbiAgICAgIGlmICh6b25lQ29tcG91bmQgPT09IGFjdGlvbi5zb3VyY2Vab25lKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnQoY29udGVudCwgYWN0aW9uLnNvdXJjZUluZGV4ICsgMSwgaXRlbSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9LFxuICAgIChjaGlsZEl0ZW0sIHBhdGgsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB6b25lQ29tcG91bmQgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBwYXJlbnRzID0gcGF0aC5tYXAoKHApID0+IHAuc3BsaXQoXCI6XCIpWzBdKTtcbiAgICAgIGlmIChwYXJlbnRzLmluZGV4T2YobmV3SXRlbS5wcm9wcy5pZCkgPiAtMSkge1xuICAgICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY2hpbGRJdGVtKSwge1xuICAgICAgICAgIHByb3BzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjaGlsZEl0ZW0ucHJvcHMpLCB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVJZChjaGlsZEl0ZW0udHlwZSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh6b25lQ29tcG91bmQgPT09IGFjdGlvbi5zb3VyY2Vab25lICYmIGluZGV4ID09PSBhY3Rpb24uc291cmNlSW5kZXggKyAxKSB7XG4gICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgICAgfVxuICAgICAgY29uc3QgW3NvdXJjZVpvbmVQYXJlbnRdID0gYWN0aW9uLnNvdXJjZVpvbmUuc3BsaXQoXCI6XCIpO1xuICAgICAgaWYgKHNvdXJjZVpvbmVQYXJlbnQgPT09IGNoaWxkSXRlbS5wcm9wcy5pZCB8fCBpZHNJblBhdGguaW5kZXhPZihjaGlsZEl0ZW0ucHJvcHMuaWQpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkSXRlbTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG1vZGlmaWVkKSwge1xuICAgIHVpOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBtb2RpZmllZC51aSksIHtcbiAgICAgIGl0ZW1TZWxlY3Rvcjoge1xuICAgICAgICBpbmRleDogYWN0aW9uLnNvdXJjZUluZGV4ICsgMSxcbiAgICAgICAgem9uZTogYWN0aW9uLnNvdXJjZVpvbmVcbiAgICAgIH1cbiAgICB9KVxuICB9KTtcbn1cblxuLy8gcmVkdWNlci9hY3Rpb25zL3Jlb3JkZXIudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIHJlZHVjZXIvYWN0aW9ucy9tb3ZlLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBsaWIvZGF0YS9yZW1vdmUudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgcmVtb3ZlID0gKGxpc3QsIGluZGV4KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IEFycmF5LmZyb20obGlzdCk7XG4gIHJlc3VsdC5zcGxpY2UoaW5kZXgsIDEpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gcmVkdWNlci9hY3Rpb25zL21vdmUudHNcbnZhciBtb3ZlQWN0aW9uID0gKHN0YXRlLCBhY3Rpb24sIGFwcFN0b3JlKSA9PiB7XG4gIGlmIChhY3Rpb24uc291cmNlWm9uZSA9PT0gYWN0aW9uLmRlc3RpbmF0aW9uWm9uZSAmJiBhY3Rpb24uc291cmNlSW5kZXggPT09IGFjdGlvbi5kZXN0aW5hdGlvbkluZGV4KSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG4gIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKFxuICAgIHsgem9uZTogYWN0aW9uLnNvdXJjZVpvbmUsIGluZGV4OiBhY3Rpb24uc291cmNlSW5kZXggfSxcbiAgICBzdGF0ZVxuICApO1xuICBpZiAoIWl0ZW0pIHJldHVybiBzdGF0ZTtcbiAgY29uc3QgaWRzSW5Tb3VyY2VQYXRoID0gZ2V0SWRzRm9yUGFyZW50KGFjdGlvbi5zb3VyY2Vab25lLCBzdGF0ZSk7XG4gIGNvbnN0IGlkc0luRGVzdGluYXRpb25QYXRoID0gZ2V0SWRzRm9yUGFyZW50KGFjdGlvbi5kZXN0aW5hdGlvblpvbmUsIHN0YXRlKTtcbiAgcmV0dXJuIHdhbGtBcHBTdGF0ZShcbiAgICBzdGF0ZSxcbiAgICBhcHBTdG9yZS5jb25maWcsXG4gICAgKGNvbnRlbnQsIHpvbmVDb21wb3VuZCkgPT4ge1xuICAgICAgaWYgKHpvbmVDb21wb3VuZCA9PT0gYWN0aW9uLnNvdXJjZVpvbmUgJiYgem9uZUNvbXBvdW5kID09PSBhY3Rpb24uZGVzdGluYXRpb25ab25lKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnQoXG4gICAgICAgICAgcmVtb3ZlKGNvbnRlbnQsIGFjdGlvbi5zb3VyY2VJbmRleCksXG4gICAgICAgICAgYWN0aW9uLmRlc3RpbmF0aW9uSW5kZXgsXG4gICAgICAgICAgaXRlbVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh6b25lQ29tcG91bmQgPT09IGFjdGlvbi5zb3VyY2Vab25lKSB7XG4gICAgICAgIHJldHVybiByZW1vdmUoY29udGVudCwgYWN0aW9uLnNvdXJjZUluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoem9uZUNvbXBvdW5kID09PSBhY3Rpb24uZGVzdGluYXRpb25ab25lKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnQoY29udGVudCwgYWN0aW9uLmRlc3RpbmF0aW9uSW5kZXgsIGl0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSxcbiAgICAoY2hpbGRJdGVtLCBwYXRoKSA9PiB7XG4gICAgICBjb25zdCBbc291cmNlWm9uZVBhcmVudF0gPSBhY3Rpb24uc291cmNlWm9uZS5zcGxpdChcIjpcIik7XG4gICAgICBjb25zdCBbZGVzdGluYXRpb25ab25lUGFyZW50XSA9IGFjdGlvbi5kZXN0aW5hdGlvblpvbmUuc3BsaXQoXCI6XCIpO1xuICAgICAgY29uc3QgY2hpbGRJZCA9IGNoaWxkSXRlbS5wcm9wcy5pZDtcbiAgICAgIGlmIChzb3VyY2Vab25lUGFyZW50ID09PSBjaGlsZElkIHx8IGRlc3RpbmF0aW9uWm9uZVBhcmVudCA9PT0gY2hpbGRJZCB8fCBpdGVtLnByb3BzLmlkID09PSBjaGlsZElkIHx8IGlkc0luU291cmNlUGF0aC5pbmRleE9mKGNoaWxkSWQpID4gLTEgfHwgaWRzSW5EZXN0aW5hdGlvblBhdGguaW5kZXhPZihjaGlsZElkKSA+IC0xIHx8IHBhdGguaW5jbHVkZXMoYWN0aW9uLmRlc3RpbmF0aW9uWm9uZSkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkSXRlbTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgKTtcbn07XG5cbi8vIHJlZHVjZXIvYWN0aW9ucy9yZW9yZGVyLnRzXG52YXIgcmVvcmRlckFjdGlvbiA9IChzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSkgPT4ge1xuICByZXR1cm4gbW92ZUFjdGlvbihcbiAgICBzdGF0ZSxcbiAgICB7XG4gICAgICB0eXBlOiBcIm1vdmVcIixcbiAgICAgIHNvdXJjZUluZGV4OiBhY3Rpb24uc291cmNlSW5kZXgsXG4gICAgICBzb3VyY2Vab25lOiBhY3Rpb24uZGVzdGluYXRpb25ab25lLFxuICAgICAgZGVzdGluYXRpb25JbmRleDogYWN0aW9uLmRlc3RpbmF0aW9uSW5kZXgsXG4gICAgICBkZXN0aW5hdGlvblpvbmU6IGFjdGlvbi5kZXN0aW5hdGlvblpvbmVcbiAgICB9LFxuICAgIGFwcFN0b3JlXG4gICk7XG59O1xuXG4vLyByZWR1Y2VyL2FjdGlvbnMvcmVtb3ZlLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHJlbW92ZUFjdGlvbiA9IChzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSkgPT4ge1xuICBjb25zdCBpdGVtID0gZ2V0SXRlbSh7IGluZGV4OiBhY3Rpb24uaW5kZXgsIHpvbmU6IGFjdGlvbi56b25lIH0sIHN0YXRlKTtcbiAgY29uc3Qgbm9kZXNUb0RlbGV0ZSA9IE9iamVjdC5lbnRyaWVzKHN0YXRlLmluZGV4ZXMubm9kZXMpLnJlZHVjZShcbiAgICAoYWNjLCBbbm9kZUlkLCBub2RlRGF0YV0pID0+IHtcbiAgICAgIGNvbnN0IHBhdGhJZHMgPSBub2RlRGF0YS5wYXRoLm1hcCgocCkgPT4gcC5zcGxpdChcIjpcIilbMF0pO1xuICAgICAgaWYgKHBhdGhJZHMuaW5jbHVkZXMoaXRlbS5wcm9wcy5pZCkpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5hY2MsIG5vZGVJZF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sXG4gICAgW2l0ZW0ucHJvcHMuaWRdXG4gICk7XG4gIGNvbnN0IG5ld1N0YXRlID0gd2Fsa0FwcFN0YXRlKFxuICAgIHN0YXRlLFxuICAgIGFwcFN0b3JlLmNvbmZpZyxcbiAgICAoY29udGVudCwgem9uZUNvbXBvdW5kKSA9PiB7XG4gICAgICBpZiAoem9uZUNvbXBvdW5kID09PSBhY3Rpb24uem9uZSkge1xuICAgICAgICByZXR1cm4gcmVtb3ZlKGNvbnRlbnQsIGFjdGlvbi5pbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG4gICk7XG4gIE9iamVjdC5rZXlzKG5ld1N0YXRlLmRhdGEuem9uZXMgfHwge30pLmZvckVhY2goKHpvbmVDb21wb3VuZCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudElkID0gem9uZUNvbXBvdW5kLnNwbGl0KFwiOlwiKVswXTtcbiAgICBpZiAobm9kZXNUb0RlbGV0ZS5pbmNsdWRlcyhwYXJlbnRJZCkgJiYgbmV3U3RhdGUuZGF0YS56b25lcykge1xuICAgICAgZGVsZXRlIG5ld1N0YXRlLmRhdGEuem9uZXNbem9uZUNvbXBvdW5kXTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3Qua2V5cyhuZXdTdGF0ZS5pbmRleGVzLnpvbmVzKS5mb3JFYWNoKCh6b25lQ29tcG91bmQpID0+IHtcbiAgICBjb25zdCBwYXJlbnRJZCA9IHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIilbMF07XG4gICAgaWYgKG5vZGVzVG9EZWxldGUuaW5jbHVkZXMocGFyZW50SWQpKSB7XG4gICAgICBkZWxldGUgbmV3U3RhdGUuaW5kZXhlcy56b25lc1t6b25lQ29tcG91bmRdO1xuICAgIH1cbiAgfSk7XG4gIG5vZGVzVG9EZWxldGUuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBkZWxldGUgbmV3U3RhdGUuaW5kZXhlcy5ub2Rlc1tpZF07XG4gIH0pO1xuICByZXR1cm4gbmV3U3RhdGU7XG59O1xuXG4vLyByZWR1Y2VyL2FjdGlvbnMvcmVnaXN0ZXItem9uZS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciB6b25lQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIHJlZ2lzdGVyWm9uZUFjdGlvbihzdGF0ZSwgYWN0aW9uKSB7XG4gIGlmICh6b25lQ2FjaGVbYWN0aW9uLnpvbmVdKSB7XG4gICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlKSwge1xuICAgICAgZGF0YTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUuZGF0YSksIHtcbiAgICAgICAgem9uZXM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLmRhdGEuem9uZXMpLCB7XG4gICAgICAgICAgW2FjdGlvbi56b25lXTogem9uZUNhY2hlW2FjdGlvbi56b25lXVxuICAgICAgICB9KVxuICAgICAgfSksXG4gICAgICBpbmRleGVzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZS5pbmRleGVzKSwge1xuICAgICAgICB6b25lczogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUuaW5kZXhlcy56b25lcyksIHtcbiAgICAgICAgICBbYWN0aW9uLnpvbmVdOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZS5pbmRleGVzLnpvbmVzW2FjdGlvbi56b25lXSksIHtcbiAgICAgICAgICAgIGNvbnRlbnRJZHM6IHpvbmVDYWNoZVthY3Rpb24uem9uZV0ubWFwKChpdGVtKSA9PiBpdGVtLnByb3BzLmlkKSxcbiAgICAgICAgICAgIHR5cGU6IFwiZHJvcHpvbmVcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZSksIHsgZGF0YTogc2V0dXBab25lKHN0YXRlLmRhdGEsIGFjdGlvbi56b25lKSB9KTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJab25lQWN0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgY29uc3QgX3pvbmVzID0gX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLmRhdGEuem9uZXMgfHwge30pO1xuICBjb25zdCB6b25lSW5kZXggPSBfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUuaW5kZXhlcy56b25lcyB8fCB7fSk7XG4gIGlmIChfem9uZXNbYWN0aW9uLnpvbmVdKSB7XG4gICAgem9uZUNhY2hlW2FjdGlvbi56b25lXSA9IF96b25lc1thY3Rpb24uem9uZV07XG4gICAgZGVsZXRlIF96b25lc1thY3Rpb24uem9uZV07XG4gIH1cbiAgZGVsZXRlIHpvbmVJbmRleFthY3Rpb24uem9uZV07XG4gIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZSksIHtcbiAgICBkYXRhOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZS5kYXRhKSwge1xuICAgICAgem9uZXM6IF96b25lc1xuICAgIH0pLFxuICAgIGluZGV4ZXM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLmluZGV4ZXMpLCB7XG4gICAgICB6b25lczogem9uZUluZGV4XG4gICAgfSlcbiAgfSk7XG59XG5cbi8vIHJlZHVjZXIvYWN0aW9ucy9zZXQtZGF0YS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzZXREYXRhQWN0aW9uID0gKHN0YXRlLCBhY3Rpb24sIGFwcFN0b3JlKSA9PiB7XG4gIGlmICh0eXBlb2YgYWN0aW9uLmRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcImBzZXREYXRhYCBpcyBleHBlbnNpdmUgYW5kIG1heSBjYXVzZSB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzLiBDb25zaWRlciB1c2luZyBhIG1vcmUgYXRvbWljIGFjdGlvbiBpbnN0ZWFkLlwiXG4gICAgKTtcbiAgICByZXR1cm4gd2Fsa0FwcFN0YXRlKFxuICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUpLCB7XG4gICAgICAgIGRhdGE6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZS5kYXRhKSwgYWN0aW9uLmRhdGEpXG4gICAgICB9KSxcbiAgICAgIGFwcFN0b3JlLmNvbmZpZ1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHdhbGtBcHBTdGF0ZShcbiAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZSksIHtcbiAgICAgIGRhdGE6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZS5kYXRhKSwgYWN0aW9uLmRhdGEoc3RhdGUuZGF0YSkpXG4gICAgfSksXG4gICAgYXBwU3RvcmUuY29uZmlnXG4gICk7XG59O1xuXG4vLyByZWR1Y2VyL2FjdGlvbnMvc2V0LXVpLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHNldFVpQWN0aW9uID0gKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgaWYgKHR5cGVvZiBhY3Rpb24udWkgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUpLCB7XG4gICAgICB1aTogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLnVpKSwgYWN0aW9uLnVpKVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZSksIHtcbiAgICB1aTogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLnVpKSwgYWN0aW9uLnVpKHN0YXRlLnVpKSlcbiAgfSk7XG59O1xuXG4vLyBsaWIvZGF0YS9tYWtlLXN0YXRlLXB1YmxpYy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBtYWtlU3RhdGVQdWJsaWMgPSAoc3RhdGUpID0+IHtcbiAgY29uc3QgeyBkYXRhLCB1aSB9ID0gc3RhdGU7XG4gIHJldHVybiB7IGRhdGEsIHVpIH07XG59O1xuXG4vLyByZWR1Y2VyL2FjdGlvbnMudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyByZWR1Y2VyL2luZGV4LnRzXG5mdW5jdGlvbiBzdG9yZUludGVyY2VwdG9yKHJlZHVjZXIsIHJlY29yZCwgb25BY3Rpb24pIHtcbiAgcmV0dXJuIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgY29uc3QgbmV3QXBwU3RhdGUgPSByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuICAgIGNvbnN0IGlzVmFsaWRUeXBlID0gIVtcbiAgICAgIFwicmVnaXN0ZXJab25lXCIsXG4gICAgICBcInVucmVnaXN0ZXJab25lXCIsXG4gICAgICBcInNldERhdGFcIixcbiAgICAgIFwic2V0VWlcIixcbiAgICAgIFwic2V0XCJcbiAgICBdLmluY2x1ZGVzKGFjdGlvbi50eXBlKTtcbiAgICBpZiAodHlwZW9mIGFjdGlvbi5yZWNvcmRIaXN0b3J5ICE9PSBcInVuZGVmaW5lZFwiID8gYWN0aW9uLnJlY29yZEhpc3RvcnkgOiBpc1ZhbGlkVHlwZSkge1xuICAgICAgaWYgKHJlY29yZCkgcmVjb3JkKG5ld0FwcFN0YXRlKTtcbiAgICB9XG4gICAgb25BY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IG9uQWN0aW9uKGFjdGlvbiwgbWFrZVN0YXRlUHVibGljKG5ld0FwcFN0YXRlKSwgbWFrZVN0YXRlUHVibGljKHN0YXRlKSk7XG4gICAgcmV0dXJuIG5ld0FwcFN0YXRlO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUmVkdWNlcih7XG4gIHJlY29yZCxcbiAgb25BY3Rpb24sXG4gIGFwcFN0b3JlXG59KSB7XG4gIHJldHVybiBzdG9yZUludGVyY2VwdG9yKFxuICAgIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwic2V0XCIpIHtcbiAgICAgICAgcmV0dXJuIHNldEFjdGlvbihzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgICAgcmV0dXJuIGluc2VydEFjdGlvbihzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICAgIHJldHVybiByZXBsYWNlQWN0aW9uKHN0YXRlLCBhY3Rpb24sIGFwcFN0b3JlKTtcbiAgICAgIH1cbiAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJyZXBsYWNlUm9vdFwiKSB7XG4gICAgICAgIHJldHVybiByZXBsYWNlUm9vdEFjdGlvbihzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwiZHVwbGljYXRlXCIpIHtcbiAgICAgICAgcmV0dXJuIGR1cGxpY2F0ZUFjdGlvbihzdGF0ZSwgYWN0aW9uLCBhcHBTdG9yZSk7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwicmVvcmRlclwiKSB7XG4gICAgICAgIHJldHVybiByZW9yZGVyQWN0aW9uKHN0YXRlLCBhY3Rpb24sIGFwcFN0b3JlKTtcbiAgICAgIH1cbiAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJtb3ZlXCIpIHtcbiAgICAgICAgcmV0dXJuIG1vdmVBY3Rpb24oc3RhdGUsIGFjdGlvbiwgYXBwU3RvcmUpO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcInJlbW92ZVwiKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVBY3Rpb24oc3RhdGUsIGFjdGlvbiwgYXBwU3RvcmUpO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcInJlZ2lzdGVyWm9uZVwiKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlclpvbmVBY3Rpb24oc3RhdGUsIGFjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwidW5yZWdpc3RlclpvbmVcIikge1xuICAgICAgICByZXR1cm4gdW5yZWdpc3RlclpvbmVBY3Rpb24oc3RhdGUsIGFjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFwic2V0RGF0YVwiKSB7XG4gICAgICAgIHJldHVybiBzZXREYXRhQWN0aW9uKHN0YXRlLCBhY3Rpb24sIGFwcFN0b3JlKTtcbiAgICAgIH1cbiAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJzZXRVaVwiKSB7XG4gICAgICAgIHJldHVybiBzZXRVaUFjdGlvbihzdGF0ZSwgYWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIHJlY29yZCxcbiAgICBvbkFjdGlvblxuICApO1xufVxuXG4vLyBzdG9yZS9pbmRleC50c1xuaW1wb3J0IHsgY3JlYXRlIGFzIGNyZWF0ZTIsIHVzZVN0b3JlIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IHN1YnNjcmliZVdpdGhTZWxlY3RvciBhcyBzdWJzY3JpYmVXaXRoU2VsZWN0b3IyIH0gZnJvbSBcInp1c3RhbmQvbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzdG9yZS9zbGljZXMvaGlzdG9yeS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi91c2UtaG90a2V5LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHsgc3Vic2NyaWJlV2l0aFNlbGVjdG9yIH0gZnJvbSBcInp1c3RhbmQvbWlkZGxld2FyZVwiO1xudmFyIGtleUNvZGVNYXAgPSB7XG4gIENvbnRyb2xMZWZ0OiBcImN0cmxcIixcbiAgQ29udHJvbFJpZ2h0OiBcImN0cmxcIixcbiAgTWV0YUxlZnQ6IFwibWV0YVwiLFxuICBNZXRhUmlnaHQ6IFwibWV0YVwiLFxuICBTaGlmdExlZnQ6IFwic2hpZnRcIixcbiAgU2hpZnRSaWdodDogXCJzaGlmdFwiLFxuICBLZXlBOiBcImFcIixcbiAgS2V5QjogXCJiXCIsXG4gIEtleUM6IFwiY1wiLFxuICBLZXlEOiBcImRcIixcbiAgS2V5RTogXCJlXCIsXG4gIEtleUY6IFwiZlwiLFxuICBLZXlHOiBcImdcIixcbiAgS2V5SDogXCJoXCIsXG4gIEtleUk6IFwiaVwiLFxuICBLZXlKOiBcImpcIixcbiAgS2V5SzogXCJrXCIsXG4gIEtleUw6IFwibFwiLFxuICBLZXlNOiBcIm1cIixcbiAgS2V5TjogXCJuXCIsXG4gIEtleU86IFwib1wiLFxuICBLZXlQOiBcInBcIixcbiAgS2V5UTogXCJxXCIsXG4gIEtleVI6IFwiclwiLFxuICBLZXlTOiBcInNcIixcbiAgS2V5VDogXCJ0XCIsXG4gIEtleVU6IFwidVwiLFxuICBLZXlWOiBcInZcIixcbiAgS2V5VzogXCJ3XCIsXG4gIEtleVg6IFwieFwiLFxuICBLZXlZOiBcInlcIixcbiAgS2V5WjogXCJ6XCJcbn07XG52YXIgdXNlSG90a2V5U3RvcmUgPSBjcmVhdGUoKShcbiAgc3Vic2NyaWJlV2l0aFNlbGVjdG9yKChzZXQpID0+ICh7XG4gICAgaGVsZDoge30sXG4gICAgaG9sZDogKGtleSkgPT4gc2V0KChzKSA9PiBzLmhlbGRba2V5XSA/IHMgOiB7IGhlbGQ6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHMuaGVsZCksIHsgW2tleV06IHRydWUgfSkgfSksXG4gICAgcmVsZWFzZTogKGtleSkgPT4gc2V0KChzKSA9PiBzLmhlbGRba2V5XSA/IHsgaGVsZDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcy5oZWxkKSwgeyBba2V5XTogZmFsc2UgfSkgfSA6IHMpLFxuICAgIHJlc2V0OiAoaGVsZCA9IHt9KSA9PiBzZXQoKCkgPT4gKHsgaGVsZCB9KSksXG4gICAgdHJpZ2dlcnM6IHt9XG4gIH0pKVxuKTtcbnZhciBtb25pdG9ySG90a2V5cyA9IChkb2MpID0+IHtcbiAgY29uc3Qgb25LZXlEb3duID0gKGUpID0+IHtcbiAgICBjb25zdCBrZXkgPSBrZXlDb2RlTWFwW2UuY29kZV07XG4gICAgaWYgKGtleSkge1xuICAgICAgdXNlSG90a2V5U3RvcmUuZ2V0U3RhdGUoKS5ob2xkKGtleSk7XG4gICAgICBjb25zdCB7IGhlbGQsIHRyaWdnZXJzIH0gPSB1c2VIb3RrZXlTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgT2JqZWN0LnZhbHVlcyh0cmlnZ2VycykuZm9yRWFjaCgoeyBjb21ibywgY2IgfSkgPT4ge1xuICAgICAgICBjb25zdCBjb25kaXRpb25NZXQgPSBPYmplY3QuZW50cmllcyhjb21ibykuZXZlcnkoXG4gICAgICAgICAgKFtrZXkyLCB2YWx1ZV0pID0+IHZhbHVlID09PSAhIWhlbGRba2V5Ml1cbiAgICAgICAgKSAmJiBPYmplY3QuZW50cmllcyhoZWxkKS5ldmVyeShcbiAgICAgICAgICAoW2tleTIsIHZhbHVlXSkgPT4gdmFsdWUgPT09ICEhY29tYm9ba2V5Ml1cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbk1ldCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChrZXkgIT09IFwibWV0YVwiICYmIGtleSAhPT0gXCJjdHJsXCIgJiYga2V5ICE9PSBcInNoaWZ0XCIpIHtcbiAgICAgICAgdXNlSG90a2V5U3RvcmUuZ2V0U3RhdGUoKS5yZWxlYXNlKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBvbktleVVwID0gKGUpID0+IHtcbiAgICBjb25zdCBrZXkgPSBrZXlDb2RlTWFwW2UuY29kZV07XG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJtZXRhXCIpIHtcbiAgICAgICAgdXNlSG90a2V5U3RvcmUuZ2V0U3RhdGUoKS5yZXNldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlSG90a2V5U3RvcmUuZ2V0U3RhdGUoKS5yZWxlYXNlKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBvblZpc2liaWxpdHlDaGFuZ2VkID0gKGUpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgICB1c2VIb3RrZXlTdG9yZS5nZXRTdGF0ZSgpLnJlc2V0KCk7XG4gICAgfVxuICB9O1xuICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBvbktleVVwKTtcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIG9uVmlzaWJpbGl0eUNoYW5nZWQpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgb25LZXlVcCk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIG9uVmlzaWJpbGl0eUNoYW5nZWQpO1xuICB9O1xufTtcbnZhciB1c2VNb25pdG9ySG90a2V5cyA9ICgpID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IG1vbml0b3JIb3RrZXlzKGRvY3VtZW50KSwgW10pO1xufTtcbnZhciB1c2VIb3RrZXkgPSAoY29tYm8sIGNiKSA9PiB7XG4gIHVzZUVmZmVjdChcbiAgICAoKSA9PiB1c2VIb3RrZXlTdG9yZS5zZXRTdGF0ZSgocykgPT4gKHtcbiAgICAgIHRyaWdnZXJzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzLnRyaWdnZXJzKSwge1xuICAgICAgICBbYCR7T2JqZWN0LmtleXMoY29tYm8pLmpvaW4oXCIrXCIpfWBdOiB7IGNvbWJvLCBjYiB9XG4gICAgICB9KVxuICAgIH0pKSxcbiAgICBbXVxuICApO1xufTtcblxuLy8gc3RvcmUvc2xpY2VzL2hpc3RvcnkudHNcbnZhciBFTVBUWV9ISVNUT1JZX0lOREVYID0gMDtcbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHRpbWVvdXQzID0gMzAwKSB7XG4gIGxldCB0aW1lcjtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICB9LCB0aW1lb3V0Myk7XG4gIH07XG59XG52YXIgdGlkeVN0YXRlID0gKHN0YXRlKSA9PiB7XG4gIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZSksIHtcbiAgICB1aTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3RhdGUudWkpLCB7XG4gICAgICBmaWVsZDoge1xuICAgICAgICBmb2N1czogbnVsbFxuICAgICAgfVxuICAgIH0pXG4gIH0pO1xufTtcbnZhciBjcmVhdGVIaXN0b3J5U2xpY2UgPSAoc2V0LCBnZXQpID0+IHtcbiAgY29uc3QgcmVjb3JkID0gZGVib3VuY2UoKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgeyBoaXN0b3JpZXMsIGluZGV4IH0gPSBnZXQoKS5oaXN0b3J5O1xuICAgIGNvbnN0IGhpc3RvcnkgPSB7XG4gICAgICBzdGF0ZSxcbiAgICAgIGlkOiBnZW5lcmF0ZUlkKFwiaGlzdG9yeVwiKVxuICAgIH07XG4gICAgY29uc3QgbmV3SGlzdG9yaWVzID0gWy4uLmhpc3Rvcmllcy5zbGljZSgwLCBpbmRleCArIDEpLCBoaXN0b3J5XTtcbiAgICBzZXQoe1xuICAgICAgaGlzdG9yeTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2V0KCkuaGlzdG9yeSksIHtcbiAgICAgICAgaGlzdG9yaWVzOiBuZXdIaXN0b3JpZXMsXG4gICAgICAgIGluZGV4OiBuZXdIaXN0b3JpZXMubGVuZ3RoIC0gMVxuICAgICAgfSlcbiAgICB9KTtcbiAgfSwgMjUwKTtcbiAgcmV0dXJuIHtcbiAgICBpbml0aWFsQXBwU3RhdGU6IHt9LFxuICAgIGluZGV4OiBFTVBUWV9ISVNUT1JZX0lOREVYLFxuICAgIGhpc3RvcmllczogW10sXG4gICAgaGFzUGFzdDogKCkgPT4gZ2V0KCkuaGlzdG9yeS5pbmRleCA+IEVNUFRZX0hJU1RPUllfSU5ERVgsXG4gICAgaGFzRnV0dXJlOiAoKSA9PiBnZXQoKS5oaXN0b3J5LmluZGV4IDwgZ2V0KCkuaGlzdG9yeS5oaXN0b3JpZXMubGVuZ3RoIC0gMSxcbiAgICBwcmV2SGlzdG9yeTogKCkgPT4ge1xuICAgICAgY29uc3QgeyBoaXN0b3J5IH0gPSBnZXQoKTtcbiAgICAgIHJldHVybiBoaXN0b3J5Lmhhc1Bhc3QoKSA/IGhpc3RvcnkuaGlzdG9yaWVzW2hpc3RvcnkuaW5kZXggLSAxXSA6IG51bGw7XG4gICAgfSxcbiAgICBuZXh0SGlzdG9yeTogKCkgPT4ge1xuICAgICAgY29uc3QgcyA9IGdldCgpLmhpc3Rvcnk7XG4gICAgICByZXR1cm4gcy5oYXNGdXR1cmUoKSA/IHMuaGlzdG9yaWVzW3MuaW5kZXggKyAxXSA6IG51bGw7XG4gICAgfSxcbiAgICBjdXJyZW50SGlzdG9yeTogKCkgPT4gZ2V0KCkuaGlzdG9yeS5oaXN0b3JpZXNbZ2V0KCkuaGlzdG9yeS5pbmRleF0sXG4gICAgYmFjazogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgeyBoaXN0b3J5LCBkaXNwYXRjaCB9ID0gZ2V0KCk7XG4gICAgICBpZiAoaGlzdG9yeS5oYXNQYXN0KCkpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aWR5U3RhdGUoXG4gICAgICAgICAgKChfYSA9IGhpc3RvcnkucHJldkhpc3RvcnkoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0YXRlKSB8fCBoaXN0b3J5LmluaXRpYWxBcHBTdGF0ZVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICBzdGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgc2V0KHsgaGlzdG9yeTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaGlzdG9yeSksIHsgaW5kZXg6IGhpc3RvcnkuaW5kZXggLSAxIH0pIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9yd2FyZDogKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgeyBoaXN0b3J5LCBkaXNwYXRjaCB9ID0gZ2V0KCk7XG4gICAgICBpZiAoaGlzdG9yeS5oYXNGdXR1cmUoKSkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IChfYSA9IGhpc3RvcnkubmV4dEhpc3RvcnkoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0YXRlO1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwic2V0XCIsIHN0YXRlOiBzdGF0ZSA/IHRpZHlTdGF0ZShzdGF0ZSkgOiB7fSB9KTtcbiAgICAgICAgc2V0KHsgaGlzdG9yeTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaGlzdG9yeSksIHsgaW5kZXg6IGhpc3RvcnkuaW5kZXggKyAxIH0pIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0SGlzdG9yaWVzOiAoaGlzdG9yaWVzKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCB7IGRpc3BhdGNoLCBoaXN0b3J5IH0gPSBnZXQoKTtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgc3RhdGU6ICgoX2EgPSBoaXN0b3JpZXNbaGlzdG9yaWVzLmxlbmd0aCAtIDFdKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3RhdGUpIHx8IGhpc3RvcnkuaW5pdGlhbEFwcFN0YXRlXG4gICAgICB9KTtcbiAgICAgIHNldCh7IGhpc3Rvcnk6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGhpc3RvcnkpLCB7IGhpc3RvcmllcywgaW5kZXg6IGhpc3Rvcmllcy5sZW5ndGggLSAxIH0pIH0pO1xuICAgIH0sXG4gICAgc2V0SGlzdG9yeUluZGV4OiAoaW5kZXgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHsgZGlzcGF0Y2gsIGhpc3RvcnkgfSA9IGdldCgpO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICBzdGF0ZTogKChfYSA9IGhpc3RvcnkuaGlzdG9yaWVzW2luZGV4XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0YXRlKSB8fCBoaXN0b3J5LmluaXRpYWxBcHBTdGF0ZVxuICAgICAgfSk7XG4gICAgICBzZXQoeyBoaXN0b3J5OiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBoaXN0b3J5KSwgeyBpbmRleCB9KSB9KTtcbiAgICB9LFxuICAgIHJlY29yZFxuICB9O1xufTtcbmZ1bmN0aW9uIHVzZVJlZ2lzdGVySGlzdG9yeVNsaWNlKGFwcFN0b3JlLCB7XG4gIGhpc3RvcmllcyxcbiAgaW5kZXgsXG4gIGluaXRpYWxBcHBTdGF0ZVxufSkge1xuICB1c2VFZmZlY3QyKFxuICAgICgpID0+IGFwcFN0b3JlLnNldFN0YXRlKHtcbiAgICAgIGhpc3Rvcnk6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFwcFN0b3JlLmdldFN0YXRlKCkuaGlzdG9yeSksIHtcbiAgICAgICAgaGlzdG9yaWVzLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgaW5pdGlhbEFwcFN0YXRlXG4gICAgICB9KVxuICAgIH0pLFxuICAgIFtoaXN0b3JpZXMsIGluZGV4LCBpbml0aWFsQXBwU3RhdGVdXG4gICk7XG4gIGNvbnN0IGJhY2sgPSAoKSA9PiB7XG4gICAgYXBwU3RvcmUuZ2V0U3RhdGUoKS5oaXN0b3J5LmJhY2soKTtcbiAgfTtcbiAgY29uc3QgZm9yd2FyZCA9ICgpID0+IHtcbiAgICBhcHBTdG9yZS5nZXRTdGF0ZSgpLmhpc3RvcnkuZm9yd2FyZCgpO1xuICB9O1xuICB1c2VIb3RrZXkoeyBtZXRhOiB0cnVlLCB6OiB0cnVlIH0sIGJhY2spO1xuICB1c2VIb3RrZXkoeyBtZXRhOiB0cnVlLCBzaGlmdDogdHJ1ZSwgejogdHJ1ZSB9LCBmb3J3YXJkKTtcbiAgdXNlSG90a2V5KHsgbWV0YTogdHJ1ZSwgeTogdHJ1ZSB9LCBmb3J3YXJkKTtcbiAgdXNlSG90a2V5KHsgY3RybDogdHJ1ZSwgejogdHJ1ZSB9LCBiYWNrKTtcbiAgdXNlSG90a2V5KHsgY3RybDogdHJ1ZSwgc2hpZnQ6IHRydWUsIHo6IHRydWUgfSwgZm9yd2FyZCk7XG4gIHVzZUhvdGtleSh7IGN0cmw6IHRydWUsIHk6IHRydWUgfSwgZm9yd2FyZCk7XG59XG5cbi8vIHN0b3JlL3NsaWNlcy9ub2Rlcy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBjcmVhdGVOb2Rlc1NsaWNlID0gKHNldCwgZ2V0KSA9PiAoe1xuICBub2Rlczoge30sXG4gIHJlZ2lzdGVyTm9kZTogKGlkLCBub2RlKSA9PiB7XG4gICAgY29uc3QgcyA9IGdldCgpLm5vZGVzO1xuICAgIGNvbnN0IGVtcHR5Tm9kZSA9IHtcbiAgICAgIGlkLFxuICAgICAgbWV0aG9kczoge1xuICAgICAgICBzeW5jOiAoKSA9PiBudWxsLFxuICAgICAgICBoaWRlT3ZlcmxheTogKCkgPT4gbnVsbCxcbiAgICAgICAgc2hvd092ZXJsYXk6ICgpID0+IG51bGxcbiAgICAgIH0sXG4gICAgICBlbGVtZW50OiBudWxsXG4gICAgfTtcbiAgICBjb25zdCBleGlzdGluZ05vZGUgPSBzLm5vZGVzW2lkXTtcbiAgICBzZXQoe1xuICAgICAgbm9kZXM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHMpLCB7XG4gICAgICAgIG5vZGVzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzLm5vZGVzKSwge1xuICAgICAgICAgIFtpZF06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGVtcHR5Tm9kZSksIGV4aXN0aW5nTm9kZSksIG5vZGUpLCB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICB1bnJlZ2lzdGVyTm9kZTogKGlkKSA9PiB7XG4gICAgY29uc3QgcyA9IGdldCgpLm5vZGVzO1xuICAgIGNvbnN0IGV4aXN0aW5nTm9kZSA9IHMubm9kZXNbaWRdO1xuICAgIGlmIChleGlzdGluZ05vZGUpIHtcbiAgICAgIGNvbnN0IG5ld05vZGVzID0gX19zcHJlYWRWYWx1ZXMoe30sIHMubm9kZXMpO1xuICAgICAgZGVsZXRlIG5ld05vZGVzW2lkXTtcbiAgICAgIHNldCh7XG4gICAgICAgIG5vZGVzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzKSwge1xuICAgICAgICAgIG5vZGVzOiBuZXdOb2Rlc1xuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcblxuLy8gc3RvcmUvc2xpY2VzL3Blcm1pc3Npb25zLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDMgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RhdGEvZmxhdHRlbi1kYXRhLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIGZsYXR0ZW5EYXRhID0gKHN0YXRlLCBjb25maWcpID0+IHtcbiAgY29uc3QgZGF0YSA9IFtdO1xuICB3YWxrQXBwU3RhdGUoXG4gICAgc3RhdGUsXG4gICAgY29uZmlnLFxuICAgIChjb250ZW50KSA9PiBjb250ZW50LFxuICAgIChpdGVtKSA9PiB7XG4gICAgICBkYXRhLnB1c2goaXRlbSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICk7XG4gIHJldHVybiBkYXRhO1xufTtcblxuLy8gc3RvcmUvc2xpY2VzL3Blcm1pc3Npb25zLnRzXG52YXIgY3JlYXRlUGVybWlzc2lvbnNTbGljZSA9IChzZXQsIGdldCkgPT4ge1xuICBjb25zdCByZXNvbHZlUGVybWlzc2lvbnMgPSAoLi4uXzApID0+IF9fYXN5bmModm9pZCAwLCBbLi4uXzBdLCBmdW5jdGlvbiogKHBhcmFtcyA9IHt9LCBmb3JjZSkge1xuICAgIGNvbnN0IHsgc3RhdGUsIHBlcm1pc3Npb25zLCBjb25maWcgfSA9IGdldCgpO1xuICAgIGNvbnN0IHsgY2FjaGUsIGdsb2JhbFBlcm1pc3Npb25zIH0gPSBwZXJtaXNzaW9ucztcbiAgICBjb25zdCByZXNvbHZlRGF0YUZvckl0ZW0gPSAoaXRlbTIsIGZvcmNlMiA9IGZhbHNlKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgY29uc3QgeyBjb25maWc6IGNvbmZpZzIsIHN0YXRlOiBhcHBTdGF0ZSwgc2V0Q29tcG9uZW50TG9hZGluZyB9ID0gZ2V0KCk7XG4gICAgICBjb25zdCBjb21wb25lbnRDb25maWcgPSBpdGVtMi50eXBlID09PSBcInJvb3RcIiA/IGNvbmZpZzIucm9vdCA6IGNvbmZpZzIuY29tcG9uZW50c1tpdGVtMi50eXBlXTtcbiAgICAgIGlmICghY29tcG9uZW50Q29uZmlnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluaXRpYWxQZXJtaXNzaW9ucyA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBnbG9iYWxQZXJtaXNzaW9ucyksIGNvbXBvbmVudENvbmZpZy5wZXJtaXNzaW9ucyk7XG4gICAgICBpZiAoY29tcG9uZW50Q29uZmlnLnJlc29sdmVQZXJtaXNzaW9ucykge1xuICAgICAgICBjb25zdCBjaGFuZ2VkID0gZ2V0Q2hhbmdlZChpdGVtMiwgKF9hID0gY2FjaGVbaXRlbTIucHJvcHMuaWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGFzdERhdGEpO1xuICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhjaGFuZ2VkKS5zb21lKChlbCkgPT4gZWwgPT09IHRydWUpIHx8IGZvcmNlMikge1xuICAgICAgICAgIGNvbnN0IGNsZWFyVGltZW91dDIgPSBzZXRDb21wb25lbnRMb2FkaW5nKGl0ZW0yLnByb3BzLmlkLCB0cnVlLCA1MCk7XG4gICAgICAgICAgY29uc3QgcmVzb2x2ZWRQZXJtaXNzaW9ucyA9IHlpZWxkIGNvbXBvbmVudENvbmZpZy5yZXNvbHZlUGVybWlzc2lvbnMoXG4gICAgICAgICAgICBpdGVtMixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2hhbmdlZCxcbiAgICAgICAgICAgICAgbGFzdFBlcm1pc3Npb25zOiAoKF9iID0gY2FjaGVbaXRlbTIucHJvcHMuaWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2IubGFzdFBlcm1pc3Npb25zKSB8fCBudWxsLFxuICAgICAgICAgICAgICBwZXJtaXNzaW9uczogaW5pdGlhbFBlcm1pc3Npb25zLFxuICAgICAgICAgICAgICBhcHBTdGF0ZTogbWFrZVN0YXRlUHVibGljKGFwcFN0YXRlKSxcbiAgICAgICAgICAgICAgbGFzdERhdGE6ICgoX2MgPSBjYWNoZVtpdGVtMi5wcm9wcy5pZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYy5sYXN0RGF0YSkgfHwgbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgbGF0ZXN0ID0gZ2V0KCkucGVybWlzc2lvbnM7XG4gICAgICAgICAgc2V0KHtcbiAgICAgICAgICAgIHBlcm1pc3Npb25zOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBsYXRlc3QpLCB7XG4gICAgICAgICAgICAgIGNhY2hlOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBsYXRlc3QuY2FjaGUpLCB7XG4gICAgICAgICAgICAgICAgW2l0ZW0yLnByb3BzLmlkXToge1xuICAgICAgICAgICAgICAgICAgbGFzdERhdGE6IGl0ZW0yLFxuICAgICAgICAgICAgICAgICAgbGFzdFBlcm1pc3Npb25zOiByZXNvbHZlZFBlcm1pc3Npb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgcmVzb2x2ZWRQZXJtaXNzaW9uczogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgbGF0ZXN0LnJlc29sdmVkUGVybWlzc2lvbnMpLCB7XG4gICAgICAgICAgICAgICAgW2l0ZW0yLnByb3BzLmlkXTogcmVzb2x2ZWRQZXJtaXNzaW9uc1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCByZXNvbHZlRGF0YUZvclJvb3QgPSAoZm9yY2UyID0gZmFsc2UpID0+IHtcbiAgICAgIGNvbnN0IHsgc3RhdGU6IGFwcFN0YXRlIH0gPSBnZXQoKTtcbiAgICAgIHJlc29sdmVEYXRhRm9ySXRlbShcbiAgICAgICAgLy8gU2hpbSB0aGUgcm9vdCBkYXRhIGluIGJ5IGNvbmZvcm1pbmcgdG8gY29tcG9uZW50IGRhdGEgc2hhcGVcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwicm9vdFwiLFxuICAgICAgICAgIHByb3BzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBhcHBTdGF0ZS5kYXRhLnJvb3QucHJvcHMpLCB7IGlkOiBcInJvb3RcIiB9KVxuICAgICAgICB9LFxuICAgICAgICBmb3JjZTJcbiAgICAgICk7XG4gICAgfTtcbiAgICBjb25zdCB7IGl0ZW0sIHR5cGUsIHJvb3QgfSA9IHBhcmFtcztcbiAgICBpZiAoaXRlbSkge1xuICAgICAgeWllbGQgcmVzb2x2ZURhdGFGb3JJdGVtKGl0ZW0sIGZvcmNlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUpIHtcbiAgICAgIGZsYXR0ZW5EYXRhKHN0YXRlLCBjb25maWcpLmZpbHRlcigoaXRlbTIpID0+IGl0ZW0yLnR5cGUgPT09IHR5cGUpLm1hcCgoaXRlbTIpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB5aWVsZCByZXNvbHZlRGF0YUZvckl0ZW0oaXRlbTIsIGZvcmNlKTtcbiAgICAgIH0pKTtcbiAgICB9IGVsc2UgaWYgKHJvb3QpIHtcbiAgICAgIHJlc29sdmVEYXRhRm9yUm9vdChmb3JjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsYXR0ZW5EYXRhKHN0YXRlLCBjb25maWcpLm1hcCgoaXRlbTIpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB5aWVsZCByZXNvbHZlRGF0YUZvckl0ZW0oaXRlbTIsIGZvcmNlKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZWZyZXNoUGVybWlzc2lvbnMgPSAocGFyYW1zKSA9PiByZXNvbHZlUGVybWlzc2lvbnMocGFyYW1zLCB0cnVlKTtcbiAgcmV0dXJuIHtcbiAgICBjYWNoZToge30sXG4gICAgZ2xvYmFsUGVybWlzc2lvbnM6IHtcbiAgICAgIGRyYWc6IHRydWUsXG4gICAgICBlZGl0OiB0cnVlLFxuICAgICAgZGVsZXRlOiB0cnVlLFxuICAgICAgZHVwbGljYXRlOiB0cnVlLFxuICAgICAgaW5zZXJ0OiB0cnVlXG4gICAgfSxcbiAgICByZXNvbHZlZFBlcm1pc3Npb25zOiB7fSxcbiAgICBnZXRQZXJtaXNzaW9uczogKHsgaXRlbSwgdHlwZSwgcm9vdCB9ID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHsgY29uZmlnLCBwZXJtaXNzaW9ucyB9ID0gZ2V0KCk7XG4gICAgICBjb25zdCB7IGdsb2JhbFBlcm1pc3Npb25zLCByZXNvbHZlZFBlcm1pc3Npb25zIH0gPSBwZXJtaXNzaW9ucztcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudENvbmZpZyA9IGNvbmZpZy5jb21wb25lbnRzW2l0ZW0udHlwZV07XG4gICAgICAgIGNvbnN0IGluaXRpYWxQZXJtaXNzaW9ucyA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBnbG9iYWxQZXJtaXNzaW9ucyksIGNvbXBvbmVudENvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29tcG9uZW50Q29uZmlnLnBlcm1pc3Npb25zKTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRGb3JJdGVtID0gcmVzb2x2ZWRQZXJtaXNzaW9uc1tpdGVtLnByb3BzLmlkXTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkRm9ySXRlbSA/IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBnbG9iYWxQZXJtaXNzaW9ucyksIHJlc29sdmVkRm9ySXRlbSkgOiBpbml0aWFsUGVybWlzc2lvbnM7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50Q29uZmlnID0gY29uZmlnLmNvbXBvbmVudHNbdHlwZV07XG4gICAgICAgIHJldHVybiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2xvYmFsUGVybWlzc2lvbnMpLCBjb21wb25lbnRDb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBvbmVudENvbmZpZy5wZXJtaXNzaW9ucyk7XG4gICAgICB9IGVsc2UgaWYgKHJvb3QpIHtcbiAgICAgICAgY29uc3Qgcm9vdENvbmZpZyA9IGNvbmZpZy5yb290O1xuICAgICAgICBjb25zdCBpbml0aWFsUGVybWlzc2lvbnMgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2xvYmFsUGVybWlzc2lvbnMpLCByb290Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiByb290Q29uZmlnLnBlcm1pc3Npb25zKTtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRGb3JJdGVtID0gcmVzb2x2ZWRQZXJtaXNzaW9uc1tcInJvb3RcIl07XG4gICAgICAgIHJldHVybiByZXNvbHZlZEZvckl0ZW0gPyBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2xvYmFsUGVybWlzc2lvbnMpLCByZXNvbHZlZEZvckl0ZW0pIDogaW5pdGlhbFBlcm1pc3Npb25zO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdsb2JhbFBlcm1pc3Npb25zO1xuICAgIH0sXG4gICAgcmVzb2x2ZVBlcm1pc3Npb25zLFxuICAgIHJlZnJlc2hQZXJtaXNzaW9uc1xuICB9O1xufTtcbnZhciB1c2VSZWdpc3RlclBlcm1pc3Npb25zU2xpY2UgPSAoYXBwU3RvcmUsIGdsb2JhbFBlcm1pc3Npb25zKSA9PiB7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvbnMgfSA9IGFwcFN0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgeyBnbG9iYWxQZXJtaXNzaW9uczogZXhpc3RpbmdHbG9iYWxQZXJtaXNzaW9ucyB9ID0gcGVybWlzc2lvbnM7XG4gICAgYXBwU3RvcmUuc2V0U3RhdGUoe1xuICAgICAgcGVybWlzc2lvbnM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHBlcm1pc3Npb25zKSwge1xuICAgICAgICBnbG9iYWxQZXJtaXNzaW9uczogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGV4aXN0aW5nR2xvYmFsUGVybWlzc2lvbnMpLCBnbG9iYWxQZXJtaXNzaW9ucylcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgcGVybWlzc2lvbnMucmVzb2x2ZVBlcm1pc3Npb25zKCk7XG4gIH0sIFtnbG9iYWxQZXJtaXNzaW9uc10pO1xuICB1c2VFZmZlY3QzKCgpID0+IHtcbiAgICByZXR1cm4gYXBwU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHMpID0+IHMuc3RhdGUuZGF0YSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgYXBwU3RvcmUuZ2V0U3RhdGUoKS5wZXJtaXNzaW9ucy5yZXNvbHZlUGVybWlzc2lvbnMoKTtcbiAgICAgIH1cbiAgICApO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIHJldHVybiBhcHBTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAocykgPT4gcy5jb25maWcsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGFwcFN0b3JlLmdldFN0YXRlKCkucGVybWlzc2lvbnMucmVzb2x2ZVBlcm1pc3Npb25zKCk7XG4gICAgICB9XG4gICAgKTtcbiAgfSwgW10pO1xufTtcblxuLy8gc3RvcmUvc2xpY2VzL2ZpZWxkcy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NCB9IGZyb20gXCJyZWFjdFwiO1xudmFyIGNyZWF0ZUZpZWxkc1NsaWNlID0gKF9zZXQsIF9nZXQpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBmaWVsZHM6IHt9LFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIGxhc3RSZXNvbHZlZERhdGE6IHt9LFxuICAgIGlkOiB2b2lkIDBcbiAgfTtcbn07XG52YXIgdXNlUmVnaXN0ZXJGaWVsZHNTbGljZSA9IChhcHBTdG9yZSwgaWQpID0+IHtcbiAgY29uc3QgcmVzb2x2ZUZpZWxkcyA9IHVzZUNhbGxiYWNrKFxuICAgIChyZXNldCkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgY29uc3QgeyBmaWVsZHMsIGxhc3RSZXNvbHZlZERhdGEgfSA9IGFwcFN0b3JlLmdldFN0YXRlKCkuZmllbGRzO1xuICAgICAgY29uc3Qgbm9kZXMgPSBhcHBTdG9yZS5nZXRTdGF0ZSgpLnN0YXRlLmluZGV4ZXMubm9kZXM7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbaWQgfHwgXCJyb290XCJdO1xuICAgICAgY29uc3QgY29tcG9uZW50RGF0YSA9IG5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IG5vZGUuZGF0YTtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSAobm9kZSA9PSBudWxsID8gdm9pZCAwIDogbm9kZS5wYXJlbnRJZCkgPyBub2Rlc1tub2RlLnBhcmVudElkXSA6IG51bGw7XG4gICAgICBjb25zdCBwYXJlbnQgPSAocGFyZW50Tm9kZSA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50Tm9kZS5kYXRhKSB8fCBudWxsO1xuICAgICAgY29uc3QgeyBnZXRDb21wb25lbnRDb25maWcsIHN0YXRlIH0gPSBhcHBTdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgY29tcG9uZW50Q29uZmlnID0gZ2V0Q29tcG9uZW50Q29uZmlnKGNvbXBvbmVudERhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBvbmVudERhdGEudHlwZSk7XG4gICAgICBpZiAoIWNvbXBvbmVudERhdGEgfHwgIWNvbXBvbmVudENvbmZpZykgcmV0dXJuO1xuICAgICAgY29uc3QgZGVmYXVsdEZpZWxkczIgPSBjb21wb25lbnRDb25maWcuZmllbGRzIHx8IHt9O1xuICAgICAgY29uc3QgcmVzb2x2ZXIgPSBjb21wb25lbnRDb25maWcucmVzb2x2ZUZpZWxkcztcbiAgICAgIGxldCBsYXN0RmllbGRzID0gZmllbGRzO1xuICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgIGFwcFN0b3JlLnNldFN0YXRlKChzKSA9PiAoe1xuICAgICAgICAgIGZpZWxkczogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcy5maWVsZHMpLCB7IGZpZWxkczogZGVmYXVsdEZpZWxkczIsIGlkIH0pXG4gICAgICAgIH0pKTtcbiAgICAgICAgbGFzdEZpZWxkcyA9IGRlZmF1bHRGaWVsZHMyO1xuICAgICAgfVxuICAgICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQzID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYXBwU3RvcmUuc2V0U3RhdGUoKHMpID0+ICh7XG4gICAgICAgICAgICBmaWVsZHM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHMuZmllbGRzKSwgeyBsb2FkaW5nOiB0cnVlIH0pXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICAgIGNvbnN0IGxhc3REYXRhID0gKChfYSA9IGxhc3RSZXNvbHZlZERhdGEucHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pZCkgPT09IGlkID8gbGFzdFJlc29sdmVkRGF0YSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGNoYW5nZWQgPSBnZXRDaGFuZ2VkKGNvbXBvbmVudERhdGEsIGxhc3REYXRhKTtcbiAgICAgICAgY29uc3QgbmV3RmllbGRzID0geWllbGQgcmVzb2x2ZXIoY29tcG9uZW50RGF0YSwge1xuICAgICAgICAgIGNoYW5nZWQsXG4gICAgICAgICAgZmllbGRzOiBkZWZhdWx0RmllbGRzMixcbiAgICAgICAgICBsYXN0RmllbGRzLFxuICAgICAgICAgIGxhc3REYXRhLFxuICAgICAgICAgIGFwcFN0YXRlOiBtYWtlU3RhdGVQdWJsaWMoc3RhdGUpLFxuICAgICAgICAgIHBhcmVudFxuICAgICAgICB9KTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQzKTtcbiAgICAgICAgaWYgKCgoX2IgPSBhcHBTdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnByb3BzLmlkKSAhPT0gaWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXBwU3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgZmllbGRzOiBuZXdGaWVsZHMsXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGxhc3RSZXNvbHZlZERhdGE6IGNvbXBvbmVudERhdGEsXG4gICAgICAgICAgICBpZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBTdG9yZS5zZXRTdGF0ZSgocykgPT4gKHtcbiAgICAgICAgICBmaWVsZHM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHMuZmllbGRzKSwgeyBmaWVsZHM6IGRlZmF1bHRGaWVsZHMyLCBpZCB9KVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgW2lkXVxuICApO1xuICB1c2VFZmZlY3Q0KCgpID0+IHtcbiAgICByZXNvbHZlRmllbGRzKHRydWUpO1xuICAgIHJldHVybiBhcHBTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAocykgPT4gcy5zdGF0ZS5pbmRleGVzLm5vZGVzW2lkIHx8IFwicm9vdFwiXSxcbiAgICAgICgpID0+IHJlc29sdmVGaWVsZHMoKVxuICAgICk7XG4gIH0sIFtpZF0pO1xufTtcblxuLy8gbGliL2RhdGEvdG8tcm9vdC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciB0b1Jvb3QgPSAoaXRlbSkgPT4ge1xuICBpZiAoXCJ0eXBlXCIgaW4gaXRlbSAmJiBpdGVtLnR5cGUgIT09IFwicm9vdFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmVydGluZyBub24tcm9vdCBpdGVtIHRvIHJvb3QuXCIpO1xuICB9XG4gIGNvbnN0IHsgcmVhZE9ubHkgfSA9IGl0ZW07XG4gIGlmIChpdGVtLnByb3BzKSB7XG4gICAgaWYgKFwiaWRcIiBpbiBpdGVtLnByb3BzKSB7XG4gICAgICBjb25zdCBfYSA9IGl0ZW0ucHJvcHMsIHsgaWQgfSA9IF9hLCBwcm9wcyA9IF9fb2JqUmVzdChfYSwgW1wiaWRcIl0pO1xuICAgICAgcmV0dXJuIHsgcHJvcHMsIHJlYWRPbmx5IH07XG4gICAgfVxuICAgIHJldHVybiB7IHByb3BzOiBpdGVtLnByb3BzLCByZWFkT25seSB9O1xuICB9XG4gIHJldHVybiB7IHByb3BzOiB7fSwgcmVhZE9ubHkgfTtcbn07XG5cbi8vIHN0b3JlL2luZGV4LnRzXG52YXIgZGVmYXVsdFBhZ2VGaWVsZHMgPSB7XG4gIHRpdGxlOiB7IHR5cGU6IFwidGV4dFwiIH1cbn07XG52YXIgY3JlYXRlQXBwU3RvcmUgPSAoaW5pdGlhbEFwcFN0b3JlKSA9PiBjcmVhdGUyKCkoXG4gIHN1YnNjcmliZVdpdGhTZWxlY3RvcjIoKHNldCwgZ2V0KSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBzdGF0ZTogZGVmYXVsdEFwcFN0YXRlLFxuICAgICAgY29uZmlnOiB7IGNvbXBvbmVudHM6IHt9IH0sXG4gICAgICBjb21wb25lbnRTdGF0ZToge30sXG4gICAgICBwbHVnaW5zOiBbXSxcbiAgICAgIG92ZXJyaWRlczoge30sXG4gICAgICB2aWV3cG9ydHM6IGRlZmF1bHRWaWV3cG9ydHMsXG4gICAgICB6b29tQ29uZmlnOiB7XG4gICAgICAgIGF1dG9ab29tOiAxLFxuICAgICAgICByb290SGVpZ2h0OiAwLFxuICAgICAgICB6b29tOiAxXG4gICAgICB9LFxuICAgICAgc3RhdHVzOiBcIkxPQURJTkdcIixcbiAgICAgIGlmcmFtZToge30sXG4gICAgICBtZXRhZGF0YToge30sXG4gICAgICBmaWVsZFRyYW5zZm9ybXM6IHt9XG4gICAgfSwgaW5pdGlhbEFwcFN0b3JlKSwge1xuICAgICAgZmllbGRzOiBjcmVhdGVGaWVsZHNTbGljZShzZXQsIGdldCksXG4gICAgICBoaXN0b3J5OiBjcmVhdGVIaXN0b3J5U2xpY2Uoc2V0LCBnZXQpLFxuICAgICAgbm9kZXM6IGNyZWF0ZU5vZGVzU2xpY2Uoc2V0LCBnZXQpLFxuICAgICAgcGVybWlzc2lvbnM6IGNyZWF0ZVBlcm1pc3Npb25zU2xpY2Uoc2V0LCBnZXQpLFxuICAgICAgZ2V0Q29tcG9uZW50Q29uZmlnOiAodHlwZSkgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICBjb25zdCB7IGNvbmZpZywgc2VsZWN0ZWRJdGVtIH0gPSBnZXQoKTtcbiAgICAgICAgY29uc3Qgcm9vdEZpZWxkcyA9ICgoX2EyID0gY29uZmlnLnJvb3QpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZmllbGRzKSB8fCBkZWZhdWx0UGFnZUZpZWxkcztcbiAgICAgICAgcmV0dXJuIHR5cGUgJiYgdHlwZSAhPT0gXCJyb290XCIgPyBjb25maWcuY29tcG9uZW50c1t0eXBlXSA6IHNlbGVjdGVkSXRlbSA/IGNvbmZpZy5jb21wb25lbnRzW3NlbGVjdGVkSXRlbS50eXBlXSA6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvbmZpZy5yb290KSwgeyBmaWVsZHM6IHJvb3RGaWVsZHMgfSk7XG4gICAgICB9LFxuICAgICAgc2VsZWN0ZWRJdGVtOiAoKF9hID0gaW5pdGlhbEFwcFN0b3JlID09IG51bGwgPyB2b2lkIDAgOiBpbml0aWFsQXBwU3RvcmUuc3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS51aS5pdGVtU2VsZWN0b3IpID8gZ2V0SXRlbShcbiAgICAgICAgKF9iID0gaW5pdGlhbEFwcFN0b3JlID09IG51bGwgPyB2b2lkIDAgOiBpbml0aWFsQXBwU3RvcmUuc3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi51aS5pdGVtU2VsZWN0b3IsXG4gICAgICAgIGluaXRpYWxBcHBTdG9yZS5zdGF0ZVxuICAgICAgKSA6IG51bGwsXG4gICAgICBkaXNwYXRjaDogKGFjdGlvbikgPT4gc2V0KChzKSA9PiB7XG4gICAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgICAgY29uc3QgeyByZWNvcmQgfSA9IGdldCgpLmhpc3Rvcnk7XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlUmVkdWNlcih7XG4gICAgICAgICAgcmVjb3JkLFxuICAgICAgICAgIGFwcFN0b3JlOiBzXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGRpc3BhdGNoKHMuc3RhdGUsIGFjdGlvbik7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHN0YXRlLnVpLml0ZW1TZWxlY3RvciA/IGdldEl0ZW0oc3RhdGUudWkuaXRlbVNlbGVjdG9yLCBzdGF0ZSkgOiBudWxsO1xuICAgICAgICAoX2IyID0gKF9hMiA9IGdldCgpKS5vbkFjdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5jYWxsKF9hMiwgYWN0aW9uLCBzdGF0ZSwgZ2V0KCkuc3RhdGUpO1xuICAgICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcyksIHsgc3RhdGUsIHNlbGVjdGVkSXRlbSB9KTtcbiAgICAgIH0pLFxuICAgICAgc2V0Wm9vbUNvbmZpZzogKHpvb21Db25maWcpID0+IHNldCh7IHpvb21Db25maWcgfSksXG4gICAgICBzZXRTdGF0dXM6IChzdGF0dXMpID0+IHNldCh7IHN0YXR1cyB9KSxcbiAgICAgIHNldENvbXBvbmVudFN0YXRlOiAoY29tcG9uZW50U3RhdGUpID0+IHNldCh7IGNvbXBvbmVudFN0YXRlIH0pLFxuICAgICAgcGVuZGluZ0xvYWRUaW1lb3V0czoge30sXG4gICAgICBzZXRDb21wb25lbnRMb2FkaW5nOiAoaWQsIGxvYWRpbmcgPSB0cnVlLCBkZWZlcjIgPSAwKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2V0Q29tcG9uZW50U3RhdGUsIHBlbmRpbmdMb2FkVGltZW91dHMgfSA9IGdldCgpO1xuICAgICAgICBjb25zdCBsb2FkSWQgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIGNvbnN0IHNldExvYWRpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgICBjb25zdCB7IGNvbXBvbmVudFN0YXRlIH0gPSBnZXQoKTtcbiAgICAgICAgICBzZXRDb21wb25lbnRTdGF0ZShfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb21wb25lbnRTdGF0ZSksIHtcbiAgICAgICAgICAgIFtpZF06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvbXBvbmVudFN0YXRlW2lkXSksIHtcbiAgICAgICAgICAgICAgbG9hZGluZ0NvdW50OiAoKChfYTIgPSBjb21wb25lbnRTdGF0ZVtpZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYTIubG9hZGluZ0NvdW50KSB8fCAwKSArIDFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1bnNldExvYWRpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgICBjb25zdCB7IGNvbXBvbmVudFN0YXRlIH0gPSBnZXQoKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dDMpO1xuICAgICAgICAgIGRlbGV0ZSBwZW5kaW5nTG9hZFRpbWVvdXRzW2xvYWRJZF07XG4gICAgICAgICAgc2V0KHsgcGVuZGluZ0xvYWRUaW1lb3V0cyB9KTtcbiAgICAgICAgICBzZXRDb21wb25lbnRTdGF0ZShfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb21wb25lbnRTdGF0ZSksIHtcbiAgICAgICAgICAgIFtpZF06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvbXBvbmVudFN0YXRlW2lkXSksIHtcbiAgICAgICAgICAgICAgbG9hZGluZ0NvdW50OiBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAoKChfYTIgPSBjb21wb25lbnRTdGF0ZVtpZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYTIubG9hZGluZ0NvdW50KSB8fCAwKSAtIDEsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGltZW91dDMgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgICAgc2V0TG9hZGluZygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1bnNldExvYWRpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIHBlbmRpbmdMb2FkVGltZW91dHNbbG9hZElkXTtcbiAgICAgICAgICBzZXQoeyBwZW5kaW5nTG9hZFRpbWVvdXRzIH0pO1xuICAgICAgICB9LCBkZWZlcjIpO1xuICAgICAgICBzZXQoe1xuICAgICAgICAgIHBlbmRpbmdMb2FkVGltZW91dHM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHBlbmRpbmdMb2FkVGltZW91dHMpLCB7XG4gICAgICAgICAgICBbaWRdOiB0aW1lb3V0M1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdW5zZXRMb2FkaW5nO1xuICAgICAgfSxcbiAgICAgIHVuc2V0Q29tcG9uZW50TG9hZGluZzogKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2V0Q29tcG9uZW50TG9hZGluZyB9ID0gZ2V0KCk7XG4gICAgICAgIHNldENvbXBvbmVudExvYWRpbmcoaWQsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICAvLyBIZWxwZXJcbiAgICAgIHNldFVpOiAodWksIHJlY29yZEhpc3RvcnkpID0+IHNldCgocykgPT4ge1xuICAgICAgICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZVJlZHVjZXIoe1xuICAgICAgICAgIHJlY29yZDogKCkgPT4ge1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXBwU3RvcmU6IHNcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gZGlzcGF0Y2gocy5zdGF0ZSwge1xuICAgICAgICAgIHR5cGU6IFwic2V0VWlcIixcbiAgICAgICAgICB1aSxcbiAgICAgICAgICByZWNvcmRIaXN0b3J5XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBzdGF0ZS51aS5pdGVtU2VsZWN0b3IgPyBnZXRJdGVtKHN0YXRlLnVpLml0ZW1TZWxlY3Rvciwgc3RhdGUpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHMpLCB7IHN0YXRlLCBzZWxlY3RlZEl0ZW0gfSk7XG4gICAgICB9KSxcbiAgICAgIHJlc29sdmVDb21wb25lbnREYXRhOiAoY29tcG9uZW50RGF0YSwgdHJpZ2dlcikgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHsgY29uZmlnLCBtZXRhZGF0YSwgc2V0Q29tcG9uZW50TG9hZGluZywgcGVybWlzc2lvbnMgfSA9IGdldCgpO1xuICAgICAgICBjb25zdCB0aW1lb3V0cyA9IHt9O1xuICAgICAgICByZXR1cm4geWllbGQgcmVzb2x2ZUNvbXBvbmVudERhdGEoXG4gICAgICAgICAgY29tcG9uZW50RGF0YSxcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gXCJpZFwiIGluIGl0ZW0ucHJvcHMgPyBpdGVtLnByb3BzLmlkIDogXCJyb290XCI7XG4gICAgICAgICAgICB0aW1lb3V0c1tpZF0gPSBzZXRDb21wb25lbnRMb2FkaW5nKGlkLCB0cnVlLCA1MCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoaXRlbSkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IFwiaWRcIiBpbiBpdGVtLnByb3BzID8gaXRlbS5wcm9wcy5pZCA6IFwicm9vdFwiO1xuICAgICAgICAgICAgaWYgKFwidHlwZVwiIGluIGl0ZW0pIHtcbiAgICAgICAgICAgICAgeWllbGQgcGVybWlzc2lvbnMucmVmcmVzaFBlcm1pc3Npb25zKHsgaXRlbSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHlpZWxkIHBlcm1pc3Npb25zLnJlZnJlc2hQZXJtaXNzaW9ucyh7IHJvb3Q6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW1lb3V0c1tpZF0oKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0cmlnZ2VyXG4gICAgICAgICk7XG4gICAgICB9KSxcbiAgICAgIHJlc29sdmVBbmRDb21taXREYXRhOiAoKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3QgeyBjb25maWcsIHN0YXRlLCBkaXNwYXRjaCwgcmVzb2x2ZUNvbXBvbmVudERhdGE6IHJlc29sdmVDb21wb25lbnREYXRhMiB9ID0gZ2V0KCk7XG4gICAgICAgIHdhbGtBcHBTdGF0ZShcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgKGNvbnRlbnQpID0+IGNvbnRlbnQsXG4gICAgICAgICAgKGNoaWxkSXRlbSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZUNvbXBvbmVudERhdGEyKGNoaWxkSXRlbSwgXCJsb2FkXCIpLnRoZW4oKHJlc29sdmVkKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGU6IHN0YXRlMiB9ID0gZ2V0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBzdGF0ZTIuaW5kZXhlcy5ub2Rlc1tyZXNvbHZlZC5ub2RlLnByb3BzLmlkXTtcbiAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgcmVzb2x2ZWQuZGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkLm5vZGUucHJvcHMuaWQgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVwbGFjZVJvb3RcIixcbiAgICAgICAgICAgICAgICAgICAgcm9vdDogdG9Sb290KHJlc29sdmVkLm5vZGUpXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgem9uZUNvbXBvdW5kID0gYCR7bm9kZS5wYXJlbnRJZH06JHtub2RlLnpvbmV9YDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFpvbmUgPSBzdGF0ZTIuaW5kZXhlcy56b25lc1t6b25lQ29tcG91bmRdO1xuICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnRab25lLmNvbnRlbnRJZHMuaW5kZXhPZihcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQubm9kZS5wcm9wcy5pZFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc29sdmVkLm5vZGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uSW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvblpvbmU6IHpvbmVDb21wb3VuZFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZEl0ZW07XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSlcbik7XG52YXIgYXBwU3RvcmVDb250ZXh0ID0gY3JlYXRlQ29udGV4dChjcmVhdGVBcHBTdG9yZSgpKTtcbmZ1bmN0aW9uIHVzZUFwcFN0b3JlKHNlbGVjdG9yKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KGFwcFN0b3JlQ29udGV4dCk7XG4gIHJldHVybiB1c2VTdG9yZShjb250ZXh0LCBzZWxlY3Rvcik7XG59XG5mdW5jdGlvbiB1c2VBcHBTdG9yZUFwaSgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoYXBwU3RvcmVDb250ZXh0KTtcbn1cblxuLy8gbGliL2dldC16b29tLWNvbmZpZy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1ib3gtbW9kZWwvZGlzdC9jc3MtYm94LW1vZGVsLmVzbS5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL3RpbnktaW52YXJpYW50L2Rpc3QvZXNtL3RpbnktaW52YXJpYW50LmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcbnZhciBwcmVmaXggPSBcIkludmFyaWFudCBmYWlsZWRcIjtcbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKGNvbmRpdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCk7XG4gIH1cbiAgdmFyIHByb3ZpZGVkID0gdHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIiA/IG1lc3NhZ2UoKSA6IG1lc3NhZ2U7XG4gIHZhciB2YWx1ZSA9IHByb3ZpZGVkID8gXCJcIi5jb25jYXQocHJlZml4LCBcIjogXCIpLmNvbmNhdChwcm92aWRlZCkgOiBwcmVmaXg7XG4gIHRocm93IG5ldyBFcnJvcih2YWx1ZSk7XG59XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9jc3MtYm94LW1vZGVsL2Rpc3QvY3NzLWJveC1tb2RlbC5lc20uanNcbnZhciBnZXRSZWN0ID0gZnVuY3Rpb24gZ2V0UmVjdDIoX3JlZikge1xuICB2YXIgdG9wID0gX3JlZi50b3AsIHJpZ2h0ID0gX3JlZi5yaWdodCwgYm90dG9tID0gX3JlZi5ib3R0b20sIGxlZnQgPSBfcmVmLmxlZnQ7XG4gIHZhciB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgdmFyIGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgdmFyIHJlY3QgPSB7XG4gICAgdG9wLFxuICAgIHJpZ2h0LFxuICAgIGJvdHRvbSxcbiAgICBsZWZ0LFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4OiBsZWZ0LFxuICAgIHk6IHRvcCxcbiAgICBjZW50ZXI6IHtcbiAgICAgIHg6IChyaWdodCArIGxlZnQpIC8gMixcbiAgICAgIHk6IChib3R0b20gKyB0b3ApIC8gMlxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlY3Q7XG59O1xudmFyIGV4cGFuZCA9IGZ1bmN0aW9uIGV4cGFuZDIodGFyZ2V0LCBleHBhbmRCeSkge1xuICByZXR1cm4ge1xuICAgIHRvcDogdGFyZ2V0LnRvcCAtIGV4cGFuZEJ5LnRvcCxcbiAgICBsZWZ0OiB0YXJnZXQubGVmdCAtIGV4cGFuZEJ5LmxlZnQsXG4gICAgYm90dG9tOiB0YXJnZXQuYm90dG9tICsgZXhwYW5kQnkuYm90dG9tLFxuICAgIHJpZ2h0OiB0YXJnZXQucmlnaHQgKyBleHBhbmRCeS5yaWdodFxuICB9O1xufTtcbnZhciBzaHJpbmsgPSBmdW5jdGlvbiBzaHJpbmsyKHRhcmdldCwgc2hyaW5rQnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRhcmdldC50b3AgKyBzaHJpbmtCeS50b3AsXG4gICAgbGVmdDogdGFyZ2V0LmxlZnQgKyBzaHJpbmtCeS5sZWZ0LFxuICAgIGJvdHRvbTogdGFyZ2V0LmJvdHRvbSAtIHNocmlua0J5LmJvdHRvbSxcbiAgICByaWdodDogdGFyZ2V0LnJpZ2h0IC0gc2hyaW5rQnkucmlnaHRcbiAgfTtcbn07XG52YXIgbm9TcGFjaW5nID0ge1xuICB0b3A6IDAsXG4gIHJpZ2h0OiAwLFxuICBib3R0b206IDAsXG4gIGxlZnQ6IDBcbn07XG52YXIgY3JlYXRlQm94ID0gZnVuY3Rpb24gY3JlYXRlQm94MihfcmVmMikge1xuICB2YXIgYm9yZGVyQm94ID0gX3JlZjIuYm9yZGVyQm94LCBfcmVmMiRtYXJnaW4gPSBfcmVmMi5tYXJnaW4sIG1hcmdpbiA9IF9yZWYyJG1hcmdpbiA9PT0gdm9pZCAwID8gbm9TcGFjaW5nIDogX3JlZjIkbWFyZ2luLCBfcmVmMiRib3JkZXIgPSBfcmVmMi5ib3JkZXIsIGJvcmRlciA9IF9yZWYyJGJvcmRlciA9PT0gdm9pZCAwID8gbm9TcGFjaW5nIDogX3JlZjIkYm9yZGVyLCBfcmVmMiRwYWRkaW5nID0gX3JlZjIucGFkZGluZywgcGFkZGluZyA9IF9yZWYyJHBhZGRpbmcgPT09IHZvaWQgMCA/IG5vU3BhY2luZyA6IF9yZWYyJHBhZGRpbmc7XG4gIHZhciBtYXJnaW5Cb3ggPSBnZXRSZWN0KGV4cGFuZChib3JkZXJCb3gsIG1hcmdpbikpO1xuICB2YXIgcGFkZGluZ0JveCA9IGdldFJlY3Qoc2hyaW5rKGJvcmRlckJveCwgYm9yZGVyKSk7XG4gIHZhciBjb250ZW50Qm94ID0gZ2V0UmVjdChzaHJpbmsocGFkZGluZ0JveCwgcGFkZGluZykpO1xuICByZXR1cm4ge1xuICAgIG1hcmdpbkJveCxcbiAgICBib3JkZXJCb3g6IGdldFJlY3QoYm9yZGVyQm94KSxcbiAgICBwYWRkaW5nQm94LFxuICAgIGNvbnRlbnRCb3gsXG4gICAgbWFyZ2luLFxuICAgIGJvcmRlcixcbiAgICBwYWRkaW5nXG4gIH07XG59O1xudmFyIHBhcnNlID0gZnVuY3Rpb24gcGFyc2UyKHJhdykge1xuICB2YXIgdmFsdWUgPSByYXcuc2xpY2UoMCwgLTIpO1xuICB2YXIgc3VmZml4ID0gcmF3LnNsaWNlKC0yKTtcbiAgaWYgKHN1ZmZpeCAhPT0gXCJweFwiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IE51bWJlcih2YWx1ZSk7XG4gICEhaXNOYU4ocmVzdWx0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDb3VsZCBub3QgcGFyc2UgdmFsdWUgW3JhdzogXCIgKyByYXcgKyBcIiwgd2l0aG91dCBzdWZmaXg6IFwiICsgdmFsdWUgKyBcIl1cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBjYWxjdWxhdGVCb3ggPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3gyKGJvcmRlckJveCwgc3R5bGVzMikge1xuICB2YXIgbWFyZ2luID0ge1xuICAgIHRvcDogcGFyc2Uoc3R5bGVzMi5tYXJnaW5Ub3ApLFxuICAgIHJpZ2h0OiBwYXJzZShzdHlsZXMyLm1hcmdpblJpZ2h0KSxcbiAgICBib3R0b206IHBhcnNlKHN0eWxlczIubWFyZ2luQm90dG9tKSxcbiAgICBsZWZ0OiBwYXJzZShzdHlsZXMyLm1hcmdpbkxlZnQpXG4gIH07XG4gIHZhciBwYWRkaW5nID0ge1xuICAgIHRvcDogcGFyc2Uoc3R5bGVzMi5wYWRkaW5nVG9wKSxcbiAgICByaWdodDogcGFyc2Uoc3R5bGVzMi5wYWRkaW5nUmlnaHQpLFxuICAgIGJvdHRvbTogcGFyc2Uoc3R5bGVzMi5wYWRkaW5nQm90dG9tKSxcbiAgICBsZWZ0OiBwYXJzZShzdHlsZXMyLnBhZGRpbmdMZWZ0KVxuICB9O1xuICB2YXIgYm9yZGVyID0ge1xuICAgIHRvcDogcGFyc2Uoc3R5bGVzMi5ib3JkZXJUb3BXaWR0aCksXG4gICAgcmlnaHQ6IHBhcnNlKHN0eWxlczIuYm9yZGVyUmlnaHRXaWR0aCksXG4gICAgYm90dG9tOiBwYXJzZShzdHlsZXMyLmJvcmRlckJvdHRvbVdpZHRoKSxcbiAgICBsZWZ0OiBwYXJzZShzdHlsZXMyLmJvcmRlckxlZnRXaWR0aClcbiAgfTtcbiAgcmV0dXJuIGNyZWF0ZUJveCh7XG4gICAgYm9yZGVyQm94LFxuICAgIG1hcmdpbixcbiAgICBwYWRkaW5nLFxuICAgIGJvcmRlclxuICB9KTtcbn07XG52YXIgZ2V0Qm94ID0gZnVuY3Rpb24gZ2V0Qm94MihlbCkge1xuICB2YXIgYm9yZGVyQm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzdHlsZXMyID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICByZXR1cm4gY2FsY3VsYXRlQm94KGJvcmRlckJveCwgc3R5bGVzMik7XG59O1xuXG4vLyBsaWIvZ2V0LXpvb20tY29uZmlnLnRzXG52YXIgUkVTRVRfWk9PTV9TTUFMTEVSX1RIQU5fRlJBTUUgPSB0cnVlO1xudmFyIGdldFpvb21Db25maWcgPSAodWlWaWV3cG9ydCwgZnJhbWUsIHpvb20pID0+IHtcbiAgY29uc3QgYm94ID0gZ2V0Qm94KGZyYW1lKTtcbiAgY29uc3QgeyB3aWR0aDogZnJhbWVXaWR0aCwgaGVpZ2h0OiBmcmFtZUhlaWdodCB9ID0gYm94LmNvbnRlbnRCb3g7XG4gIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gdWlWaWV3cG9ydC5oZWlnaHQgPT09IFwiYXV0b1wiID8gZnJhbWVIZWlnaHQgOiB1aVZpZXdwb3J0LmhlaWdodDtcbiAgbGV0IHJvb3RIZWlnaHQgPSAwO1xuICBsZXQgYXV0b1pvb20gPSAxO1xuICBpZiAodWlWaWV3cG9ydC53aWR0aCA+IGZyYW1lV2lkdGggfHwgdmlld3BvcnRIZWlnaHQgPiBmcmFtZUhlaWdodCkge1xuICAgIGNvbnN0IHdpZHRoWm9vbSA9IE1hdGgubWluKGZyYW1lV2lkdGggLyB1aVZpZXdwb3J0LndpZHRoLCAxKTtcbiAgICBjb25zdCBoZWlnaHRab29tID0gTWF0aC5taW4oZnJhbWVIZWlnaHQgLyB2aWV3cG9ydEhlaWdodCwgMSk7XG4gICAgem9vbSA9IHdpZHRoWm9vbTtcbiAgICBpZiAod2lkdGhab29tIDwgaGVpZ2h0Wm9vbSkge1xuICAgICAgcm9vdEhlaWdodCA9IHZpZXdwb3J0SGVpZ2h0IC8gem9vbTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdEhlaWdodCA9IHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgem9vbSA9IGhlaWdodFpvb207XG4gICAgfVxuICAgIGF1dG9ab29tID0gem9vbTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoUkVTRVRfWk9PTV9TTUFMTEVSX1RIQU5fRlJBTUUpIHtcbiAgICAgIGF1dG9ab29tID0gMTtcbiAgICAgIHpvb20gPSAxO1xuICAgICAgcm9vdEhlaWdodCA9IHZpZXdwb3J0SGVpZ2h0O1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBhdXRvWm9vbSwgcm9vdEhlaWdodCwgem9vbSB9O1xufTtcblxuLy8gbGliL3VzZS1yZXNldC1hdXRvLXpvb20udHNcbnZhciB1c2VSZXNldEF1dG9ab29tID0gKGZyYW1lUmVmKSA9PiB7XG4gIGNvbnN0IGFwcFN0b3JlQXBpID0gdXNlQXBwU3RvcmVBcGkoKTtcbiAgY29uc3QgcmVzZXRBdXRvWm9vbSA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0ZSwgem9vbUNvbmZpZywgc2V0Wm9vbUNvbmZpZyB9ID0gYXBwU3RvcmVBcGkuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB7IHZpZXdwb3J0cyB9ID0gc3RhdGUudWk7XG4gICAgY29uc3QgbmV3Vmlld3BvcnRzID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudmlld3BvcnRzKSB8fCB2aWV3cG9ydHM7XG4gICAgaWYgKGZyYW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNldFpvb21Db25maWcoXG4gICAgICAgIGdldFpvb21Db25maWcobmV3Vmlld3BvcnRzID09IG51bGwgPyB2b2lkIDAgOiBuZXdWaWV3cG9ydHMuY3VycmVudCwgZnJhbWVSZWYuY3VycmVudCwgem9vbUNvbmZpZy56b29tKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiByZXNldEF1dG9ab29tO1xufTtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL0xvYWRlci9zdHlsZXMubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHN0eWxlc19tb2R1bGVfZGVmYXVsdDIgPSB7IFwiTG9hZGVyXCI6IFwiX0xvYWRlcl9uYWNkbV8xM1wiLCBcImxvYWRlci1hbmltYXRpb25cIjogXCJfbG9hZGVyLWFuaW1hdGlvbl9uYWNkbV8xXCIgfTtcblxuLy8gY29tcG9uZW50cy9Mb2FkZXIvaW5kZXgudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTIgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJMb2FkZXJcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0Mik7XG52YXIgTG9hZGVyID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgY29sb3IsXG4gICAgc2l6ZSA9IDE2XG4gIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcImNvbG9yXCIsXG4gICAgXCJzaXplXCJcbiAgXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihcbiAgICBcInNwYW5cIixcbiAgICBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTIoKSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgIGNvbG9yXG4gICAgICB9LFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwibG9hZGluZ1wiXG4gICAgfSwgcHJvcHMpXG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL0ljb25CdXR0b24vSWNvbkJ1dHRvbi50c3hcbmltcG9ydCB7IEZyYWdtZW50LCBqc3ggYXMganN4MywganN4cyBhcyBqc3hzMiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTMgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJJY29uQnV0dG9uXCIsIEljb25CdXR0b25fbW9kdWxlX2RlZmF1bHQpO1xudmFyIEljb25CdXR0b24gPSAoe1xuICBjaGlsZHJlbixcbiAgaHJlZixcbiAgb25DbGljayxcbiAgdmFyaWFudCA9IFwicHJpbWFyeVwiLFxuICB0eXBlLFxuICBkaXNhYmxlZCxcbiAgdGFiSW5kZXgsXG4gIG5ld1RhYixcbiAgZnVsbFdpZHRoLFxuICB0aXRsZVxufSkgPT4ge1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IEVsZW1lbnRUeXBlID0gaHJlZiA/IFwiYVwiIDogXCJidXR0b25cIjtcbiAgY29uc3QgZWwgPSAvKiBAX19QVVJFX18gKi8ganN4czIoXG4gICAgRWxlbWVudFR5cGUsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUzKHtcbiAgICAgICAgcHJpbWFyeTogdmFyaWFudCA9PT0gXCJwcmltYXJ5XCIsXG4gICAgICAgIHNlY29uZGFyeTogdmFyaWFudCA9PT0gXCJzZWNvbmRhcnlcIixcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGZ1bGxXaWR0aFxuICAgICAgfSksXG4gICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICBpZiAoIW9uQ2xpY2spIHJldHVybjtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKG9uQ2xpY2soZSkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB0eXBlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IGxvYWRpbmcsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIHRhcmdldDogbmV3VGFiID8gXCJfYmxhbmtcIiA6IHZvaWQgMCxcbiAgICAgIHJlbDogbmV3VGFiID8gXCJub3JlZmVycmVyXCIgOiB2b2lkIDAsXG4gICAgICBocmVmLFxuICAgICAgdGl0bGUsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTMoXCJ0aXRsZVwiKSwgY2hpbGRyZW46IHRpdGxlIH0pLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgbG9hZGluZyAmJiAvKiBAX19QVVJFX18gKi8ganN4czIoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgICBcIlxceEEwXFx4QTBcIixcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MyhMb2FkZXIsIHsgc2l6ZTogMTQgfSlcbiAgICAgICAgXSB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIGVsO1xufTtcblxuLy8gY29tcG9uZW50cy9CdXR0b24vQnV0dG9uLnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q1LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTIgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL0J1dHRvbi9CdXR0b24ubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIEJ1dHRvbl9tb2R1bGVfZGVmYXVsdCA9IHsgXCJCdXR0b25cIjogXCJfQnV0dG9uXzEwYnlsXzFcIiwgXCJCdXR0b24tLW1lZGl1bVwiOiBcIl9CdXR0b24tLW1lZGl1bV8xMGJ5bF8yOVwiLCBcIkJ1dHRvbi0tbGFyZ2VcIjogXCJfQnV0dG9uLS1sYXJnZV8xMGJ5bF8zN1wiLCBcIkJ1dHRvbi1pY29uXCI6IFwiX0J1dHRvbi1pY29uXzEwYnlsXzQ0XCIsIFwiQnV0dG9uLS1wcmltYXJ5XCI6IFwiX0J1dHRvbi0tcHJpbWFyeV8xMGJ5bF80OFwiLCBcIkJ1dHRvbi0tc2Vjb25kYXJ5XCI6IFwiX0J1dHRvbi0tc2Vjb25kYXJ5XzEwYnlsXzY3XCIsIFwiQnV0dG9uLS1mbHVzaFwiOiBcIl9CdXR0b24tLWZsdXNoXzEwYnlsXzg0XCIsIFwiQnV0dG9uLS1kaXNhYmxlZFwiOiBcIl9CdXR0b24tLWRpc2FibGVkXzEwYnlsXzg4XCIsIFwiQnV0dG9uLS1mdWxsV2lkdGhcIjogXCJfQnV0dG9uLS1mdWxsV2lkdGhfMTBieWxfOTVcIiwgXCJCdXR0b24tc3Bpbm5lclwiOiBcIl9CdXR0b24tc3Bpbm5lcl8xMGJ5bF8xMDBcIiB9O1xuXG4vLyBsaWIvZmlsdGVyLWRhdGEtYXR0cnMudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZGF0YUF0dHJSZSA9IC9eKGRhdGEtLiopJC87XG52YXIgZmlsdGVyRGF0YUF0dHJzID0gKHByb3BzKSA9PiB7XG4gIGxldCBmaWx0ZXJlZFByb3BzID0ge307XG4gIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3ApICYmIGRhdGFBdHRyUmUudGVzdChwcm9wKSkge1xuICAgICAgZmlsdGVyZWRQcm9wc1twcm9wXSA9IHByb3BzW3Byb3BdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlsdGVyZWRQcm9wcztcbn07XG5cbi8vIGNvbXBvbmVudHMvQnV0dG9uL0J1dHRvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g0LCBqc3hzIGFzIGpzeHMzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lNCA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIkJ1dHRvblwiLCBCdXR0b25fbW9kdWxlX2RlZmF1bHQpO1xudmFyIEJ1dHRvbiA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIGNoaWxkcmVuLFxuICAgIGhyZWYsXG4gICAgb25DbGljayxcbiAgICB2YXJpYW50ID0gXCJwcmltYXJ5XCIsXG4gICAgdHlwZSxcbiAgICBkaXNhYmxlZCxcbiAgICB0YWJJbmRleCxcbiAgICBuZXdUYWIsXG4gICAgZnVsbFdpZHRoLFxuICAgIGljb24sXG4gICAgc2l6ZSA9IFwibWVkaXVtXCIsXG4gICAgbG9hZGluZzogbG9hZGluZ1Byb3AgPSBmYWxzZVxuICB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJjaGlsZHJlblwiLFxuICAgIFwiaHJlZlwiLFxuICAgIFwib25DbGlja1wiLFxuICAgIFwidmFyaWFudFwiLFxuICAgIFwidHlwZVwiLFxuICAgIFwiZGlzYWJsZWRcIixcbiAgICBcInRhYkluZGV4XCIsXG4gICAgXCJuZXdUYWJcIixcbiAgICBcImZ1bGxXaWR0aFwiLFxuICAgIFwiaWNvblwiLFxuICAgIFwic2l6ZVwiLFxuICAgIFwibG9hZGluZ1wiXG4gIF0pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTIobG9hZGluZ1Byb3ApO1xuICB1c2VFZmZlY3Q1KCgpID0+IHNldExvYWRpbmcobG9hZGluZ1Byb3ApLCBbbG9hZGluZ1Byb3BdKTtcbiAgY29uc3QgRWxlbWVudFR5cGUgPSBocmVmID8gXCJhXCIgOiB0eXBlID8gXCJidXR0b25cIiA6IFwic3BhblwiO1xuICBjb25zdCBkYXRhQXR0cnMgPSBmaWx0ZXJEYXRhQXR0cnMocHJvcHMpO1xuICBjb25zdCBlbCA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzMyhcbiAgICBFbGVtZW50VHlwZSxcbiAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lNCh7XG4gICAgICAgIHByaW1hcnk6IHZhcmlhbnQgPT09IFwicHJpbWFyeVwiLFxuICAgICAgICBzZWNvbmRhcnk6IHZhcmlhbnQgPT09IFwic2Vjb25kYXJ5XCIsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBmdWxsV2lkdGgsXG4gICAgICAgIFtzaXplXTogdHJ1ZVxuICAgICAgfSksXG4gICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICBpZiAoIW9uQ2xpY2spIHJldHVybjtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKG9uQ2xpY2soZSkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB0eXBlLFxuICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkIHx8IGxvYWRpbmcsXG4gICAgICB0YWJJbmRleCxcbiAgICAgIHRhcmdldDogbmV3VGFiID8gXCJfYmxhbmtcIiA6IHZvaWQgMCxcbiAgICAgIHJlbDogbmV3VGFiID8gXCJub3JlZmVycmVyXCIgOiB2b2lkIDAsXG4gICAgICBocmVmXG4gICAgfSwgZGF0YUF0dHJzKSwge1xuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgaWNvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4NChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lNChcImljb25cIiksIGNoaWxkcmVuOiBpY29uIH0pLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgbG9hZGluZyAmJiAvKiBAX19QVVJFX18gKi8ganN4NChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lNChcInNwaW5uZXJcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NChMb2FkZXIsIHsgc2l6ZTogMTQgfSkgfSlcbiAgICAgIF1cbiAgICB9KVxuICApO1xuICByZXR1cm4gZWw7XG59O1xuXG4vLyBjb21wb25lbnRzL0F1dG9GaWVsZC9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9BdXRvRmllbGQvc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQzID0geyBcIklucHV0V3JhcHBlclwiOiBcIl9JbnB1dFdyYXBwZXJfYnN4Zm9fMVwiLCBcIklucHV0LWxhYmVsXCI6IFwiX0lucHV0LWxhYmVsX2JzeGZvXzVcIiwgXCJJbnB1dC1sYWJlbEljb25cIjogXCJfSW5wdXQtbGFiZWxJY29uX2JzeGZvXzE0XCIsIFwiSW5wdXQtZGlzYWJsZWRJY29uXCI6IFwiX0lucHV0LWRpc2FibGVkSWNvbl9ic3hmb18yMVwiLCBcIklucHV0LWlucHV0XCI6IFwiX0lucHV0LWlucHV0X2JzeGZvXzI2XCIsIFwiSW5wdXRcIjogXCJfSW5wdXRfYnN4Zm9fMVwiLCBcIklucHV0LS1yZWFkT25seVwiOiBcIl9JbnB1dC0tcmVhZE9ubHlfYnN4Zm9fODJcIiwgXCJJbnB1dC1yYWRpb0dyb3VwSXRlbXNcIjogXCJfSW5wdXQtcmFkaW9Hcm91cEl0ZW1zX2JzeGZvXzkzXCIsIFwiSW5wdXQtcmFkaW9cIjogXCJfSW5wdXQtcmFkaW9fYnN4Zm9fOTNcIiwgXCJJbnB1dC1yYWRpb0lubmVyXCI6IFwiX0lucHV0LXJhZGlvSW5uZXJfYnN4Zm9fMTEwXCIsIFwiSW5wdXQtcmFkaW9JbnB1dFwiOiBcIl9JbnB1dC1yYWRpb0lucHV0X2JzeGZvXzE1NVwiIH07XG5cbi8vIGNvbXBvbmVudHMvQXV0b0ZpZWxkL2luZGV4LnRzeFxuaW1wb3J0IHtcbiAgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s0LFxuICB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQzLFxuICB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MTAsXG4gIHVzZU1lbW8gYXMgdXNlTWVtbzMsXG4gIHVzZVN0YXRlIGFzIHVzZVN0YXRlOFxufSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY29tcG9uZW50cy9BdXRvRmllbGQvZmllbGRzL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gY29tcG9uZW50cy9BdXRvRmllbGQvZmllbGRzL0FycmF5RmllbGQvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvQXV0b0ZpZWxkL2ZpZWxkcy9BcnJheUZpZWxkL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0NCA9IHsgXCJBcnJheUZpZWxkXCI6IFwiX0FycmF5RmllbGRfMTR1OG9fNVwiLCBcIkFycmF5RmllbGQtLWlzRHJhZ2dpbmdGcm9tXCI6IFwiX0FycmF5RmllbGQtLWlzRHJhZ2dpbmdGcm9tXzE0dThvXzEzXCIsIFwiQXJyYXlGaWVsZC1hZGRCdXR0b25cIjogXCJfQXJyYXlGaWVsZC1hZGRCdXR0b25fMTR1OG9fMThcIiwgXCJBcnJheUZpZWxkLS1oYXNJdGVtc1wiOiBcIl9BcnJheUZpZWxkLS1oYXNJdGVtc18xNHU4b18zM1wiLCBcIkFycmF5RmllbGQtaW5uZXJcIjogXCJfQXJyYXlGaWVsZC1pbm5lcl8xNHU4b181OVwiLCBcIkFycmF5RmllbGRJdGVtXCI6IFwiX0FycmF5RmllbGRJdGVtXzE0dThvXzY3XCIsIFwiQXJyYXlGaWVsZEl0ZW0tLWlzRHJhZ2dpbmdcIjogXCJfQXJyYXlGaWVsZEl0ZW0tLWlzRHJhZ2dpbmdfMTR1OG9fNzhcIiwgXCJBcnJheUZpZWxkSXRlbS0taXNFeHBhbmRlZFwiOiBcIl9BcnJheUZpZWxkSXRlbS0taXNFeHBhbmRlZF8xNHU4b184MlwiLCBcIkFycmF5RmllbGRJdGVtLXN1bW1hcnlcIjogXCJfQXJyYXlGaWVsZEl0ZW0tc3VtbWFyeV8xNHU4b185N1wiLCBcIkFycmF5RmllbGQtLWFkZERpc2FibGVkXCI6IFwiX0FycmF5RmllbGQtLWFkZERpc2FibGVkXzE0dThvXzEyN1wiLCBcIkFycmF5RmllbGRJdGVtLWJvZHlcIjogXCJfQXJyYXlGaWVsZEl0ZW0tYm9keV8xNHU4b18xNjZcIiwgXCJBcnJheUZpZWxkSXRlbS1maWVsZHNldFwiOiBcIl9BcnJheUZpZWxkSXRlbS1maWVsZHNldF8xNHU4b18xNzVcIiwgXCJBcnJheUZpZWxkSXRlbS1yaHNcIjogXCJfQXJyYXlGaWVsZEl0ZW0tcmhzXzE0dThvXzE4M1wiLCBcIkFycmF5RmllbGRJdGVtLWFjdGlvbnNcIjogXCJfQXJyYXlGaWVsZEl0ZW0tYWN0aW9uc18xNHU4b18xODlcIiB9O1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2x1Y2lkZS1yZWFjdC5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9jcmVhdGVMdWNpZGVJY29uLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiBhcyBmb3J3YXJkUmVmMiwgY3JlYXRlRWxlbWVudCBhcyBjcmVhdGVFbGVtZW50MiB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL3NoYXJlZC9zcmMvdXRpbHMuanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgdG9LZWJhYkNhc2UgPSAoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xudmFyIG1lcmdlQ2xhc3NlcyA9ICguLi5jbGFzc2VzKSA9PiBjbGFzc2VzLmZpbHRlcigoY2xhc3NOYW1lLCBpbmRleCwgYXJyYXkpID0+IHtcbiAgcmV0dXJuIEJvb2xlYW4oY2xhc3NOYW1lKSAmJiBjbGFzc05hbWUudHJpbSgpICE9PSBcIlwiICYmIGFycmF5LmluZGV4T2YoY2xhc3NOYW1lKSA9PT0gaW5kZXg7XG59KS5qb2luKFwiIFwiKS50cmltKCk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vSWNvbi5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IGZvcndhcmRSZWYsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9kZWZhdWx0QXR0cmlidXRlcy5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBkZWZhdWx0QXR0cmlidXRlcyA9IHtcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgd2lkdGg6IDI0LFxuICBoZWlnaHQ6IDI0LFxuICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICBmaWxsOiBcIm5vbmVcIixcbiAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICBzdHJva2VXaWR0aDogMixcbiAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiXG59O1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL0ljb24uanNcbnZhciBJY29uID0gZm9yd2FyZFJlZihcbiAgKF9hLCByZWYpID0+IHtcbiAgICB2YXIgX2IgPSBfYSwge1xuICAgICAgY29sb3IgPSBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgc2l6ZSA9IDI0LFxuICAgICAgc3Ryb2tlV2lkdGggPSAyLFxuICAgICAgYWJzb2x1dGVTdHJva2VXaWR0aCxcbiAgICAgIGNsYXNzTmFtZSA9IFwiXCIsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGljb25Ob2RlXG4gICAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgICBcImNvbG9yXCIsXG4gICAgICBcInNpemVcIixcbiAgICAgIFwic3Ryb2tlV2lkdGhcIixcbiAgICAgIFwiYWJzb2x1dGVTdHJva2VXaWR0aFwiLFxuICAgICAgXCJjbGFzc05hbWVcIixcbiAgICAgIFwiY2hpbGRyZW5cIixcbiAgICAgIFwiaWNvbk5vZGVcIlxuICAgIF0pO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFxuICAgICAgXCJzdmdcIixcbiAgICAgIF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICByZWZcbiAgICAgIH0sIGRlZmF1bHRBdHRyaWJ1dGVzKSwge1xuICAgICAgICB3aWR0aDogc2l6ZSxcbiAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICBzdHJva2U6IGNvbG9yLFxuICAgICAgICBzdHJva2VXaWR0aDogYWJzb2x1dGVTdHJva2VXaWR0aCA/IE51bWJlcihzdHJva2VXaWR0aCkgKiAyNCAvIE51bWJlcihzaXplKSA6IHN0cm9rZVdpZHRoLFxuICAgICAgICBjbGFzc05hbWU6IG1lcmdlQ2xhc3NlcyhcImx1Y2lkZVwiLCBjbGFzc05hbWUpXG4gICAgICB9KSwgcmVzdCksXG4gICAgICBbXG4gICAgICAgIC4uLmljb25Ob2RlLm1hcCgoW3RhZywgYXR0cnNdKSA9PiBjcmVhdGVFbGVtZW50KHRhZywgYXR0cnMpKSxcbiAgICAgICAgLi4uQXJyYXkuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IFtjaGlsZHJlbl1cbiAgICAgIF1cbiAgICApO1xuICB9XG4pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2NyZWF0ZUx1Y2lkZUljb24uanNcbnZhciBjcmVhdGVMdWNpZGVJY29uID0gKGljb25OYW1lLCBpY29uTm9kZSkgPT4ge1xuICBjb25zdCBDb21wb25lbnQgPSBmb3J3YXJkUmVmMihcbiAgICAoX2EsIHJlZikgPT4ge1xuICAgICAgdmFyIF9iID0gX2EsIHsgY2xhc3NOYW1lIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcImNsYXNzTmFtZVwiXSk7XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudDIoSWNvbiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICByZWYsXG4gICAgICAgIGljb25Ob2RlLFxuICAgICAgICBjbGFzc05hbWU6IG1lcmdlQ2xhc3NlcyhgbHVjaWRlLSR7dG9LZWJhYkNhc2UoaWNvbk5hbWUpfWAsIGNsYXNzTmFtZSlcbiAgICAgIH0sIHByb3BzKSk7XG4gICAgfVxuICApO1xuICBDb21wb25lbnQuZGlzcGxheU5hbWUgPSBgJHtpY29uTmFtZX1gO1xuICByZXR1cm4gQ29tcG9uZW50O1xufTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGV2cm9uLWRvd24uanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgQ2hldnJvbkRvd24gPSBjcmVhdGVMdWNpZGVJY29uKFwiQ2hldnJvbkRvd25cIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJtNiA5IDYgNiA2LTZcIiwga2V5OiBcInFydW5zbFwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGV2cm9uLXJpZ2h0LmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIENoZXZyb25SaWdodCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJDaGV2cm9uUmlnaHRcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJtOSAxOCA2LTYtNi02XCIsIGtleTogXCJtdGhod3FcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvY2hldnJvbi11cC5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBDaGV2cm9uVXAgPSBjcmVhdGVMdWNpZGVJY29uKFwiQ2hldnJvblVwXCIsIFtbXCJwYXRoXCIsIHsgZDogXCJtMTggMTUtNi02LTYgNlwiLCBrZXk6IFwiMTUzdWR6XCIgfV1dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaXJjbGUtY2hlY2stYmlnLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIENpcmNsZUNoZWNrQmlnID0gY3JlYXRlTHVjaWRlSWNvbihcIkNpcmNsZUNoZWNrQmlnXCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTIxLjgwMSAxMEExMCAxMCAwIDEgMSAxNyAzLjMzNVwiLCBrZXk6IFwieXBzM2N0XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm05IDExIDMgM0wyMiA0XCIsIGtleTogXCIxcGZsemxcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvY29weS5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBDb3B5ID0gY3JlYXRlTHVjaWRlSWNvbihcIkNvcHlcIiwgW1xuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMTRcIiwgaGVpZ2h0OiBcIjE0XCIsIHg6IFwiOFwiLCB5OiBcIjhcIiwgcng6IFwiMlwiLCByeTogXCIyXCIsIGtleTogXCIxN2p5ZWFcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTQgMTZjLTEuMSAwLTItLjktMi0yVjRjMC0xLjEuOS0yIDItMmgxMGMxLjEgMCAyIC45IDIgMlwiLCBrZXk6IFwieml4OXVmXCIgfV1cbl0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2Nvcm5lci1sZWZ0LXVwLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIENvcm5lckxlZnRVcCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJDb3JuZXJMZWZ0VXBcIiwgW1xuICBbXCJwb2x5bGluZVwiLCB7IHBvaW50czogXCIxNCA5IDkgNCA0IDlcIiwga2V5OiBcIm05b3l2b1wiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMjAgMjBoLTdhNCA0IDAgMCAxLTQtNFY0XCIsIGtleTogXCIxYmx3aTNcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvZWxsaXBzaXMtdmVydGljYWwuanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgRWxsaXBzaXNWZXJ0aWNhbCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJFbGxpcHNpc1ZlcnRpY2FsXCIsIFtcbiAgW1wiY2lyY2xlXCIsIHsgY3g6IFwiMTJcIiwgY3k6IFwiMTJcIiwgcjogXCIxXCIsIGtleTogXCI0MWhpbGZcIiB9XSxcbiAgW1wiY2lyY2xlXCIsIHsgY3g6IFwiMTJcIiwgY3k6IFwiNVwiLCByOiBcIjFcIiwga2V5OiBcImd4ZW9iOVwiIH1dLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxOVwiLCByOiBcIjFcIiwga2V5OiBcImx5ZXg5a1wiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9nbG9iZS5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBHbG9iZSA9IGNyZWF0ZUx1Y2lkZUljb24oXCJHbG9iZVwiLCBbXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjEyXCIsIGN5OiBcIjEyXCIsIHI6IFwiMTBcIiwga2V5OiBcIjFtZ2xheVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgMmExNC41IDE0LjUgMCAwIDAgMCAyMCAxNC41IDE0LjUgMCAwIDAgMC0yMFwiLCBrZXk6IFwiMTNvMXpsXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yIDEyaDIwXCIsIGtleTogXCI5aTRwdTRcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvaGFzaC5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBIYXNoID0gY3JlYXRlTHVjaWRlSWNvbihcIkhhc2hcIiwgW1xuICBbXCJsaW5lXCIsIHsgeDE6IFwiNFwiLCB4MjogXCIyMFwiLCB5MTogXCI5XCIsIHkyOiBcIjlcIiwga2V5OiBcIjRsaHRjdFwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiNFwiLCB4MjogXCIyMFwiLCB5MTogXCIxNVwiLCB5MjogXCIxNVwiLCBrZXk6IFwidnl1MGtkXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIxMFwiLCB4MjogXCI4XCIsIHkxOiBcIjNcIiwgeTI6IFwiMjFcIiwga2V5OiBcIjFnZ3A4b1wiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTZcIiwgeDI6IFwiMTRcIiwgeTE6IFwiM1wiLCB5MjogXCIyMVwiLCBrZXk6IFwid2V5Y2dwXCIgfV1cbl0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xheWVycy5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBMYXllcnMgPSBjcmVhdGVMdWNpZGVJY29uKFwiTGF5ZXJzXCIsIFtcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTEyLjgzIDIuMThhMiAyIDAgMCAwLTEuNjYgMEwyLjYgNi4wOGExIDEgMCAwIDAgMCAxLjgzbDguNTggMy45MWEyIDIgMCAwIDAgMS42NiAwbDguNTgtMy45YTEgMSAwIDAgMCAwLTEuODN6XCIsXG4gICAgICBrZXk6IFwienczam9cIlxuICAgIH1cbiAgXSxcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTIgMTJhMSAxIDAgMCAwIC41OC45MWw4LjYgMy45MWEyIDIgMCAwIDAgMS42NSAwbDguNTgtMy45QTEgMSAwIDAgMCAyMiAxMlwiLFxuICAgICAga2V5OiBcIjF3ZHVxY1wiXG4gICAgfVxuICBdLFxuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMiAxN2ExIDEgMCAwIDAgLjU4LjkxbDguNiAzLjkxYTIgMiAwIDAgMCAxLjY1IDBsOC41OC0zLjlBMSAxIDAgMCAwIDIyIDE3XCIsXG4gICAgICBrZXk6IFwia3Fidng2XCJcbiAgICB9XG4gIF1cbl0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xheW91dC1ncmlkLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIExheW91dEdyaWQgPSBjcmVhdGVMdWNpZGVJY29uKFwiTGF5b3V0R3JpZFwiLCBbXG4gIFtcInJlY3RcIiwgeyB3aWR0aDogXCI3XCIsIGhlaWdodDogXCI3XCIsIHg6IFwiM1wiLCB5OiBcIjNcIiwgcng6IFwiMVwiLCBrZXk6IFwiMWc5OHlwXCIgfV0sXG4gIFtcInJlY3RcIiwgeyB3aWR0aDogXCI3XCIsIGhlaWdodDogXCI3XCIsIHg6IFwiMTRcIiwgeTogXCIzXCIsIHJ4OiBcIjFcIiwga2V5OiBcIjZkNHhoaVwiIH1dLFxuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiN1wiLCBoZWlnaHQ6IFwiN1wiLCB4OiBcIjE0XCIsIHk6IFwiMTRcIiwgcng6IFwiMVwiLCBrZXk6IFwibnh2NW8wXCIgfV0sXG4gIFtcInJlY3RcIiwgeyB3aWR0aDogXCI3XCIsIGhlaWdodDogXCI3XCIsIHg6IFwiM1wiLCB5OiBcIjE0XCIsIHJ4OiBcIjFcIiwga2V5OiBcIjFiYjZ5clwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9saW5rLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIExpbmsgPSBjcmVhdGVMdWNpZGVJY29uKFwiTGlua1wiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMCAxM2E1IDUgMCAwIDAgNy41NC41NGwzLTNhNSA1IDAgMCAwLTcuMDctNy4wN2wtMS43MiAxLjcxXCIsIGtleTogXCIxY2plcW9cIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE0IDExYTUgNSAwIDAgMC03LjU0LS41NGwtMyAzYTUgNSAwIDAgMCA3LjA3IDcuMDdsMS43MS0xLjcxXCIsIGtleTogXCIxOXFkNjdcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbGlzdC5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBMaXN0ID0gY3JlYXRlTHVjaWRlSWNvbihcIkxpc3RcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMyAxMmguMDFcIiwga2V5OiBcIm5sejIza1wiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMyAxOGguMDFcIiwga2V5OiBcIjF0dGEzalwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMyA2aC4wMVwiLCBrZXk6IFwiMXJxdHphXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk04IDEyaDEzXCIsIGtleTogXCIxemE3emFcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTggMThoMTNcIiwga2V5OiBcIjFseDZuM1wiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOCA2aDEzXCIsIGtleTogXCJpazN2a2pcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbG9jay1vcGVuLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIExvY2tPcGVuID0gY3JlYXRlTHVjaWRlSWNvbihcIkxvY2tPcGVuXCIsIFtcbiAgW1wicmVjdFwiLCB7IHdpZHRoOiBcIjE4XCIsIGhlaWdodDogXCIxMVwiLCB4OiBcIjNcIiwgeTogXCIxMVwiLCByeDogXCIyXCIsIHJ5OiBcIjJcIiwga2V5OiBcIjF3NGV3MVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNNyAxMVY3YTUgNSAwIDAgMSA5LjktMVwiLCBrZXk6IFwiMW1tOHc4XCIgfV1cbl0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xvY2suanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgTG9jayA9IGNyZWF0ZUx1Y2lkZUljb24oXCJMb2NrXCIsIFtcbiAgW1wicmVjdFwiLCB7IHdpZHRoOiBcIjE4XCIsIGhlaWdodDogXCIxMVwiLCB4OiBcIjNcIiwgeTogXCIxMVwiLCByeDogXCIyXCIsIHJ5OiBcIjJcIiwga2V5OiBcIjF3NGV3MVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNNyAxMVY3YTUgNSAwIDAgMSAxMCAwdjRcIiwga2V5OiBcImZ3dm16bVwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9tb25pdG9yLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIE1vbml0b3IgPSBjcmVhdGVMdWNpZGVJY29uKFwiTW9uaXRvclwiLCBbXG4gIFtcInJlY3RcIiwgeyB3aWR0aDogXCIyMFwiLCBoZWlnaHQ6IFwiMTRcIiwgeDogXCIyXCIsIHk6IFwiM1wiLCByeDogXCIyXCIsIGtleTogXCI0OGk2NTFcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjhcIiwgeDI6IFwiMTZcIiwgeTE6IFwiMjFcIiwgeTI6IFwiMjFcIiwga2V5OiBcIjFzdmtlaFwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTJcIiwgeDI6IFwiMTJcIiwgeTE6IFwiMTdcIiwgeTI6IFwiMjFcIiwga2V5OiBcInZ3MXFtbVwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9wYW5lbC1sZWZ0LmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIFBhbmVsTGVmdCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJQYW5lbExlZnRcIiwgW1xuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMThcIiwgaGVpZ2h0OiBcIjE4XCIsIHg6IFwiM1wiLCB5OiBcIjNcIiwgcng6IFwiMlwiLCBrZXk6IFwiYWZpdHY3XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk05IDN2MThcIiwga2V5OiBcImZoM2hxYVwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9wYW5lbC1yaWdodC5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBQYW5lbFJpZ2h0ID0gY3JlYXRlTHVjaWRlSWNvbihcIlBhbmVsUmlnaHRcIiwgW1xuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMThcIiwgaGVpZ2h0OiBcIjE4XCIsIHg6IFwiM1wiLCB5OiBcIjNcIiwgcng6IFwiMlwiLCBrZXk6IFwiYWZpdHY3XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNSAzdjE4XCIsIGtleTogXCIxNG52cDBcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcGx1cy5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBQbHVzID0gY3JlYXRlTHVjaWRlSWNvbihcIlBsdXNcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNNSAxMmgxNFwiLCBrZXk6IFwiMWF5czBoXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiA1djE0XCIsIGtleTogXCJzNjk5bGVcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcmVkby0yLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIFJlZG8yID0gY3JlYXRlTHVjaWRlSWNvbihcIlJlZG8yXCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTE1IDE0IDUtNS01LTVcIiwga2V5OiBcIjEydmcxbVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMjAgOUg5LjVBNS41IDUuNSAwIDAgMCA0IDE0LjVBNS41IDUuNSAwIDAgMCA5LjUgMjBIMTNcIiwga2V5OiBcIjZ1a2x6YVwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9zZWFyY2guanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgU2VhcmNoID0gY3JlYXRlTHVjaWRlSWNvbihcIlNlYXJjaFwiLCBbXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjExXCIsIGN5OiBcIjExXCIsIHI6IFwiOFwiLCBrZXk6IFwiNGVqOTd1XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm0yMSAyMS00LjMtNC4zXCIsIGtleTogXCIxcWllM3FcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvc2xpZGVycy1ob3Jpem9udGFsLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIFNsaWRlcnNIb3Jpem9udGFsID0gY3JlYXRlTHVjaWRlSWNvbihcIlNsaWRlcnNIb3Jpem9udGFsXCIsIFtcbiAgW1wibGluZVwiLCB7IHgxOiBcIjIxXCIsIHgyOiBcIjE0XCIsIHkxOiBcIjRcIiwgeTI6IFwiNFwiLCBrZXk6IFwib2J1ZXdkXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIxMFwiLCB4MjogXCIzXCIsIHkxOiBcIjRcIiwgeTI6IFwiNFwiLCBrZXk6IFwiMXE2Mjk4XCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIyMVwiLCB4MjogXCIxMlwiLCB5MTogXCIxMlwiLCB5MjogXCIxMlwiLCBrZXk6IFwiMWl1OGgxXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCI4XCIsIHgyOiBcIjNcIiwgeTE6IFwiMTJcIiwgeTI6IFwiMTJcIiwga2V5OiBcIm50c3M2OFwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMjFcIiwgeDI6IFwiMTZcIiwgeTE6IFwiMjBcIiwgeTI6IFwiMjBcIiwga2V5OiBcIjE0ZDhwaFwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTJcIiwgeDI6IFwiM1wiLCB5MTogXCIyMFwiLCB5MjogXCIyMFwiLCBrZXk6IFwibTB3bThyXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIxNFwiLCB4MjogXCIxNFwiLCB5MTogXCIyXCIsIHkyOiBcIjZcIiwga2V5OiBcIjE0ZTFwaFwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiOFwiLCB4MjogXCI4XCIsIHkxOiBcIjEwXCIsIHkyOiBcIjE0XCIsIGtleTogXCIxaTZqaTBcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjE2XCIsIHgyOiBcIjE2XCIsIHkxOiBcIjE4XCIsIHkyOiBcIjIyXCIsIGtleTogXCIxbGN0bHZcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvc21hcnRwaG9uZS5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBTbWFydHBob25lID0gY3JlYXRlTHVjaWRlSWNvbihcIlNtYXJ0cGhvbmVcIiwgW1xuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMTRcIiwgaGVpZ2h0OiBcIjIwXCIsIHg6IFwiNVwiLCB5OiBcIjJcIiwgcng6IFwiMlwiLCByeTogXCIyXCIsIGtleTogXCIxeXQwbzNcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDE4aC4wMVwiLCBrZXk6IFwibWh5Z3Z1XCIgfV1cbl0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3RhYmxldC5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBUYWJsZXQgPSBjcmVhdGVMdWNpZGVJY29uKFwiVGFibGV0XCIsIFtcbiAgW1wicmVjdFwiLCB7IHdpZHRoOiBcIjE2XCIsIGhlaWdodDogXCIyMFwiLCB4OiBcIjRcIiwgeTogXCIyXCIsIHJ4OiBcIjJcIiwgcnk6IFwiMlwiLCBrZXk6IFwiNzZvdGdmXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCIxMlwiLCB4MjogXCIxMi4wMVwiLCB5MTogXCIxOFwiLCB5MjogXCIxOFwiLCBrZXk6IFwiMWRwNTYzXCIgfV1cbl0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3RyYXNoLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIFRyYXNoID0gY3JlYXRlTHVjaWRlSWNvbihcIlRyYXNoXCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTMgNmgxOFwiLCBrZXk6IFwiZDB3bTBqXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjZcIiwga2V5OiBcIjRhbHJ0NFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOCA2VjRjMC0xIDEtMiAyLTJoNGMxIDAgMiAxIDIgMnYyXCIsIGtleTogXCJ2MDdzMGVcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvdHlwZS5qc1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBUeXBlID0gY3JlYXRlTHVjaWRlSWNvbihcIlR5cGVcIiwgW1xuICBbXCJwb2x5bGluZVwiLCB7IHBvaW50czogXCI0IDcgNCA0IDIwIDQgMjAgN1wiLCBrZXk6IFwiMW5vc2FuXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCI5XCIsIHgyOiBcIjE1XCIsIHkxOiBcIjIwXCIsIHkyOiBcIjIwXCIsIGtleTogXCJzd2luOXlcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjEyXCIsIHgyOiBcIjEyXCIsIHkxOiBcIjRcIiwgeTI6IFwiMjBcIiwga2V5OiBcIjF0eDFyclwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy91bmRvLTIuanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgVW5kbzIgPSBjcmVhdGVMdWNpZGVJY29uKFwiVW5kbzJcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNOSAxNCA0IDlsNS01XCIsIGtleTogXCIxMDJzNXNcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTQgOWgxMC41YTUuNSA1LjUgMCAwIDEgNS41IDUuNWE1LjUgNS41IDAgMCAxLTUuNSA1LjVIMTFcIiwga2V5OiBcImYzYjlzZFwiIH1dXG5dKTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy96b29tLWluLmpzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIFpvb21JbiA9IGNyZWF0ZUx1Y2lkZUljb24oXCJab29tSW5cIiwgW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMVwiLCBjeTogXCIxMVwiLCByOiBcIjhcIiwga2V5OiBcIjRlajk3dVwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMjFcIiwgeDI6IFwiMTYuNjVcIiwgeTE6IFwiMjFcIiwgeTI6IFwiMTYuNjVcIiwga2V5OiBcIjEzZ2o3Y1wiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTFcIiwgeDI6IFwiMTFcIiwgeTE6IFwiOFwiLCB5MjogXCIxNFwiLCBrZXk6IFwiMXZtc2twXCIgfV0sXG4gIFtcImxpbmVcIiwgeyB4MTogXCI4XCIsIHgyOiBcIjE0XCIsIHkxOiBcIjExXCIsIHkyOiBcIjExXCIsIGtleTogXCJkdXJ5bXVcIiB9XVxuXSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvem9vbS1vdXQuanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgWm9vbU91dCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJab29tT3V0XCIsIFtcbiAgW1wiY2lyY2xlXCIsIHsgY3g6IFwiMTFcIiwgY3k6IFwiMTFcIiwgcjogXCI4XCIsIGtleTogXCI0ZWo5N3VcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjIxXCIsIHgyOiBcIjE2LjY1XCIsIHkxOiBcIjIxXCIsIHkyOiBcIjE2LjY1XCIsIGtleTogXCIxM2dqN2NcIiB9XSxcbiAgW1wibGluZVwiLCB7IHgxOiBcIjhcIiwgeDI6IFwiMTRcIiwgeTE6IFwiMTFcIiwgeTI6IFwiMTFcIiwga2V5OiBcImR1cnltdVwiIH1dXG5dKTtcblxuLy8gY29tcG9uZW50cy9JY29uQnV0dG9uL2luZGV4LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjb21wb25lbnRzL0F1dG9GaWVsZC9maWVsZHMvQXJyYXlGaWVsZC9pbmRleC50c3hcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrMiwgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDYsIHVzZVJlZiwgdXNlU3RhdGUgYXMgdXNlU3RhdGU0IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGNvbXBvbmVudHMvRHJhZ0ljb24vaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvRHJhZ0ljb24vc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQ1ID0geyBcIkRyYWdJY29uXCI6IFwiX0RyYWdJY29uXzE3cDh4XzFcIiwgXCJEcmFnSWNvbi0tZGlzYWJsZWRcIjogXCJfRHJhZ0ljb24tLWRpc2FibGVkXzE3cDh4XzhcIiB9O1xuXG4vLyBjb21wb25lbnRzL0RyYWdJY29uL2luZGV4LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWU1ID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiRHJhZ0ljb25cIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0NSk7XG52YXIgRHJhZ0ljb24gPSAoeyBpc0RyYWdEaXNhYmxlZCB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4NShcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lNSh7IGRpc2FibGVkOiBpc0RyYWdEaXNhYmxlZCB9KSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1KFwic3ZnXCIsIHsgdmlld0JveDogXCIwIDAgMjAgMjBcIiwgd2lkdGg6IFwiMTJcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g1KFwicGF0aFwiLCB7IGQ6IFwiTTcgMmEyIDIgMCAxIDAgLjAwMSA0LjAwMUEyIDIgMCAwIDAgNyAyem0wIDZhMiAyIDAgMSAwIC4wMDEgNC4wMDFBMiAyIDAgMCAwIDcgOHptMCA2YTIgMiAwIDEgMCAuMDAxIDQuMDAxQTIgMiAwIDAgMCA3IDE0em02LThhMiAyIDAgMSAwLS4wMDEtNC4wMDFBMiAyIDAgMCAwIDEzIDZ6bTAgMmEyIDIgMCAxIDAgLjAwMSA0LjAwMUEyIDIgMCAwIDAgMTMgOHptMCA2YTIgMiAwIDEgMCAuMDAxIDQuMDAxQTIgMiAwIDAgMCAxMyAxNHpcIiB9KSB9KSB9KTtcblxuLy8gY29tcG9uZW50cy9Tb3J0YWJsZS9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyBEcmFnRHJvcFByb3ZpZGVyIH0gZnJvbSBcIkBkbmQta2l0L3JlYWN0XCI7XG5cbi8vIGxpYi9kbmQvdXNlLXNlbnNvcnMudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTMgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFBvaW50ZXJTZW5zb3IgfSBmcm9tIFwiQGRuZC1raXQvcmVhY3RcIjtcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gXCJAZG5kLWtpdC9kb20vdXRpbGl0aWVzXCI7XG52YXIgdG91Y2hEZWZhdWx0ID0geyBkZWxheTogeyB2YWx1ZTogMjAwLCB0b2xlcmFuY2U6IDEwIH0gfTtcbnZhciBvdGhlckRlZmF1bHQgPSB7XG4gIGRlbGF5OiB7IHZhbHVlOiAyMDAsIHRvbGVyYW5jZTogMTAgfSxcbiAgZGlzdGFuY2U6IHsgdmFsdWU6IDUgfVxufTtcbnZhciB1c2VTZW5zb3JzID0gKHtcbiAgb3RoZXIgPSBvdGhlckRlZmF1bHQsXG4gIG1vdXNlLFxuICB0b3VjaCA9IHRvdWNoRGVmYXVsdFxufSA9IHtcbiAgdG91Y2g6IHRvdWNoRGVmYXVsdCxcbiAgb3RoZXI6IG90aGVyRGVmYXVsdFxufSkgPT4ge1xuICBjb25zdCBbc2Vuc29yc10gPSB1c2VTdGF0ZTMoKCkgPT4gW1xuICAgIFBvaW50ZXJTZW5zb3IuY29uZmlndXJlKHtcbiAgICAgIGFjdGl2YXRpb25Db25zdHJhaW50cyhldmVudCwgc291cmNlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBwb2ludGVyVHlwZSwgdGFyZ2V0IH0gPSBldmVudDtcbiAgICAgICAgaWYgKHBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgJiYgaXNFbGVtZW50KHRhcmdldCkgJiYgKHNvdXJjZS5oYW5kbGUgPT09IHRhcmdldCB8fCAoKF9hID0gc291cmNlLmhhbmRsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKHRhcmdldCkpKSkge1xuICAgICAgICAgIHJldHVybiBtb3VzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgICAgIHJldHVybiB0b3VjaDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICB9XG4gICAgfSlcbiAgXSk7XG4gIHJldHVybiBzZW5zb3JzO1xufTtcblxuLy8gbGliL2RuZC9jb2xsaXNpb24vZHluYW1pYy9pbmRleC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7XG4gIENvbGxpc2lvblByaW9yaXR5IGFzIENvbGxpc2lvblByaW9yaXR5NyxcbiAgQ29sbGlzaW9uVHlwZSBhcyBDb2xsaXNpb25UeXBlN1xufSBmcm9tIFwiQGRuZC1raXQvYWJzdHJhY3RcIjtcblxuLy8gbGliL2RuZC9jb2xsaXNpb24vZGlyZWN0aW9uYWwvaW5kZXgudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyBDb2xsaXNpb25UeXBlIH0gZnJvbSBcIkBkbmQta2l0L2Fic3RyYWN0XCI7XG5cbi8vIGxpYi9kbmQvY29sbGlzaW9uL2NvbGxpc2lvbi1kZWJ1Zy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBERUJVRyA9IGZhbHNlO1xudmFyIGRlYnVnRWxlbWVudHMgPSB7fTtcbnZhciB0aW1lb3V0O1xudmFyIGNvbGxpc2lvbkRlYnVnID0gKGEsIGIsIGlkLCBjb2xvciwgbGFiZWwpID0+IHtcbiAgaWYgKCFERUJVRykgcmV0dXJuO1xuICBjb25zdCBkZWJ1Z0lkID0gYCR7aWR9LWRlYnVnYDtcbiAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgT2JqZWN0LmVudHJpZXMoZGVidWdFbGVtZW50cykuZm9yRWFjaCgoW2lkMiwgeyBzdmcgfV0pID0+IHtcbiAgICAgIHN2Zy5yZW1vdmUoKTtcbiAgICAgIGRlbGV0ZSBkZWJ1Z0VsZW1lbnRzW2lkMl07XG4gICAgfSk7XG4gIH0sIDFlMyk7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBleGlzdGluZ0VsID0gZGVidWdFbGVtZW50c1tkZWJ1Z0lkXTtcbiAgICBsZXQgbGluZSA9IChfYSA9IGRlYnVnRWxlbWVudHNbZGVidWdJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5saW5lO1xuICAgIGxldCB0ZXh0ID0gKF9iID0gZGVidWdFbGVtZW50c1tkZWJ1Z0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRleHQ7XG4gICAgaWYgKCFleGlzdGluZ0VsKSB7XG4gICAgICBjb25zdCBzdmdOcyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbiAgICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOcywgXCJzdmdcIik7XG4gICAgICBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05zLCBcImxpbmVcIik7XG4gICAgICB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05zLCBcInRleHRcIik7XG4gICAgICBzdmcuc2V0QXR0cmlidXRlKFwiaWRcIiwgZGVidWdJZCk7XG4gICAgICBzdmcuc2V0QXR0cmlidXRlKFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwicG9zaXRpb246IGZpeGVkOyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBwb2ludGVyLWV2ZW50czogbm9uZTsgdG9wOiAwcHg7IGxlZnQ6IDBweDtcIlxuICAgICAgKTtcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZChsaW5lKTtcbiAgICAgIHN2Zy5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICAgIHRleHQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBgYmxhY2tgKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgICAgIGRlYnVnRWxlbWVudHNbZGVidWdJZF0gPSB7IHN2ZywgbGluZSwgdGV4dCB9O1xuICAgIH1cbiAgICBsaW5lLnNldEF0dHJpYnV0ZShcIngxXCIsIGEueC50b1N0cmluZygpKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZShcIngyXCIsIGIueC50b1N0cmluZygpKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZShcInkxXCIsIGEueS50b1N0cmluZygpKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZShcInkyXCIsIGIueS50b1N0cmluZygpKTtcbiAgICBsaW5lLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBzdHJva2U6JHtjb2xvcn07c3Ryb2tlLXdpZHRoOjJgKTtcbiAgICB0ZXh0LnNldEF0dHJpYnV0ZShcInhcIiwgKGEueCAtIChhLnggLSBiLngpIC8gMikudG9TdHJpbmcoKSk7XG4gICAgdGV4dC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIChhLnkgLSAoYS55IC0gYi55KSAvIDIpLnRvU3RyaW5nKCkpO1xuICAgIGlmIChsYWJlbCkge1xuICAgICAgdGV4dC5pbm5lckhUTUwgPSBsYWJlbDtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gbGliL2RuZC9jb2xsaXNpb24vZGlyZWN0aW9uYWwvaW5kZXgudHNcbnZhciBkaXN0YW5jZUNoYW5nZSA9IFwiaW5jcmVhc2luZ1wiO1xudmFyIGRpcmVjdGlvbmFsQ29sbGlzaW9uID0gKGlucHV0LCBwcmV2aW91cykgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgZHJhZ09wZXJhdGlvbiwgZHJvcHBhYmxlIH0gPSBpbnB1dDtcbiAgY29uc3QgeyBzaGFwZTogZHJvcFNoYXBlIH0gPSBkcm9wcGFibGU7XG4gIGNvbnN0IHsgcG9zaXRpb24gfSA9IGRyYWdPcGVyYXRpb247XG4gIGNvbnN0IGRyYWdTaGFwZSA9IChfYSA9IGRyYWdPcGVyYXRpb24uc2hhcGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jdXJyZW50O1xuICBpZiAoIWRyYWdTaGFwZSB8fCAhZHJvcFNoYXBlKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZHJvcENlbnRlciA9IGRyb3BTaGFwZS5jZW50ZXI7XG4gIGNvbnN0IGRpc3RhbmNlVG9QcmV2aW91cyA9IE1hdGguc3FydChcbiAgICBNYXRoLnBvdyhkcm9wQ2VudGVyLnggLSBwcmV2aW91cy54LCAyKSArIE1hdGgucG93KGRyb3BDZW50ZXIueSAtIHByZXZpb3VzLnksIDIpXG4gICk7XG4gIGNvbnN0IGRpc3RhbmNlVG9DdXJyZW50ID0gTWF0aC5zcXJ0KFxuICAgIE1hdGgucG93KGRyb3BDZW50ZXIueCAtIHBvc2l0aW9uLmN1cnJlbnQueCwgMikgKyBNYXRoLnBvdyhkcm9wQ2VudGVyLnkgLSBwb3NpdGlvbi5jdXJyZW50LnksIDIpXG4gICk7XG4gIGRpc3RhbmNlQ2hhbmdlID0gZGlzdGFuY2VUb0N1cnJlbnQgPT09IGRpc3RhbmNlVG9QcmV2aW91cyA/IGRpc3RhbmNlQ2hhbmdlIDogZGlzdGFuY2VUb0N1cnJlbnQgPCBkaXN0YW5jZVRvUHJldmlvdXMgPyBcImRlY3JlYXNpbmdcIiA6IFwiaW5jcmVhc2luZ1wiO1xuICBjb2xsaXNpb25EZWJ1ZyhcbiAgICBkcmFnU2hhcGUuY2VudGVyLFxuICAgIGRyb3BDZW50ZXIsXG4gICAgZHJvcHBhYmxlLmlkLnRvU3RyaW5nKCksXG4gICAgXCJyZWJlY2NhcHVycGxlXCJcbiAgKTtcbiAgaWYgKGRpc3RhbmNlQ2hhbmdlID09PSBcImRlY3JlYXNpbmdcIikge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZHJvcHBhYmxlLmlkLFxuICAgICAgdmFsdWU6IDEsXG4gICAgICB0eXBlOiBDb2xsaXNpb25UeXBlLkNvbGxpc2lvblxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBsaWIvZG5kL2NvbGxpc2lvbi9keW5hbWljL2dldC1kaXJlY3Rpb24udHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZ2V0RGlyZWN0aW9uID0gKGRyYWdBeGlzLCBkZWx0YSkgPT4ge1xuICBpZiAoZHJhZ0F4aXMgPT09IFwiZHluYW1pY1wiKSB7XG4gICAgaWYgKE1hdGguYWJzKGRlbHRhLnkpID4gTWF0aC5hYnMoZGVsdGEueCkpIHtcbiAgICAgIHJldHVybiBkZWx0YS55ID09PSAwID8gbnVsbCA6IGRlbHRhLnkgPiAwID8gXCJkb3duXCIgOiBcInVwXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkZWx0YS54ID09PSAwID8gbnVsbCA6IGRlbHRhLnggPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRyYWdBeGlzID09PSBcInhcIikge1xuICAgIHJldHVybiBkZWx0YS54ID09PSAwID8gbnVsbCA6IGRlbHRhLnggPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XG4gIH1cbiAgcmV0dXJuIGRlbHRhLnkgPT09IDAgPyBudWxsIDogZGVsdGEueSA+IDAgPyBcImRvd25cIiA6IFwidXBcIjtcbn07XG5cbi8vIGxpYi9kbmQvY29sbGlzaW9uL2R5bmFtaWMvZ2V0LW1pZHBvaW50LWltcGFjdC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBnZXRNaWRwb2ludEltcGFjdCA9IChkcmFnU2hhcGUsIGRyb3BTaGFwZSwgZGlyZWN0aW9uLCBvZmZzZXRNdWx0aXBsaWVyID0gMCkgPT4ge1xuICBjb25zdCBkcmFnUmVjdCA9IGRyYWdTaGFwZS5ib3VuZGluZ1JlY3RhbmdsZTtcbiAgY29uc3QgZHJvcENlbnRlciA9IGRyb3BTaGFwZS5jZW50ZXI7XG4gIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiKSB7XG4gICAgY29uc3Qgb2Zmc2V0MiA9IG9mZnNldE11bHRpcGxpZXIgKiBkcm9wU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUuaGVpZ2h0O1xuICAgIHJldHVybiBkcmFnUmVjdC5ib3R0b20gPj0gZHJvcENlbnRlci55ICsgb2Zmc2V0MjtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwidXBcIikge1xuICAgIGNvbnN0IG9mZnNldDIgPSBvZmZzZXRNdWx0aXBsaWVyICogZHJvcFNoYXBlLmJvdW5kaW5nUmVjdGFuZ2xlLmhlaWdodDtcbiAgICByZXR1cm4gZHJhZ1JlY3QudG9wIDwgZHJvcENlbnRlci55IC0gb2Zmc2V0MjtcbiAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwibGVmdFwiKSB7XG4gICAgY29uc3Qgb2Zmc2V0MiA9IG9mZnNldE11bHRpcGxpZXIgKiBkcm9wU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUud2lkdGg7XG4gICAgcmV0dXJuIGRyb3BDZW50ZXIueCAtIG9mZnNldDIgPj0gZHJhZ1JlY3QubGVmdDtcbiAgfVxuICBjb25zdCBvZmZzZXQgPSBvZmZzZXRNdWx0aXBsaWVyICogZHJvcFNoYXBlLmJvdW5kaW5nUmVjdGFuZ2xlLndpZHRoO1xuICByZXR1cm4gZHJhZ1JlY3QucmlnaHQgLSBvZmZzZXQgPj0gZHJvcENlbnRlci54O1xufTtcblxuLy8gbGliL2RuZC9jb2xsaXNpb24vZHluYW1pYy90cmFjay1tb3ZlbWVudC1pbnRlcnZhbC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IFBvaW50IH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG52YXIgSU5URVJWQUxfU0VOU0lUSVZJVFkgPSAxMDtcbnZhciBpbnRlcnZhbENhY2hlID0ge1xuICBjdXJyZW50OiB7IHg6IDAsIHk6IDAgfSxcbiAgZGVsdGE6IHsgeDogMCwgeTogMCB9LFxuICBwcmV2aW91czogeyB4OiAwLCB5OiAwIH0sXG4gIGRpcmVjdGlvbjogbnVsbFxufTtcbnZhciB0cmFja01vdmVtZW50SW50ZXJ2YWwgPSAocG9pbnQsIGRyYWdBeGlzID0gXCJkeW5hbWljXCIpID0+IHtcbiAgaW50ZXJ2YWxDYWNoZS5jdXJyZW50ID0gcG9pbnQ7XG4gIGludGVydmFsQ2FjaGUuZGVsdGEgPSB7XG4gICAgeDogcG9pbnQueCAtIGludGVydmFsQ2FjaGUucHJldmlvdXMueCxcbiAgICB5OiBwb2ludC55IC0gaW50ZXJ2YWxDYWNoZS5wcmV2aW91cy55XG4gIH07XG4gIGludGVydmFsQ2FjaGUuZGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGRyYWdBeGlzLCBpbnRlcnZhbENhY2hlLmRlbHRhKSB8fCBpbnRlcnZhbENhY2hlLmRpcmVjdGlvbjtcbiAgaWYgKE1hdGguYWJzKGludGVydmFsQ2FjaGUuZGVsdGEueCkgPiBJTlRFUlZBTF9TRU5TSVRJVklUWSB8fCBNYXRoLmFicyhpbnRlcnZhbENhY2hlLmRlbHRhLnkpID4gSU5URVJWQUxfU0VOU0lUSVZJVFkpIHtcbiAgICBpbnRlcnZhbENhY2hlLnByZXZpb3VzID0gUG9pbnQuZnJvbShwb2ludCk7XG4gIH1cbiAgcmV0dXJuIGludGVydmFsQ2FjaGU7XG59O1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvQGRuZC1raXQvY29sbGlzaW9uL2Rpc3QvaW5kZXguanNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyBDb2xsaXNpb25Qcmlvcml0eSwgQ29sbGlzaW9uVHlwZSBhcyBDb2xsaXNpb25UeXBlMiB9IGZyb20gXCJAZG5kLWtpdC9hYnN0cmFjdFwiO1xuaW1wb3J0IHsgUG9pbnQgYXMgUG9pbnQyIH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG5pbXBvcnQgeyBDb2xsaXNpb25Qcmlvcml0eSBhcyBDb2xsaXNpb25Qcmlvcml0eTIsIENvbGxpc2lvblR5cGUgYXMgQ29sbGlzaW9uVHlwZTIyIH0gZnJvbSBcIkBkbmQta2l0L2Fic3RyYWN0XCI7XG5pbXBvcnQgeyBQb2ludCBhcyBQb2ludDIyIH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG5pbXBvcnQgeyBDb2xsaXNpb25Qcmlvcml0eSBhcyBDb2xsaXNpb25Qcmlvcml0eTMsIENvbGxpc2lvblR5cGUgYXMgQ29sbGlzaW9uVHlwZTMgfSBmcm9tIFwiQGRuZC1raXQvYWJzdHJhY3RcIjtcbmltcG9ydCB7IFBvaW50IGFzIFBvaW50MywgUmVjdGFuZ2xlIH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG5pbXBvcnQgeyBDb2xsaXNpb25Qcmlvcml0eSBhcyBDb2xsaXNpb25Qcmlvcml0eTQsIENvbGxpc2lvblR5cGUgYXMgQ29sbGlzaW9uVHlwZTQgfSBmcm9tIFwiQGRuZC1raXQvYWJzdHJhY3RcIjtcbmltcG9ydCB7IFBvaW50IGFzIFBvaW50NCB9IGZyb20gXCJAZG5kLWtpdC9nZW9tZXRyeVwiO1xuaW1wb3J0IHsgQ29sbGlzaW9uUHJpb3JpdHkgYXMgQ29sbGlzaW9uUHJpb3JpdHk1LCBDb2xsaXNpb25UeXBlIGFzIENvbGxpc2lvblR5cGU1IH0gZnJvbSBcIkBkbmQta2l0L2Fic3RyYWN0XCI7XG5pbXBvcnQgeyBQb2ludCBhcyBQb2ludDUgfSBmcm9tIFwiQGRuZC1raXQvZ2VvbWV0cnlcIjtcbmltcG9ydCB7IENvbGxpc2lvblByaW9yaXR5IGFzIENvbGxpc2lvblByaW9yaXR5NiwgQ29sbGlzaW9uVHlwZSBhcyBDb2xsaXNpb25UeXBlNiB9IGZyb20gXCJAZG5kLWtpdC9hYnN0cmFjdFwiO1xuaW1wb3J0IHsgUG9pbnQgYXMgUG9pbnQ2IH0gZnJvbSBcIkBkbmQta2l0L2dlb21ldHJ5XCI7XG52YXIgcG9pbnRlckludGVyc2VjdGlvbiA9ICh7XG4gIGRyYWdPcGVyYXRpb24sXG4gIGRyb3BwYWJsZVxufSkgPT4ge1xuICBjb25zdCBwb2ludGVyQ29vcmRpbmF0ZXMgPSBkcmFnT3BlcmF0aW9uLnBvc2l0aW9uLmN1cnJlbnQ7XG4gIGlmICghcG9pbnRlckNvb3JkaW5hdGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgeyBpZCB9ID0gZHJvcHBhYmxlO1xuICBpZiAoIWRyb3BwYWJsZS5zaGFwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChkcm9wcGFibGUuc2hhcGUuY29udGFpbnNQb2ludChwb2ludGVyQ29vcmRpbmF0ZXMpKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBQb2ludDIuZGlzdGFuY2UoZHJvcHBhYmxlLnNoYXBlLmNlbnRlciwgcG9pbnRlckNvb3JkaW5hdGVzKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICB2YWx1ZTogMSAvIGRpc3RhbmNlLFxuICAgICAgdHlwZTogQ29sbGlzaW9uVHlwZTIuUG9pbnRlckludGVyc2VjdGlvbixcbiAgICAgIHByaW9yaXR5OiBDb2xsaXNpb25Qcmlvcml0eS5IaWdoXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG52YXIgY2xvc2VzdENvcm5lcnMgPSAoaW5wdXQpID0+IHtcbiAgY29uc3QgeyBkcmFnT3BlcmF0aW9uLCBkcm9wcGFibGUgfSA9IGlucHV0O1xuICBjb25zdCB7IHNoYXBlLCBwb3NpdGlvbiB9ID0gZHJhZ09wZXJhdGlvbjtcbiAgaWYgKCFkcm9wcGFibGUuc2hhcGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBzaGFwZUNvcm5lcnMgPSBzaGFwZSA/IFJlY3RhbmdsZS5mcm9tKHNoYXBlLmN1cnJlbnQuYm91bmRpbmdSZWN0YW5nbGUpLmNvcm5lcnMgOiB2b2lkIDA7XG4gIGNvbnN0IGRpc3RhbmNlID0gUmVjdGFuZ2xlLmZyb20oXG4gICAgZHJvcHBhYmxlLnNoYXBlLmJvdW5kaW5nUmVjdGFuZ2xlXG4gICkuY29ybmVycy5yZWR1Y2UoXG4gICAgKGFjYywgY29ybmVyLCBpbmRleCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIGFjYyArIFBvaW50My5kaXN0YW5jZShcbiAgICAgICAgUG9pbnQzLmZyb20oY29ybmVyKSxcbiAgICAgICAgKF9hID0gc2hhcGVDb3JuZXJzID09IG51bGwgPyB2b2lkIDAgOiBzaGFwZUNvcm5lcnNbaW5kZXhdKSAhPSBudWxsID8gX2EgOiBwb3NpdGlvbi5jdXJyZW50XG4gICAgICApO1xuICAgIH0sXG4gICAgMFxuICApO1xuICBjb25zdCB2YWx1ZSA9IGRpc3RhbmNlIC8gNDtcbiAgcmV0dXJuIHtcbiAgICBpZDogZHJvcHBhYmxlLmlkLFxuICAgIHZhbHVlOiAxIC8gdmFsdWUsXG4gICAgdHlwZTogQ29sbGlzaW9uVHlwZTMuQ29sbGlzaW9uLFxuICAgIHByaW9yaXR5OiBDb2xsaXNpb25Qcmlvcml0eTMuTm9ybWFsXG4gIH07XG59O1xuXG4vLyBsaWIvZG5kL2NvbGxpc2lvbi9keW5hbWljL3N0b3JlLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tIFwienVzdGFuZC92YW5pbGxhXCI7XG52YXIgY29sbGlzaW9uU3RvcmUgPSBjcmVhdGVTdG9yZSgoKSA9PiAoe1xuICBmYWxsYmFja0VuYWJsZWQ6IGZhbHNlXG59KSk7XG5cbi8vIGxpYi9kbmQvY29sbGlzaW9uL2R5bmFtaWMvaW5kZXgudHNcbnZhciBmbHVzaE5leHQgPSBcIlwiO1xudmFyIGNyZWF0ZUR5bmFtaWNDb2xsaXNpb25EZXRlY3RvciA9IChkcmFnQXhpcywgbWlkcG9pbnRPZmZzZXQgPSAwLjA1KSA9PiAoaW5wdXQpID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgY29uc3QgeyBkcmFnT3BlcmF0aW9uLCBkcm9wcGFibGUgfSA9IGlucHV0O1xuICBjb25zdCB7IHBvc2l0aW9uIH0gPSBkcmFnT3BlcmF0aW9uO1xuICBjb25zdCBkcmFnU2hhcGUgPSAoX2EgPSBkcmFnT3BlcmF0aW9uLnNoYXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY3VycmVudDtcbiAgY29uc3QgeyBzaGFwZTogZHJvcFNoYXBlIH0gPSBkcm9wcGFibGU7XG4gIGlmICghZHJhZ1NoYXBlIHx8ICFkcm9wU2hhcGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB7IGNlbnRlcjogZHJhZ0NlbnRlciB9ID0gZHJhZ1NoYXBlO1xuICBjb25zdCB7IGZhbGxiYWNrRW5hYmxlZCB9ID0gY29sbGlzaW9uU3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgaW50ZXJ2YWwgPSB0cmFja01vdmVtZW50SW50ZXJ2YWwocG9zaXRpb24uY3VycmVudCwgZHJhZ0F4aXMpO1xuICBjb25zdCBkYXRhID0ge1xuICAgIGRpcmVjdGlvbjogaW50ZXJ2YWwuZGlyZWN0aW9uXG4gIH07XG4gIGNvbnN0IHsgY2VudGVyOiBkcm9wQ2VudGVyIH0gPSBkcm9wU2hhcGU7XG4gIGNvbnN0IG92ZXJNaWRwb2ludCA9IGdldE1pZHBvaW50SW1wYWN0KFxuICAgIGRyYWdTaGFwZSxcbiAgICBkcm9wU2hhcGUsXG4gICAgaW50ZXJ2YWwuZGlyZWN0aW9uLFxuICAgIG1pZHBvaW50T2Zmc2V0XG4gICk7XG4gIGlmICgoKF9iID0gZHJhZ09wZXJhdGlvbi5zb3VyY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pZCkgPT09IGRyb3BwYWJsZS5pZCkge1xuICAgIGNvbnN0IGNvbGxpc2lvbiA9IGRpcmVjdGlvbmFsQ29sbGlzaW9uKGlucHV0LCBpbnRlcnZhbC5wcmV2aW91cyk7XG4gICAgY29sbGlzaW9uRGVidWcoZHJhZ0NlbnRlciwgZHJvcENlbnRlciwgZHJvcHBhYmxlLmlkLnRvU3RyaW5nKCksIFwieWVsbG93XCIpO1xuICAgIGlmIChjb2xsaXNpb24pIHtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb2xsaXNpb24pLCB7XG4gICAgICAgIHByaW9yaXR5OiBDb2xsaXNpb25Qcmlvcml0eTcuSGlnaGVzdCxcbiAgICAgICAgZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGludGVyc2VjdGlvbkFyZWEgPSBkcmFnU2hhcGUuaW50ZXJzZWN0aW9uQXJlYShkcm9wU2hhcGUpO1xuICBjb25zdCBpbnRlcnNlY3Rpb25SYXRpbyA9IGludGVyc2VjdGlvbkFyZWEgLyBkcm9wU2hhcGUuYXJlYTtcbiAgaWYgKGludGVyc2VjdGlvbkFyZWEgJiYgb3Zlck1pZHBvaW50KSB7XG4gICAgY29sbGlzaW9uRGVidWcoXG4gICAgICBkcmFnQ2VudGVyLFxuICAgICAgZHJvcENlbnRlcixcbiAgICAgIGRyb3BwYWJsZS5pZC50b1N0cmluZygpLFxuICAgICAgXCJncmVlblwiLFxuICAgICAgaW50ZXJ2YWwuZGlyZWN0aW9uXG4gICAgKTtcbiAgICBjb25zdCBjb2xsaXNpb24gPSB7XG4gICAgICBpZDogZHJvcHBhYmxlLmlkLFxuICAgICAgdmFsdWU6IGludGVyc2VjdGlvblJhdGlvLFxuICAgICAgcHJpb3JpdHk6IENvbGxpc2lvblByaW9yaXR5Ny5IaWdoLFxuICAgICAgdHlwZTogQ29sbGlzaW9uVHlwZTcuQ29sbGlzaW9uXG4gICAgfTtcbiAgICBjb25zdCBzaG91bGRGbHVzaElkID0gZmx1c2hOZXh0ID09PSBkcm9wcGFibGUuaWQ7XG4gICAgZmx1c2hOZXh0ID0gXCJcIjtcbiAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY29sbGlzaW9uKSwgeyBpZDogc2hvdWxkRmx1c2hJZCA/IFwiZmx1c2hcIiA6IGNvbGxpc2lvbi5pZCwgZGF0YSB9KTtcbiAgfVxuICBpZiAoZmFsbGJhY2tFbmFibGVkICYmICgoX2MgPSBkcmFnT3BlcmF0aW9uLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmlkKSAhPT0gZHJvcHBhYmxlLmlkKSB7XG4gICAgY29uc3QgeEF4aXNJbnRlcnNlY3Rpb24gPSBkcm9wU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUucmlnaHQgPiBkcmFnU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUubGVmdCAmJiBkcm9wU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUubGVmdCA8IGRyYWdTaGFwZS5ib3VuZGluZ1JlY3RhbmdsZS5yaWdodDtcbiAgICBjb25zdCB5QXhpc0ludGVyc2VjdGlvbiA9IGRyb3BTaGFwZS5ib3VuZGluZ1JlY3RhbmdsZS5ib3R0b20gPiBkcmFnU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUudG9wICYmIGRyb3BTaGFwZS5ib3VuZGluZ1JlY3RhbmdsZS50b3AgPCBkcmFnU2hhcGUuYm91bmRpbmdSZWN0YW5nbGUuYm90dG9tO1xuICAgIGlmIChkcmFnQXhpcyA9PT0gXCJ5XCIgJiYgeEF4aXNJbnRlcnNlY3Rpb24gfHwgeUF4aXNJbnRlcnNlY3Rpb24pIHtcbiAgICAgIGNvbnN0IGZhbGxiYWNrQ29sbGlzaW9uID0gY2xvc2VzdENvcm5lcnMoaW5wdXQpO1xuICAgICAgaWYgKGZhbGxiYWNrQ29sbGlzaW9uKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkcmFnQXhpcywge1xuICAgICAgICAgIHg6IGRyYWdTaGFwZS5jZW50ZXIueCAtICgoKF9kID0gZHJvcHBhYmxlLnNoYXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2QuY2VudGVyLngpIHx8IDApLFxuICAgICAgICAgIHk6IGRyYWdTaGFwZS5jZW50ZXIueSAtICgoKF9lID0gZHJvcHBhYmxlLnNoYXBlKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY2VudGVyLnkpIHx8IDApXG4gICAgICAgIH0pO1xuICAgICAgICBkYXRhLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgaWYgKGludGVyc2VjdGlvbkFyZWEpIHtcbiAgICAgICAgICBjb2xsaXNpb25EZWJ1ZyhcbiAgICAgICAgICAgIGRyYWdDZW50ZXIsXG4gICAgICAgICAgICBkcm9wQ2VudGVyLFxuICAgICAgICAgICAgZHJvcHBhYmxlLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBcInJlZFwiLFxuICAgICAgICAgICAgZGlyZWN0aW9uIHx8IFwiXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsdXNoTmV4dCA9IGRyb3BwYWJsZS5pZDtcbiAgICAgICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZmFsbGJhY2tDb2xsaXNpb24pLCB7XG4gICAgICAgICAgICBwcmlvcml0eTogQ29sbGlzaW9uUHJpb3JpdHk3LkxvdyxcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb2xsaXNpb25EZWJ1ZyhcbiAgICAgICAgICBkcmFnQ2VudGVyLFxuICAgICAgICAgIGRyb3BDZW50ZXIsXG4gICAgICAgICAgZHJvcHBhYmxlLmlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgXCJvcmFuZ2VcIixcbiAgICAgICAgICBkaXJlY3Rpb24gfHwgXCJcIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZmFsbGJhY2tDb2xsaXNpb24pLCB7XG4gICAgICAgICAgcHJpb3JpdHk6IENvbGxpc2lvblByaW9yaXR5Ny5Mb3dlc3QsXG4gICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29sbGlzaW9uRGVidWcoZHJhZ0NlbnRlciwgZHJvcENlbnRlciwgZHJvcHBhYmxlLmlkLnRvU3RyaW5nKCksIFwiaG90cGlua1wiKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBjb21wb25lbnRzL1NvcnRhYmxlL2luZGV4LnRzeFxuaW1wb3J0IHsgdXNlU29ydGFibGUgfSBmcm9tIFwiQGRuZC1raXQvcmVhY3Qvc29ydGFibGVcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3g2IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgU29ydGFibGVQcm92aWRlciA9ICh7XG4gIGNoaWxkcmVuLFxuICBvbkRyYWdTdGFydCxcbiAgb25EcmFnRW5kLFxuICBvbk1vdmVcbn0pID0+IHtcbiAgY29uc3Qgc2Vuc29ycyA9IHVzZVNlbnNvcnMoe1xuICAgIG1vdXNlOiB7IGRpc3RhbmNlOiB7IHZhbHVlOiA1IH0gfVxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgIERyYWdEcm9wUHJvdmlkZXIsXG4gICAge1xuICAgICAgc2Vuc29ycyxcbiAgICAgIG9uRHJhZ1N0YXJ0OiAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIG9uRHJhZ1N0YXJ0KChfYiA9IChfYSA9IGV2ZW50Lm9wZXJhdGlvbi5zb3VyY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pZC50b1N0cmluZygpKSAhPSBudWxsID8gX2IgOiBcIlwiKTtcbiAgICAgIH0sXG4gICAgICBvbkRyYWdPdmVyOiAoZXZlbnQsIG1hbmFnZXIpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB7IG9wZXJhdGlvbiB9ID0gZXZlbnQ7XG4gICAgICAgIGNvbnN0IHsgc291cmNlLCB0YXJnZXQgfSA9IG9wZXJhdGlvbjtcbiAgICAgICAgaWYgKCFzb3VyY2UgfHwgIXRhcmdldCkgcmV0dXJuO1xuICAgICAgICBsZXQgc291cmNlSW5kZXggPSBzb3VyY2UuZGF0YS5pbmRleDtcbiAgICAgICAgbGV0IHRhcmdldEluZGV4ID0gdGFyZ2V0LmRhdGEuaW5kZXg7XG4gICAgICAgIGNvbnN0IGNvbGxpc2lvbkRhdGEgPSAoX2EgPSBtYW5hZ2VyLmNvbGxpc2lvbk9ic2VydmVyLmNvbGxpc2lvbnNbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5kYXRhO1xuICAgICAgICBpZiAoc291cmNlSW5kZXggIT09IHRhcmdldEluZGV4ICYmIHNvdXJjZS5pZCAhPT0gdGFyZ2V0LmlkKSB7XG4gICAgICAgICAgY29uc3QgY29sbGlzaW9uUG9zaXRpb24gPSAoY29sbGlzaW9uRGF0YSA9PSBudWxsID8gdm9pZCAwIDogY29sbGlzaW9uRGF0YS5kaXJlY3Rpb24pID09PSBcInVwXCIgPyBcImJlZm9yZVwiIDogXCJhZnRlclwiO1xuICAgICAgICAgIGlmICh0YXJnZXRJbmRleCA+PSBzb3VyY2VJbmRleCkge1xuICAgICAgICAgICAgdGFyZ2V0SW5kZXggPSB0YXJnZXRJbmRleCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb2xsaXNpb25Qb3NpdGlvbiA9PT0gXCJhZnRlclwiKSB7XG4gICAgICAgICAgICB0YXJnZXRJbmRleCA9IHRhcmdldEluZGV4ICsgMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb25Nb3ZlKHtcbiAgICAgICAgICAgIHNvdXJjZTogc291cmNlSW5kZXgsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldEluZGV4XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkRyYWdFbmQ6ICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgb25EcmFnRW5kKCk7XG4gICAgICAgIH0sIDI1MCk7XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59O1xudmFyIFNvcnRhYmxlID0gKHtcbiAgaWQsXG4gIGluZGV4LFxuICBkaXNhYmxlZCxcbiAgY2hpbGRyZW4sXG4gIHR5cGUgPSBcIml0ZW1cIlxufSkgPT4ge1xuICBjb25zdCB7XG4gICAgcmVmOiBzb3J0YWJsZVJlZixcbiAgICBpc0RyYWdnaW5nLFxuICAgIGlzRHJvcHBpbmcsXG4gICAgaGFuZGxlUmVmXG4gIH0gPSB1c2VTb3J0YWJsZSh7XG4gICAgaWQsXG4gICAgdHlwZSxcbiAgICBpbmRleCxcbiAgICBkaXNhYmxlZCxcbiAgICBkYXRhOiB7IGluZGV4IH0sXG4gICAgY29sbGlzaW9uRGV0ZWN0b3I6IGNyZWF0ZUR5bmFtaWNDb2xsaXNpb25EZXRlY3RvcihcInlcIilcbiAgfSk7XG4gIHJldHVybiBjaGlsZHJlbih7IGlzRHJhZ2dpbmcsIGlzRHJvcHBpbmcsIHJlZjogc29ydGFibGVSZWYsIGhhbmRsZVJlZiB9KTtcbn07XG5cbi8vIGNvbXBvbmVudHMvQXV0b0ZpZWxkL2NvbnRleHQudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCBhcyBjcmVhdGVDb250ZXh0MiwgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MiwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBOZXN0ZWRGaWVsZENvbnRleHQgPSBjcmVhdGVDb250ZXh0Mih7fSk7XG52YXIgdXNlTmVzdGVkRmllbGRDb250ZXh0ID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dDIoTmVzdGVkRmllbGRDb250ZXh0KTtcbiAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvbnRleHQpLCB7XG4gICAgcmVhZE9ubHlGaWVsZHM6IGNvbnRleHQucmVhZE9ubHlGaWVsZHMgfHwge31cbiAgfSk7XG59O1xudmFyIE5lc3RlZEZpZWxkUHJvdmlkZXIgPSAoe1xuICBjaGlsZHJlbixcbiAgbmFtZSxcbiAgc3ViTmFtZSxcbiAgd2lsZGNhcmROYW1lID0gbmFtZSxcbiAgcmVhZE9ubHlGaWVsZHNcbn0pID0+IHtcbiAgY29uc3Qgc3ViUGF0aCA9IGAke25hbWV9LiR7c3ViTmFtZX1gO1xuICBjb25zdCB3aWxkY2FyZFN1YlBhdGggPSBgJHt3aWxkY2FyZE5hbWV9LiR7c3ViTmFtZX1gO1xuICBjb25zdCBzdWJSZWFkT25seUZpZWxkcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gT2JqZWN0LmtleXMocmVhZE9ubHlGaWVsZHMpLnJlZHVjZSgoYWNjLCByZWFkT25seUtleSkgPT4ge1xuICAgICAgY29uc3QgaXNMb2NhbCA9IHJlYWRPbmx5S2V5LmluZGV4T2Yoc3ViUGF0aCkgPiAtMSB8fCByZWFkT25seUtleS5pbmRleE9mKHdpbGRjYXJkU3ViUGF0aCkgPiAtMTtcbiAgICAgIGlmIChpc0xvY2FsKSB7XG4gICAgICAgIGNvbnN0IHN1YlBhdGhQYXR0ZXJuID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICBgXigke25hbWV9fCR7d2lsZGNhcmROYW1lfSkuYC5yZXBsYWNlKC9cXFsvZywgXCJcXFxcW1wiKS5yZXBsYWNlKC9cXF0vZywgXCJcXFxcXVwiKS5yZXBsYWNlKC9cXC4vZywgXCJcXFxcLlwiKS5yZXBsYWNlKC9cXCovZywgXCJcXFxcKlwiKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBsb2NhbE5hbWUgPSByZWFkT25seUtleS5yZXBsYWNlKHN1YlBhdGhQYXR0ZXJuLCBcIlwiKTtcbiAgICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFjYyksIHtcbiAgICAgICAgICBbbG9jYWxOYW1lXTogcmVhZE9ubHlGaWVsZHNbcmVhZE9ubHlLZXldXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSksXG4gICAgW25hbWUsIHN1Yk5hbWUsIHdpbGRjYXJkTmFtZSwgcmVhZE9ubHlGaWVsZHNdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICBOZXN0ZWRGaWVsZENvbnRleHQuUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHsgcmVhZE9ubHlGaWVsZHM6IHN1YlJlYWRPbmx5RmllbGRzLCBsb2NhbE5hbWU6IHN1Yk5hbWUgfSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufTtcblxuLy8gY29tcG9uZW50cy9BdXRvRmllbGQvZmllbGRzL0FycmF5RmllbGQvaW5kZXgudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4OCwganN4cyBhcyBqc3hzNCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTYgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJBcnJheUZpZWxkXCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDQpO1xudmFyIGdldENsYXNzTmFtZUl0ZW0gPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJBcnJheUZpZWxkSXRlbVwiLCBzdHlsZXNfbW9kdWxlX2RlZmF1bHQ0KTtcbnZhciBBcnJheUZpZWxkID0gKHtcbiAgZmllbGQsXG4gIG9uQ2hhbmdlLFxuICB2YWx1ZTogX3ZhbHVlLFxuICBuYW1lLFxuICBsYWJlbCxcbiAgbGFiZWxJY29uLFxuICByZWFkT25seSxcbiAgaWQsXG4gIExhYmVsOiBMYWJlbDIgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwiZGl2XCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpXG59KSA9PiB7XG4gIGNvbnN0IHRoaXNBcnJheVN0YXRlID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuc3RhdGUudWkuYXJyYXlTdGF0ZVtpZF0pO1xuICBjb25zdCBzZXRVaSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnNldFVpKTtcbiAgY29uc3QgeyByZWFkT25seUZpZWxkcywgbG9jYWxOYW1lID0gbmFtZSB9ID0gdXNlTmVzdGVkRmllbGRDb250ZXh0KCk7XG4gIGNvbnN0IHZhbHVlID0gX3ZhbHVlO1xuICBjb25zdCBhcnJheVN0YXRlID0gdGhpc0FycmF5U3RhdGUgfHwge1xuICAgIGl0ZW1zOiBBcnJheS5mcm9tKHZhbHVlIHx8IFtdKS5tYXAoKGl0ZW0sIGlkeCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX29yaWdpbmFsSW5kZXg6IGlkeCxcbiAgICAgICAgX2FycmF5SWQ6IGAke2lkfS0ke2lkeH1gXG4gICAgICB9O1xuICAgIH0pLFxuICAgIG9wZW5JZDogXCJcIlxuICB9O1xuICBjb25zdCBbbG9jYWxTdGF0ZSwgc2V0TG9jYWxTdGF0ZV0gPSB1c2VTdGF0ZTQoeyBhcnJheVN0YXRlLCB2YWx1ZSB9KTtcbiAgdXNlRWZmZWN0NigoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IF9hcnJheVN0YXRlID0gKF9hID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZS51aS5hcnJheVN0YXRlW2lkXSkgIT0gbnVsbCA/IF9hIDogYXJyYXlTdGF0ZTtcbiAgICBzZXRMb2NhbFN0YXRlKHsgYXJyYXlTdGF0ZTogX2FycmF5U3RhdGUsIHZhbHVlIH0pO1xuICB9LCBbdmFsdWVdKTtcbiAgY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZUFwaSgpO1xuICBjb25zdCBtYXBBcnJheVN0YXRlVG9VaSA9IHVzZUNhbGxiYWNrMihcbiAgICAocGFydGlhbEFycmF5U3RhdGUpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFycmF5U3RhdGU6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHN0YXRlLnVpLmFycmF5U3RhdGUpLCB7XG4gICAgICAgICAgW2lkXTogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGFycmF5U3RhdGUpLCBwYXJ0aWFsQXJyYXlTdGF0ZSlcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSxcbiAgICBbYXJyYXlTdGF0ZSwgYXBwU3RvcmVdXG4gICk7XG4gIGNvbnN0IGdldEhpZ2hlc3RJbmRleCA9IHVzZUNhbGxiYWNrMigoKSA9PiB7XG4gICAgcmV0dXJuIGFycmF5U3RhdGUuaXRlbXMucmVkdWNlKFxuICAgICAgKGFjYywgaXRlbSkgPT4gaXRlbS5fb3JpZ2luYWxJbmRleCA+IGFjYyA/IGl0ZW0uX29yaWdpbmFsSW5kZXggOiBhY2MsXG4gICAgICAtMVxuICAgICk7XG4gIH0sIFthcnJheVN0YXRlXSk7XG4gIGNvbnN0IHJlZ2VuZXJhdGVBcnJheVN0YXRlID0gdXNlQ2FsbGJhY2syKFxuICAgICh2YWx1ZTIpID0+IHtcbiAgICAgIGxldCBoaWdoZXN0SW5kZXggPSBnZXRIaWdoZXN0SW5kZXgoKTtcbiAgICAgIGNvbnN0IG5ld0l0ZW1zID0gQXJyYXkuZnJvbSh2YWx1ZTIgfHwgW10pLm1hcCgoaXRlbSwgaWR4KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYXJyYXlTdGF0ZUl0ZW0gPSBhcnJheVN0YXRlLml0ZW1zW2lkeF07XG4gICAgICAgIGNvbnN0IG5ld0l0ZW0gPSB7XG4gICAgICAgICAgX29yaWdpbmFsSW5kZXg6IHR5cGVvZiAoYXJyYXlTdGF0ZUl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IGFycmF5U3RhdGVJdGVtLl9vcmlnaW5hbEluZGV4KSAhPT0gXCJ1bmRlZmluZWRcIiA/IGFycmF5U3RhdGVJdGVtLl9vcmlnaW5hbEluZGV4IDogaGlnaGVzdEluZGV4ICsgMSxcbiAgICAgICAgICBfYXJyYXlJZDogKChfYSA9IGFycmF5U3RhdGUuaXRlbXNbaWR4XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLl9hcnJheUlkKSB8fCBgJHtpZH0tJHtoaWdoZXN0SW5kZXggKyAxfWBcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG5ld0l0ZW0uX29yaWdpbmFsSW5kZXggPiBoaWdoZXN0SW5kZXgpIHtcbiAgICAgICAgICBoaWdoZXN0SW5kZXggPSBuZXdJdGVtLl9vcmlnaW5hbEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgYXJyYXlTdGF0ZSksIHsgaXRlbXM6IG5ld0l0ZW1zIH0pO1xuICAgIH0sXG4gICAgW2FycmF5U3RhdGVdXG4gICk7XG4gIHVzZUVmZmVjdDYoKCkgPT4ge1xuICAgIGlmIChhcnJheVN0YXRlLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldFVpKG1hcEFycmF5U3RhdGVUb1VpKGFycmF5U3RhdGUpKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3QgW2RyYWdnZWRJdGVtLCBzZXREcmFnZ2VkSXRlbV0gPSB1c2VTdGF0ZTQoXCJcIik7XG4gIGNvbnN0IGlzRHJhZ2dpbmdBbnkgPSAhIWRyYWdnZWRJdGVtO1xuICBjb25zdCBjYW5FZGl0ID0gdXNlQXBwU3RvcmUoXG4gICAgKHMpID0+IHMucGVybWlzc2lvbnMuZ2V0UGVybWlzc2lvbnMoeyBpdGVtOiBzLnNlbGVjdGVkSXRlbSB9KS5lZGl0XG4gICk7XG4gIGNvbnN0IGZvcmNlUmVhZE9ubHkgPSAhY2FuRWRpdDtcbiAgY29uc3QgdmFsdWVSZWYgPSB1c2VSZWYodmFsdWUpO1xuICBjb25zdCB1bmlxaWZ5SXRlbSA9IHVzZUNhbGxiYWNrMihcbiAgICAodmFsKSA9PiB7XG4gICAgICBpZiAoZmllbGQudHlwZSAhPT0gXCJhcnJheVwiIHx8ICFmaWVsZC5hcnJheUZpZWxkcykgcmV0dXJuO1xuICAgICAgY29uc3QgY29uZmlnID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5jb25maWc7XG4gICAgICByZXR1cm4gd2Fsa0ZpZWxkKHtcbiAgICAgICAgdmFsdWU6IHZhbCxcbiAgICAgICAgZmllbGRzOiBmaWVsZC5hcnJheUZpZWxkcyxcbiAgICAgICAgbWFwcGVyczoge1xuICAgICAgICAgIHNsb3Q6ICh7IHZhbHVlOiB2YWx1ZTIgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHZhbHVlMjtcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50Lm1hcCgoaXRlbSkgPT4gcG9wdWxhdGVJZHMoaXRlbSwgY29uZmlnLCB0cnVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb25maWdcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2FwcFN0b3JlLCBmaWVsZF1cbiAgKTtcbiAgaWYgKGZpZWxkLnR5cGUgIT09IFwiYXJyYXlcIiB8fCAhZmllbGQuYXJyYXlGaWVsZHMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBhZGREaXNhYmxlZCA9IGZpZWxkLm1heCAhPT0gdm9pZCAwICYmIGxvY2FsU3RhdGUuYXJyYXlTdGF0ZS5pdGVtcy5sZW5ndGggPj0gZmllbGQubWF4IHx8IHJlYWRPbmx5O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDgoXG4gICAgTGFiZWwyLFxuICAgIHtcbiAgICAgIGxhYmVsOiBsYWJlbCB8fCBuYW1lLFxuICAgICAgaWNvbjogbGFiZWxJY29uIHx8IC8qIEBfX1BVUkVfXyAqLyBqc3g4KExpc3QsIHsgc2l6ZTogMTYgfSksXG4gICAgICBlbDogXCJkaXZcIixcbiAgICAgIHJlYWRPbmx5LFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFxuICAgICAgICBTb3J0YWJsZVByb3ZpZGVyLFxuICAgICAgICB7XG4gICAgICAgICAgb25EcmFnU3RhcnQ6IChpZDIpID0+IHNldERyYWdnZWRJdGVtKGlkMiksXG4gICAgICAgICAgb25EcmFnRW5kOiAoKSA9PiB7XG4gICAgICAgICAgICBzZXREcmFnZ2VkSXRlbShcIlwiKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlUmVmLmN1cnJlbnQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25Nb3ZlOiAobW92ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFycmF5U3RhdGUuaXRlbXNbbW92ZS5zb3VyY2VdLl9hcnJheUlkICE9PSBkcmFnZ2VkSXRlbSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IHJlb3JkZXIobG9jYWxTdGF0ZS52YWx1ZSwgbW92ZS5zb3VyY2UsIG1vdmUudGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FycmF5U3RhdGVJdGVtcyA9IHJlb3JkZXIoXG4gICAgICAgICAgICAgIGFycmF5U3RhdGUuaXRlbXMsXG4gICAgICAgICAgICAgIG1vdmUuc291cmNlLFxuICAgICAgICAgICAgICBtb3ZlLnRhcmdldFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1VpID0ge1xuICAgICAgICAgICAgICBhcnJheVN0YXRlOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdGF0ZS51aS5hcnJheVN0YXRlKSwge1xuICAgICAgICAgICAgICAgIFtpZF06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFycmF5U3RhdGUpLCB7IGl0ZW1zOiBuZXdBcnJheVN0YXRlSXRlbXMgfSlcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRVaShuZXdVaSwgZmFsc2UpO1xuICAgICAgICAgICAgc2V0TG9jYWxTdGF0ZSh7XG4gICAgICAgICAgICAgIHZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgYXJyYXlTdGF0ZTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgYXJyYXlTdGF0ZSksIHsgaXRlbXM6IG5ld0FycmF5U3RhdGVJdGVtcyB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YWx1ZVJlZi5jdXJyZW50ID0gbmV3VmFsdWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHM0KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWU2KHtcbiAgICAgICAgICAgICAgICBoYXNJdGVtczogQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID4gMCxcbiAgICAgICAgICAgICAgICBhZGREaXNhYmxlZFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBsb2NhbFN0YXRlLmFycmF5U3RhdGUuaXRlbXMubGVuZ3RoID4gMCAmJiAvKiBAX19QVVJFX18gKi8ganN4OChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lNihcImlubmVyXCIpLCBcImRhdGEtZG5kLWNvbnRhaW5lclwiOiB0cnVlLCBjaGlsZHJlbjogbG9jYWxTdGF0ZS5hcnJheVN0YXRlLml0ZW1zLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgeyBfYXJyYXlJZCA9IGAke2lkfS0ke2l9YCwgX29yaWdpbmFsSW5kZXggPSBpIH0gPSBpdGVtO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEFycmF5LmZyb20obG9jYWxTdGF0ZS52YWx1ZSB8fCBbXSlbaV0gfHwge307XG4gICAgICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDgoXG4gICAgICAgICAgICAgICAgICAgIFNvcnRhYmxlLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IF9hcnJheUlkLFxuICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiByZWFkT25seSxcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogKHsgaXNEcmFnZ2luZywgcmVmLCBoYW5kbGVSZWYgfSkgPT4gLyogQF9fUFVSRV9fICovIGpzeHM0KFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZUl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ6IGFycmF5U3RhdGUub3BlbklkID09PSBfYXJyYXlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzNChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RyYWdnaW5nKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5U3RhdGUub3BlbklkID09PSBfYXJyYXlJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VWkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcEFycmF5U3RhdGVUb1VpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuSWQ6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBBcnJheVN0YXRlVG9VaSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbklkOiBfYXJyYXlJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lSXRlbShcInN1bW1hcnlcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuZ2V0SXRlbVN1bW1hcnkgPyBmaWVsZC5nZXRJdGVtU3VtbWFyeShkYXRhLCBpKSA6IGBJdGVtICMke19vcmlnaW5hbEluZGV4fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHM0KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVJdGVtKFwicmhzXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXJlYWRPbmx5ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzNChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lSXRlbShcImFjdGlvbnNcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVJdGVtKFwiYWN0aW9uXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbkJ1dHRvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICEhYWRkRGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gWy4uLnZhbHVlIHx8IFtdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbSA9IHVuaXFpZnlJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVmFsdWVbaV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdWYWx1ZS5zcGxpY2UoaSwgMCwgbmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1VpID0gbWFwQXJyYXlTdGF0ZVRvVWkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZW5lcmF0ZUFycmF5U3RhdGUoZXhpc3RpbmdWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VWkobmV3VWksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoZXhpc3RpbmdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRHVwbGljYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDgoQ29weSwgeyBzaXplOiAxNiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDgoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZUl0ZW0oXCJhY3Rpb25cIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4OChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJY29uQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogZmllbGQubWluICE9PSB2b2lkIDAgJiYgZmllbGQubWluID49IGxvY2FsU3RhdGUuYXJyYXlTdGF0ZS5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gWy4uLnZhbHVlIHx8IFtdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5hcnJheVN0YXRlLml0ZW1zIHx8IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVmFsdWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0l0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VWkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwQXJyYXlTdGF0ZVRvVWkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGV4aXN0aW5nSXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZShleGlzdGluZ1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJEZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4OChUcmFzaCwgeyBzaXplOiAxNiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwiZGl2XCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g4KERyYWdJY29uLCB7fSkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVJdGVtKFwiYm9keVwiKSwgY2hpbGRyZW46IGFycmF5U3RhdGUub3BlbklkID09PSBfYXJyYXlJZCAmJiAvKiBAX19QVVJFX18gKi8ganN4OChcImZpZWxkc2V0XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVJdGVtKFwiZmllbGRzZXRcIiksIGNoaWxkcmVuOiBPYmplY3Qua2V5cyhmaWVsZC5hcnJheUZpZWxkcykubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN1Yk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViRmllbGQgPSBmaWVsZC5hcnJheUZpZWxkc1tzdWJOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhOYW1lID0gYCR7bmFtZX1bJHtpfV1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJQYXRoID0gYCR7aW5kZXhOYW1lfS4ke3N1Yk5hbWV9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxJbmRleE5hbWUgPSBgJHtsb2NhbE5hbWV9WyR7aX1dYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxXaWxkY2FyZE5hbWUgPSBgJHtsb2NhbE5hbWV9WypdYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxTdWJQYXRoID0gYCR7bG9jYWxJbmRleE5hbWV9LiR7c3ViTmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFdpbGRjYXJkU3ViUGF0aCA9IGAke2xvY2FsV2lsZGNhcmROYW1lfS4ke3N1Yk5hbWV9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViUmVhZE9ubHkgPSBmb3JjZVJlYWRPbmx5ID8gZm9yY2VSZWFkT25seSA6IHR5cGVvZiByZWFkT25seUZpZWxkc1tzdWJQYXRoXSAhPT0gXCJ1bmRlZmluZWRcIiA/IHJlYWRPbmx5RmllbGRzW2xvY2FsU3ViUGF0aF0gOiByZWFkT25seUZpZWxkc1tsb2NhbFdpbGRjYXJkU3ViUGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsMiA9IHN1YkZpZWxkLmxhYmVsIHx8IHN1Yk5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZXN0ZWRGaWVsZFByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGxvY2FsSW5kZXhOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lsZGNhcmROYW1lOiBsb2NhbFdpbGRjYXJkTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seUZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4OChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b0ZpZWxkUHJpdmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN1YlBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7X2FycmF5SWR9XyR7c3ViTmFtZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBzdWJSZWFkT25seSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3ViRmllbGQpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXkgYmUgdXNlZCBieSBjdXN0b20gZmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRhdGFbc3ViTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6ICh2YWwsIHVpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZSh2YWx1ZSwgaSwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZGF0YSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc3ViTmFtZV06IHZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViUGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfSkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgX2FycmF5SWRcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSkgfSksXG4gICAgICAgICAgICAgICAgIWFkZERpc2FibGVkICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g4KFxuICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWU2KFwiYWRkQnV0dG9uXCIpLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RyYWdnaW5nQW55KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IHZhbHVlIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSBkZWZhdWx0U2xvdHMoXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxaWZ5SXRlbSgoX2EgPSBmaWVsZC5kZWZhdWx0SXRlbVByb3BzKSAhPSBudWxsID8gX2EgOiB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5hcnJheUZpZWxkc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBbLi4uZXhpc3RpbmdWYWx1ZSwgbmV3SXRlbV07XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXJyYXlTdGF0ZSA9IHJlZ2VuZXJhdGVBcnJheVN0YXRlKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRVaShtYXBBcnJheVN0YXRlVG9VaShuZXdBcnJheVN0YXRlKSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFBsdXMsIHsgc2l6ZTogMjEgfSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL0F1dG9GaWVsZC9maWVsZHMvRGVmYXVsdEZpZWxkL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IEZyYWdtZW50IGFzIEZyYWdtZW50MiwganN4IGFzIGpzeDksIGpzeHMgYXMganN4czUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWU3ID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiSW5wdXRcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0Myk7XG52YXIgRGVmYXVsdEZpZWxkID0gKHtcbiAgZmllbGQsXG4gIG9uQ2hhbmdlLFxuICByZWFkT25seSxcbiAgdmFsdWU6IF92YWx1ZSxcbiAgbmFtZSxcbiAgbGFiZWwsXG4gIGxhYmVsSWNvbixcbiAgTGFiZWw6IExhYmVsMixcbiAgaWRcbn0pID0+IHtcbiAgY29uc3QgdmFsdWUgPSBfdmFsdWU7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OShcbiAgICBMYWJlbDIsXG4gICAge1xuICAgICAgbGFiZWw6IGxhYmVsIHx8IG5hbWUsXG4gICAgICBpY29uOiBsYWJlbEljb24gfHwgLyogQF9fUFVSRV9fICovIGpzeHM1KEZyYWdtZW50MiwgeyBjaGlsZHJlbjogW1xuICAgICAgICBmaWVsZC50eXBlID09PSBcInRleHRcIiAmJiAvKiBAX19QVVJFX18gKi8ganN4OShUeXBlLCB7IHNpemU6IDE2IH0pLFxuICAgICAgICBmaWVsZC50eXBlID09PSBcIm51bWJlclwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3g5KEhhc2gsIHsgc2l6ZTogMTYgfSlcbiAgICAgIF0gfSksXG4gICAgICByZWFkT25seSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4OShcbiAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWU3KFwiaW5wdXRcIiksXG4gICAgICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgICAgIHR5cGU6IGZpZWxkLnR5cGUsXG4gICAgICAgICAgdGl0bGU6IGxhYmVsIHx8IG5hbWUsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB2YWx1ZTogKHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS50b1N0cmluZykgPyB2YWx1ZS50b1N0cmluZygpIDogXCJcIixcbiAgICAgICAgICBvbkNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG51bWJlclZhbHVlID0gTnVtYmVyKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQubWluICE9PSBcInVuZGVmaW5lZFwiICYmIG51bWJlclZhbHVlIDwgZmllbGQubWluKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQubWF4ICE9PSBcInVuZGVmaW5lZFwiICYmIG51bWJlclZhbHVlID4gZmllbGQubWF4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKG51bWJlclZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZWFkT25seSxcbiAgICAgICAgICB0YWJJbmRleDogcmVhZE9ubHkgPyAtMSA6IHZvaWQgMCxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtaW46IGZpZWxkLnR5cGUgPT09IFwibnVtYmVyXCIgPyBmaWVsZC5taW4gOiB2b2lkIDAsXG4gICAgICAgICAgbWF4OiBmaWVsZC50eXBlID09PSBcIm51bWJlclwiID8gZmllbGQubWF4IDogdm9pZCAwLFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBmaWVsZC50eXBlID09PSBcInRleHRcIiB8fCBmaWVsZC50eXBlID09PSBcIm51bWJlclwiID8gZmllbGQucGxhY2Vob2xkZXIgOiB2b2lkIDAsXG4gICAgICAgICAgc3RlcDogZmllbGQudHlwZSA9PT0gXCJudW1iZXJcIiA/IGZpZWxkLnN0ZXAgOiB2b2lkIDBcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIGNvbXBvbmVudHMvQXV0b0ZpZWxkL2ZpZWxkcy9FeHRlcm5hbEZpZWxkL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q5IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGNvbXBvbmVudHMvRXh0ZXJuYWxJbnB1dC9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQge1xuICB1c2VNZW1vIGFzIHVzZU1lbW8yLFxuICB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0OCxcbiAgdXNlU3RhdGUgYXMgdXNlU3RhdGU2LFxuICB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazMsXG4gIGlzVmFsaWRFbGVtZW50XG59IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvRXh0ZXJuYWxJbnB1dC9zdHlsZXMubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHN0eWxlc19tb2R1bGVfZGVmYXVsdDYgPSB7IFwiRXh0ZXJuYWxJbnB1dC1hY3Rpb25zXCI6IFwiX0V4dGVybmFsSW5wdXQtYWN0aW9uc185MWxzMF8xXCIsIFwiRXh0ZXJuYWxJbnB1dC1idXR0b25cIjogXCJfRXh0ZXJuYWxJbnB1dC1idXR0b25fOTFsczBfNVwiLCBcIkV4dGVybmFsSW5wdXQtLWRhdGFTZWxlY3RlZFwiOiBcIl9FeHRlcm5hbElucHV0LS1kYXRhU2VsZWN0ZWRfOTFsczBfMjRcIiwgXCJFeHRlcm5hbElucHV0LS1yZWFkT25seVwiOiBcIl9FeHRlcm5hbElucHV0LS1yZWFkT25seV85MWxzMF8zMVwiLCBcIkV4dGVybmFsSW5wdXQtZGV0YWNoQnV0dG9uXCI6IFwiX0V4dGVybmFsSW5wdXQtZGV0YWNoQnV0dG9uXzkxbHMwXzM1XCIsIFwiRXh0ZXJuYWxJbnB1dFwiOiBcIl9FeHRlcm5hbElucHV0XzkxbHMwXzFcIiwgXCJFeHRlcm5hbElucHV0TW9kYWxcIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsXzkxbHMwXzc5XCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLWdyaWRcIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsLWdyaWRfOTFsczBfODlcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtLWZpbHRlcnNUb2dnbGVkXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC0tZmlsdGVyc1RvZ2dsZWRfOTFsczBfMTAwXCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLWZpbHRlcnNcIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsLWZpbHRlcnNfOTFsczBfMTA1XCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLW1hc3RoZWFkXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC1tYXN0aGVhZF85MWxzMF8xMjRcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtdGFibGVXcmFwcGVyXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC10YWJsZVdyYXBwZXJfOTFsczBfMTMzXCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLXRhYmxlXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC10YWJsZV85MWxzMF8xMzNcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtdGhlYWRcIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsLXRoZWFkXzkxbHMwXzE0OVwiLCBcIkV4dGVybmFsSW5wdXRNb2RhbC10aFwiOiBcIl9FeHRlcm5hbElucHV0TW9kYWwtdGhfOTFsczBfMTQ5XCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLXRkXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC10ZF85MWxzMF8xNjRcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtdHJcIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsLXRyXzkxbHMwXzE2OVwiLCBcIkV4dGVybmFsSW5wdXRNb2RhbC10Ym9keVwiOiBcIl9FeHRlcm5hbElucHV0TW9kYWwtdGJvZHlfOTFsczBfMTc2XCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLS1oYXNEYXRhXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC0taGFzRGF0YV85MWxzMF8yMDJcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtbG9hZGluZ0Jhbm5lclwiOiBcIl9FeHRlcm5hbElucHV0TW9kYWwtbG9hZGluZ0Jhbm5lcl85MWxzMF8yMDZcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtLWlzTG9hZGluZ1wiOiBcIl9FeHRlcm5hbElucHV0TW9kYWwtLWlzTG9hZGluZ185MWxzMF8yMjNcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtc2VhcmNoRm9ybVwiOiBcIl9FeHRlcm5hbElucHV0TW9kYWwtc2VhcmNoRm9ybV85MWxzMF8yMjdcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtc2VhcmNoXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC1zZWFyY2hfOTFsczBfMjI3XCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLXNlYXJjaEljb25cIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsLXNlYXJjaEljb25fOTFsczBfMjY0XCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLXNlYXJjaEljb25UZXh0XCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC1zZWFyY2hJY29uVGV4dF85MWxzMF8yODlcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtc2VhcmNoSW5wdXRcIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsLXNlYXJjaElucHV0XzkxbHMwXzI5OVwiLCBcIkV4dGVybmFsSW5wdXRNb2RhbC1zZWFyY2hBY3Rpb25zXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC1zZWFyY2hBY3Rpb25zXzkxbHMwXzMxM1wiLCBcIkV4dGVybmFsSW5wdXRNb2RhbC1zZWFyY2hBY3Rpb25JY29uXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC1zZWFyY2hBY3Rpb25JY29uXzkxbHMwXzMyNlwiLCBcIkV4dGVybmFsSW5wdXRNb2RhbC1mb290ZXJDb250YWluZXJcIjogXCJfRXh0ZXJuYWxJbnB1dE1vZGFsLWZvb3RlckNvbnRhaW5lcl85MWxzMF8zMzBcIiwgXCJFeHRlcm5hbElucHV0TW9kYWwtZm9vdGVyXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC1mb290ZXJfOTFsczBfMzMwXCIsIFwiRXh0ZXJuYWxJbnB1dE1vZGFsLWZpZWxkXCI6IFwiX0V4dGVybmFsSW5wdXRNb2RhbC1maWVsZF85MWxzMF8zNDNcIiB9O1xuXG4vLyBjb21wb25lbnRzL01vZGFsL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q3LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTUgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL01vZGFsL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0NyA9IHsgXCJNb2RhbFwiOiBcIl9Nb2RhbF9pa2Jhal8xXCIsIFwiTW9kYWwtLWlzT3BlblwiOiBcIl9Nb2RhbC0taXNPcGVuX2lrYmFqXzE1XCIsIFwiTW9kYWwtaW5uZXJcIjogXCJfTW9kYWwtaW5uZXJfaWtiYWpfMTlcIiB9O1xuXG4vLyBjb21wb25lbnRzL01vZGFsL2luZGV4LnRzeFxuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDEwIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lOCA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIk1vZGFsXCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDcpO1xudmFyIE1vZGFsID0gKHtcbiAgY2hpbGRyZW4sXG4gIG9uQ2xvc2UsXG4gIGlzT3BlblxufSkgPT4ge1xuICBjb25zdCBbcm9vdEVsLCBzZXRSb290RWxdID0gdXNlU3RhdGU1KG51bGwpO1xuICB1c2VFZmZlY3Q3KCgpID0+IHtcbiAgICBzZXRSb290RWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwdWNrLXBvcnRhbC1yb290XCIpKTtcbiAgfSwgW10pO1xuICBpZiAoIXJvb3RFbCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTAoXCJkaXZcIiwge30pO1xuICB9XG4gIHJldHVybiBjcmVhdGVQb3J0YWwoXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDEwKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWU4KHsgaXNPcGVuIH0pLCBvbkNsaWNrOiBvbkNsb3NlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEwKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWU4KFwiaW5uZXJcIiksXG4gICAgICAgIG9uQ2xpY2s6IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxuICAgICAgICBjaGlsZHJlblxuICAgICAgfVxuICAgICkgfSksXG4gICAgcm9vdEVsXG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL0hlYWRpbmcvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvSGVhZGluZy9zdHlsZXMubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHN0eWxlc19tb2R1bGVfZGVmYXVsdDggPSB7IFwiSGVhZGluZ1wiOiBcIl9IZWFkaW5nX3F4cnJ5XzFcIiwgXCJIZWFkaW5nLS14eHh4bFwiOiBcIl9IZWFkaW5nLS14eHh4bF9xeHJyeV8xMlwiLCBcIkhlYWRpbmctLXh4eGxcIjogXCJfSGVhZGluZy0teHh4bF9xeHJyeV8xOFwiLCBcIkhlYWRpbmctLXh4bFwiOiBcIl9IZWFkaW5nLS14eGxfcXhycnlfMjJcIiwgXCJIZWFkaW5nLS14bFwiOiBcIl9IZWFkaW5nLS14bF9xeHJyeV8yNlwiLCBcIkhlYWRpbmctLWxcIjogXCJfSGVhZGluZy0tbF9xeHJyeV8zMFwiLCBcIkhlYWRpbmctLW1cIjogXCJfSGVhZGluZy0tbV9xeHJyeV8zNFwiLCBcIkhlYWRpbmctLXNcIjogXCJfSGVhZGluZy0tc19xeHJyeV8zOFwiLCBcIkhlYWRpbmctLXhzXCI6IFwiX0hlYWRpbmctLXhzX3F4cnJ5XzQyXCIgfTtcblxuLy8gY29tcG9uZW50cy9IZWFkaW5nL2luZGV4LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDExIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lOSA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIkhlYWRpbmdcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0OCk7XG52YXIgSGVhZGluZyA9ICh7IGNoaWxkcmVuLCByYW5rLCBzaXplID0gXCJtXCIgfSkgPT4ge1xuICBjb25zdCBUYWcgPSByYW5rID8gYGgke3Jhbmt9YCA6IFwic3BhblwiO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDExKFxuICAgIFRhZyxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTkoe1xuICAgICAgICBbc2l6ZV06IHRydWVcbiAgICAgIH0pLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL0J1dHRvbi9pbmRleC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gY29tcG9uZW50cy9FeHRlcm5hbElucHV0L2luZGV4LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQzLCBqc3ggYXMganN4MTIsIGpzeHMgYXMganN4czYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWUxMCA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIkV4dGVybmFsSW5wdXRcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0Nik7XG52YXIgZ2V0Q2xhc3NOYW1lTW9kYWwgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJFeHRlcm5hbElucHV0TW9kYWxcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0Nik7XG52YXIgZGF0YUNhY2hlID0ge307XG52YXIgRXh0ZXJuYWxJbnB1dCA9ICh7XG4gIGZpZWxkLFxuICBvbkNoYW5nZSxcbiAgdmFsdWUgPSBudWxsLFxuICBuYW1lLFxuICBpZCxcbiAgcmVhZE9ubHlcbn0pID0+IHtcbiAgY29uc3Qge1xuICAgIG1hcFByb3AgPSAodmFsKSA9PiB2YWwsXG4gICAgbWFwUm93ID0gKHZhbCkgPT4gdmFsLFxuICAgIGZpbHRlckZpZWxkc1xuICB9ID0gZmllbGQgfHwge307XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlNihbXSk7XG4gIGNvbnN0IFtpc09wZW4sIHNldE9wZW5dID0gdXNlU3RhdGU2KGZhbHNlKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlNih0cnVlKTtcbiAgY29uc3QgaGFzRmlsdGVyRmllbGRzID0gISFmaWx0ZXJGaWVsZHM7XG4gIGNvbnN0IFtmaWx0ZXJzLCBzZXRGaWx0ZXJzXSA9IHVzZVN0YXRlNihmaWVsZC5pbml0aWFsRmlsdGVycyB8fCB7fSk7XG4gIGNvbnN0IFtmaWx0ZXJzVG9nZ2xlZCwgc2V0RmlsdGVyc1RvZ2dsZWRdID0gdXNlU3RhdGU2KGhhc0ZpbHRlckZpZWxkcyk7XG4gIGNvbnN0IG1hcHBlZERhdGEgPSB1c2VNZW1vMigoKSA9PiB7XG4gICAgcmV0dXJuIGRhdGEubWFwKG1hcFJvdyk7XG4gIH0sIFtkYXRhXSk7XG4gIGNvbnN0IGtleXMgPSB1c2VNZW1vMigoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRLZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgbWFwcGVkRGF0YSkge1xuICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaXRlbSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtW2tleV0gPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGl0ZW1ba2V5XSA9PT0gXCJudW1iZXJcIiB8fCBpc1ZhbGlkRWxlbWVudChpdGVtW2tleV0pKSB7XG4gICAgICAgICAgdmFsaWRLZXlzLmFkZChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbGlkS2V5cyk7XG4gIH0sIFttYXBwZWREYXRhXSk7XG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGU2KGZpZWxkLmluaXRpYWxRdWVyeSB8fCBcIlwiKTtcbiAgY29uc3Qgc2VhcmNoID0gdXNlQ2FsbGJhY2szKFxuICAgIChxdWVyeSwgZmlsdGVyczIpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3QgY2FjaGVLZXkgPSBgJHtpZH0tJHtxdWVyeX0tJHtKU09OLnN0cmluZ2lmeShmaWx0ZXJzMil9YDtcbiAgICAgIGNvbnN0IGxpc3REYXRhID0gZGF0YUNhY2hlW2NhY2hlS2V5XSB8fCAoeWllbGQgZmllbGQuZmV0Y2hMaXN0KHsgcXVlcnksIGZpbHRlcnM6IGZpbHRlcnMyIH0pKTtcbiAgICAgIGlmIChsaXN0RGF0YSkge1xuICAgICAgICBzZXREYXRhKGxpc3REYXRhKTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgZGF0YUNhY2hlW2NhY2hlS2V5XSA9IGxpc3REYXRhO1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtpZCwgZmllbGRdXG4gICk7XG4gIGNvbnN0IEZvb3RlciA9IHVzZUNhbGxiYWNrMyhcbiAgICAocHJvcHMpID0+IGZpZWxkLnJlbmRlckZvb3RlciA/IGZpZWxkLnJlbmRlckZvb3Rlcihwcm9wcykgOiAvKiBAX19QVVJFX18gKi8ganN4czYoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcImZvb3RlclwiKSwgY2hpbGRyZW46IFtcbiAgICAgIHByb3BzLml0ZW1zLmxlbmd0aCxcbiAgICAgIFwiIHJlc3VsdFwiLFxuICAgICAgcHJvcHMuaXRlbXMubGVuZ3RoID09PSAxID8gXCJcIiA6IFwic1wiXG4gICAgXSB9KSxcbiAgICBbZmllbGQucmVuZGVyRm9vdGVyXVxuICApO1xuICB1c2VFZmZlY3Q4KCgpID0+IHtcbiAgICBzZWFyY2goc2VhcmNoUXVlcnksIGZpbHRlcnMpO1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czYoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTEwKHtcbiAgICAgICAgZGF0YVNlbGVjdGVkOiAhIXZhbHVlLFxuICAgICAgICBtb2RhbFZpc2libGU6IGlzT3BlbixcbiAgICAgICAgcmVhZE9ubHlcbiAgICAgIH0pLFxuICAgICAgaWQsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czYoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTEwKFwiYWN0aW9uc1wiKSwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzZXRPcGVuKHRydWUpLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTEwKFwiYnV0dG9uXCIpLFxuICAgICAgICAgICAgICBkaXNhYmxlZDogcmVhZE9ubHksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiB2YWx1ZSA/IGZpZWxkLmdldEl0ZW1TdW1tYXJ5ID8gZmllbGQuZ2V0SXRlbVN1bW1hcnkodmFsdWUpIDogXCJFeHRlcm5hbCBpdGVtXCIgOiAvKiBAX19QVVJFX18gKi8ganN4czYoRnJhZ21lbnQzLCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEyKExpbmssIHsgc2l6ZTogXCIxNlwiIH0pLFxuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcInNwYW5cIiwgeyBjaGlsZHJlbjogZmllbGQucGxhY2Vob2xkZXIgfSlcbiAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICksXG4gICAgICAgICAgdmFsdWUgJiYgLyogQF9fUFVSRV9fICovIGpzeDEyKFxuICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUxMChcImRldGFjaEJ1dHRvblwiKSxcbiAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkaXNhYmxlZDogcmVhZE9ubHksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTIoTG9ja09wZW4sIHsgc2l6ZTogMTYgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihNb2RhbCwgeyBvbkNsb3NlOiAoKSA9PiBzZXRPcGVuKGZhbHNlKSwgaXNPcGVuLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHM2KFxuICAgICAgICAgIFwiZm9ybVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoe1xuICAgICAgICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgICAgICAgIGxvYWRlZDogIWlzTG9hZGluZyxcbiAgICAgICAgICAgICAgaGFzRGF0YTogbWFwcGVkRGF0YS5sZW5ndGggPiAwLFxuICAgICAgICAgICAgICBmaWx0ZXJzVG9nZ2xlZFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvblN1Ym1pdDogKGUpID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBzZWFyY2goc2VhcmNoUXVlcnksIGZpbHRlcnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJtYXN0aGVhZFwiKSwgY2hpbGRyZW46IGZpZWxkLnNob3dTZWFyY2ggPyAvKiBAX19QVVJFX18gKi8ganN4czYoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZU1vZGFsKFwic2VhcmNoRm9ybVwiKSwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czYoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJzZWFyY2hcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTIoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcInNlYXJjaEljb25UZXh0XCIpLCBjaGlsZHJlbjogXCJTZWFyY2hcIiB9KSxcbiAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJzZWFyY2hJY29uXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEyKFNlYXJjaCwgeyBzaXplOiBcIjE4XCIgfSkgfSksXG4gICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICAgICAgICAgICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJzZWFyY2hJbnB1dFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInFcIixcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNlYXJjaFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBmaWVsZC5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlYXJjaFF1ZXJ5KGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNlYXJjaFF1ZXJ5XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBdIH0pLFxuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzNihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJzZWFyY2hBY3Rpb25zXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEyKEJ1dHRvbiwgeyB0eXBlOiBcInN1Ym1pdFwiLCBsb2FkaW5nOiBpc0xvYWRpbmcsIGZ1bGxXaWR0aDogdHJ1ZSwgY2hpbGRyZW46IFwiU2VhcmNoXCIgfSksXG4gICAgICAgICAgICAgICAgICBoYXNGaWx0ZXJGaWVsZHMgJiYgLyogQF9fUFVSRV9fICovIGpzeDEyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcInNlYXJjaEFjdGlvbkljb25cIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICAgICAgICAgICAgICAgIEljb25CdXR0b24sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlRvZ2dsZSBmaWx0ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJzVG9nZ2xlZCghZmlsdGVyc1RvZ2dsZWQpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMihTbGlkZXJzSG9yaXpvbnRhbCwgeyBzaXplOiAyMCB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApIH0pXG4gICAgICAgICAgICAgICAgXSB9KVxuICAgICAgICAgICAgICBdIH0pIDogLyogQF9fUFVSRV9fICovIGpzeDEyKEhlYWRpbmcsIHsgcmFuazogXCIyXCIsIHNpemU6IFwieHNcIiwgY2hpbGRyZW46IGZpZWxkLnBsYWNlaG9sZGVyIHx8IFwiU2VsZWN0IGRhdGFcIiB9KSB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHM2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcImdyaWRcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgaGFzRmlsdGVyRmllbGRzICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJmaWx0ZXJzXCIpLCBjaGlsZHJlbjogaGFzRmlsdGVyRmllbGRzICYmIE9iamVjdC5rZXlzKGZpbHRlckZpZWxkcykubWFwKChmaWVsZE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlckZpZWxkID0gZmlsdGVyRmllbGRzW2ZpZWxkTmFtZV07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDEyKFxuICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcImZpZWxkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRvRmllbGRQcml2YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogZmlsdGVyRmllbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpZWxkTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGBleHRlcm5hbF9maWVsZF8ke2ZpZWxkTmFtZX1fZmlsdGVyYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZpbHRlckZpZWxkLmxhYmVsIHx8IGZpZWxkTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZpbHRlcnNbZmllbGROYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6ICh2YWx1ZTIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWx0ZXJzID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZmlsdGVycyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmaWVsZE5hbWVdOiB2YWx1ZTJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJzKG5ld0ZpbHRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaChzZWFyY2hRdWVyeSwgbmV3RmlsdGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkTmFtZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KSB9KSxcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czYoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZU1vZGFsKFwidGFibGVXcmFwcGVyXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHM2KFwidGFibGVcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZU1vZGFsKFwidGFibGVcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcInRoZWFkXCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcInRoZWFkXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEyKFwidHJcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZU1vZGFsKFwidHJcIiksIGNoaWxkcmVuOiBrZXlzLm1hcCgoa2V5KSA9PiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ0aFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJ0aFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IHRleHRBbGlnbjogXCJsZWZ0XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBrZXlcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICAgICApKSB9KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEyKFwidGJvZHlcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZU1vZGFsKFwidGJvZHlcIiksIGNoaWxkcmVuOiBtYXBwZWREYXRhLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7IHdoaXRlU3BhY2U6IFwibm93cmFwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcInRyXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UobWFwUHJvcChkYXRhW2ldKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBrZXlzLm1hcCgoa2V5KSA9PiAvKiBAX19QVVJFX18gKi8ganN4MTIoXCJ0ZFwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJ0ZFwiKSwgY2hpbGRyZW46IGl0ZW1ba2V5XSB9LCBrZXkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KSB9KVxuICAgICAgICAgICAgICAgICAgXSB9KSxcbiAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTW9kYWwoXCJsb2FkaW5nQmFubmVyXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEyKExvYWRlciwgeyBzaXplOiAyNCB9KSB9KVxuICAgICAgICAgICAgICAgIF0gfSlcbiAgICAgICAgICAgICAgXSB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDEyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVNb2RhbChcImZvb3RlckNvbnRhaW5lclwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMihGb290ZXIsIHsgaXRlbXM6IG1hcHBlZERhdGEgfSkgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgICkgfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL0F1dG9GaWVsZC9maWVsZHMvRXh0ZXJuYWxGaWVsZC9pbmRleC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxMyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEV4dGVybmFsRmllbGQgPSAoe1xuICBmaWVsZCxcbiAgb25DaGFuZ2UsXG4gIHZhbHVlLFxuICBuYW1lLFxuICBsYWJlbCxcbiAgbGFiZWxJY29uLFxuICBMYWJlbDogTGFiZWwyLFxuICBpZCxcbiAgcmVhZE9ubHlcbn0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IHZhbGlkRmllbGQgPSBmaWVsZDtcbiAgY29uc3QgZGVwcmVjYXRlZEZpZWxkID0gZmllbGQ7XG4gIHVzZUVmZmVjdDkoKCkgPT4ge1xuICAgIGlmIChkZXByZWNhdGVkRmllbGQuYWRhcHRvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJXYXJuaW5nOiBUaGUgYGFkYXB0b3JgIEFQSSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHVwZGF0ZWQgQVBJcyBvbiB0aGUgYGV4dGVybmFsYCBmaWVsZCBpbnN0ZWFkLiBUaGlzIHdpbGwgYmUgYSBicmVha2luZyBjaGFuZ2UgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgaWYgKGZpZWxkLnR5cGUgIT09IFwiZXh0ZXJuYWxcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTMoXG4gICAgTGFiZWwyLFxuICAgIHtcbiAgICAgIGxhYmVsOiBsYWJlbCB8fCBuYW1lLFxuICAgICAgaWNvbjogbGFiZWxJY29uIHx8IC8qIEBfX1BVUkVfXyAqLyBqc3gxMyhMaW5rLCB7IHNpemU6IDE2IH0pLFxuICAgICAgZWw6IFwiZGl2XCIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEzKFxuICAgICAgICBFeHRlcm5hbElucHV0LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBmaWVsZDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgdmFsaWRGaWVsZCksIHtcbiAgICAgICAgICAgIC8vIERFUFJFQ0FURURcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAoKF9hID0gZGVwcmVjYXRlZEZpZWxkLmFkYXB0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lKSA/IGBTZWxlY3QgZnJvbSAke2RlcHJlY2F0ZWRGaWVsZC5hZGFwdG9yLm5hbWV9YCA6IHZhbGlkRmllbGQucGxhY2Vob2xkZXIgfHwgXCJTZWxlY3QgZGF0YVwiLFxuICAgICAgICAgICAgbWFwUHJvcDogKChfYiA9IGRlcHJlY2F0ZWRGaWVsZC5hZGFwdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2IubWFwUHJvcCkgfHwgdmFsaWRGaWVsZC5tYXBQcm9wLFxuICAgICAgICAgICAgbWFwUm93OiB2YWxpZEZpZWxkLm1hcFJvdyxcbiAgICAgICAgICAgIGZldGNoTGlzdDogKChfYyA9IGRlcHJlY2F0ZWRGaWVsZC5hZGFwdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2MuZmV0Y2hMaXN0KSA/ICgpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICByZXR1cm4geWllbGQgZGVwcmVjYXRlZEZpZWxkLmFkYXB0b3IuZmV0Y2hMaXN0KFxuICAgICAgICAgICAgICAgIGRlcHJlY2F0ZWRGaWVsZC5hZGFwdG9yUGFyYW1zXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KSA6IHZhbGlkRmllbGQuZmV0Y2hMaXN0XG4gICAgICAgICAgfSksXG4gICAgICAgICAgb25DaGFuZ2UsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgcmVhZE9ubHlcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIGNvbXBvbmVudHMvQXV0b0ZpZWxkL2ZpZWxkcy9SYWRpb0ZpZWxkL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IGpzeCBhcyBqc3gxNCwganN4cyBhcyBqc3hzNyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTExID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiSW5wdXRcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0Myk7XG52YXIgUmFkaW9GaWVsZCA9ICh7XG4gIGZpZWxkLFxuICBvbkNoYW5nZSxcbiAgcmVhZE9ubHksXG4gIHZhbHVlLFxuICBuYW1lLFxuICBpZCxcbiAgbGFiZWwsXG4gIGxhYmVsSWNvbixcbiAgTGFiZWw6IExhYmVsMlxufSkgPT4ge1xuICBpZiAoZmllbGQudHlwZSAhPT0gXCJyYWRpb1wiIHx8ICFmaWVsZC5vcHRpb25zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcbiAgICBMYWJlbDIsXG4gICAge1xuICAgICAgaWNvbjogbGFiZWxJY29uIHx8IC8qIEBfX1BVUkVfXyAqLyBqc3gxNChDaXJjbGVDaGVja0JpZywgeyBzaXplOiAxNiB9KSxcbiAgICAgIGxhYmVsOiBsYWJlbCB8fCBuYW1lLFxuICAgICAgcmVhZE9ubHksXG4gICAgICBlbDogXCJkaXZcIixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTExKFwicmFkaW9Hcm91cEl0ZW1zXCIpLCBpZCwgY2hpbGRyZW46IGZpZWxkLm9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHM3KFxuICAgICAgICAgIFwibGFiZWxcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTExKFwicmFkaW9cIiksXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTQoXG4gICAgICAgICAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmFkaW9cIixcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTEoXCJyYWRpb0lucHV0XCIpLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KHsgdmFsdWU6IG9wdGlvbi52YWx1ZSB9KSxcbiAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoSlNPTi5wYXJzZShlLnRhcmdldC52YWx1ZSkudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiByZWFkT25seSxcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHZhbHVlID09PSBvcHRpb24udmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTEoXCJyYWRpb0lubmVyXCIpLCBjaGlsZHJlbjogb3B0aW9uLmxhYmVsIHx8ICgoX2EgPSBvcHRpb24udmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSB9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uLmxhYmVsICsgb3B0aW9uLnZhbHVlXG4gICAgICAgICk7XG4gICAgICB9KSB9KVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIGNvbXBvbmVudHMvQXV0b0ZpZWxkL2ZpZWxkcy9TZWxlY3RGaWVsZC9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyBqc3ggYXMganN4MTUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWUxMiA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIklucHV0XCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDMpO1xudmFyIFNlbGVjdEZpZWxkID0gKHtcbiAgZmllbGQsXG4gIG9uQ2hhbmdlLFxuICBsYWJlbCxcbiAgbGFiZWxJY29uLFxuICBMYWJlbDogTGFiZWwyLFxuICB2YWx1ZSxcbiAgbmFtZSxcbiAgcmVhZE9ubHksXG4gIGlkXG59KSA9PiB7XG4gIGlmIChmaWVsZC50eXBlICE9PSBcInNlbGVjdFwiIHx8ICFmaWVsZC5vcHRpb25zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcbiAgICBMYWJlbDIsXG4gICAge1xuICAgICAgbGFiZWw6IGxhYmVsIHx8IG5hbWUsXG4gICAgICBpY29uOiBsYWJlbEljb24gfHwgLyogQF9fUFVSRV9fICovIGpzeDE1KENoZXZyb25Eb3duLCB7IHNpemU6IDE2IH0pLFxuICAgICAgcmVhZE9ubHksXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE1KFxuICAgICAgICBcInNlbGVjdFwiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdGl0bGU6IGxhYmVsIHx8IG5hbWUsXG4gICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUxMihcImlucHV0XCIpLFxuICAgICAgICAgIGRpc2FibGVkOiByZWFkT25seSxcbiAgICAgICAgICBvbkNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgIG9uQ2hhbmdlKEpTT04ucGFyc2UoZS50YXJnZXQudmFsdWUpLnZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeSh7IHZhbHVlIH0pLFxuICAgICAgICAgIGNoaWxkcmVuOiBmaWVsZC5vcHRpb25zLm1hcCgob3B0aW9uKSA9PiAvKiBAX19QVVJFX18gKi8ganN4MTUoXG4gICAgICAgICAgICBcIm9wdGlvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLmxhYmVsLFxuICAgICAgICAgICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoeyB2YWx1ZTogb3B0aW9uLnZhbHVlIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9uLmxhYmVsICsgSlNPTi5zdHJpbmdpZnkob3B0aW9uLnZhbHVlKVxuICAgICAgICAgICkpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL0F1dG9GaWVsZC9maWVsZHMvVGV4dGFyZWFGaWVsZC9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyBqc3ggYXMganN4MTYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWUxMyA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIklucHV0XCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDMpO1xudmFyIFRleHRhcmVhRmllbGQgPSAoe1xuICBmaWVsZCxcbiAgb25DaGFuZ2UsXG4gIHJlYWRPbmx5LFxuICB2YWx1ZSxcbiAgbmFtZSxcbiAgbGFiZWwsXG4gIGxhYmVsSWNvbixcbiAgTGFiZWw6IExhYmVsMixcbiAgaWRcbn0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxNihcbiAgICBMYWJlbDIsXG4gICAge1xuICAgICAgbGFiZWw6IGxhYmVsIHx8IG5hbWUsXG4gICAgICBpY29uOiBsYWJlbEljb24gfHwgLyogQF9fUFVSRV9fICovIGpzeDE2KFR5cGUsIHsgc2l6ZTogMTYgfSksXG4gICAgICByZWFkT25seSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTYoXG4gICAgICAgIFwidGV4dGFyZWFcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTMoXCJpbnB1dFwiKSxcbiAgICAgICAgICBhdXRvQ29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB2YWx1ZTogdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiID8gXCJcIiA6IHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiAoZSkgPT4gb25DaGFuZ2UoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKSxcbiAgICAgICAgICByZWFkT25seSxcbiAgICAgICAgICB0YWJJbmRleDogcmVhZE9ubHkgPyAtMSA6IHZvaWQgMCxcbiAgICAgICAgICByb3dzOiA1LFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBmaWVsZC50eXBlID09PSBcInRleHRhcmVhXCIgPyBmaWVsZC5wbGFjZWhvbGRlciA6IHZvaWQgMFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcblxuLy8gY29tcG9uZW50cy9BdXRvRmllbGQvZmllbGRzL09iamVjdEZpZWxkL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL0F1dG9GaWVsZC9maWVsZHMvT2JqZWN0RmllbGQvc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQ5ID0geyBcIk9iamVjdEZpZWxkXCI6IFwiX09iamVjdEZpZWxkXzF1YTN5XzVcIiwgXCJPYmplY3RGaWVsZC1maWVsZHNldFwiOiBcIl9PYmplY3RGaWVsZC1maWVsZHNldF8xdWEzeV8xM1wiIH07XG5cbi8vIGNvbXBvbmVudHMvQXV0b0ZpZWxkL2ZpZWxkcy9PYmplY3RGaWVsZC9pbmRleC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxNyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTE0ID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiT2JqZWN0RmllbGRcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0OSk7XG52YXIgT2JqZWN0RmllbGQgPSAoe1xuICBmaWVsZCxcbiAgb25DaGFuZ2UsXG4gIHZhbHVlLFxuICBuYW1lLFxuICBsYWJlbCxcbiAgbGFiZWxJY29uLFxuICBMYWJlbDogTGFiZWwyLFxuICByZWFkT25seSxcbiAgaWRcbn0pID0+IHtcbiAgY29uc3QgeyByZWFkT25seUZpZWxkcywgbG9jYWxOYW1lID0gbmFtZSB9ID0gdXNlTmVzdGVkRmllbGRDb250ZXh0KCk7XG4gIGlmIChmaWVsZC50eXBlICE9PSBcIm9iamVjdFwiIHx8ICFmaWVsZC5vYmplY3RGaWVsZHMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBkYXRhID0gdmFsdWUgfHwge307XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTcoXG4gICAgTGFiZWwyLFxuICAgIHtcbiAgICAgIGxhYmVsOiBsYWJlbCB8fCBuYW1lLFxuICAgICAgaWNvbjogbGFiZWxJY29uIHx8IC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhFbGxpcHNpc1ZlcnRpY2FsLCB7IHNpemU6IDE2IH0pLFxuICAgICAgZWw6IFwiZGl2XCIsXG4gICAgICByZWFkT25seSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTcoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTE0KCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTcoXCJmaWVsZHNldFwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTQoXCJmaWVsZHNldFwiKSwgY2hpbGRyZW46IE9iamVjdC5rZXlzKGZpZWxkLm9iamVjdEZpZWxkcykubWFwKChzdWJOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1YkZpZWxkID0gZmllbGQub2JqZWN0RmllbGRzW3N1Yk5hbWVdO1xuICAgICAgICBjb25zdCBzdWJQYXRoID0gYCR7bG9jYWxOYW1lfS4ke3N1Yk5hbWV9YDtcbiAgICAgICAgY29uc3Qgc3ViUmVhZE9ubHkgPSByZWFkT25seSA/IHJlYWRPbmx5IDogcmVhZE9ubHlGaWVsZHNbc3ViUGF0aF07XG4gICAgICAgIGNvbnN0IGxhYmVsMiA9IHN1YkZpZWxkLmxhYmVsIHx8IHN1Yk5hbWU7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTcoXG4gICAgICAgICAgTmVzdGVkRmllbGRQcm92aWRlcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBsb2NhbE5hbWUgfHwgaWQsXG4gICAgICAgICAgICBzdWJOYW1lLFxuICAgICAgICAgICAgcmVhZE9ubHlGaWVsZHMsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE3KFxuICAgICAgICAgICAgICBBdXRvRmllbGRQcml2YXRlLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogc3ViUGF0aCxcbiAgICAgICAgICAgICAgICBsYWJlbDogc3ViUGF0aCxcbiAgICAgICAgICAgICAgICBpZDogYCR7aWR9XyR7c3ViTmFtZX1gLFxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBzdWJSZWFkT25seSxcbiAgICAgICAgICAgICAgICBmaWVsZDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3ViRmllbGQpLCB7XG4gICAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwyXG4gICAgICAgICAgICAgICAgICAvLyBNYXkgYmUgdXNlZCBieSBjdXN0b20gZmllbGRzXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRhdGFbc3ViTmFtZV0sXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U6ICh2YWwsIHVpKSA9PiB7XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZShcbiAgICAgICAgICAgICAgICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZGF0YSksIHtcbiAgICAgICAgICAgICAgICAgICAgICBbc3ViTmFtZV06IHZhbFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdWlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWJQYXRoXG4gICAgICAgICk7XG4gICAgICB9KSB9KSB9KVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIGxpYi91c2Utc2FmZS1pZC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCBSZWFjdDIsIHsgdXNlU3RhdGUgYXMgdXNlU3RhdGU3IH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlU2FmZUlkID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIFJlYWN0Mi51c2VJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBSZWFjdDIudXNlSWQoKTtcbiAgfVxuICBjb25zdCBbaWRdID0gdXNlU3RhdGU3KGdlbmVyYXRlSWQoKSk7XG4gIHJldHVybiBpZDtcbn07XG5cbi8vIGNvbXBvbmVudHMvQXV0b0ZpZWxkL2luZGV4LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQ0LCBqc3ggYXMganN4MTgsIGpzeHMgYXMganN4czggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWUxNSA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIklucHV0XCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDMpO1xudmFyIGdldENsYXNzTmFtZVdyYXBwZXIgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJJbnB1dFdyYXBwZXJcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0Myk7XG52YXIgRmllbGRMYWJlbCA9ICh7XG4gIGNoaWxkcmVuLFxuICBpY29uLFxuICBsYWJlbCxcbiAgZWwgPSBcImxhYmVsXCIsXG4gIHJlYWRPbmx5LFxuICBjbGFzc05hbWVcbn0pID0+IHtcbiAgY29uc3QgRWwgPSBlbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzOChFbCwgeyBjbGFzc05hbWUsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHM4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUxNShcImxhYmVsXCIpLCBjaGlsZHJlbjogW1xuICAgICAgaWNvbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gxOChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTUoXCJsYWJlbEljb25cIiksIGNoaWxkcmVuOiBpY29uIH0pIDogLyogQF9fUFVSRV9fICovIGpzeDE4KEZyYWdtZW50NCwge30pLFxuICAgICAgbGFiZWwsXG4gICAgICByZWFkT25seSAmJiAvKiBAX19QVVJFX18gKi8ganN4MTgoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTE1KFwiZGlzYWJsZWRJY29uXCIpLCB0aXRsZTogXCJSZWFkLW9ubHlcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxOChMb2NrLCB7IHNpemU6IFwiMTJcIiB9KSB9KVxuICAgIF0gfSksXG4gICAgY2hpbGRyZW5cbiAgXSB9KTtcbn07XG52YXIgRmllbGRMYWJlbEludGVybmFsID0gKHtcbiAgY2hpbGRyZW4sXG4gIGljb24sXG4gIGxhYmVsLFxuICBlbCA9IFwibGFiZWxcIixcbiAgcmVhZE9ubHlcbn0pID0+IHtcbiAgY29uc3Qgb3ZlcnJpZGVzID0gdXNlQXBwU3RvcmUoKHMpID0+IHMub3ZlcnJpZGVzKTtcbiAgY29uc3QgV3JhcHBlciA9IHVzZU1lbW8zKFxuICAgICgpID0+IG92ZXJyaWRlcy5maWVsZExhYmVsIHx8IEZpZWxkTGFiZWwsXG4gICAgW292ZXJyaWRlc11cbiAgKTtcbiAgaWYgKCFsYWJlbCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTgoRnJhZ21lbnQ0LCB7IGNoaWxkcmVuIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTgoXG4gICAgV3JhcHBlcixcbiAgICB7XG4gICAgICBsYWJlbCxcbiAgICAgIGljb24sXG4gICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTE1KHsgcmVhZE9ubHkgfSksXG4gICAgICByZWFkT25seSxcbiAgICAgIGVsLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59O1xudmFyIGRlZmF1bHRGaWVsZHMgPSB7XG4gIGFycmF5OiBBcnJheUZpZWxkLFxuICBleHRlcm5hbDogRXh0ZXJuYWxGaWVsZCxcbiAgb2JqZWN0OiBPYmplY3RGaWVsZCxcbiAgc2VsZWN0OiBTZWxlY3RGaWVsZCxcbiAgdGV4dGFyZWE6IFRleHRhcmVhRmllbGQsXG4gIHJhZGlvOiBSYWRpb0ZpZWxkLFxuICB0ZXh0OiBEZWZhdWx0RmllbGQsXG4gIG51bWJlcjogRGVmYXVsdEZpZWxkXG59O1xuZnVuY3Rpb24gQXV0b0ZpZWxkSW50ZXJuYWwocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmRpc3BhdGNoKTtcbiAgY29uc3Qgb3ZlcnJpZGVzID0gdXNlQXBwU3RvcmUoKHMpID0+IHMub3ZlcnJpZGVzKTtcbiAgY29uc3QgcmVhZE9ubHkgPSB1c2VBcHBTdG9yZSgocykgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgcmV0dXJuIChfYTIgPSBzLnNlbGVjdGVkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5yZWFkT25seTtcbiAgfSk7XG4gIGNvbnN0IG5lc3RlZEZpZWxkQ29udGV4dCA9IHVzZUNvbnRleHQzKE5lc3RlZEZpZWxkQ29udGV4dCk7XG4gIGNvbnN0IHsgaWQsIExhYmVsOiBMYWJlbDIgPSBGaWVsZExhYmVsSW50ZXJuYWwgfSA9IHByb3BzO1xuICBjb25zdCBmaWVsZCA9IHByb3BzLmZpZWxkO1xuICBjb25zdCBsYWJlbCA9IGZpZWxkLmxhYmVsO1xuICBjb25zdCBsYWJlbEljb24gPSBmaWVsZC5sYWJlbEljb247XG4gIGNvbnN0IGRlZmF1bHRJZCA9IHVzZVNhZmVJZCgpO1xuICBjb25zdCByZXNvbHZlZElkID0gaWQgfHwgZGVmYXVsdElkO1xuICBjb25zdCByZW5kZXIgPSB1c2VNZW1vMyhcbiAgICAoKSA9PiB7XG4gICAgICB2YXIgX2EyLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBvdmVycmlkZXMuZmllbGRUeXBlcyksIHtcbiAgICAgICAgYXJyYXk6ICgoX2EyID0gb3ZlcnJpZGVzLmZpZWxkVHlwZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuYXJyYXkpIHx8IGRlZmF1bHRGaWVsZHMuYXJyYXksXG4gICAgICAgIGV4dGVybmFsOiAoKF9iID0gb3ZlcnJpZGVzLmZpZWxkVHlwZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5leHRlcm5hbCkgfHwgZGVmYXVsdEZpZWxkcy5leHRlcm5hbCxcbiAgICAgICAgb2JqZWN0OiAoKF9jID0gb3ZlcnJpZGVzLmZpZWxkVHlwZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5vYmplY3QpIHx8IGRlZmF1bHRGaWVsZHMub2JqZWN0LFxuICAgICAgICBzZWxlY3Q6ICgoX2QgPSBvdmVycmlkZXMuZmllbGRUeXBlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnNlbGVjdCkgfHwgZGVmYXVsdEZpZWxkcy5zZWxlY3QsXG4gICAgICAgIHRleHRhcmVhOiAoKF9lID0gb3ZlcnJpZGVzLmZpZWxkVHlwZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZS50ZXh0YXJlYSkgfHwgZGVmYXVsdEZpZWxkcy50ZXh0YXJlYSxcbiAgICAgICAgcmFkaW86ICgoX2YgPSBvdmVycmlkZXMuZmllbGRUeXBlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLnJhZGlvKSB8fCBkZWZhdWx0RmllbGRzLnJhZGlvLFxuICAgICAgICB0ZXh0OiAoKF9nID0gb3ZlcnJpZGVzLmZpZWxkVHlwZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZy50ZXh0KSB8fCBkZWZhdWx0RmllbGRzLnRleHQsXG4gICAgICAgIG51bWJlcjogKChfaCA9IG92ZXJyaWRlcy5maWVsZFR5cGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2gubnVtYmVyKSB8fCBkZWZhdWx0RmllbGRzLm51bWJlclxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbb3ZlcnJpZGVzXVxuICApO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IHVzZU1lbW8zKFxuICAgICgpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwge1xuICAgICAgZmllbGQsXG4gICAgICBsYWJlbCxcbiAgICAgIGxhYmVsSWNvbixcbiAgICAgIExhYmVsOiBMYWJlbDIsXG4gICAgICBpZDogcmVzb2x2ZWRJZFxuICAgIH0pLFxuICAgIFtwcm9wcywgZmllbGQsIGxhYmVsLCBsYWJlbEljb24sIExhYmVsMiwgcmVzb2x2ZWRJZF1cbiAgKTtcbiAgY29uc3Qgb25Gb2N1cyA9IHVzZUNhbGxiYWNrNChcbiAgICAoZSkgPT4ge1xuICAgICAgaWYgKG1lcmdlZFByb3BzLm5hbWUgJiYgKGUudGFyZ2V0Lm5vZGVOYW1lID09PSBcIklOUFVUXCIgfHwgZS50YXJnZXQubm9kZU5hbWUgPT09IFwiVEVYVEFSRUFcIikpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6IFwic2V0VWlcIixcbiAgICAgICAgICB1aToge1xuICAgICAgICAgICAgZmllbGQ6IHsgZm9jdXM6IG1lcmdlZFByb3BzLm5hbWUgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbbWVyZ2VkUHJvcHMubmFtZV1cbiAgKTtcbiAgY29uc3Qgb25CbHVyID0gdXNlQ2FsbGJhY2s0KChlKSA9PiB7XG4gICAgaWYgKFwibmFtZVwiIGluIGUudGFyZ2V0KSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFwic2V0VWlcIixcbiAgICAgICAgdWk6IHtcbiAgICAgICAgICBmaWVsZDogeyBmb2N1czogbnVsbCB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW10pO1xuICBsZXQgQ2hpbGRyZW4gPSB1c2VNZW1vMygoKSA9PiB7XG4gICAgaWYgKGZpZWxkLnR5cGUgIT09IFwiY3VzdG9tXCIgJiYgZmllbGQudHlwZSAhPT0gXCJzbG90XCIpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0RmllbGRzW2ZpZWxkLnR5cGVdO1xuICAgIH1cbiAgICByZXR1cm4gKF9wcm9wcykgPT4gbnVsbDtcbiAgfSwgW2ZpZWxkLnR5cGVdKTtcbiAgbGV0IEZpZWxkQ29tcG9uZW50ID0gdXNlTWVtbzMoKCkgPT4ge1xuICAgIGlmIChmaWVsZC50eXBlID09PSBcImN1c3RvbVwiKSB7XG4gICAgICBpZiAoIWZpZWxkLnJlbmRlcikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmaWVsZC5yZW5kZXI7XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlICE9PSBcInNsb3RcIikge1xuICAgICAgcmV0dXJuIHJlbmRlcltmaWVsZC50eXBlXTtcbiAgICB9XG4gIH0sIFtmaWVsZC50eXBlLCByZW5kZXJdKTtcbiAgY29uc3QgeyB2aXNpYmxlID0gdHJ1ZSB9ID0gcHJvcHMuZmllbGQ7XG4gIGlmICghdmlzaWJsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChmaWVsZC50eXBlID09PSBcInNsb3RcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghRmllbGRDb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZpZWxkIHR5cGUgZm9yICR7ZmllbGQudHlwZX0gZGlkIG5vdCBleGlzdC5gKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE4KFxuICAgIE5lc3RlZEZpZWxkQ29udGV4dC5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICByZWFkT25seUZpZWxkczogbmVzdGVkRmllbGRDb250ZXh0LnJlYWRPbmx5RmllbGRzIHx8IHJlYWRPbmx5IHx8IHt9LFxuICAgICAgICBsb2NhbE5hbWU6IChfYSA9IG5lc3RlZEZpZWxkQ29udGV4dC5sb2NhbE5hbWUpICE9IG51bGwgPyBfYSA6IG1lcmdlZFByb3BzLm5hbWVcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE4KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVXcmFwcGVyKCksXG4gICAgICAgICAgb25Gb2N1cyxcbiAgICAgICAgICBvbkJsdXIsXG4gICAgICAgICAgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE4KEZpZWxkQ29tcG9uZW50LCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBtZXJnZWRQcm9wcyksIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxOChDaGlsZHJlbiwgX19zcHJlYWRWYWx1ZXMoe30sIG1lcmdlZFByb3BzKSkgfSkpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBBdXRvRmllbGRQcml2YXRlKHByb3BzKSB7XG4gIGNvbnN0IGlzRm9jdXNlZCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnN0YXRlLnVpLmZpZWxkLmZvY3VzID09PSBwcm9wcy5uYW1lKTtcbiAgY29uc3QgeyB2YWx1ZSwgb25DaGFuZ2UgfSA9IHByb3BzO1xuICBjb25zdCBbbG9jYWxWYWx1ZSwgc2V0TG9jYWxWYWx1ZV0gPSB1c2VTdGF0ZTgodmFsdWUpO1xuICBjb25zdCBvbkNoYW5nZUxvY2FsID0gdXNlQ2FsbGJhY2s0KFxuICAgICh2YWwsIHVpKSA9PiB7XG4gICAgICBzZXRMb2NhbFZhbHVlKHZhbCk7XG4gICAgICBvbkNoYW5nZSh2YWwsIHVpKTtcbiAgICB9LFxuICAgIFtvbkNoYW5nZV1cbiAgKTtcbiAgdXNlRWZmZWN0MTAoKCkgPT4ge1xuICAgIGlmICghaXNGb2N1c2VkKSB7XG4gICAgICBzZXRMb2NhbFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH0sIFt2YWx1ZV0pO1xuICB1c2VFZmZlY3QxMCgoKSA9PiB7XG4gICAgaWYgKCFpc0ZvY3VzZWQpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gbG9jYWxWYWx1ZSkge1xuICAgICAgICBzZXRMb2NhbFZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtpc0ZvY3VzZWQsIHZhbHVlLCBsb2NhbFZhbHVlXSk7XG4gIGNvbnN0IGxvY2FsUHJvcHMgPSB7XG4gICAgdmFsdWU6IGxvY2FsVmFsdWUsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlTG9jYWxcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gxOChBdXRvRmllbGRJbnRlcm5hbCwgX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwgbG9jYWxQcm9wcykpO1xufVxuZnVuY3Rpb24gQXV0b0ZpZWxkKHByb3BzKSB7XG4gIGNvbnN0IERlZmF1bHRMYWJlbCA9IHVzZU1lbW8zKCgpID0+IHtcbiAgICBjb25zdCBEZWZhdWx0TGFiZWwyID0gKGxhYmVsUHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gxOChcbiAgICAgIFwiZGl2XCIsXG4gICAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBsYWJlbFByb3BzKSwge1xuICAgICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTE1KHsgcmVhZE9ubHk6IHByb3BzLnJlYWRPbmx5IH0pXG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIERlZmF1bHRMYWJlbDI7XG4gIH0sIFtwcm9wcy5yZWFkT25seV0pO1xuICBpZiAocHJvcHMuZmllbGQudHlwZSA9PT0gXCJzbG90XCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE4KEF1dG9GaWVsZEludGVybmFsLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHsgTGFiZWw6IERlZmF1bHRMYWJlbCB9KSk7XG59XG5cbi8vIGNvbXBvbmVudHMvUmVuZGVyL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gY29tcG9uZW50cy9Ecm9wWm9uZS9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQge1xuICBmb3J3YXJkUmVmIGFzIGZvcndhcmRSZWYzLFxuICBtZW1vIGFzIG1lbW8yLFxuICB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazExLFxuICB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQ4LFxuICB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MTgsXG4gIHVzZU1lbW8gYXMgdXNlTWVtbzgsXG4gIHVzZVJlZiBhcyB1c2VSZWY2XG59IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBjb21wb25lbnRzL0RyYWdnYWJsZUNvbXBvbmVudC9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQge1xuICB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazcsXG4gIHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDUsXG4gIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QxMixcbiAgdXNlTWVtbyBhcyB1c2VNZW1vNSxcbiAgdXNlUmVmIGFzIHVzZVJlZjIsXG4gIHVzZVN0YXRlIGFzIHVzZVN0YXRlMTAsXG4gIHVzZVRyYW5zaXRpb25cbn0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9EcmFnZ2FibGVDb21wb25lbnQvc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQxMCA9IHsgXCJEcmFnZ2FibGVDb21wb25lbnRcIjogXCJfRHJhZ2dhYmxlQ29tcG9uZW50XzF2YXF5XzFcIiwgXCJEcmFnZ2FibGVDb21wb25lbnQtb3ZlcmxheVdyYXBwZXJcIjogXCJfRHJhZ2dhYmxlQ29tcG9uZW50LW92ZXJsYXlXcmFwcGVyXzF2YXF5XzEyXCIsIFwiRHJhZ2dhYmxlQ29tcG9uZW50LW92ZXJsYXlcIjogXCJfRHJhZ2dhYmxlQ29tcG9uZW50LW92ZXJsYXlfMXZhcXlfMTJcIiwgXCJEcmFnZ2FibGVDb21wb25lbnQtbG9hZGluZ092ZXJsYXlcIjogXCJfRHJhZ2dhYmxlQ29tcG9uZW50LWxvYWRpbmdPdmVybGF5XzF2YXF5XzM0XCIsIFwiRHJhZ2dhYmxlQ29tcG9uZW50LS1ob3ZlclwiOiBcIl9EcmFnZ2FibGVDb21wb25lbnQtLWhvdmVyXzF2YXF5XzUwXCIsIFwiRHJhZ2dhYmxlQ29tcG9uZW50LS1pc1NlbGVjdGVkXCI6IFwiX0RyYWdnYWJsZUNvbXBvbmVudC0taXNTZWxlY3RlZF8xdmFxeV81N1wiLCBcIkRyYWdnYWJsZUNvbXBvbmVudC1hY3Rpb25zT3ZlcmxheVwiOiBcIl9EcmFnZ2FibGVDb21wb25lbnQtYWN0aW9uc092ZXJsYXlfMXZhcXlfNzFcIiwgXCJEcmFnZ2FibGVDb21wb25lbnQtYWN0aW9uc1wiOiBcIl9EcmFnZ2FibGVDb21wb25lbnQtYWN0aW9uc18xdmFxeV83MVwiIH07XG5cbi8vIGNvbXBvbmVudHMvRHJhZ2dhYmxlQ29tcG9uZW50L2luZGV4LnRzeFxuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIGFzIGNyZWF0ZVBvcnRhbDIgfSBmcm9tIFwicmVhY3QtZG9tXCI7XG5cbi8vIGxpYi9nZXQtZGVlcC1zY3JvbGwtcG9zaXRpb24udHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5mdW5jdGlvbiBnZXREZWVwU2Nyb2xsUG9zaXRpb24oZWxlbWVudCkge1xuICBsZXQgdG90YWxTY3JvbGwgPSB7XG4gICAgeDogMCxcbiAgICB5OiAwXG4gIH07XG4gIGxldCBjdXJyZW50ID0gZWxlbWVudDtcbiAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgY29uc3QgcGFyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHRvdGFsU2Nyb2xsLnggKz0gcGFyZW50LnNjcm9sbExlZnQ7XG4gICAgICB0b3RhbFNjcm9sbC55ICs9IHBhcmVudC5zY3JvbGxUb3A7XG4gICAgfVxuICAgIGN1cnJlbnQgPSBwYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIHRvdGFsU2Nyb2xsO1xufVxuXG4vLyBjb21wb25lbnRzL0Ryb3Bab25lL2NvbnRleHQudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHtcbiAgY3JlYXRlQ29udGV4dCBhcyBjcmVhdGVDb250ZXh0MyxcbiAgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s1LFxuICB1c2VNZW1vIGFzIHVzZU1lbW80XG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlU3RvcmUgYXMgY3JlYXRlU3RvcmUyIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IEZyYWdtZW50IGFzIEZyYWdtZW50NSwganN4IGFzIGpzeDE5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZHJvcFpvbmVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDMobnVsbCk7XG52YXIgWm9uZVN0b3JlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQzKFxuICBjcmVhdGVTdG9yZTIoKCkgPT4gKHtcbiAgICB6b25lRGVwdGhJbmRleDoge30sXG4gICAgbmV4dFpvbmVEZXB0aEluZGV4OiB7fSxcbiAgICBhcmVhRGVwdGhJbmRleDoge30sXG4gICAgbmV4dEFyZWFEZXB0aEluZGV4OiB7fSxcbiAgICBkcmFnZ2VkSXRlbTogbnVsbCxcbiAgICBwcmV2aWV3SW5kZXg6IHt9LFxuICAgIGVuYWJsZWRJbmRleDoge30sXG4gICAgaG92ZXJpbmdDb21wb25lbnQ6IG51bGxcbiAgfSkpXG4pO1xudmFyIFpvbmVTdG9yZVByb3ZpZGVyID0gKHtcbiAgY2hpbGRyZW4sXG4gIHN0b3JlXG59KSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTkoWm9uZVN0b3JlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc3RvcmUsIGNoaWxkcmVuIH0pO1xufTtcbnZhciBEcm9wWm9uZVByb3ZpZGVyID0gKHtcbiAgY2hpbGRyZW4sXG4gIHZhbHVlXG59KSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuZGlzcGF0Y2gpO1xuICBjb25zdCByZWdpc3RlclpvbmUgPSB1c2VDYWxsYmFjazUoXG4gICAgKHpvbmVDb21wb3VuZCkgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBcInJlZ2lzdGVyWm9uZVwiLFxuICAgICAgICB6b25lOiB6b25lQ29tcG91bmRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2Rpc3BhdGNoXVxuICApO1xuICBjb25zdCBtZW1vVmFsdWUgPSB1c2VNZW1vNChcbiAgICAoKSA9PiBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICByZWdpc3RlclpvbmVcbiAgICB9LCB2YWx1ZSksXG4gICAgW3ZhbHVlXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE5KEZyYWdtZW50NSwgeyBjaGlsZHJlbjogbWVtb1ZhbHVlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxOShkcm9wWm9uZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IG1lbW9WYWx1ZSwgY2hpbGRyZW4gfSkgfSk7XG59O1xuXG4vLyBjb21wb25lbnRzL0RyYWdnYWJsZUNvbXBvbmVudC9pbmRleC50c3hcbmltcG9ydCB7IHVzZVNoYWxsb3cgYXMgdXNlU2hhbGxvdzIgfSBmcm9tIFwienVzdGFuZC9yZWFjdC9zaGFsbG93XCI7XG5pbXBvcnQgeyB1c2VTb3J0YWJsZSBhcyB1c2VTb3J0YWJsZTIgfSBmcm9tIFwiQGRuZC1raXQvcmVhY3Qvc29ydGFibGVcIjtcblxuLy8gbGliL2FjY3VtdWxhdGUtdHJhbnNmb3JtLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuZnVuY3Rpb24gYWNjdW11bGF0ZVRyYW5zZm9ybShlbCkge1xuICBsZXQgbWF0cml4ID0gbmV3IERPTU1hdHJpeFJlYWRPbmx5KCk7XG4gIGxldCBuID0gZWwucGFyZW50RWxlbWVudDtcbiAgd2hpbGUgKG4gJiYgbiAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgY29uc3QgdCA9IGdldENvbXB1dGVkU3R5bGUobikudHJhbnNmb3JtO1xuICAgIGlmICh0ICYmIHQgIT09IFwibm9uZVwiKSB7XG4gICAgICBtYXRyaXggPSBuZXcgRE9NTWF0cml4UmVhZE9ubHkodCkubXVsdGlwbHkobWF0cml4KTtcbiAgICB9XG4gICAgbiA9IG4ucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4geyBzY2FsZVg6IG1hdHJpeC5hLCBzY2FsZVk6IG1hdHJpeC5kIH07XG59XG5cbi8vIGxpYi91c2UtY29udGV4dC1zdG9yZS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVN0b3JlIGFzIHVzZVN0b3JlMiB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyB1c2VTaGFsbG93IH0gZnJvbSBcInp1c3RhbmQvcmVhY3Qvc2hhbGxvd1wiO1xuZnVuY3Rpb24gdXNlQ29udGV4dFN0b3JlKGNvbnRleHQsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IHN0b3JlID0gdXNlQ29udGV4dDQoY29udGV4dCk7XG4gIGlmICghc3RvcmUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VDb250ZXh0U3RvcmUgbXVzdCBiZSB1c2VkIGluc2lkZSBjb250ZXh0XCIpO1xuICB9XG4gIHJldHVybiB1c2VTdG9yZTIoc3RvcmUsIHVzZVNoYWxsb3coc2VsZWN0b3IpKTtcbn1cblxuLy8gbGliL2RuZC91c2Utb24tZHJhZy1maW5pc2hlZC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrNiB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZU9uRHJhZ0ZpbmlzaGVkID0gKGNiLCBkZXBzID0gW10pID0+IHtcbiAgY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZUFwaSgpO1xuICByZXR1cm4gdXNlQ2FsbGJhY2s2KCgpID0+IHtcbiAgICBsZXQgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NEcmFnZ2luZyA9IChpc0RyYWdnaW5nMikgPT4ge1xuICAgICAgaWYgKGlzRHJhZ2dpbmcyKSB7XG4gICAgICAgIGNiKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNiKHRydWUpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgaWYgKGRpc3Bvc2UpIGRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGlzRHJhZ2dpbmcgPSBhcHBTdG9yZS5nZXRTdGF0ZSgpLnN0YXRlLnVpLmlzRHJhZ2dpbmc7XG4gICAgcHJvY2Vzc0RyYWdnaW5nKGlzRHJhZ2dpbmcpO1xuICAgIGlmIChpc0RyYWdnaW5nKSB7XG4gICAgICBkaXNwb3NlID0gYXBwU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgICAocykgPT4gcy5zdGF0ZS51aS5pc0RyYWdnaW5nLFxuICAgICAgICAoaXNEcmFnZ2luZzIpID0+IHtcbiAgICAgICAgICBwcm9jZXNzRHJhZ2dpbmcoaXNEcmFnZ2luZzIpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZGlzcG9zZTtcbiAgfSwgW2FwcFN0b3JlLCAuLi5kZXBzXSk7XG59O1xuXG4vLyBjb21wb25lbnRzL0RyYWdnYWJsZUNvbXBvbmVudC9pbmRleC50c3hcbmltcG9ydCB7IEZyYWdtZW50IGFzIEZyYWdtZW50NiwganN4IGFzIGpzeDIwLCBqc3hzIGFzIGpzeHM5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lMTYgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJEcmFnZ2FibGVDb21wb25lbnRcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTApO1xudmFyIERFQlVHMiA9IGZhbHNlO1xudmFyIHNwYWNlID0gODtcbnZhciBhY3Rpb25zT3ZlcmxheVRvcCA9IHNwYWNlICogNi41O1xudmFyIGFjdGlvbnNUb3AgPSAtKGFjdGlvbnNPdmVybGF5VG9wIC0gOCk7XG52YXIgYWN0aW9uc1NpZGUgPSBzcGFjZTtcbnZhciBEZWZhdWx0QWN0aW9uQmFyID0gKHtcbiAgbGFiZWwsXG4gIGNoaWxkcmVuLFxuICBwYXJlbnRBY3Rpb25cbn0pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzOShBY3Rpb25CYXIsIHsgY2hpbGRyZW46IFtcbiAgLyogQF9fUFVSRV9fICovIGpzeHM5KEFjdGlvbkJhci5Hcm91cCwgeyBjaGlsZHJlbjogW1xuICAgIHBhcmVudEFjdGlvbixcbiAgICBsYWJlbCAmJiAvKiBAX19QVVJFX18gKi8ganN4MjAoQWN0aW9uQmFyLkxhYmVsLCB7IGxhYmVsIH0pXG4gIF0gfSksXG4gIC8qIEBfX1BVUkVfXyAqLyBqc3gyMChBY3Rpb25CYXIuR3JvdXAsIHsgY2hpbGRyZW4gfSlcbl0gfSk7XG52YXIgRGVmYXVsdE92ZXJsYXkgPSAoe1xuICBjaGlsZHJlblxufSkgPT4gLyogQF9fUFVSRV9fICovIGpzeDIwKEZyYWdtZW50NiwgeyBjaGlsZHJlbiB9KTtcbnZhciBEcmFnZ2FibGVDb21wb25lbnQgPSAoe1xuICBjaGlsZHJlbixcbiAgZGVwdGgsXG4gIGNvbXBvbmVudFR5cGUsXG4gIGlkLFxuICBpbmRleCxcbiAgem9uZUNvbXBvdW5kLFxuICBpc0xvYWRpbmcgPSBmYWxzZSxcbiAgaXNTZWxlY3RlZCA9IGZhbHNlLFxuICBkZWJ1ZyxcbiAgbGFiZWwsXG4gIGF1dG9EcmFnQXhpcyxcbiAgdXNlckRyYWdBeGlzLFxuICBpbkRyb3BwYWJsZVpvbmUgPSB0cnVlXG59KSA9PiB7XG4gIGNvbnN0IHpvb20gPSB1c2VBcHBTdG9yZShcbiAgICAocykgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuICgoX2EgPSBzLnNlbGVjdGVkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByb3BzLmlkKSA9PT0gaWQgPyBzLnpvb21Db25maWcuem9vbSA6IDE7XG4gICAgfVxuICApO1xuICBjb25zdCBvdmVycmlkZXMgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5vdmVycmlkZXMpO1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmRpc3BhdGNoKTtcbiAgY29uc3QgaWZyYW1lID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuaWZyYW1lKTtcbiAgY29uc3QgY3R4ID0gdXNlQ29udGV4dDUoZHJvcFpvbmVDb250ZXh0KTtcbiAgY29uc3QgW2xvY2FsWm9uZXMsIHNldExvY2FsWm9uZXNdID0gdXNlU3RhdGUxMCh7fSk7XG4gIGNvbnN0IHJlZ2lzdGVyTG9jYWxab25lID0gdXNlQ2FsbGJhY2s3KFxuICAgICh6b25lQ29tcG91bmQyLCBhY3RpdmUpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIChfYSA9IGN0eCA9PSBudWxsID8gdm9pZCAwIDogY3R4LnJlZ2lzdGVyTG9jYWxab25lKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChjdHgsIHpvbmVDb21wb3VuZDIsIGFjdGl2ZSk7XG4gICAgICBzZXRMb2NhbFpvbmVzKChvYmopID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG9iaiksIHtcbiAgICAgICAgW3pvbmVDb21wb3VuZDJdOiBhY3RpdmVcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFtzZXRMb2NhbFpvbmVzXVxuICApO1xuICBjb25zdCB1bnJlZ2lzdGVyTG9jYWxab25lID0gdXNlQ2FsbGJhY2s3KFxuICAgICh6b25lQ29tcG91bmQyKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICAoX2EgPSBjdHggPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC51bnJlZ2lzdGVyTG9jYWxab25lKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChjdHgsIHpvbmVDb21wb3VuZDIpO1xuICAgICAgc2V0TG9jYWxab25lcygob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0xvY2FsWm9uZXMgPSBfX3NwcmVhZFZhbHVlcyh7fSwgb2JqKTtcbiAgICAgICAgZGVsZXRlIG5ld0xvY2FsWm9uZXNbem9uZUNvbXBvdW5kMl07XG4gICAgICAgIHJldHVybiBuZXdMb2NhbFpvbmVzO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbc2V0TG9jYWxab25lc11cbiAgKTtcbiAgY29uc3QgY29udGFpbnNBY3RpdmVab25lID0gT2JqZWN0LnZhbHVlcyhsb2NhbFpvbmVzKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoID4gMDtcbiAgY29uc3QgcGF0aCA9IHVzZUFwcFN0b3JlKHVzZVNoYWxsb3cyKChzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBzLnN0YXRlLmluZGV4ZXMubm9kZXNbaWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EucGF0aDtcbiAgfSkpO1xuICBjb25zdCBwZXJtaXNzaW9ucyA9IHVzZUFwcFN0b3JlKFxuICAgIHVzZVNoYWxsb3cyKChzKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbSh7IGluZGV4LCB6b25lOiB6b25lQ29tcG91bmQgfSwgcy5zdGF0ZSk7XG4gICAgICByZXR1cm4gcy5wZXJtaXNzaW9ucy5nZXRQZXJtaXNzaW9ucyh7IGl0ZW0gfSk7XG4gICAgfSlcbiAgKTtcbiAgY29uc3Qgem9uZVN0b3JlID0gdXNlQ29udGV4dDUoWm9uZVN0b3JlQ29udGV4dCk7XG4gIGNvbnN0IFtkcmFnQXhpcywgc2V0RHJhZ0F4aXNdID0gdXNlU3RhdGUxMCh1c2VyRHJhZ0F4aXMgfHwgYXV0b0RyYWdBeGlzKTtcbiAgY29uc3QgZHluYW1pY0NvbGxpc2lvbkRldGVjdG9yID0gdXNlTWVtbzUoXG4gICAgKCkgPT4gY3JlYXRlRHluYW1pY0NvbGxpc2lvbkRldGVjdG9yKGRyYWdBeGlzKSxcbiAgICBbZHJhZ0F4aXNdXG4gICk7XG4gIGNvbnN0IHtcbiAgICByZWY6IHNvcnRhYmxlUmVmLFxuICAgIGlzRHJhZ2dpbmc6IHRoaXNJc0RyYWdnaW5nLFxuICAgIHNvcnRhYmxlXG4gIH0gPSB1c2VTb3J0YWJsZTIoe1xuICAgIGlkLFxuICAgIGluZGV4LFxuICAgIGdyb3VwOiB6b25lQ29tcG91bmQsXG4gICAgdHlwZTogXCJjb21wb25lbnRcIixcbiAgICBkYXRhOiB7XG4gICAgICBhcmVhSWQ6IGN0eCA9PSBudWxsID8gdm9pZCAwIDogY3R4LmFyZWFJZCxcbiAgICAgIHpvbmU6IHpvbmVDb21wb3VuZCxcbiAgICAgIGluZGV4LFxuICAgICAgY29tcG9uZW50VHlwZSxcbiAgICAgIGNvbnRhaW5zQWN0aXZlWm9uZSxcbiAgICAgIGRlcHRoLFxuICAgICAgcGF0aDogcGF0aCB8fCBbXSxcbiAgICAgIGluRHJvcHBhYmxlWm9uZVxuICAgIH0sXG4gICAgY29sbGlzaW9uUHJpb3JpdHk6IGRlcHRoLFxuICAgIGNvbGxpc2lvbkRldGVjdG9yOiBkeW5hbWljQ29sbGlzaW9uRGV0ZWN0b3IsXG4gICAgLy8gXCJPdXQgb2YgdGhlIHdheVwiIHRyYW5zaXRpb24gZnJvbSByZWFjdC1iZWF1dGlmdWwtZG5kXG4gICAgdHJhbnNpdGlvbjoge1xuICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgIGVhc2luZzogXCJjdWJpYy1iZXppZXIoMC4yLCAwLCAwLCAxKVwiXG4gICAgfSxcbiAgICBmZWVkYmFjazogXCJjbG9uZVwiXG4gIH0pO1xuICB1c2VFZmZlY3QxMigoKSA9PiB7XG4gICAgY29uc3QgaXNFbmFibGVkID0gem9uZVN0b3JlLmdldFN0YXRlKCkuZW5hYmxlZEluZGV4W3pvbmVDb21wb3VuZF07XG4gICAgc29ydGFibGUuZHJvcHBhYmxlLmRpc2FibGVkID0gIWlzRW5hYmxlZDtcbiAgICBzb3J0YWJsZS5kcmFnZ2FibGUuZGlzYWJsZWQgPSAhcGVybWlzc2lvbnMuZHJhZztcbiAgICBjb25zdCBjbGVhbnVwID0gem9uZVN0b3JlLnN1YnNjcmliZSgocykgPT4ge1xuICAgICAgc29ydGFibGUuZHJvcHBhYmxlLmRpc2FibGVkID0gIXMuZW5hYmxlZEluZGV4W3pvbmVDb21wb3VuZF07XG4gICAgfSk7XG4gICAgaWYgKHJlZi5jdXJyZW50ICYmICFwZXJtaXNzaW9ucy5kcmFnKSB7XG4gICAgICByZWYuY3VycmVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXB1Y2stZGlzYWJsZWRcIiwgXCJcIik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1wdWNrLWRpc2FibGVkXCIpO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY2xlYW51cDtcbiAgfSwgW3Blcm1pc3Npb25zLmRyYWcsIHpvbmVDb21wb3VuZF0pO1xuICBjb25zdCByZWYgPSB1c2VSZWYyKG51bGwpO1xuICBjb25zdCByZWZTZXR0ZXIgPSB1c2VDYWxsYmFjazcoXG4gICAgKGVsKSA9PiB7XG4gICAgICBzb3J0YWJsZVJlZihlbCk7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBlbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzb3J0YWJsZVJlZl1cbiAgKTtcbiAgY29uc3QgW3BvcnRhbEVsLCBzZXRQb3J0YWxFbF0gPSB1c2VTdGF0ZTEwKCk7XG4gIHVzZUVmZmVjdDEyKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBzZXRQb3J0YWxFbChcbiAgICAgIGlmcmFtZS5lbmFibGVkID8gKF9hID0gcmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vd25lckRvY3VtZW50LmJvZHkgOiAoX2MgPSAoX2IgPSByZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNsb3Nlc3QoXCJbZGF0YS1wdWNrLXByZXZpZXddXCIpKSAhPSBudWxsID8gX2MgOiBkb2N1bWVudC5ib2R5XG4gICAgKTtcbiAgfSwgW2lmcmFtZS5lbmFibGVkLCByZWYuY3VycmVudF0pO1xuICBjb25zdCBnZXRTdHlsZSA9IHVzZUNhbGxiYWNrNygoKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgaWYgKCFyZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IHJlY3QgPSByZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBkZWVwU2Nyb2xsUG9zaXRpb24gPSBnZXREZWVwU2Nyb2xsUG9zaXRpb24ocmVmLmN1cnJlbnQpO1xuICAgIGNvbnN0IHBvcnRhbENvbnRhaW5lckVsID0gaWZyYW1lLmVuYWJsZWQgPyBudWxsIDogKF9hID0gcmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jbG9zZXN0KFwiW2RhdGEtcHVjay1wcmV2aWV3XVwiKTtcbiAgICBjb25zdCBwb3J0YWxDb250YWluZXJSZWN0ID0gcG9ydGFsQ29udGFpbmVyRWwgPT0gbnVsbCA/IHZvaWQgMCA6IHBvcnRhbENvbnRhaW5lckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHBvcnRhbFNjcm9sbCA9IHBvcnRhbENvbnRhaW5lckVsID8gZ2V0RGVlcFNjcm9sbFBvc2l0aW9uKHBvcnRhbENvbnRhaW5lckVsKSA6IHsgeDogMCwgeTogMCB9O1xuICAgIGNvbnN0IHNjcm9sbCA9IHtcbiAgICAgIHg6IGRlZXBTY3JvbGxQb3NpdGlvbi54IC0gcG9ydGFsU2Nyb2xsLnggLSAoKF9iID0gcG9ydGFsQ29udGFpbmVyUmVjdCA9PSBudWxsID8gdm9pZCAwIDogcG9ydGFsQ29udGFpbmVyUmVjdC5sZWZ0KSAhPSBudWxsID8gX2IgOiAwKSxcbiAgICAgIHk6IGRlZXBTY3JvbGxQb3NpdGlvbi55IC0gcG9ydGFsU2Nyb2xsLnkgLSAoKF9jID0gcG9ydGFsQ29udGFpbmVyUmVjdCA9PSBudWxsID8gdm9pZCAwIDogcG9ydGFsQ29udGFpbmVyUmVjdC50b3ApICE9IG51bGwgPyBfYyA6IDApXG4gICAgfTtcbiAgICBjb25zdCB1bnRyYW5zZm9ybWVkID0ge1xuICAgICAgaGVpZ2h0OiByZWYuY3VycmVudC5vZmZzZXRIZWlnaHQsXG4gICAgICB3aWR0aDogcmVmLmN1cnJlbnQub2Zmc2V0V2lkdGhcbiAgICB9O1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGFjY3VtdWxhdGVUcmFuc2Zvcm0ocmVmLmN1cnJlbnQpO1xuICAgIGNvbnN0IHN0eWxlMiA9IHtcbiAgICAgIGxlZnQ6IGAkeyhyZWN0LmxlZnQgKyBzY3JvbGwueCkgLyB0cmFuc2Zvcm0uc2NhbGVYfXB4YCxcbiAgICAgIHRvcDogYCR7KHJlY3QudG9wICsgc2Nyb2xsLnkpIC8gdHJhbnNmb3JtLnNjYWxlWX1weGAsXG4gICAgICBoZWlnaHQ6IGAke3VudHJhbnNmb3JtZWQuaGVpZ2h0fXB4YCxcbiAgICAgIHdpZHRoOiBgJHt1bnRyYW5zZm9ybWVkLndpZHRofXB4YFxuICAgIH07XG4gICAgcmV0dXJuIHN0eWxlMjtcbiAgfSwgW3JlZi5jdXJyZW50XSk7XG4gIGNvbnN0IFtzdHlsZSwgc2V0U3R5bGVdID0gdXNlU3RhdGUxMCgpO1xuICBjb25zdCBzeW5jID0gdXNlQ2FsbGJhY2s3KCgpID0+IHtcbiAgICBzZXRTdHlsZShnZXRTdHlsZSgpKTtcbiAgfSwgW3JlZi5jdXJyZW50LCBpZnJhbWVdKTtcbiAgdXNlRWZmZWN0MTIoKCkgPT4ge1xuICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoc3luYyk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbcmVmLmN1cnJlbnRdKTtcbiAgY29uc3QgcmVnaXN0ZXJOb2RlID0gdXNlQXBwU3RvcmUoKHMpID0+IHMubm9kZXMucmVnaXN0ZXJOb2RlKTtcbiAgY29uc3QgaGlkZU92ZXJsYXkgPSB1c2VDYWxsYmFjazcoKCkgPT4ge1xuICAgIHNldElzVmlzaWJsZShmYWxzZSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgc2hvd092ZXJsYXkgPSB1c2VDYWxsYmFjazcoKCkgPT4ge1xuICAgIHNldElzVmlzaWJsZSh0cnVlKTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QxMigoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJlZ2lzdGVyTm9kZShpZCwge1xuICAgICAgbWV0aG9kczogeyBzeW5jLCBzaG93T3ZlcmxheSwgaGlkZU92ZXJsYXkgfSxcbiAgICAgIGVsZW1lbnQ6IChfYSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gX2EgOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlZ2lzdGVyTm9kZShpZCwge1xuICAgICAgICBtZXRob2RzOiB7XG4gICAgICAgICAgc3luYzogKCkgPT4gbnVsbCxcbiAgICAgICAgICBoaWRlT3ZlcmxheTogKCkgPT4gbnVsbCxcbiAgICAgICAgICBzaG93T3ZlcmxheTogKCkgPT4gbnVsbFxuICAgICAgICB9LFxuICAgICAgICBlbGVtZW50OiBudWxsXG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbaWQsIHpvbmVDb21wb3VuZCwgaW5kZXgsIGNvbXBvbmVudFR5cGUsIHN5bmNdKTtcbiAgY29uc3QgQ3VzdG9tQWN0aW9uQmFyID0gdXNlTWVtbzUoXG4gICAgKCkgPT4gb3ZlcnJpZGVzLmFjdGlvbkJhciB8fCBEZWZhdWx0QWN0aW9uQmFyLFxuICAgIFtvdmVycmlkZXMuYWN0aW9uQmFyXVxuICApO1xuICBjb25zdCBDdXN0b21PdmVybGF5ID0gdXNlTWVtbzUoXG4gICAgKCkgPT4gb3ZlcnJpZGVzLmNvbXBvbmVudE92ZXJsYXkgfHwgRGVmYXVsdE92ZXJsYXksXG4gICAgW292ZXJyaWRlcy5jb21wb25lbnRPdmVybGF5XVxuICApO1xuICBjb25zdCBvbkNsaWNrID0gdXNlQ2FsbGJhY2s3KFxuICAgIChlKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGUudGFyZ2V0O1xuICAgICAgaWYgKCFlbC5jbG9zZXN0KFwiW2RhdGEtcHVjay1vdmVybGF5LXBvcnRhbF1cIikpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogXCJzZXRVaVwiLFxuICAgICAgICB1aToge1xuICAgICAgICAgIGl0ZW1TZWxlY3RvcjogeyBpbmRleCwgem9uZTogem9uZUNvbXBvdW5kIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbaW5kZXgsIHpvbmVDb21wb3VuZCwgaWRdXG4gICk7XG4gIGNvbnN0IGFwcFN0b3JlID0gdXNlQXBwU3RvcmVBcGkoKTtcbiAgY29uc3Qgb25TZWxlY3RQYXJlbnQgPSB1c2VDYWxsYmFjazcoKCkgPT4ge1xuICAgIGNvbnN0IHsgbm9kZXMsIHpvbmVzIH0gPSBhcHBTdG9yZS5nZXRTdGF0ZSgpLnN0YXRlLmluZGV4ZXM7XG4gICAgY29uc3Qgbm9kZSA9IG5vZGVzW2lkXTtcbiAgICBjb25zdCBwYXJlbnROb2RlID0gKG5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IG5vZGUucGFyZW50SWQpID8gbm9kZXNbbm9kZSA9PSBudWxsID8gdm9pZCAwIDogbm9kZS5wYXJlbnRJZF0gOiBudWxsO1xuICAgIGlmICghcGFyZW50Tm9kZSB8fCAhbm9kZS5wYXJlbnRJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRab25lQ29tcG91bmQgPSBgJHtwYXJlbnROb2RlLnBhcmVudElkfToke3BhcmVudE5vZGUuem9uZX1gO1xuICAgIGNvbnN0IHBhcmVudEluZGV4ID0gem9uZXNbcGFyZW50Wm9uZUNvbXBvdW5kXS5jb250ZW50SWRzLmluZGV4T2YoXG4gICAgICBub2RlLnBhcmVudElkXG4gICAgKTtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBcInNldFVpXCIsXG4gICAgICB1aToge1xuICAgICAgICBpdGVtU2VsZWN0b3I6IHtcbiAgICAgICAgICB6b25lOiBwYXJlbnRab25lQ29tcG91bmQsXG4gICAgICAgICAgaW5kZXg6IHBhcmVudEluZGV4XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2N0eCwgcGF0aF0pO1xuICBjb25zdCBvbkR1cGxpY2F0ZSA9IHVzZUNhbGxiYWNrNygoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJkdXBsaWNhdGVcIixcbiAgICAgIHNvdXJjZUluZGV4OiBpbmRleCxcbiAgICAgIHNvdXJjZVpvbmU6IHpvbmVDb21wb3VuZFxuICAgIH0pO1xuICB9LCBbaW5kZXgsIHpvbmVDb21wb3VuZF0pO1xuICBjb25zdCBvbkRlbGV0ZSA9IHVzZUNhbGxiYWNrNygoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJyZW1vdmVcIixcbiAgICAgIGluZGV4LFxuICAgICAgem9uZTogem9uZUNvbXBvdW5kXG4gICAgfSk7XG4gIH0sIFtpbmRleCwgem9uZUNvbXBvdW5kXSk7XG4gIGNvbnN0IFtob3Zlciwgc2V0SG92ZXJdID0gdXNlU3RhdGUxMChmYWxzZSk7XG4gIGNvbnN0IGluZGljYXRpdmVIb3ZlciA9IHVzZUNvbnRleHRTdG9yZShcbiAgICBab25lU3RvcmVDb250ZXh0LFxuICAgIChzKSA9PiBzLmhvdmVyaW5nQ29tcG9uZW50ID09PSBpZFxuICApO1xuICB1c2VFZmZlY3QxMigoKSA9PiB7XG4gICAgaWYgKCFyZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbCA9IHJlZi5jdXJyZW50O1xuICAgIGNvbnN0IF9vbk1vdXNlT3ZlciA9IChlKSA9PiB7XG4gICAgICBjb25zdCB1c2VySXNEcmFnZ2luZyA9ICEhem9uZVN0b3JlLmdldFN0YXRlKCkuZHJhZ2dlZEl0ZW07XG4gICAgICBpZiAodXNlcklzRHJhZ2dpbmcpIHtcbiAgICAgICAgaWYgKHRoaXNJc0RyYWdnaW5nKSB7XG4gICAgICAgICAgc2V0SG92ZXIodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0SG92ZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRIb3Zlcih0cnVlKTtcbiAgICAgIH1cbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfTtcbiAgICBjb25zdCBfb25Nb3VzZU91dCA9IChlKSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgc2V0SG92ZXIoZmFsc2UpO1xuICAgIH07XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1wdWNrLWNvbXBvbmVudFwiLCBpZCk7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1wdWNrLWRuZFwiLCBpZCk7XG4gICAgZWwuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xpY2spO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgX29uTW91c2VPdmVyKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgX29uTW91c2VPdXQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXB1Y2stY29tcG9uZW50XCIpO1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1wdWNrLWRuZFwiKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsaWNrKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgX29uTW91c2VPdmVyKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCBfb25Nb3VzZU91dCk7XG4gICAgfTtcbiAgfSwgW1xuICAgIHJlZi5jdXJyZW50LFxuICAgIC8vIFJlbW91bnQgYXR0cmlidXRlcyBpZiB0aGUgZWxlbWVudCBjaGFuZ2VzXG4gICAgb25DbGljayxcbiAgICBjb250YWluc0FjdGl2ZVpvbmUsXG4gICAgem9uZUNvbXBvdW5kLFxuICAgIGlkLFxuICAgIHRoaXNJc0RyYWdnaW5nLFxuICAgIGluRHJvcHBhYmxlWm9uZVxuICBdKTtcbiAgY29uc3QgW2lzVmlzaWJsZSwgc2V0SXNWaXNpYmxlXSA9IHVzZVN0YXRlMTAoZmFsc2UpO1xuICBjb25zdCBbZHJhZ0ZpbmlzaGVkLCBzZXREcmFnRmluaXNoZWRdID0gdXNlU3RhdGUxMCh0cnVlKTtcbiAgY29uc3QgW18sIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7XG4gIHVzZUVmZmVjdDEyKCgpID0+IHtcbiAgICBzdGFydFRyYW5zaXRpb24oKCkgPT4ge1xuICAgICAgaWYgKGhvdmVyIHx8IGluZGljYXRpdmVIb3ZlciB8fCBpc1NlbGVjdGVkKSB7XG4gICAgICAgIHN5bmMoKTtcbiAgICAgICAgc2V0SXNWaXNpYmxlKHRydWUpO1xuICAgICAgICBzZXRUaGlzV2FzRHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SXNWaXNpYmxlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2hvdmVyLCBpbmRpY2F0aXZlSG92ZXIsIGlzU2VsZWN0ZWQsIGlmcmFtZV0pO1xuICBjb25zdCBbdGhpc1dhc0RyYWdnaW5nLCBzZXRUaGlzV2FzRHJhZ2dpbmddID0gdXNlU3RhdGUxMChmYWxzZSk7XG4gIGNvbnN0IG9uRHJhZ0ZpbmlzaGVkID0gdXNlT25EcmFnRmluaXNoZWQoKGZpbmlzaGVkKSA9PiB7XG4gICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICBzdGFydFRyYW5zaXRpb24oKCkgPT4ge1xuICAgICAgICBzeW5jKCk7XG4gICAgICAgIHNldERyYWdGaW5pc2hlZCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXREcmFnRmluaXNoZWQoZmFsc2UpO1xuICAgIH1cbiAgfSk7XG4gIHVzZUVmZmVjdDEyKCgpID0+IHtcbiAgICBpZiAodGhpc0lzRHJhZ2dpbmcpIHtcbiAgICAgIHNldFRoaXNXYXNEcmFnZ2luZyh0cnVlKTtcbiAgICB9XG4gIH0sIFt0aGlzSXNEcmFnZ2luZ10pO1xuICB1c2VFZmZlY3QxMigoKSA9PiB7XG4gICAgaWYgKHRoaXNXYXNEcmFnZ2luZykgcmV0dXJuIG9uRHJhZ0ZpbmlzaGVkKCk7XG4gIH0sIFt0aGlzV2FzRHJhZ2dpbmcsIG9uRHJhZ0ZpbmlzaGVkXSk7XG4gIGNvbnN0IHN5bmNBY3Rpb25zUG9zaXRpb24gPSB1c2VDYWxsYmFjazcoXG4gICAgKGVsKSA9PiB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIGNvbnN0IGRpZmZMZWZ0ID0gcmVjdC54O1xuICAgICAgICAgIGNvbnN0IGV4Y2VlZHNCb3VuZHNMZWZ0ID0gZGlmZkxlZnQgPCAwO1xuICAgICAgICAgIGNvbnN0IGRpZmZUb3AgPSByZWN0Lnk7XG4gICAgICAgICAgY29uc3QgZXhjZWVkc0JvdW5kc1RvcCA9IGRpZmZUb3AgPCAwO1xuICAgICAgICAgIGlmIChleGNlZWRzQm91bmRzTGVmdCkge1xuICAgICAgICAgICAgZWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gXCJsZWZ0IHRvcFwiO1xuICAgICAgICAgICAgZWwuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleGNlZWRzQm91bmRzVG9wKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS50b3AgPSBcIjEycHhcIjtcbiAgICAgICAgICAgIGlmICghZXhjZWVkc0JvdW5kc0xlZnQpIHtcbiAgICAgICAgICAgICAgZWwuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gXCJyaWdodCB0b3BcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFt6b29tXVxuICApO1xuICB1c2VFZmZlY3QxMigoKSA9PiB7XG4gICAgaWYgKHVzZXJEcmFnQXhpcykge1xuICAgICAgc2V0RHJhZ0F4aXModXNlckRyYWdBeGlzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocmVmLmN1cnJlbnQpO1xuICAgICAgaWYgKGNvbXB1dGVkU3R5bGUuZGlzcGxheSA9PT0gXCJpbmxpbmVcIiB8fCBjb21wdXRlZFN0eWxlLmRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIpIHtcbiAgICAgICAgc2V0RHJhZ0F4aXMoXCJ4XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHNldERyYWdBeGlzKGF1dG9EcmFnQXhpcyk7XG4gIH0sIFtyZWYsIHVzZXJEcmFnQXhpcywgYXV0b0RyYWdBeGlzXSk7XG4gIGNvbnN0IHBhcmVudEFjdGlvbiA9IHVzZU1lbW81KFxuICAgICgpID0+IChjdHggPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC5hcmVhSWQpICYmIChjdHggPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC5hcmVhSWQpICE9PSBcInJvb3RcIiAmJiAvKiBAX19QVVJFX18gKi8ganN4MjAoQWN0aW9uQmFyLkFjdGlvbiwgeyBvbkNsaWNrOiBvblNlbGVjdFBhcmVudCwgbGFiZWw6IFwiU2VsZWN0IHBhcmVudFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIwKENvcm5lckxlZnRVcCwgeyBzaXplOiAxNiB9KSB9KSxcbiAgICBbY3R4ID09IG51bGwgPyB2b2lkIDAgOiBjdHguYXJlYUlkXVxuICApO1xuICBjb25zdCBuZXh0Q29udGV4dFZhbHVlID0gdXNlTWVtbzUoXG4gICAgKCkgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY3R4KSwge1xuICAgICAgYXJlYUlkOiBpZCxcbiAgICAgIHpvbmVDb21wb3VuZCxcbiAgICAgIGluZGV4LFxuICAgICAgZGVwdGg6IGRlcHRoICsgMSxcbiAgICAgIHJlZ2lzdGVyTG9jYWxab25lLFxuICAgICAgdW5yZWdpc3RlckxvY2FsWm9uZVxuICAgIH0pLFxuICAgIFtcbiAgICAgIGN0eCxcbiAgICAgIGlkLFxuICAgICAgem9uZUNvbXBvdW5kLFxuICAgICAgaW5kZXgsXG4gICAgICBkZXB0aCxcbiAgICAgIHJlZ2lzdGVyTG9jYWxab25lLFxuICAgICAgdW5yZWdpc3RlckxvY2FsWm9uZVxuICAgIF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzOShEcm9wWm9uZVByb3ZpZGVyLCB7IHZhbHVlOiBuZXh0Q29udGV4dFZhbHVlLCBjaGlsZHJlbjogW1xuICAgIGRyYWdGaW5pc2hlZCAmJiBpc1Zpc2libGUgJiYgY3JlYXRlUG9ydGFsMihcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzOShcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTYoe1xuICAgICAgICAgICAgaXNTZWxlY3RlZCxcbiAgICAgICAgICAgIGlzRHJhZ2dpbmc6IHRoaXNJc0RyYWdnaW5nLFxuICAgICAgICAgICAgaG92ZXI6IGhvdmVyIHx8IGluZGljYXRpdmVIb3ZlclxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHN0eWxlOiBfX3NwcmVhZFZhbHVlcyh7fSwgc3R5bGUpLFxuICAgICAgICAgIFwiZGF0YS1wdWNrLW92ZXJsYXlcIjogdHJ1ZSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgZGVidWcsXG4gICAgICAgICAgICBpc0xvYWRpbmcgJiYgLyogQF9fUFVSRV9fICovIGpzeDIwKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUxNihcImxvYWRpbmdPdmVybGF5XCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIwKExvYWRlciwge30pIH0pLFxuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDIwKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUxNihcImFjdGlvbnNPdmVybGF5XCIpLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICB0b3A6IGFjdGlvbnNPdmVybGF5VG9wIC8gem9vbVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMChcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTYoXCJhY3Rpb25zXCIpLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHNjYWxlKCR7MSAvIHpvb219YCxcbiAgICAgICAgICAgICAgICAgICAgICB0b3A6IGFjdGlvbnNUb3AgLyB6b29tLFxuICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBhY3Rpb25zU2lkZSxcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IGFjdGlvbnNTaWRlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlZjogc3luY0FjdGlvbnNQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzOShcbiAgICAgICAgICAgICAgICAgICAgICBDdXN0b21BY3Rpb25CYXIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50QWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IERFQlVHMiA/IGlkIDogbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucy5kdXBsaWNhdGUgJiYgLyogQF9fUFVSRV9fICovIGpzeDIwKEFjdGlvbkJhci5BY3Rpb24sIHsgb25DbGljazogb25EdXBsaWNhdGUsIGxhYmVsOiBcIkR1cGxpY2F0ZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIwKENvcHksIHsgc2l6ZTogMTYgfSkgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zLmRlbGV0ZSAmJiAvKiBAX19QVVJFX18gKi8ganN4MjAoQWN0aW9uQmFyLkFjdGlvbiwgeyBvbkNsaWNrOiBvbkRlbGV0ZSwgbGFiZWw6IFwiRGVsZXRlXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjAoVHJhc2gsIHsgc2l6ZTogMTYgfSkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjAoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTE2KFwib3ZlcmxheVdyYXBwZXJcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjAoXG4gICAgICAgICAgICAgIEN1c3RvbU92ZXJsYXksXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJZDogaWQsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZSxcbiAgICAgICAgICAgICAgICBob3ZlcixcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjAoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTE2KFwib3ZlcmxheVwiKSB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApIH0pXG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgcG9ydGFsRWwgfHwgZG9jdW1lbnQuYm9keVxuICAgICksXG4gICAgY2hpbGRyZW4ocmVmU2V0dGVyKVxuICBdIH0pO1xufTtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL0Ryb3Bab25lL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTEgPSB7IFwiRHJvcFpvbmVcIjogXCJfRHJvcFpvbmVfMWkyc3ZfMVwiLCBcIkRyb3Bab25lLS1oYXNDaGlsZHJlblwiOiBcIl9Ecm9wWm9uZS0taGFzQ2hpbGRyZW5fMWkyc3ZfMTFcIiwgXCJEcm9wWm9uZS0taXNBcmVhU2VsZWN0ZWRcIjogXCJfRHJvcFpvbmUtLWlzQXJlYVNlbGVjdGVkXzFpMnN2XzI0XCIsIFwiRHJvcFpvbmUtLWhvdmVyaW5nT3ZlckFyZWFcIjogXCJfRHJvcFpvbmUtLWhvdmVyaW5nT3ZlckFyZWFfMWkyc3ZfMjVcIiwgXCJEcm9wWm9uZS0taXNSb290Wm9uZVwiOiBcIl9Ecm9wWm9uZS0taXNSb290Wm9uZV8xaTJzdl8yNVwiLCBcIkRyb3Bab25lLS1pc0Rlc3RpbmF0aW9uXCI6IFwiX0Ryb3Bab25lLS1pc0Rlc3RpbmF0aW9uXzFpMnN2XzM1XCIsIFwiRHJvcFpvbmUtaXRlbVwiOiBcIl9Ecm9wWm9uZS1pdGVtXzFpMnN2XzQ3XCIsIFwiRHJvcFpvbmUtaGl0Ym94XCI6IFwiX0Ryb3Bab25lLWhpdGJveF8xaTJzdl81MVwiLCBcIkRyb3Bab25lLS1pc0VuYWJsZWRcIjogXCJfRHJvcFpvbmUtLWlzRW5hYmxlZF8xaTJzdl81OVwiLCBcIkRyb3Bab25lLS1pc0FuaW1hdGluZ1wiOiBcIl9Ecm9wWm9uZS0taXNBbmltYXRpbmdfMWkyc3ZfNjhcIiB9O1xuXG4vLyBjb21wb25lbnRzL0Ryb3Bab25lL2luZGV4LnRzeFxuaW1wb3J0IHsgdXNlRHJvcHBhYmxlIGFzIHVzZURyb3BwYWJsZTIgfSBmcm9tIFwiQGRuZC1raXQvcmVhY3RcIjtcblxuLy8gY29tcG9uZW50cy9EcmF3ZXIvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvRHJhd2VyL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTIgPSB7IFwiRHJhd2VyXCI6IFwiX0RyYXdlcl9wbDd6MF8xXCIsIFwiRHJhd2VyLWRyYWdnYWJsZVwiOiBcIl9EcmF3ZXItZHJhZ2dhYmxlX3BsN3owXzhcIiwgXCJEcmF3ZXItZHJhZ2dhYmxlQmdcIjogXCJfRHJhd2VyLWRyYWdnYWJsZUJnX3BsN3owXzEyXCIsIFwiRHJhd2VySXRlbS1kcmFnZ2FibGVcIjogXCJfRHJhd2VySXRlbS1kcmFnZ2FibGVfcGw3ejBfMjJcIiwgXCJEcmF3ZXJJdGVtLS1kaXNhYmxlZFwiOiBcIl9EcmF3ZXJJdGVtLS1kaXNhYmxlZF9wbDd6MF8zNVwiLCBcIkRyYXdlckl0ZW1cIjogXCJfRHJhd2VySXRlbV9wbDd6MF8yMlwiLCBcIkRyYXdlci0taXNEcmFnZ2luZ0Zyb21cIjogXCJfRHJhd2VyLS1pc0RyYWdnaW5nRnJvbV9wbDd6MF80NVwiLCBcIkRyYXdlckl0ZW0tbmFtZVwiOiBcIl9EcmF3ZXJJdGVtLW5hbWVfcGw3ejBfNjNcIiB9O1xuXG4vLyBjb21wb25lbnRzL0RyYXdlci9pbmRleC50c3hcbmltcG9ydCB7IHVzZU1lbW8gYXMgdXNlTWVtbzcsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMTIgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY29tcG9uZW50cy9EcmFnRHJvcENvbnRleHQvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgRHJhZ0Ryb3BQcm92aWRlciBhcyBEcmFnRHJvcFByb3ZpZGVyMiB9IGZyb20gXCJAZG5kLWtpdC9yZWFjdFwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlQ29udGV4dCBhcyBjcmVhdGVDb250ZXh0NCxcbiAgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s4LFxuICB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQ2LFxuICB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MTMsXG4gIHVzZU1lbW8gYXMgdXNlTWVtbzYsXG4gIHVzZVJlZiBhcyB1c2VSZWYzLFxuICB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTExXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQXV0b1Njcm9sbGVyLCBkZWZhdWx0UHJlc2V0IH0gZnJvbSBcIkBkbmQta2l0L2RvbVwiO1xuXG4vLyBsaWIvZG5kL05lc3RlZERyb3BwYWJsZVBsdWdpbi50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gXCJAZG5kLWtpdC9hYnN0cmFjdFwiO1xuXG4vLyBsaWIvdGhyb3R0bGUudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5mdW5jdGlvbiB0aW1lb3V0MihjYWxsYmFjaywgZHVyYXRpb24pIHtcbiAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbik7XG4gIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQoaWQpO1xufVxuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgbGltaXQpIHtcbiAgY29uc3QgdGltZSA9ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpO1xuICBsZXQgY2FuY2VsO1xuICBsZXQgbGFzdFJhbiA9IDA7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3Qgbm93ID0gdGltZSgpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgIGlmIChub3cgLSBsYXN0UmFuID49IGxpbWl0KSB7XG4gICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgbGFzdFJhbiA9IG5vdztcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuY2VsID09IG51bGwgPyB2b2lkIDAgOiBjYW5jZWwoKTtcbiAgICAgIGNhbmNlbCA9IHRpbWVvdXQyKCgpID0+IHtcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgbGFzdFJhbiA9IHRpbWUoKTtcbiAgICAgIH0sIGxpbWl0IC0gKG5vdyAtIGxhc3RSYW4pKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGxpYi9nZXQtZnJhbWUudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZ2V0RnJhbWUgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gIGxldCBmcmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LWZyYW1lXCIpO1xuICBpZiAoKGZyYW1lRWwgPT0gbnVsbCA/IHZvaWQgMCA6IGZyYW1lRWwudGFnTmFtZSkgPT09IFwiSUZSQU1FXCIpIHtcbiAgICByZXR1cm4gZnJhbWVFbC5jb250ZW50RG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gIH1cbiAgcmV0dXJuIChmcmFtZUVsID09IG51bGwgPyB2b2lkIDAgOiBmcmFtZUVsLm93bmVyRG9jdW1lbnQpIHx8IGRvY3VtZW50O1xufTtcblxuLy8gbGliL2dsb2JhbC1wb3NpdGlvbi50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBHbG9iYWxQb3NpdGlvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBvcmlnaW5hbCkge1xuICAgIHRoaXMuc2NhbGVGYWN0b3IgPSAxO1xuICAgIHRoaXMuZnJhbWVFbCA9IG51bGw7XG4gICAgdGhpcy5mcmFtZVJlY3QgPSBudWxsO1xuICAgIHZhciBfYTtcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLm9yaWdpbmFsID0gb3JpZ2luYWw7XG4gICAgdGhpcy5mcmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlmcmFtZSNwcmV2aWV3LWZyYW1lXCIpO1xuICAgIGlmICh0aGlzLmZyYW1lRWwpIHtcbiAgICAgIHRoaXMuZnJhbWVSZWN0ID0gdGhpcy5mcmFtZUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy5zY2FsZUZhY3RvciA9IHRoaXMuZnJhbWVSZWN0LndpZHRoIC8gKCgoX2EgPSB0aGlzLmZyYW1lRWwuY29udGVudFdpbmRvdykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlubmVyV2lkdGgpIHx8IDEpO1xuICAgIH1cbiAgfVxuICBnZXQgeCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC54O1xuICB9XG4gIGdldCB5KCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLnk7XG4gIH1cbiAgZ2V0IGdsb2JhbCgpIHtcbiAgICBpZiAoZG9jdW1lbnQgIT09IHRoaXMudGFyZ2V0Lm93bmVyRG9jdW1lbnQgJiYgdGhpcy5mcmFtZVJlY3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHRoaXMueCAqIHRoaXMuc2NhbGVGYWN0b3IgKyB0aGlzLmZyYW1lUmVjdC5sZWZ0LFxuICAgICAgICB5OiB0aGlzLnkgKiB0aGlzLnNjYWxlRmFjdG9yICsgdGhpcy5mcmFtZVJlY3QudG9wXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbDtcbiAgfVxuICBnZXQgZnJhbWUoKSB7XG4gICAgaWYgKGRvY3VtZW50ID09PSB0aGlzLnRhcmdldC5vd25lckRvY3VtZW50ICYmIHRoaXMuZnJhbWVSZWN0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiAodGhpcy54IC0gdGhpcy5mcmFtZVJlY3QubGVmdCkgLyB0aGlzLnNjYWxlRmFjdG9yLFxuICAgICAgICB5OiAodGhpcy55IC0gdGhpcy5mcmFtZVJlY3QudG9wKSAvIHRoaXMuc2NhbGVGYWN0b3JcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsO1xuICB9XG59O1xuXG4vLyBsaWIvYnViYmxlLXBvaW50ZXItZXZlbnQudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgQmFzZUV2ZW50ID0gdHlwZW9mIFBvaW50ZXJFdmVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IFBvaW50ZXJFdmVudCA6IEV2ZW50O1xudmFyIEJ1YmJsZWRQb2ludGVyRXZlbnQgPSBjbGFzcyBleHRlbmRzIEJhc2VFdmVudCB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGRhdGEpIHtcbiAgICBzdXBlcih0eXBlLCBkYXRhKTtcbiAgICB0aGlzLl9vcmlnaW5hbFRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbFRhcmdldCA9IGRhdGEub3JpZ2luYWxUYXJnZXQ7XG4gIH1cbiAgLy8gTmVjZXNzYXJ5IGZvciBGaXJlZm94XG4gIHNldCBvcmlnaW5hbFRhcmdldCh0YXJnZXQpIHtcbiAgICB0aGlzLl9vcmlnaW5hbFRhcmdldCA9IHRhcmdldDtcbiAgfVxuICAvLyBOZWNlc3NhcnkgZm9yIEZpcmVmb3hcbiAgZ2V0IG9yaWdpbmFsVGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbFRhcmdldDtcbiAgfVxufTtcblxuLy8gbGliL2RuZC9OZXN0ZWREcm9wcGFibGVQbHVnaW4udHNcbnZhciBkZXB0aFNvcnQgPSAoY2FuZGlkYXRlcykgPT4ge1xuICByZXR1cm4gY2FuZGlkYXRlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgYURhdGEgPSBhLmRhdGE7XG4gICAgY29uc3QgYkRhdGEgPSBiLmRhdGE7XG4gICAgaWYgKGFEYXRhLmRlcHRoID4gYkRhdGEuZGVwdGgpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoYkRhdGEuZGVwdGggPiBhRGF0YS5kZXB0aCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSk7XG59O1xudmFyIGdldFpvbmVJZCA9IChjYW5kaWRhdGUpID0+IHtcbiAgbGV0IGlkID0gY2FuZGlkYXRlID09IG51bGwgPyB2b2lkIDAgOiBjYW5kaWRhdGUuaWQ7XG4gIGlmICghY2FuZGlkYXRlKSByZXR1cm4gbnVsbDtcbiAgaWYgKGNhbmRpZGF0ZS50eXBlID09PSBcImNvbXBvbmVudFwiKSB7XG4gICAgY29uc3QgZGF0YSA9IGNhbmRpZGF0ZS5kYXRhO1xuICAgIGlmIChkYXRhLmNvbnRhaW5zQWN0aXZlWm9uZSkge1xuICAgICAgaWQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZCA9IGRhdGEuem9uZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2FuZGlkYXRlLnR5cGUgPT09IFwidm9pZFwiKSB7XG4gICAgcmV0dXJuIFwidm9pZFwiO1xuICB9XG4gIHJldHVybiBpZDtcbn07XG52YXIgQlVGRkVSID0gNjtcbnZhciBnZXRQb2ludGVyQ29sbGlzaW9ucyA9IChwb3NpdGlvbiwgbWFuYWdlcikgPT4ge1xuICBjb25zdCBjYW5kaWRhdGVzID0gW107XG4gIGxldCBlbGVtZW50cyA9IHBvc2l0aW9uLnRhcmdldC5vd25lckRvY3VtZW50LmVsZW1lbnRzRnJvbVBvaW50KFxuICAgIHBvc2l0aW9uLngsXG4gICAgcG9zaXRpb24ueVxuICApO1xuICBjb25zdCBwcmV2aWV3RnJhbWUgPSBlbGVtZW50cy5maW5kKFxuICAgIChlbCkgPT4gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1wdWNrLXByZXZpZXdcIilcbiAgKTtcbiAgY29uc3QgZHJhd2VyID0gZWxlbWVudHMuZmluZCgoZWwpID0+IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtcHVjay1kcmF3ZXJcIikpO1xuICBpZiAoZHJhd2VyKSB7XG4gICAgZWxlbWVudHMgPSBbZHJhd2VyXTtcbiAgfVxuICBpZiAocHJldmlld0ZyYW1lKSB7XG4gICAgY29uc3QgZnJhbWUgPSBnZXRGcmFtZSgpO1xuICAgIGlmIChmcmFtZSkge1xuICAgICAgZWxlbWVudHMgPSBmcmFtZS5lbGVtZW50c0Zyb21Qb2ludChwb3NpdGlvbi5mcmFtZS54LCBwb3NpdGlvbi5mcmFtZS55KTtcbiAgICB9XG4gIH1cbiAgaWYgKGVsZW1lbnRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgY29uc3QgZHJvcHpvbmVJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wdWNrLWRyb3B6b25lXCIpO1xuICAgICAgY29uc3QgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtcHVjay1kbmRcIik7XG4gICAgICBjb25zdCBpc1ZvaWQgPSBlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtcHVjay1kbmQtdm9pZFwiKTtcbiAgICAgIGlmIChCVUZGRVIgJiYgKGRyb3B6b25lSWQgfHwgaWQpICYmICFpc1ZvaWQpIHtcbiAgICAgICAgY29uc3QgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgY29udHJhY3RlZEJveCA9IHtcbiAgICAgICAgICBsZWZ0OiBib3gubGVmdCArIEJVRkZFUixcbiAgICAgICAgICByaWdodDogYm94LnJpZ2h0IC0gQlVGRkVSLFxuICAgICAgICAgIHRvcDogYm94LnRvcCArIEJVRkZFUixcbiAgICAgICAgICBib3R0b206IGJveC5ib3R0b20gLSBCVUZGRVJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmZyYW1lLnggPCBjb250cmFjdGVkQm94LmxlZnQgfHwgcG9zaXRpb24uZnJhbWUueCA+IGNvbnRyYWN0ZWRCb3gucmlnaHQgfHwgcG9zaXRpb24uZnJhbWUueSA+IGNvbnRyYWN0ZWRCb3guYm90dG9tIHx8IHBvc2l0aW9uLmZyYW1lLnkgPCBjb250cmFjdGVkQm94LnRvcCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZHJvcHpvbmVJZCkge1xuICAgICAgICBjb25zdCBkcm9wcGFibGUgPSBtYW5hZ2VyLnJlZ2lzdHJ5LmRyb3BwYWJsZXMuZ2V0KGRyb3B6b25lSWQpO1xuICAgICAgICBpZiAoZHJvcHBhYmxlKSB7XG4gICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKGRyb3BwYWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpZCkge1xuICAgICAgICBjb25zdCBkcm9wcGFibGUgPSBtYW5hZ2VyLnJlZ2lzdHJ5LmRyb3BwYWJsZXMuZ2V0KGlkKTtcbiAgICAgICAgaWYgKGRyb3BwYWJsZSkge1xuICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChkcm9wcGFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjYW5kaWRhdGVzO1xufTtcbnZhciBmaW5kRGVlcGVzdENhbmRpZGF0ZSA9IChwb3NpdGlvbiwgbWFuYWdlcikgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNhbmRpZGF0ZXMgPSBnZXRQb2ludGVyQ29sbGlzaW9ucyhwb3NpdGlvbiwgbWFuYWdlcik7XG4gIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBzb3J0ZWRDYW5kaWRhdGVzID0gZGVwdGhTb3J0KGNhbmRpZGF0ZXMpO1xuICAgIGNvbnN0IGRyYWdnYWJsZSA9IG1hbmFnZXIuZHJhZ09wZXJhdGlvbi5zb3VyY2U7XG4gICAgY29uc3QgZHJhZ2dlZENhbmRpZGF0ZUluZGV4ID0gc29ydGVkQ2FuZGlkYXRlcy5maW5kSW5kZXgoXG4gICAgICAoY2FuZGlkYXRlKSA9PiBjYW5kaWRhdGUuaWQgPT09IChkcmFnZ2FibGUgPT0gbnVsbCA/IHZvaWQgMCA6IGRyYWdnYWJsZS5pZClcbiAgICApO1xuICAgIGNvbnN0IGRyYWdnZWRDYW5kaWRhdGVJZCA9IGRyYWdnYWJsZSA9PSBudWxsID8gdm9pZCAwIDogZHJhZ2dhYmxlLmlkO1xuICAgIGxldCBmaWx0ZXJlZENhbmRpZGF0ZXMgPSBbLi4uc29ydGVkQ2FuZGlkYXRlc107XG4gICAgaWYgKGRyYWdnZWRDYW5kaWRhdGVJZCAmJiBkcmFnZ2VkQ2FuZGlkYXRlSW5kZXggPiAtMSkge1xuICAgICAgZmlsdGVyZWRDYW5kaWRhdGVzLnNwbGljZShkcmFnZ2VkQ2FuZGlkYXRlSW5kZXgsIDEpO1xuICAgIH1cbiAgICBmaWx0ZXJlZENhbmRpZGF0ZXMgPSBmaWx0ZXJlZENhbmRpZGF0ZXMuZmlsdGVyKChjYW5kaWRhdGUpID0+IHtcbiAgICAgIGNvbnN0IGNhbmRpZGF0ZURhdGEgPSBjYW5kaWRhdGUuZGF0YTtcbiAgICAgIGlmIChkcmFnZ2VkQ2FuZGlkYXRlSWQgJiYgZHJhZ2dlZENhbmRpZGF0ZUluZGV4ID4gLTEpIHtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZURhdGEucGF0aC5pbmRleE9mKGRyYWdnZWRDYW5kaWRhdGVJZCkgPiAtMSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNhbmRpZGF0ZS50eXBlID09PSBcImRyb3B6b25lXCIpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlRGF0YTIgPSBjYW5kaWRhdGUuZGF0YTtcbiAgICAgICAgaWYgKCFjYW5kaWRhdGVEYXRhMi5pc0Ryb3BwYWJsZVRhcmdldCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuZGlkYXRlRGF0YTIuYXJlYUlkID09PSBkcmFnZ2VkQ2FuZGlkYXRlSWQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2FuZGlkYXRlLnR5cGUgPT09IFwiY29tcG9uZW50XCIpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlRGF0YTIgPSBjYW5kaWRhdGUuZGF0YTtcbiAgICAgICAgaWYgKCFjYW5kaWRhdGVEYXRhMi5pbkRyb3BwYWJsZVpvbmUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIGZpbHRlcmVkQ2FuZGlkYXRlcy5yZXZlcnNlKCk7XG4gICAgY29uc3QgcHJpbWFyeUNhbmRpZGF0ZSA9IGZpbHRlcmVkQ2FuZGlkYXRlc1swXTtcbiAgICBpZiAoIXByaW1hcnlDYW5kaWRhdGUpIHJldHVybiB7IHpvbmU6IG51bGwsIGFyZWE6IG51bGwgfTtcbiAgICBjb25zdCBwcmltYXJ5Q2FuZGlkYXRlRGF0YSA9IHByaW1hcnlDYW5kaWRhdGUuZGF0YTtcbiAgICBjb25zdCBwcmltYXJ5Q2FuZGlkYXRlSXNDb21wb25lbnQgPSBcImNvbnRhaW5zQWN0aXZlWm9uZVwiIGluIHByaW1hcnlDYW5kaWRhdGVEYXRhO1xuICAgIGNvbnN0IHpvbmUgPSBnZXRab25lSWQocHJpbWFyeUNhbmRpZGF0ZSk7XG4gICAgY29uc3QgYXJlYSA9IHByaW1hcnlDYW5kaWRhdGVJc0NvbXBvbmVudCAmJiBwcmltYXJ5Q2FuZGlkYXRlRGF0YS5jb250YWluc0FjdGl2ZVpvbmUgPyBmaWx0ZXJlZENhbmRpZGF0ZXNbMF0uaWQgOiAoX2EgPSBmaWx0ZXJlZENhbmRpZGF0ZXNbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5kYXRhLmFyZWFJZDtcbiAgICByZXR1cm4geyB6b25lLCBhcmVhIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB6b25lOiByb290RHJvcHBhYmxlSWQsXG4gICAgYXJlYTogcm9vdEFyZWFJZFxuICB9O1xufTtcbnZhciBjcmVhdGVOZXN0ZWREcm9wcGFibGVQbHVnaW4gPSAoeyBvbkNoYW5nZSB9LCBpZCkgPT4gY2xhc3MgTmVzdGVkRHJvcHBhYmxlUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgY29uc3RydWN0b3IobWFuYWdlciwgb3B0aW9ucykge1xuICAgIHN1cGVyKG1hbmFnZXIpO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVnaXN0ZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgaGFuZGxlTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudCBpbnN0YW5jZW9mIEJ1YmJsZWRQb2ludGVyRXZlbnQgPyBldmVudC5vcmlnaW5hbFRhcmdldCB8fCBldmVudC50YXJnZXQgOiBldmVudC50YXJnZXQ7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IEdsb2JhbFBvc2l0aW9uKHRhcmdldCwge1xuICAgICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChcbiAgICAgICAgICBwb3NpdGlvbi5nbG9iYWwueCxcbiAgICAgICAgICBwb3NpdGlvbi5nbG9iYWwueVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBvdmVyRWwgPSBlbGVtZW50cy5zb21lKChlbCkgPT4gZWwuaWQgPT09IGlkKTtcbiAgICAgICAgaWYgKG92ZXJFbCkge1xuICAgICAgICAgIG9uQ2hhbmdlKGZpbmREZWVwZXN0Q2FuZGlkYXRlKHBvc2l0aW9uLCBtYW5hZ2VyKSwgbWFuYWdlcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBoYW5kbGVNb3ZlVGhyb3R0bGVkID0gdGhyb3R0bGUoaGFuZGxlTW92ZSwgNTApO1xuICAgICAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaGFuZGxlTW92ZVRocm90dGxlZChldmVudCk7XG4gICAgICB9O1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgaGFuZGxlUG9pbnRlck1vdmUsIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICAvLyBkbmRraXQncyBQb2ludGVyU2Vuc29yIHByZXZlbnRzIHByb3BhZ2F0aW9uIGR1cmluZyBkcmFnXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGhhbmRsZVBvaW50ZXJNb3ZlLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gY2xlYW51cDtcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gbGliL2luc2VydC1jb21wb25lbnQudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgaW5zZXJ0Q29tcG9uZW50ID0gKGNvbXBvbmVudFR5cGUsIHpvbmUsIGluZGV4LCBhcHBTdG9yZSkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gIGNvbnN0IGlkID0gZ2VuZXJhdGVJZChjb21wb25lbnRUeXBlKTtcbiAgY29uc3QgaW5zZXJ0QWN0aW9uRGF0YSA9IHtcbiAgICB0eXBlOiBcImluc2VydFwiLFxuICAgIGNvbXBvbmVudFR5cGUsXG4gICAgZGVzdGluYXRpb25JbmRleDogaW5kZXgsXG4gICAgZGVzdGluYXRpb25ab25lOiB6b25lLFxuICAgIGlkXG4gIH07XG4gIGNvbnN0IHsgc3RhdGUsIGRpc3BhdGNoLCByZXNvbHZlQ29tcG9uZW50RGF0YTogcmVzb2x2ZUNvbXBvbmVudERhdGEyIH0gPSBhcHBTdG9yZTtcbiAgY29uc3QgaW5zZXJ0ZWRTdGF0ZSA9IGluc2VydEFjdGlvbihzdGF0ZSwgaW5zZXJ0QWN0aW9uRGF0YSwgYXBwU3RvcmUpO1xuICBkaXNwYXRjaChfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBpbnNlcnRBY3Rpb25EYXRhKSwge1xuICAgIC8vIERpc3BhdGNoIGluc2VydCByYXRoZXIgc2V0LCBhcyB1c2VyJ3MgbWF5IHJlbHkgb24gdGhpcyB2aWEgb25BY3Rpb25cbiAgICAvLyBXZSBtdXN0IGFsd2F5cyByZWNvcmQgaGlzdG9yeSBoZXJlIHNvIHRoZSBpbnNlcnQgaXMgYWRkZWQgdG8gdXNlciBoaXN0b3J5XG4gICAgLy8gSWYgdGhlIHVzZXIgaGFzIGRlZmluZWQgYSByZXNvbHZlRGF0YSBtZXRob2QsIHRoZXkgd2lsbCBlbmQgdXAgd2l0aCAyIGhpc3RvcnlcbiAgICAvLyBlbnRyaWVzIG9uIGluc2VydCAtIG9uZSBmb3IgdGhlIGluaXRpYWwgaW5zZXJ0LCBhbmQgb25lIHdoZW4gdGhlIGRhdGEgcmVzb2x2ZXNcbiAgICByZWNvcmRIaXN0b3J5OiB0cnVlXG4gIH0pKTtcbiAgY29uc3QgaXRlbVNlbGVjdG9yID0ge1xuICAgIGluZGV4LFxuICAgIHpvbmVcbiAgfTtcbiAgZGlzcGF0Y2goeyB0eXBlOiBcInNldFVpXCIsIHVpOiB7IGl0ZW1TZWxlY3RvciB9IH0pO1xuICBjb25zdCBpdGVtRGF0YSA9IGdldEl0ZW0oaXRlbVNlbGVjdG9yLCBpbnNlcnRlZFN0YXRlKTtcbiAgaWYgKGl0ZW1EYXRhKSB7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB5aWVsZCByZXNvbHZlQ29tcG9uZW50RGF0YTIoaXRlbURhdGEsIFwiaW5zZXJ0XCIpO1xuICAgIGlmIChyZXNvbHZlZC5kaWRDaGFuZ2UpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogXCJyZXBsYWNlXCIsXG4gICAgICAgIGRlc3RpbmF0aW9uWm9uZTogaXRlbVNlbGVjdG9yLnpvbmUsXG4gICAgICAgIGRlc3RpbmF0aW9uSW5kZXg6IGl0ZW1TZWxlY3Rvci5pbmRleCxcbiAgICAgICAgZGF0YTogcmVzb2x2ZWQubm9kZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcblxuLy8gY29tcG9uZW50cy9EcmFnRHJvcENvbnRleHQvaW5kZXgudHN4XG5pbXBvcnQgeyB1c2VEZWJvdW5jZWRDYWxsYmFjayB9IGZyb20gXCJ1c2UtZGVib3VuY2VcIjtcbmltcG9ydCB7IGNyZWF0ZVN0b3JlIGFzIGNyZWF0ZVN0b3JlMyB9IGZyb20gXCJ6dXN0YW5kXCI7XG5cbi8vIGxpYi9nZXQtZGVlcC1kaXIudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5mdW5jdGlvbiBnZXREZWVwRGlyKGVsKSB7XG4gIGZ1bmN0aW9uIGZpbmREaXIobm9kZSkge1xuICAgIGlmICghbm9kZSkgcmV0dXJuIFwibHRyXCI7XG4gICAgY29uc3QgZCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiZGlyXCIpO1xuICAgIHJldHVybiBkIHx8IGZpbmREaXIobm9kZS5wYXJlbnRFbGVtZW50KTtcbiAgfVxuICByZXR1cm4gZWwgPyBmaW5kRGlyKGVsKSA6IFwibHRyXCI7XG59XG5cbi8vIGNvbXBvbmVudHMvRHJhZ0Ryb3BDb250ZXh0L2luZGV4LnRzeFxuaW1wb3J0IHsgZWZmZWN0IH0gZnJvbSBcIkBkbmQta2l0L3N0YXRlXCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MjEgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBERUJVRzMgPSBmYWxzZTtcbnZhciBkcmFnTGlzdGVuZXJDb250ZXh0ID0gY3JlYXRlQ29udGV4dDQoe1xuICBkcmFnTGlzdGVuZXJzOiB7fVxufSk7XG5mdW5jdGlvbiB1c2VEcmFnTGlzdGVuZXIodHlwZSwgZm4sIGRlcHMgPSBbXSkge1xuICBjb25zdCB7IHNldERyYWdMaXN0ZW5lcnMgfSA9IHVzZUNvbnRleHQ2KGRyYWdMaXN0ZW5lckNvbnRleHQpO1xuICB1c2VFZmZlY3QxMygoKSA9PiB7XG4gICAgaWYgKHNldERyYWdMaXN0ZW5lcnMpIHtcbiAgICAgIHNldERyYWdMaXN0ZW5lcnMoKG9sZCkgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgb2xkKSwge1xuICAgICAgICBbdHlwZV06IFsuLi5vbGRbdHlwZV0gfHwgW10sIGZuXVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgZGVwcyk7XG59XG52YXIgQVJFQV9DSEFOR0VfREVCT1VOQ0VfTVMgPSAxMDA7XG52YXIgdXNlVGVtcERpc2FibGVGYWxsYmFjayA9ICh0aW1lb3V0MykgPT4ge1xuICBjb25zdCBsYXN0RmFsbGJhY2tEaXNhYmxlID0gdXNlUmVmMyhudWxsKTtcbiAgcmV0dXJuIHVzZUNhbGxiYWNrOCgobWFuYWdlcikgPT4ge1xuICAgIGNvbGxpc2lvblN0b3JlLnNldFN0YXRlKHsgZmFsbGJhY2tFbmFibGVkOiBmYWxzZSB9KTtcbiAgICBjb25zdCBmYWxsYmFja0lkID0gZ2VuZXJhdGVJZCgpO1xuICAgIGxhc3RGYWxsYmFja0Rpc2FibGUuY3VycmVudCA9IGZhbGxiYWNrSWQ7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAobGFzdEZhbGxiYWNrRGlzYWJsZS5jdXJyZW50ID09PSBmYWxsYmFja0lkKSB7XG4gICAgICAgIGNvbGxpc2lvblN0b3JlLnNldFN0YXRlKHsgZmFsbGJhY2tFbmFibGVkOiB0cnVlIH0pO1xuICAgICAgICBtYW5hZ2VyLmNvbGxpc2lvbk9ic2VydmVyLmZvcmNlVXBkYXRlKHRydWUpO1xuICAgICAgfVxuICAgIH0sIHRpbWVvdXQzKTtcbiAgfSwgW10pO1xufTtcbnZhciBEcmFnRHJvcENvbnRleHRDbGllbnQgPSAoe1xuICBjaGlsZHJlbixcbiAgZGlzYWJsZUF1dG9TY3JvbGxcbn0pID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VBcHBTdG9yZSgocykgPT4gcy5kaXNwYXRjaCk7XG4gIGNvbnN0IGFwcFN0b3JlID0gdXNlQXBwU3RvcmVBcGkoKTtcbiAgY29uc3QgaWQgPSB1c2VTYWZlSWQoKTtcbiAgY29uc3QgZGVib3VuY2VkUGFyYW1zUmVmID0gdXNlUmVmMyhudWxsKTtcbiAgY29uc3QgdGVtcERpc2FibGVGYWxsYmFjayA9IHVzZVRlbXBEaXNhYmxlRmFsbGJhY2soMTAwKTtcbiAgY29uc3QgW3pvbmVTdG9yZV0gPSB1c2VTdGF0ZTExKFxuICAgICgpID0+IGNyZWF0ZVN0b3JlMygoKSA9PiAoe1xuICAgICAgem9uZURlcHRoSW5kZXg6IHt9LFxuICAgICAgbmV4dFpvbmVEZXB0aEluZGV4OiB7fSxcbiAgICAgIGFyZWFEZXB0aEluZGV4OiB7fSxcbiAgICAgIG5leHRBcmVhRGVwdGhJbmRleDoge30sXG4gICAgICBkcmFnZ2VkSXRlbTogbnVsbCxcbiAgICAgIHByZXZpZXdJbmRleDoge30sXG4gICAgICBlbmFibGVkSW5kZXg6IHt9LFxuICAgICAgaG92ZXJpbmdDb21wb25lbnQ6IG51bGxcbiAgICB9KSlcbiAgKTtcbiAgY29uc3QgZ2V0Q2hhbmdlZDIgPSB1c2VDYWxsYmFjazgoXG4gICAgKHBhcmFtcywgaWQyKSA9PiB7XG4gICAgICBjb25zdCB7IHpvbmVEZXB0aEluZGV4ID0ge30sIGFyZWFEZXB0aEluZGV4ID0ge30gfSA9IHpvbmVTdG9yZS5nZXRTdGF0ZSgpIHx8IHt9O1xuICAgICAgY29uc3Qgc3RhdGVIYXNab25lID0gT2JqZWN0LmtleXMoem9uZURlcHRoSW5kZXgpLmxlbmd0aCA+IDA7XG4gICAgICBjb25zdCBzdGF0ZUhhc0FyZWEgPSBPYmplY3Qua2V5cyhhcmVhRGVwdGhJbmRleCkubGVuZ3RoID4gMDtcbiAgICAgIGxldCB6b25lQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgbGV0IGFyZWFDaGFuZ2VkID0gZmFsc2U7XG4gICAgICBpZiAocGFyYW1zLnpvbmUgJiYgIXpvbmVEZXB0aEluZGV4W3BhcmFtcy56b25lXSkge1xuICAgICAgICB6b25lQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKCFwYXJhbXMuem9uZSAmJiBzdGF0ZUhhc1pvbmUpIHtcbiAgICAgICAgem9uZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmFtcy5hcmVhICYmICFhcmVhRGVwdGhJbmRleFtwYXJhbXMuYXJlYV0pIHtcbiAgICAgICAgYXJlYUNoYW5nZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICghcGFyYW1zLmFyZWEgJiYgc3RhdGVIYXNBcmVhKSB7XG4gICAgICAgIGFyZWFDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHpvbmVDaGFuZ2VkLCBhcmVhQ2hhbmdlZCB9O1xuICAgIH0sXG4gICAgW3pvbmVTdG9yZV1cbiAgKTtcbiAgY29uc3Qgc2V0RGVlcGVzdEFuZENvbGxpZGUgPSB1c2VDYWxsYmFjazgoXG4gICAgKHBhcmFtcywgbWFuYWdlcikgPT4ge1xuICAgICAgY29uc3QgeyB6b25lQ2hhbmdlZCwgYXJlYUNoYW5nZWQgfSA9IGdldENoYW5nZWQyKHBhcmFtcywgaWQpO1xuICAgICAgaWYgKCF6b25lQ2hhbmdlZCAmJiAhYXJlYUNoYW5nZWQpIHJldHVybjtcbiAgICAgIHpvbmVTdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgIHpvbmVEZXB0aEluZGV4OiBwYXJhbXMuem9uZSA/IHsgW3BhcmFtcy56b25lXTogdHJ1ZSB9IDoge30sXG4gICAgICAgIGFyZWFEZXB0aEluZGV4OiBwYXJhbXMuYXJlYSA/IHsgW3BhcmFtcy5hcmVhXTogdHJ1ZSB9IDoge31cbiAgICAgIH0pO1xuICAgICAgdGVtcERpc2FibGVGYWxsYmFjayhtYW5hZ2VyKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBtYW5hZ2VyLmNvbGxpc2lvbk9ic2VydmVyLmZvcmNlVXBkYXRlKHRydWUpO1xuICAgICAgfSwgNTApO1xuICAgICAgZGVib3VuY2VkUGFyYW1zUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH0sXG4gICAgW3pvbmVTdG9yZV1cbiAgKTtcbiAgY29uc3Qgc2V0RGVlcGVzdERiID0gdXNlRGVib3VuY2VkQ2FsbGJhY2soXG4gICAgc2V0RGVlcGVzdEFuZENvbGxpZGUsXG4gICAgQVJFQV9DSEFOR0VfREVCT1VOQ0VfTVNcbiAgKTtcbiAgY29uc3QgY2FuY2VsRGIgPSAoKSA9PiB7XG4gICAgc2V0RGVlcGVzdERiLmNhbmNlbCgpO1xuICAgIGRlYm91bmNlZFBhcmFtc1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgfTtcbiAgdXNlRWZmZWN0MTMoKCkgPT4ge1xuICAgIGlmIChERUJVRzMpIHtcbiAgICAgIHpvbmVTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAgIChzKSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXG4gICAgICAgICAgICBzLnByZXZpZXdJbmRleCxcbiAgICAgICAgICAgIChfYSA9IE9iamVjdC5lbnRyaWVzKHMuem9uZURlcHRoSW5kZXggfHwge30pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF0sXG4gICAgICAgICAgICAoX2IgPSBPYmplY3QuZW50cmllcyhzLmFyZWFEZXB0aEluZGV4IHx8IHt9KVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iWzBdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3QgW3BsdWdpbnNdID0gdXNlU3RhdGUxMSgoKSA9PiBbXG4gICAgLi4uZGlzYWJsZUF1dG9TY3JvbGwgPyBkZWZhdWx0UHJlc2V0LnBsdWdpbnMuZmlsdGVyKChwbHVnaW4pID0+IHBsdWdpbiAhPT0gQXV0b1Njcm9sbGVyKSA6IGRlZmF1bHRQcmVzZXQucGx1Z2lucyxcbiAgICBjcmVhdGVOZXN0ZWREcm9wcGFibGVQbHVnaW4oXG4gICAgICB7XG4gICAgICAgIG9uQ2hhbmdlOiAocGFyYW1zLCBtYW5hZ2VyKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSB6b25lU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBjb25zdCB7IHpvbmVDaGFuZ2VkLCBhcmVhQ2hhbmdlZCB9ID0gZ2V0Q2hhbmdlZDIocGFyYW1zLCBpZCk7XG4gICAgICAgICAgY29uc3QgaXNEcmFnZ2luZyA9IG1hbmFnZXIuZHJhZ09wZXJhdGlvbi5zdGF0dXMuZHJhZ2dpbmc7XG4gICAgICAgICAgaWYgKGFyZWFDaGFuZ2VkIHx8IHpvbmVDaGFuZ2VkKSB7XG4gICAgICAgICAgICBsZXQgbmV4dFpvbmVEZXB0aEluZGV4ID0ge307XG4gICAgICAgICAgICBsZXQgbmV4dEFyZWFEZXB0aEluZGV4ID0ge307XG4gICAgICAgICAgICBpZiAocGFyYW1zLnpvbmUpIHtcbiAgICAgICAgICAgICAgbmV4dFpvbmVEZXB0aEluZGV4ID0geyBbcGFyYW1zLnpvbmVdOiB0cnVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1zLmFyZWEpIHtcbiAgICAgICAgICAgICAgbmV4dEFyZWFEZXB0aEluZGV4ID0geyBbcGFyYW1zLmFyZWFdOiB0cnVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB6b25lU3RvcmUuc2V0U3RhdGUoeyBuZXh0Wm9uZURlcHRoSW5kZXgsIG5leHRBcmVhRGVwdGhJbmRleCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcmFtcy56b25lICE9PSBcInZvaWRcIiAmJiAoc3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLnpvbmVEZXB0aEluZGV4W1widm9pZFwiXSkpIHtcbiAgICAgICAgICAgIHNldERlZXBlc3RBbmRDb2xsaWRlKHBhcmFtcywgbWFuYWdlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcmVhQ2hhbmdlZCkge1xuICAgICAgICAgICAgaWYgKGlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGVib3VuY2VkUGFyYW1zID0gZGVib3VuY2VkUGFyYW1zUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgIGNvbnN0IGlzU2FtZVBhcmFtcyA9IGRlYm91bmNlZFBhcmFtcyAmJiBkZWJvdW5jZWRQYXJhbXMuYXJlYSA9PT0gcGFyYW1zLmFyZWEgJiYgZGVib3VuY2VkUGFyYW1zLnpvbmUgPT09IHBhcmFtcy56b25lO1xuICAgICAgICAgICAgICBpZiAoIWlzU2FtZVBhcmFtcykge1xuICAgICAgICAgICAgICAgIGNhbmNlbERiKCk7XG4gICAgICAgICAgICAgICAgc2V0RGVlcGVzdERiKHBhcmFtcywgbWFuYWdlcik7XG4gICAgICAgICAgICAgICAgZGVib3VuY2VkUGFyYW1zUmVmLmN1cnJlbnQgPSBwYXJhbXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbmNlbERiKCk7XG4gICAgICAgICAgICAgIHNldERlZXBlc3RBbmRDb2xsaWRlKHBhcmFtcywgbWFuYWdlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh6b25lQ2hhbmdlZCkge1xuICAgICAgICAgICAgc2V0RGVlcGVzdEFuZENvbGxpZGUocGFyYW1zLCBtYW5hZ2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FuY2VsRGIoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlkXG4gICAgKVxuICBdKTtcbiAgY29uc3Qgc2Vuc29ycyA9IHVzZVNlbnNvcnMoKTtcbiAgY29uc3QgW2RyYWdMaXN0ZW5lcnMsIHNldERyYWdMaXN0ZW5lcnNdID0gdXNlU3RhdGUxMSh7fSk7XG4gIGNvbnN0IGRyYWdNb2RlID0gdXNlUmVmMyhudWxsKTtcbiAgY29uc3QgaW5pdGlhbFNlbGVjdG9yID0gdXNlUmVmMyh2b2lkIDApO1xuICBjb25zdCBuZXh0Q29udGV4dFZhbHVlID0gdXNlTWVtbzYoXG4gICAgKCkgPT4gKHtcbiAgICAgIG1vZGU6IFwiZWRpdFwiLFxuICAgICAgYXJlYUlkOiBcInJvb3RcIixcbiAgICAgIGRlcHRoOiAwXG4gICAgfSksXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyMShcImRpdlwiLCB7IGlkLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIxKFxuICAgIGRyYWdMaXN0ZW5lckNvbnRleHQuUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgZHJhZ0xpc3RlbmVycyxcbiAgICAgICAgc2V0RHJhZ0xpc3RlbmVyc1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjEoXG4gICAgICAgIERyYWdEcm9wUHJvdmlkZXIyLFxuICAgICAgICB7XG4gICAgICAgICAgcGx1Z2lucyxcbiAgICAgICAgICBzZW5zb3JzLFxuICAgICAgICAgIG9uRHJhZ0VuZDogKGV2ZW50LCBtYW5hZ2VyKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgY29uc3QgZW50cnlFbCA9IChfYSA9IGdldEZyYW1lKCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcHVjay1lbnRyeV1cIik7XG4gICAgICAgICAgICBlbnRyeUVsID09IG51bGwgPyB2b2lkIDAgOiBlbnRyeUVsLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtcHVjay1kcmFnZ2luZ1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHsgc291cmNlLCB0YXJnZXQgfSA9IGV2ZW50Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgIHpvbmVTdG9yZS5zZXRTdGF0ZSh7IGRyYWdnZWRJdGVtOiBudWxsIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHpvbmUsIGluZGV4IH0gPSBzb3VyY2UuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJldmlld0luZGV4ID0ge30gfSA9IHpvbmVTdG9yZS5nZXRTdGF0ZSgpIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgdGhpc1ByZXZpZXcgPSAoKF9iID0gcHJldmlld0luZGV4W3pvbmVdKSA9PSBudWxsID8gdm9pZCAwIDogX2IucHJvcHMuaWQpID09PSBzb3VyY2UuaWQgPyBwcmV2aWV3SW5kZXhbem9uZV0gOiBudWxsO1xuICAgICAgICAgICAgY29uc3Qgb25BbmltYXRpb25FbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgICAgICAgICAgem9uZVN0b3JlLnNldFN0YXRlKHsgZHJhZ2dlZEl0ZW06IG51bGwgfSk7XG4gICAgICAgICAgICAgIGlmIChldmVudC5jYW5jZWxlZCB8fCAodGFyZ2V0ID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXQudHlwZSkgPT09IFwidm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgem9uZVN0b3JlLnNldFN0YXRlKHsgcHJldmlld0luZGV4OiB7fSB9KTtcbiAgICAgICAgICAgICAgICAoX2EyID0gZHJhZ0xpc3RlbmVycy5kcmFnZW5kKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvckVhY2goKGZuKSA9PiB7XG4gICAgICAgICAgICAgICAgICBmbihldmVudCwgbWFuYWdlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRVaVwiLFxuICAgICAgICAgICAgICAgICAgdWk6IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodGhpc1ByZXZpZXcpIHtcbiAgICAgICAgICAgICAgICB6b25lU3RvcmUuc2V0U3RhdGUoeyBwcmV2aWV3SW5kZXg6IHt9IH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzUHJldmlldy50eXBlID09PSBcImluc2VydFwiKSB7XG4gICAgICAgICAgICAgICAgICBpbnNlcnRDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXNQcmV2aWV3LmNvbXBvbmVudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNQcmV2aWV3LnpvbmUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNQcmV2aWV3LmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBhcHBTdG9yZS5nZXRTdGF0ZSgpXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbFNlbGVjdG9yLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUluZGV4OiBpbml0aWFsU2VsZWN0b3IuY3VycmVudC5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlWm9uZTogaW5pdGlhbFNlbGVjdG9yLmN1cnJlbnQuem9uZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25JbmRleDogdGhpc1ByZXZpZXcuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uWm9uZTogdGhpc1ByZXZpZXcuem9uZSxcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkSGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzZXRVaVwiLFxuICAgICAgICAgICAgICAgIHVpOiB7XG4gICAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6IHsgaW5kZXgsIHpvbmUgfSxcbiAgICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZWNvcmRIaXN0b3J5OiB0cnVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAoX2IyID0gZHJhZ0xpc3RlbmVycy5kcmFnZW5kKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmZvckVhY2goKGZuKSA9PiB7XG4gICAgICAgICAgICAgICAgZm4oZXZlbnQsIG1hbmFnZXIpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgZGlzcG9zZTtcbiAgICAgICAgICAgIGRpc3Bvc2UgPSBlZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoc291cmNlLnN0YXR1cyA9PT0gXCJpZGxlXCIpIHtcbiAgICAgICAgICAgICAgICBvbkFuaW1hdGlvbkVuZCgpO1xuICAgICAgICAgICAgICAgIGRpc3Bvc2UgPT0gbnVsbCA/IHZvaWQgMCA6IGRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkRyYWdPdmVyOiAoZXZlbnQsIG1hbmFnZXIpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBkcmFnZ2VkSXRlbSA9IChfYSA9IHpvbmVTdG9yZS5nZXRTdGF0ZSgpKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZHJhZ2dlZEl0ZW07XG4gICAgICAgICAgICBpZiAoIWRyYWdnZWRJdGVtKSByZXR1cm47XG4gICAgICAgICAgICBjYW5jZWxEYigpO1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2UsIHRhcmdldCB9ID0gZXZlbnQub3BlcmF0aW9uO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQgfHwgIXNvdXJjZSB8fCB0YXJnZXQudHlwZSA9PT0gXCJ2b2lkXCIpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IFtzb3VyY2VJZF0gPSBzb3VyY2UuaWQuc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgY29uc3QgW3RhcmdldElkXSA9IHRhcmdldC5pZC5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VEYXRhID0gc291cmNlLmRhdGE7XG4gICAgICAgICAgICBsZXQgc291cmNlWm9uZSA9IHNvdXJjZURhdGEuem9uZTtcbiAgICAgICAgICAgIGxldCBzb3VyY2VJbmRleCA9IHNvdXJjZURhdGEuaW5kZXg7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0Wm9uZSA9IFwiXCI7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0SW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKHRhcmdldC50eXBlID09PSBcImNvbXBvbmVudFwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSB0YXJnZXQuZGF0YTtcbiAgICAgICAgICAgICAgdGFyZ2V0Wm9uZSA9IHRhcmdldERhdGEuem9uZTtcbiAgICAgICAgICAgICAgdGFyZ2V0SW5kZXggPSB0YXJnZXREYXRhLmluZGV4O1xuICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb25EYXRhID0gKF9iID0gbWFuYWdlci5jb2xsaXNpb25PYnNlcnZlci5jb2xsaXNpb25zWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZGF0YTtcbiAgICAgICAgICAgICAgY29uc3QgZGlyID0gZ2V0RGVlcERpcih0YXJnZXQuZWxlbWVudCk7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvblBvc2l0aW9uID0gKGNvbGxpc2lvbkRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxpc2lvbkRhdGEuZGlyZWN0aW9uKSA9PT0gXCJ1cFwiIHx8IGRpciA9PT0gXCJsdHJcIiAmJiAoY29sbGlzaW9uRGF0YSA9PSBudWxsID8gdm9pZCAwIDogY29sbGlzaW9uRGF0YS5kaXJlY3Rpb24pID09PSBcImxlZnRcIiB8fCBkaXIgPT09IFwicnRsXCIgJiYgKGNvbGxpc2lvbkRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxpc2lvbkRhdGEuZGlyZWN0aW9uKSA9PT0gXCJyaWdodFwiID8gXCJiZWZvcmVcIiA6IFwiYWZ0ZXJcIjtcbiAgICAgICAgICAgICAgaWYgKHRhcmdldEluZGV4ID49IHNvdXJjZUluZGV4ICYmIHNvdXJjZVpvbmUgPT09IHRhcmdldFpvbmUpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRJbmRleCA9IHRhcmdldEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uUG9zaXRpb24gPT09IFwiYWZ0ZXJcIikge1xuICAgICAgICAgICAgICAgIHRhcmdldEluZGV4ID0gdGFyZ2V0SW5kZXggKyAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRab25lID0gdGFyZ2V0LmlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSAoKF9jID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZS5pbmRleGVzLm5vZGVzW3RhcmdldC5pZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYy5wYXRoKSB8fCBbXTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRJZCA9PT0gc291cmNlSWQgfHwgcGF0aC5maW5kKChwYXRoMikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBbcGF0aElkXSA9IHBhdGgyLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhdGhJZCA9PT0gc291cmNlSWQ7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ01vZGUuY3VycmVudCA9PT0gXCJuZXdcIikge1xuICAgICAgICAgICAgICB6b25lU3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHByZXZpZXdJbmRleDoge1xuICAgICAgICAgICAgICAgICAgW3RhcmdldFpvbmVdOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IHNvdXJjZURhdGEuY29tcG9uZW50VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbnNlcnRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRhcmdldEluZGV4LFxuICAgICAgICAgICAgICAgICAgICB6b25lOiB0YXJnZXRab25lLFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBzb3VyY2UuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogc291cmNlLmlkLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIWluaXRpYWxTZWxlY3Rvci5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFNlbGVjdG9yLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgICB6b25lOiBzb3VyY2VEYXRhLnpvbmUsXG4gICAgICAgICAgICAgICAgICBpbmRleDogc291cmNlRGF0YS5pbmRleFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oXG4gICAgICAgICAgICAgICAgaW5pdGlhbFNlbGVjdG9yLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgYXBwU3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHpvbmVTdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICBwcmV2aWV3SW5kZXg6IHtcbiAgICAgICAgICAgICAgICAgICAgW3RhcmdldFpvbmVdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZTogc291cmNlRGF0YS5jb21wb25lbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibW92ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0YXJnZXRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICB6b25lOiB0YXJnZXRab25lLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiBpdGVtLnByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHNvdXJjZS5lbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9kID0gZHJhZ0xpc3RlbmVycy5kcmFnb3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmZvckVhY2goKGZuKSA9PiB7XG4gICAgICAgICAgICAgIGZuKGV2ZW50LCBtYW5hZ2VyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25EcmFnU3RhcnQ6IChldmVudCwgbWFuYWdlcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2UgfSA9IGV2ZW50Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgJiYgc291cmNlLnR5cGUgIT09IFwidm9pZFwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNvdXJjZURhdGEgPSBzb3VyY2UuZGF0YTtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgem9uZTogc291cmNlRGF0YS56b25lLFxuICAgICAgICAgICAgICAgICAgaW5kZXg6IHNvdXJjZURhdGEuaW5kZXhcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFwcFN0b3JlLmdldFN0YXRlKCkuc3RhdGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB6b25lU3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgcHJldmlld0luZGV4OiB7XG4gICAgICAgICAgICAgICAgICAgIFtzb3VyY2VEYXRhLnpvbmVdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZTogc291cmNlRGF0YS5jb21wb25lbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibW92ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBzb3VyY2VEYXRhLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgIHpvbmU6IHNvdXJjZURhdGEuem9uZSxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wczogaXRlbS5wcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBzb3VyY2UuZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYSA9IGRyYWdMaXN0ZW5lcnMuZHJhZ3N0YXJ0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoZm4pID0+IHtcbiAgICAgICAgICAgICAgZm4oZXZlbnQsIG1hbmFnZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkJlZm9yZURyYWdTdGFydDogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICBjb25zdCBpc05ld0NvbXBvbmVudCA9ICgoX2EgPSBldmVudC5vcGVyYXRpb24uc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHlwZSkgPT09IFwiZHJhd2VyXCI7XG4gICAgICAgICAgICBkcmFnTW9kZS5jdXJyZW50ID0gaXNOZXdDb21wb25lbnQgPyBcIm5ld1wiIDogXCJleGlzdGluZ1wiO1xuICAgICAgICAgICAgaW5pdGlhbFNlbGVjdG9yLmN1cnJlbnQgPSB2b2lkIDA7XG4gICAgICAgICAgICB6b25lU3RvcmUuc2V0U3RhdGUoeyBkcmFnZ2VkSXRlbTogZXZlbnQub3BlcmF0aW9uLnNvdXJjZSB9KTtcbiAgICAgICAgICAgIGlmICgoKF9iID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZEl0ZW0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5wcm9wcy5pZCkgIT09ICgoX2MgPSBldmVudC5vcGVyYXRpb24uc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2MuaWQpKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNldFVpXCIsXG4gICAgICAgICAgICAgICAgdWk6IHtcbiAgICAgICAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmc6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlY29yZEhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0VWlcIixcbiAgICAgICAgICAgICAgICB1aToge1xuICAgICAgICAgICAgICAgICAgaXNEcmFnZ2luZzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVjb3JkSGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbnRyeUVsID0gKF9kID0gZ2V0RnJhbWUoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1wdWNrLWVudHJ5XVwiKTtcbiAgICAgICAgICAgIGVudHJ5RWwgPT0gbnVsbCA/IHZvaWQgMCA6IGVudHJ5RWwuc2V0QXR0cmlidXRlKFwiZGF0YS1wdWNrLWRyYWdnaW5nXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjEoWm9uZVN0b3JlUHJvdmlkZXIsIHsgc3RvcmU6IHpvbmVTdG9yZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMShEcm9wWm9uZVByb3ZpZGVyLCB7IHZhbHVlOiBuZXh0Q29udGV4dFZhbHVlLCBjaGlsZHJlbiB9KSB9KVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApIH0pO1xufTtcbnZhciBEcmFnRHJvcENvbnRleHQgPSAoe1xuICBjaGlsZHJlbixcbiAgZGlzYWJsZUF1dG9TY3JvbGxcbn0pID0+IHtcbiAgY29uc3Qgc3RhdHVzID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuc3RhdHVzKTtcbiAgaWYgKHN0YXR1cyA9PT0gXCJMT0FESU5HXCIpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyMShEcmFnRHJvcENvbnRleHRDbGllbnQsIHsgZGlzYWJsZUF1dG9TY3JvbGwsIGNoaWxkcmVuIH0pO1xufTtcblxuLy8gY29tcG9uZW50cy9EcmF3ZXIvaW5kZXgudHN4XG5pbXBvcnQgeyB1c2VEcmFnZ2FibGUsIHVzZURyb3BwYWJsZSB9IGZyb20gXCJAZG5kLWtpdC9yZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDIyLCBqc3hzIGFzIGpzeHMxMCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTE3ID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiRHJhd2VyXCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDEyKTtcbnZhciBnZXRDbGFzc05hbWVJdGVtMiA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIkRyYXdlckl0ZW1cIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTIpO1xudmFyIERyYXdlckl0ZW1Jbm5lciA9ICh7XG4gIGNoaWxkcmVuLFxuICBuYW1lLFxuICBsYWJlbCxcbiAgZHJhZ1JlZixcbiAgaXNEcmFnRGlzYWJsZWRcbn0pID0+IHtcbiAgY29uc3QgQ3VzdG9tSW5uZXIgPSB1c2VNZW1vNyhcbiAgICAoKSA9PiBjaGlsZHJlbiB8fCAoKHsgY2hpbGRyZW46IGNoaWxkcmVuMiB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4MjIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZUl0ZW0yKFwiZGVmYXVsdFwiKSwgY2hpbGRyZW46IGNoaWxkcmVuMiB9KSksXG4gICAgW2NoaWxkcmVuXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIyKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVJdGVtMih7IGRpc2FibGVkOiBpc0RyYWdEaXNhYmxlZCB9KSxcbiAgICAgIHJlZjogZHJhZ1JlZixcbiAgICAgIG9uTW91c2VEb3duOiAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICAgICAgXCJkYXRhLXRlc3RpZFwiOiBkcmFnUmVmID8gYGRyYXdlci1pdGVtOiR7bmFtZX1gIDogXCJcIixcbiAgICAgIFwiZGF0YS1wdWNrLWRyYXdlci1pdGVtXCI6IHRydWUsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIyKEN1c3RvbUlubmVyLCB7IG5hbWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZUl0ZW0yKFwiZHJhZ2dhYmxlV3JhcHBlclwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTAoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZUl0ZW0yKFwiZHJhZ2dhYmxlXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZUl0ZW0yKFwibmFtZVwiKSwgY2hpbGRyZW46IGxhYmVsICE9IG51bGwgPyBsYWJlbCA6IG5hbWUgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyMihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lSXRlbTIoXCJpY29uXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIyKERyYWdJY29uLCB7fSkgfSlcbiAgICAgIF0gfSkgfSkgfSlcbiAgICB9XG4gICk7XG59O1xudmFyIERyYXdlckl0ZW1EcmFnZ2FibGUgPSAoe1xuICBjaGlsZHJlbixcbiAgbmFtZSxcbiAgbGFiZWwsXG4gIGlkLFxuICBpc0RyYWdEaXNhYmxlZFxufSkgPT4ge1xuICBjb25zdCB7IHJlZiB9ID0gdXNlRHJhZ2dhYmxlKHtcbiAgICBpZCxcbiAgICBkYXRhOiB7IGNvbXBvbmVudFR5cGU6IG5hbWUgfSxcbiAgICBkaXNhYmxlZDogaXNEcmFnRGlzYWJsZWQsXG4gICAgdHlwZTogXCJkcmF3ZXJcIlxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTAoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTE3KFwiZHJhZ2dhYmxlXCIpLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyMihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTcoXCJkcmFnZ2FibGVCZ1wiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMihEcmF3ZXJJdGVtSW5uZXIsIHsgbmFtZSwgbGFiZWwsIGNoaWxkcmVuIH0pIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyMihcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMTcoXCJkcmFnZ2FibGVGZ1wiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMihcbiAgICAgIERyYXdlckl0ZW1Jbm5lcixcbiAgICAgIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIGRyYWdSZWY6IHJlZixcbiAgICAgICAgaXNEcmFnRGlzYWJsZWQsXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICB9XG4gICAgKSB9KVxuICBdIH0pO1xufTtcbnZhciBEcmF3ZXJJdGVtID0gKHtcbiAgbmFtZSxcbiAgY2hpbGRyZW4sXG4gIGlkLFxuICBsYWJlbCxcbiAgaW5kZXgsXG4gIGlzRHJhZ0Rpc2FibGVkXG59KSA9PiB7XG4gIGNvbnN0IHJlc29sdmVkSWQgPSBpZCB8fCBuYW1lO1xuICBjb25zdCBbZHluYW1pY0lkLCBzZXREeW5hbWljSWRdID0gdXNlU3RhdGUxMihnZW5lcmF0ZUlkKHJlc29sdmVkSWQpKTtcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIldhcm5pbmc6IFRoZSBgaW5kZXhgIHByb3Agb24gRHJhd2VyLkl0ZW0gaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIHJlcXVpcmVkLlwiXG4gICAgKTtcbiAgfVxuICB1c2VEcmFnTGlzdGVuZXIoXG4gICAgXCJkcmFnZW5kXCIsXG4gICAgKCkgPT4ge1xuICAgICAgc2V0RHluYW1pY0lkKGdlbmVyYXRlSWQocmVzb2x2ZWRJZCkpO1xuICAgIH0sXG4gICAgW3Jlc29sdmVkSWRdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjIoXCJkaXZcIiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIyKFxuICAgIERyYXdlckl0ZW1EcmFnZ2FibGUsXG4gICAge1xuICAgICAgbmFtZSxcbiAgICAgIGxhYmVsLFxuICAgICAgaWQ6IGR5bmFtaWNJZCxcbiAgICAgIGlzRHJhZ0Rpc2FibGVkLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICkgfSwgZHluYW1pY0lkKTtcbn07XG52YXIgRHJhd2VyID0gKHtcbiAgY2hpbGRyZW4sXG4gIGRyb3BwYWJsZUlkLFxuICBkaXJlY3Rpb25cbn0pID0+IHtcbiAgaWYgKGRyb3BwYWJsZUlkKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiV2FybmluZzogVGhlIGBkcm9wcGFibGVJZGAgcHJvcCBvbiBEcmF3ZXIgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIHJlcXVpcmVkLlwiXG4gICAgKTtcbiAgfVxuICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiV2FybmluZzogVGhlIGBkaXJlY3Rpb25gIHByb3Agb24gRHJhd2VyIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciByZXF1aXJlZCB0byBhY2hpZXZlIG11bHRpLWRpcmVjdGlvbmFsIGRyYWdnaW5nLlwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBpZCA9IHVzZVNhZmVJZCgpO1xuICBjb25zdCB7IHJlZiB9ID0gdXNlRHJvcHBhYmxlKHtcbiAgICBpZCxcbiAgICB0eXBlOiBcInZvaWRcIixcbiAgICBjb2xsaXNpb25Qcmlvcml0eTogMFxuICAgIC8vIE5ldmVyIGNvbGxpZGUgd2l0aCB0aGlzLCBidXQgd2UgdXNlIGl0IHNvIE5lc3RlZERyb3BwYWJsZVBsdWdpbiByZXNwZWN0cyB0aGUgRHJhd2VyXG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIyKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUxNygpLFxuICAgICAgcmVmLFxuICAgICAgXCJkYXRhLXB1Y2stZG5kXCI6IGlkLFxuICAgICAgXCJkYXRhLXB1Y2stZHJhd2VyXCI6IHRydWUsXG4gICAgICBcImRhdGEtcHVjay1kbmQtdm9pZFwiOiB0cnVlLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59O1xuRHJhd2VyLkl0ZW0gPSBEcmF3ZXJJdGVtO1xuXG4vLyBjb21wb25lbnRzL0Ryb3Bab25lL2xpYi91c2UtbWluLWVtcHR5LWhlaWdodC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QxNCwgdXNlUmVmIGFzIHVzZVJlZjQsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMTMgfSBmcm9tIFwicmVhY3RcIjtcbnZhciBnZXROdW1JdGVtcyA9IChhcHBTdG9yZSwgem9uZUNvbXBvdW5kKSA9PiBhcHBTdG9yZS5nZXRTdGF0ZSgpLnN0YXRlLmluZGV4ZXMuem9uZXNbem9uZUNvbXBvdW5kXS5jb250ZW50SWRzLmxlbmd0aDtcbnZhciB1c2VNaW5FbXB0eUhlaWdodCA9ICh7XG4gIHpvbmVDb21wb3VuZCxcbiAgdXNlck1pbkVtcHR5SGVpZ2h0LFxuICByZWZcbn0pID0+IHtcbiAgY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZUFwaSgpO1xuICBjb25zdCBbcHJldkhlaWdodCwgc2V0UHJldkhlaWdodF0gPSB1c2VTdGF0ZTEzKDApO1xuICBjb25zdCBbaXNBbmltYXRpbmcsIHNldElzQW5pbWF0aW5nXSA9IHVzZVN0YXRlMTMoZmFsc2UpO1xuICBjb25zdCB7IGRyYWdnZWRJdGVtLCBpc1pvbmUgfSA9IHVzZUNvbnRleHRTdG9yZShab25lU3RvcmVDb250ZXh0LCAocykgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRyYWdnZWRJdGVtOiAoKF9hID0gcy5kcmFnZ2VkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRhdGEuem9uZSkgPT09IHpvbmVDb21wb3VuZCA/IHMuZHJhZ2dlZEl0ZW0gOiBudWxsLFxuICAgICAgaXNab25lOiAoKF9iID0gcy5kcmFnZ2VkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmRhdGEuem9uZSkgPT09IHpvbmVDb21wb3VuZFxuICAgIH07XG4gIH0pO1xuICBjb25zdCBudW1JdGVtcyA9IHVzZVJlZjQoMCk7XG4gIGNvbnN0IG9uRHJhZ0ZpbmlzaGVkID0gdXNlT25EcmFnRmluaXNoZWQoXG4gICAgKGZpbmlzaGVkKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgY29uc3QgbmV3TnVtSXRlbXMgPSBnZXROdW1JdGVtcyhhcHBTdG9yZSwgem9uZUNvbXBvdW5kKTtcbiAgICAgICAgc2V0UHJldkhlaWdodCgwKTtcbiAgICAgICAgaWYgKG5ld051bUl0ZW1zIHx8IG51bUl0ZW1zLmN1cnJlbnQgPT09IDApIHtcbiAgICAgICAgICBzZXRJc0FuaW1hdGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IGFwcFN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRJdGVtO1xuICAgICAgICBjb25zdCB6b25lcyA9IGFwcFN0b3JlLmdldFN0YXRlKCkuc3RhdGUuaW5kZXhlcy56b25lcztcbiAgICAgICAgY29uc3Qgbm9kZXMgPSBhcHBTdG9yZS5nZXRTdGF0ZSgpLm5vZGVzO1xuICAgICAgICAoX2EgPSBub2Rlcy5ub2Rlc1tzZWxlY3RlZEl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IHNlbGVjdGVkSXRlbS5wcm9wcy5pZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5tZXRob2RzLmhpZGVPdmVybGF5KCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHZhciBfYTI7XG4gICAgICAgICAgY29uc3QgY29udGVudElkcyA9ICgoX2EyID0gem9uZXNbem9uZUNvbXBvdW5kXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jb250ZW50SWRzKSB8fCBbXTtcbiAgICAgICAgICBjb250ZW50SWRzLmZvckVhY2goKGNvbnRlbnRJZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzLm5vZGVzW2NvbnRlbnRJZF07XG4gICAgICAgICAgICBub2RlID09IG51bGwgPyB2b2lkIDAgOiBub2RlLm1ldGhvZHMuc3luYygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2EzLCBfYjtcbiAgICAgICAgICAgICAgKF9hMyA9IG5vZGVzLm5vZGVzW3NlbGVjdGVkSXRlbS5wcm9wcy5pZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYTMubWV0aG9kcy5zeW5jKCk7XG4gICAgICAgICAgICAgIChfYiA9IG5vZGVzLm5vZGVzW3NlbGVjdGVkSXRlbS5wcm9wcy5pZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5tZXRob2RzLnNob3dPdmVybGF5KCk7XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRJc0FuaW1hdGluZyhmYWxzZSk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbYXBwU3RvcmUsIHByZXZIZWlnaHQsIHpvbmVDb21wb3VuZF1cbiAgKTtcbiAgdXNlRWZmZWN0MTQoKCkgPT4ge1xuICAgIGlmIChkcmFnZ2VkSXRlbSAmJiByZWYuY3VycmVudCkge1xuICAgICAgaWYgKGlzWm9uZSkge1xuICAgICAgICBjb25zdCByZWN0ID0gcmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG51bUl0ZW1zLmN1cnJlbnQgPSBnZXROdW1JdGVtcyhhcHBTdG9yZSwgem9uZUNvbXBvdW5kKTtcbiAgICAgICAgc2V0UHJldkhlaWdodChyZWN0LmhlaWdodCk7XG4gICAgICAgIHNldElzQW5pbWF0aW5nKHRydWUpO1xuICAgICAgICByZXR1cm4gb25EcmFnRmluaXNoZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtyZWYuY3VycmVudCwgZHJhZ2dlZEl0ZW0sIG9uRHJhZ0ZpbmlzaGVkXSk7XG4gIHJldHVybiBbcHJldkhlaWdodCB8fCB1c2VyTWluRW1wdHlIZWlnaHQsIGlzQW5pbWF0aW5nXTtcbn07XG5cbi8vIGxpYi9hc3NpZ24tcmVmcy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmZ1bmN0aW9uIGFzc2lnblJlZihyZWYsIG5vZGUpIHtcbiAgaWYgKHR5cGVvZiByZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJlZihub2RlKTtcbiAgfSBlbHNlIGlmIChyZWYgJiYgdHlwZW9mIHJlZiA9PT0gXCJvYmplY3RcIiAmJiBcImN1cnJlbnRcIiBpbiByZWYpIHtcbiAgICByZWYuY3VycmVudCA9IG5vZGU7XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2lnblJlZnMocmVmcywgbm9kZSkge1xuICByZWZzLmZvckVhY2goKHJlZikgPT4ge1xuICAgIGFzc2lnblJlZihyZWYsIG5vZGUpO1xuICB9KTtcbn1cblxuLy8gY29tcG9uZW50cy9Ecm9wWm9uZS9saWIvdXNlLWNvbnRlbnQtd2l0aC1wcmV2aWV3LnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0NywgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDE1LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTE0IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kbmQvdXNlLXJlbmRlcmVkLWNhbGxiYWNrLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlRHJhZ0Ryb3BNYW5hZ2VyIH0gZnJvbSBcIkBkbmQta2l0L3JlYWN0XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazkgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVJlbmRlcmVkQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpIHtcbiAgY29uc3QgbWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcigpO1xuICByZXR1cm4gdXNlQ2FsbGJhY2s5KFxuICAgICguLi5hcmdzKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB5aWVsZCBtYW5hZ2VyID09IG51bGwgPyB2b2lkIDAgOiBtYW5hZ2VyLnJlbmRlcmVyLnJlbmRlcmluZztcbiAgICAgIHJldHVybiBjYWxsYmFjayguLi5hcmdzKTtcbiAgICB9KSxcbiAgICBbLi4uZGVwcywgbWFuYWdlcl1cbiAgKTtcbn1cblxuLy8gY29tcG9uZW50cy9Ecm9wWm9uZS9saWIvdXNlLWNvbnRlbnQtd2l0aC1wcmV2aWV3LnRzXG52YXIgdXNlQ29udGVudElkc1dpdGhQcmV2aWV3ID0gKGNvbnRlbnRJZHMsIHpvbmVDb21wb3VuZCkgPT4ge1xuICBjb25zdCB6b25lU3RvcmUgPSB1c2VDb250ZXh0Nyhab25lU3RvcmVDb250ZXh0KTtcbiAgY29uc3QgcHJldmlldyA9IHVzZUNvbnRleHRTdG9yZShcbiAgICBab25lU3RvcmVDb250ZXh0LFxuICAgIChzKSA9PiBzLnByZXZpZXdJbmRleFt6b25lQ29tcG91bmRdXG4gICk7XG4gIGNvbnN0IGlzRHJhZ2dpbmcgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5zdGF0ZS51aS5pc0RyYWdnaW5nKTtcbiAgY29uc3QgW2NvbnRlbnRJZHNXaXRoUHJldmlldywgc2V0Q29udGVudElkc1dpdGhQcmV2aWV3XSA9IHVzZVN0YXRlMTQoY29udGVudElkcyk7XG4gIGNvbnN0IFtsb2NhbFByZXZpZXcsIHNldExvY2FsUHJldmlld10gPSB1c2VTdGF0ZTE0KFxuICAgIHByZXZpZXdcbiAgKTtcbiAgY29uc3QgdXBkYXRlQ29udGVudCA9IHVzZVJlbmRlcmVkQ2FsbGJhY2soXG4gICAgKGNvbnRlbnRJZHMyLCBwcmV2aWV3MiwgaXNEcmFnZ2luZzIsIGRyYWdnZWRJdGVtSWQsIHByZXZpZXdFeGlzdHMpID0+IHtcbiAgICAgIGlmIChpc0RyYWdnaW5nMiAmJiAhcHJldmlld0V4aXN0cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocHJldmlldzIpIHtcbiAgICAgICAgaWYgKHByZXZpZXcyLnR5cGUgPT09IFwiaW5zZXJ0XCIpIHtcbiAgICAgICAgICBzZXRDb250ZW50SWRzV2l0aFByZXZpZXcoXG4gICAgICAgICAgICBpbnNlcnQoXG4gICAgICAgICAgICAgIGNvbnRlbnRJZHMyLmZpbHRlcigoaWQpID0+IGlkICE9PSBwcmV2aWV3Mi5wcm9wcy5pZCksXG4gICAgICAgICAgICAgIHByZXZpZXcyLmluZGV4LFxuICAgICAgICAgICAgICBwcmV2aWV3Mi5wcm9wcy5pZFxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0Q29udGVudElkc1dpdGhQcmV2aWV3KFxuICAgICAgICAgICAgaW5zZXJ0KFxuICAgICAgICAgICAgICBjb250ZW50SWRzMi5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gcHJldmlldzIucHJvcHMuaWQpLFxuICAgICAgICAgICAgICBwcmV2aWV3Mi5pbmRleCxcbiAgICAgICAgICAgICAgcHJldmlldzIucHJvcHMuaWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRDb250ZW50SWRzV2l0aFByZXZpZXcoXG4gICAgICAgICAgcHJldmlld0V4aXN0cyA/IGNvbnRlbnRJZHMyLmZpbHRlcigoaWQpID0+IGlkICE9PSBkcmFnZ2VkSXRlbUlkKSA6IGNvbnRlbnRJZHMyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBzZXRMb2NhbFByZXZpZXcocHJldmlldzIpO1xuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgdXNlRWZmZWN0MTUoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBzID0gem9uZVN0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgZHJhZ2dlZEl0ZW1JZCA9IChfYSA9IHMuZHJhZ2dlZEl0ZW0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5pZDtcbiAgICBjb25zdCBwcmV2aWV3RXhpc3RzID0gT2JqZWN0LmtleXMocy5wcmV2aWV3SW5kZXggfHwge30pLmxlbmd0aCA+IDA7XG4gICAgdXBkYXRlQ29udGVudChcbiAgICAgIGNvbnRlbnRJZHMsXG4gICAgICBwcmV2aWV3LFxuICAgICAgaXNEcmFnZ2luZyxcbiAgICAgIGRyYWdnZWRJdGVtSWQsXG4gICAgICBwcmV2aWV3RXhpc3RzXG4gICAgKTtcbiAgfSwgW2NvbnRlbnRJZHMsIHByZXZpZXcsIGlzRHJhZ2dpbmddKTtcbiAgcmV0dXJuIFtjb250ZW50SWRzV2l0aFByZXZpZXcsIGxvY2FsUHJldmlld107XG59O1xuXG4vLyBjb21wb25lbnRzL0Ryb3Bab25lL2xpYi91c2UtZHJhZy1heGlzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2sxMCwgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDE2LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTE1IH0gZnJvbSBcInJlYWN0XCI7XG52YXIgR1JJRF9EUkFHX0FYSVMgPSBcImR5bmFtaWNcIjtcbnZhciBGTEVYX1JPV19EUkFHX0FYSVMgPSBcInhcIjtcbnZhciBERUZBVUxUX0RSQUdfQVhJUyA9IFwieVwiO1xudmFyIHVzZURyYWdBeGlzID0gKHJlZiwgY29sbGlzaW9uQXhpcykgPT4ge1xuICBjb25zdCBzdGF0dXMgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5zdGF0dXMpO1xuICBjb25zdCBbZHJhZ0F4aXMsIHNldERyYWdBeGlzXSA9IHVzZVN0YXRlMTUoXG4gICAgY29sbGlzaW9uQXhpcyB8fCBERUZBVUxUX0RSQUdfQVhJU1xuICApO1xuICBjb25zdCBjYWxjdWxhdGVEcmFnQXhpcyA9IHVzZUNhbGxiYWNrMTAoKCkgPT4ge1xuICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHJlZi5jdXJyZW50KTtcbiAgICAgIGlmIChjb21wdXRlZFN0eWxlLmRpc3BsYXkgPT09IFwiZ3JpZFwiKSB7XG4gICAgICAgIHNldERyYWdBeGlzKEdSSURfRFJBR19BWElTKTtcbiAgICAgIH0gZWxzZSBpZiAoY29tcHV0ZWRTdHlsZS5kaXNwbGF5ID09PSBcImZsZXhcIiAmJiBjb21wdXRlZFN0eWxlLmZsZXhEaXJlY3Rpb24gPT09IFwicm93XCIpIHtcbiAgICAgICAgc2V0RHJhZ0F4aXMoRkxFWF9ST1dfRFJBR19BWElTKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldERyYWdBeGlzKERFRkFVTFRfRFJBR19BWElTKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtyZWYuY3VycmVudF0pO1xuICB1c2VFZmZlY3QxNigoKSA9PiB7XG4gICAgY29uc3Qgb25WaWV3cG9ydENoYW5nZSA9ICgpID0+IHtcbiAgICAgIGNhbGN1bGF0ZURyYWdBeGlzKCk7XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInZpZXdwb3J0Y2hhbmdlXCIsIG9uVmlld3BvcnRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpZXdwb3J0Y2hhbmdlXCIsIG9uVmlld3BvcnRDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0MTYoY2FsY3VsYXRlRHJhZ0F4aXMsIFtzdGF0dXMsIGNvbGxpc2lvbkF4aXNdKTtcbiAgcmV0dXJuIFtkcmFnQXhpcywgY2FsY3VsYXRlRHJhZ0F4aXNdO1xufTtcblxuLy8gY29tcG9uZW50cy9Ecm9wWm9uZS9pbmRleC50c3hcbmltcG9ydCB7IHVzZVNoYWxsb3cgYXMgdXNlU2hhbGxvdzQgfSBmcm9tIFwienVzdGFuZC9yZWFjdC9zaGFsbG93XCI7XG5cbi8vIGNvbXBvbmVudHMvU2xvdFJlbmRlci9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyB1c2VTaGFsbG93IGFzIHVzZVNoYWxsb3czIH0gZnJvbSBcInp1c3RhbmQvcmVhY3Qvc2hhbGxvd1wiO1xuaW1wb3J0IHsganN4IGFzIGpzeDIzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQ29udGV4dFNsb3RSZW5kZXIgPSAoe1xuICBjb21wb25lbnRJZCxcbiAgem9uZVxufSkgPT4ge1xuICBjb25zdCBjb25maWcgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5jb25maWcpO1xuICBjb25zdCBtZXRhZGF0YSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLm1ldGFkYXRhKTtcbiAgY29uc3Qgc2xvdENvbnRlbnQgPSB1c2VBcHBTdG9yZShcbiAgICB1c2VTaGFsbG93MygocykgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIGNvbnN0IGluZGV4ZXMgPSBzLnN0YXRlLmluZGV4ZXM7XG4gICAgICBjb25zdCBjb250ZW50SWRzID0gKF9iID0gKF9hID0gaW5kZXhlcy56b25lc1tgJHtjb21wb25lbnRJZH06JHt6b25lfWBdKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29udGVudElkcykgIT0gbnVsbCA/IF9iIDogW107XG4gICAgICByZXR1cm4gY29udGVudElkcy5tYXAoKGNvbnRlbnRJZCkgPT4gaW5kZXhlcy5ub2Rlc1tjb250ZW50SWRdLmZsYXREYXRhKTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIzKFxuICAgIFNsb3RSZW5kZXJQdXJlLFxuICAgIHtcbiAgICAgIGNvbnRlbnQ6IHNsb3RDb250ZW50LFxuICAgICAgem9uZSxcbiAgICAgIGNvbmZpZyxcbiAgICAgIG1ldGFkYXRhXG4gICAgfVxuICApO1xufTtcblxuLy8gbGliL2ZpZWxkLXRyYW5zZm9ybXMvZGVmYXVsdC10cmFuc2Zvcm1zL2lubGluZS10ZXh0LXRyYW5zZm9ybS50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGNvbXBvbmVudHMvSW5saW5lVGV4dEZpZWxkL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IG1lbW8sIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QxNywgdXNlUmVmIGFzIHVzZVJlZjUsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMTYgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL292ZXJsYXktcG9ydGFsL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciByZWdpc3Rlck92ZXJsYXlQb3J0YWwgPSAoZWwsIG9wdHMgPSB7fSkgPT4ge1xuICBpZiAoIWVsKSByZXR1cm47XG4gIGNvbnN0IHsgZGlzYWJsZURyYWcgPSBmYWxzZSwgZGlzYWJsZURyYWdPbkZvY3VzID0gdHJ1ZSB9ID0gb3B0cztcbiAgY29uc3Qgc3RvcFByb3BhZ2F0aW9uID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuICBlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHN0b3BQcm9wYWdhdGlvbiwge1xuICAgIGNhcHR1cmU6IHRydWVcbiAgfSk7XG4gIGNvbnN0IG9uRm9jdXMgPSAoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgc3RvcFByb3BhZ2F0aW9uLCB7XG4gICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIDIwMCk7XG4gIH07XG4gIGNvbnN0IG9uQmx1ciA9ICgpID0+IHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgc3RvcFByb3BhZ2F0aW9uLCB7XG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSk7XG4gIH07XG4gIGlmIChkaXNhYmxlRHJhZ09uRm9jdXMpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgb25Gb2N1cywgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIG9uQmx1ciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9IGVsc2UgaWYgKGRpc2FibGVEcmFnKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHN0b3BQcm9wYWdhdGlvbiwge1xuICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGVsLnNldEF0dHJpYnV0ZShcImRhdGEtcHVjay1vdmVybGF5LXBvcnRhbFwiLCBcInRydWVcIik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBzdG9wUHJvcGFnYXRpb24sIHtcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9KTtcbiAgICBpZiAoZGlzYWJsZURyYWdPbkZvY3VzKSB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgb25Gb2N1cywgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgb25Gb2N1cywgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH0gZWxzZSBpZiAoZGlzYWJsZURyYWcpIHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBzdG9wUHJvcGFnYXRpb24sIHtcbiAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtcHVjay1vdmVybGF5LXBvcnRhbFwiKTtcbiAgfTtcbn07XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9JbmxpbmVUZXh0RmllbGQvc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQxMyA9IHsgXCJJbmxpbmVUZXh0RmllbGRcIjogXCJfSW5saW5lVGV4dEZpZWxkXzF4cGg2XzFcIiB9O1xuXG4vLyBsaWIvZGF0YS9zZXQtZGVlcC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmZ1bmN0aW9uIHNldERlZXAobm9kZSwgcGF0aCwgbmV3VmFsKSB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gIGNvbnN0IG5ld05vZGUgPSBfX3NwcmVhZFZhbHVlcyh7fSwgbm9kZSk7XG4gIGxldCBjdXIgPSBuZXdOb2RlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgW3Byb3AsIGlkeFN0cl0gPSBwYXJ0c1tpXS5yZXBsYWNlKFwiXVwiLCBcIlwiKS5zcGxpdChcIltcIik7XG4gICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gcGFydHMubGVuZ3RoIC0gMTtcbiAgICBpZiAoaWR4U3RyICE9PSB2b2lkIDApIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXJbcHJvcF0pKSB7XG4gICAgICAgIGN1cltwcm9wXSA9IFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgaWR4ID0gTnVtYmVyKGlkeFN0cik7XG4gICAgICBpZiAoaXNMYXN0KSB7XG4gICAgICAgIGN1cltwcm9wXVtpZHhdID0gbmV3VmFsO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJbcHJvcF1baWR4XSA9PT0gdm9pZCAwKSBjdXJbcHJvcF1baWR4XSA9IHt9O1xuICAgICAgY3VyID0gY3VyW3Byb3BdW2lkeF07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGlzTGFzdCkge1xuICAgICAgY3VyW3Byb3BdID0gbmV3VmFsO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjdXJbcHJvcF0gPT09IHZvaWQgMCkge1xuICAgICAgY3VyW3Byb3BdID0ge307XG4gICAgfVxuICAgIGN1ciA9IGN1cltwcm9wXTtcbiAgfVxuICByZXR1cm4gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIG5vZGUpLCBuZXdOb2RlKTtcbn1cblxuLy8gbGliL2dldC1zZWxlY3Rvci1mb3ItaWQudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgZ2V0U2VsZWN0b3JGb3JJZCA9IChzdGF0ZSwgaWQpID0+IHtcbiAgY29uc3Qgbm9kZSA9IHN0YXRlLmluZGV4ZXMubm9kZXNbaWRdO1xuICBpZiAoIW5vZGUpIHJldHVybjtcbiAgY29uc3Qgem9uZUNvbXBvdW5kID0gYCR7bm9kZS5wYXJlbnRJZH06JHtub2RlLnpvbmV9YDtcbiAgY29uc3QgaW5kZXggPSBzdGF0ZS5pbmRleGVzLnpvbmVzW3pvbmVDb21wb3VuZF0uY29udGVudElkcy5pbmRleE9mKGlkKTtcbiAgcmV0dXJuIHsgem9uZTogem9uZUNvbXBvdW5kLCBpbmRleCB9O1xufTtcblxuLy8gY29tcG9uZW50cy9JbmxpbmVUZXh0RmllbGQvaW5kZXgudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWUxOCA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIklubGluZVRleHRGaWVsZFwiLCBzdHlsZXNfbW9kdWxlX2RlZmF1bHQxMyk7XG52YXIgSW5saW5lVGV4dEZpZWxkSW50ZXJuYWwgPSAoe1xuICBwcm9wUGF0aCxcbiAgY29tcG9uZW50SWQsXG4gIHZhbHVlLFxuICBpc1JlYWRPbmx5LFxuICBvcHRzID0ge31cbn0pID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCByZWYgPSB1c2VSZWY1KG51bGwpO1xuICBjb25zdCBhcHBTdG9yZUFwaSA9IHVzZUFwcFN0b3JlQXBpKCk7XG4gIGNvbnN0IGRpc2FibGVMaW5lQnJlYWtzID0gKF9hID0gb3B0cy5kaXNhYmxlTGluZUJyZWFrcykgIT0gbnVsbCA/IF9hIDogZmFsc2U7XG4gIHVzZUVmZmVjdDE3KCgpID0+IHtcbiAgICBjb25zdCBhcHBTdG9yZSA9IGFwcFN0b3JlQXBpLmdldFN0YXRlKCk7XG4gICAgY29uc3QgZGF0YSA9IGFwcFN0b3JlLnN0YXRlLmluZGV4ZXMubm9kZXNbY29tcG9uZW50SWRdLmRhdGE7XG4gICAgY29uc3QgY29tcG9uZW50Q29uZmlnID0gYXBwU3RvcmUuZ2V0Q29tcG9uZW50Q29uZmlnKGRhdGEudHlwZSk7XG4gICAgaWYgKCFjb21wb25lbnRDb25maWcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYElubGluZVRleHRGaWVsZCBFcnJvcjogTm8gY29uZmlnIGRlZmluZWQgZm9yICR7ZGF0YS50eXBlfWBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgaWYgKHZhbHVlICE9PSByZWYuY3VycmVudC5pbm5lclRleHQpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQucmVwbGFjZUNoaWxkcmVuKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNsZWFudXBQb3J0YWwgPSByZWdpc3Rlck92ZXJsYXlQb3J0YWwocmVmLmN1cnJlbnQpO1xuICAgICAgY29uc3QgaGFuZGxlSW5wdXQgPSAoZSkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIGNvbnN0IGFwcFN0b3JlMiA9IGFwcFN0b3JlQXBpLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBhcHBTdG9yZTIuc3RhdGUuaW5kZXhlcy5ub2Rlc1tjb21wb25lbnRJZF07XG4gICAgICAgIGNvbnN0IHpvbmVDb21wb3VuZCA9IGAke25vZGUucGFyZW50SWR9OiR7bm9kZS56b25lfWA7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gKF9hMiA9IGFwcFN0b3JlMi5zdGF0ZS5pbmRleGVzLnpvbmVzW3pvbmVDb21wb3VuZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY29udGVudElkcy5pbmRleE9mKFxuICAgICAgICAgIGNvbXBvbmVudElkXG4gICAgICAgICk7XG4gICAgICAgIGxldCB2YWx1ZTIgPSBlLnRhcmdldC5pbm5lclRleHQ7XG4gICAgICAgIGlmIChkaXNhYmxlTGluZUJyZWFrcykge1xuICAgICAgICAgIHZhbHVlMiA9IHZhbHVlMi5yZXBsYWNlQWxsKC9cXG4vZ20sIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1Byb3BzID0gc2V0RGVlcChub2RlLmRhdGEucHJvcHMsIHByb3BQYXRoLCB2YWx1ZTIpO1xuICAgICAgICBjb25zdCByZXNvbHZlZERhdGEgPSB5aWVsZCBhcHBTdG9yZTIucmVzb2x2ZUNvbXBvbmVudERhdGEoXG4gICAgICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgbm9kZS5kYXRhKSwgeyBwcm9wczogbmV3UHJvcHMgfSksXG4gICAgICAgICAgXCJyZXBsYWNlXCJcbiAgICAgICAgKTtcbiAgICAgICAgYXBwU3RvcmUyLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiBcInJlcGxhY2VcIixcbiAgICAgICAgICBkYXRhOiByZXNvbHZlZERhdGEubm9kZSxcbiAgICAgICAgICBkZXN0aW5hdGlvbkluZGV4OiBpbmRleCxcbiAgICAgICAgICBkZXN0aW5hdGlvblpvbmU6IHpvbmVDb21wb3VuZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGhhbmRsZUlucHV0KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIChfYTIgPSByZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgaGFuZGxlSW5wdXQpO1xuICAgICAgICBjbGVhbnVwUG9ydGFsID09IG51bGwgPyB2b2lkIDAgOiBjbGVhbnVwUG9ydGFsKCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2FwcFN0b3JlQXBpLCByZWYuY3VycmVudCwgdmFsdWUsIGRpc2FibGVMaW5lQnJlYWtzXSk7XG4gIGNvbnN0IFtpc0hvdmVyaW5nLCBzZXRJc0hvdmVyaW5nXSA9IHVzZVN0YXRlMTYoZmFsc2UpO1xuICBjb25zdCBbaXNGb2N1c2VkLCBzZXRJc0ZvY3VzZWRdID0gdXNlU3RhdGUxNihmYWxzZSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjQoXG4gICAgXCJzcGFuXCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUxOCgpLFxuICAgICAgcmVmLFxuICAgICAgY29udGVudEVkaXRhYmxlOiBpc0hvdmVyaW5nIHx8IGlzRm9jdXNlZCA/IFwicGxhaW50ZXh0LW9ubHlcIiA6IFwiZmFsc2VcIixcbiAgICAgIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0sXG4gICAgICBvbkNsaWNrQ2FwdHVyZTogKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBpdGVtU2VsZWN0b3IgPSBnZXRTZWxlY3RvckZvcklkKFxuICAgICAgICAgIGFwcFN0b3JlQXBpLmdldFN0YXRlKCkuc3RhdGUsXG4gICAgICAgICAgY29tcG9uZW50SWRcbiAgICAgICAgKTtcbiAgICAgICAgYXBwU3RvcmVBcGkuZ2V0U3RhdGUoKS5zZXRVaSh7IGl0ZW1TZWxlY3RvciB9KTtcbiAgICAgIH0sXG4gICAgICBvbktleURvd246IChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChkaXNhYmxlTGluZUJyZWFrcyAmJiBlLmtleSA9PT0gXCJFbnRlclwiIHx8IGlzUmVhZE9ubHkpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbktleVVwOiAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9LFxuICAgICAgb25Nb3VzZU92ZXJDYXB0dXJlOiAoKSA9PiBzZXRJc0hvdmVyaW5nKHRydWUpLFxuICAgICAgb25Nb3VzZU91dENhcHR1cmU6ICgpID0+IHNldElzSG92ZXJpbmcoZmFsc2UpLFxuICAgICAgb25Gb2N1czogKCkgPT4gc2V0SXNGb2N1c2VkKHRydWUpLFxuICAgICAgb25CbHVyOiAoKSA9PiBzZXRJc0ZvY3VzZWQoZmFsc2UpXG4gICAgfVxuICApO1xufTtcbnZhciBJbmxpbmVUZXh0RmllbGQgPSBtZW1vKElubGluZVRleHRGaWVsZEludGVybmFsKTtcblxuLy8gbGliL2ZpZWxkLXRyYW5zZm9ybXMvZGVmYXVsdC10cmFuc2Zvcm1zL2lubGluZS10ZXh0LXRyYW5zZm9ybS50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyNSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldElubGluZVRleHRUcmFuc2Zvcm0gPSAoKSA9PiAoe1xuICB0ZXh0OiAoeyB2YWx1ZSwgY29tcG9uZW50SWQsIGZpZWxkLCBwcm9wUGF0aCwgaXNSZWFkT25seSB9KSA9PiB7XG4gICAgaWYgKGZpZWxkLmNvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcbiAgICAgICAgSW5saW5lVGV4dEZpZWxkLFxuICAgICAgICB7XG4gICAgICAgICAgcHJvcFBhdGgsXG4gICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb3B0czogeyBkaXNhYmxlTGluZUJyZWFrczogdHJ1ZSB9LFxuICAgICAgICAgIGlzUmVhZE9ubHlcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICB0ZXh0YXJlYTogKHsgdmFsdWUsIGNvbXBvbmVudElkLCBmaWVsZCwgcHJvcFBhdGgsIGlzUmVhZE9ubHkgfSkgPT4ge1xuICAgIGlmIChmaWVsZC5jb250ZW50RWRpdGFibGUpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjUoXG4gICAgICAgIElubGluZVRleHRGaWVsZCxcbiAgICAgICAge1xuICAgICAgICAgIHByb3BQYXRoLFxuICAgICAgICAgIGNvbXBvbmVudElkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGlzUmVhZE9ubHlcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBjdXN0b206ICh7IHZhbHVlLCBjb21wb25lbnRJZCwgZmllbGQsIHByb3BQYXRoLCBpc1JlYWRPbmx5IH0pID0+IHtcbiAgICBpZiAoZmllbGQuY29udGVudEVkaXRhYmxlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcbiAgICAgICAgSW5saW5lVGV4dEZpZWxkLFxuICAgICAgICB7XG4gICAgICAgICAgcHJvcFBhdGgsXG4gICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgaXNSZWFkT25seVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn0pO1xuXG4vLyBjb21wb25lbnRzL0Ryb3Bab25lL2luZGV4LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQ3LCBqc3ggYXMganN4MjYsIGpzeHMgYXMganN4czExIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lMTkgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJEcm9wWm9uZVwiLCBzdHlsZXNfbW9kdWxlX2RlZmF1bHQxMSk7XG52YXIgZ2V0UmFuZG9tQ29sb3IgPSAoKSA9PiBgIyR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTY3NzcyMTUpLnRvU3RyaW5nKDE2KX1gO1xudmFyIFJFTkRFUl9ERUJVRyA9IGZhbHNlO1xudmFyIERyb3Bab25lRWRpdFB1cmUgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihEcm9wWm9uZUVkaXQsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xudmFyIERyb3Bab25lQ2hpbGQgPSAoe1xuICB6b25lQ29tcG91bmQsXG4gIGNvbXBvbmVudElkLFxuICBpbmRleCxcbiAgZHJhZ0F4aXMsXG4gIGNvbGxpc2lvbkF4aXMsXG4gIGluRHJvcHBhYmxlWm9uZVxufSkgPT4ge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBtZXRhZGF0YSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLm1ldGFkYXRhKTtcbiAgY29uc3QgY3R4ID0gdXNlQ29udGV4dDgoZHJvcFpvbmVDb250ZXh0KTtcbiAgY29uc3QgeyBkZXB0aCA9IDEgfSA9IGN0eCAhPSBudWxsID8gY3R4IDoge307XG4gIGNvbnN0IHpvbmVTdG9yZSA9IHVzZUNvbnRleHQ4KFpvbmVTdG9yZUNvbnRleHQpO1xuICBjb25zdCBub2RlUHJvcHMgPSB1c2VBcHBTdG9yZShcbiAgICB1c2VTaGFsbG93NCgocykgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIHJldHVybiAoX2EyID0gcy5zdGF0ZS5pbmRleGVzLm5vZGVzW2NvbXBvbmVudElkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5mbGF0RGF0YS5wcm9wcztcbiAgICB9KVxuICApO1xuICBjb25zdCBub2RlVHlwZSA9IHVzZUFwcFN0b3JlKFxuICAgIChzKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIChfYTIgPSBzLnN0YXRlLmluZGV4ZXMubm9kZXNbY29tcG9uZW50SWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmRhdGEudHlwZTtcbiAgICB9XG4gICk7XG4gIGNvbnN0IG5vZGVSZWFkT25seSA9IHVzZUFwcFN0b3JlKFxuICAgIHVzZVNoYWxsb3c0KChzKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIChfYTIgPSBzLnN0YXRlLmluZGV4ZXMubm9kZXNbY29tcG9uZW50SWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmRhdGEucmVhZE9ubHk7XG4gICAgfSlcbiAgKTtcbiAgY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZUFwaSgpO1xuICBjb25zdCBpdGVtID0gdXNlTWVtbzgoKCkgPT4ge1xuICAgIGlmIChub2RlUHJvcHMpIHtcbiAgICAgIGNvbnN0IGV4cGFuZGVkID0gZXhwYW5kTm9kZSh7XG4gICAgICAgIHR5cGU6IG5vZGVUeXBlLFxuICAgICAgICBwcm9wczogbm9kZVByb3BzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBleHBhbmRlZDtcbiAgICB9XG4gICAgY29uc3QgcHJldmlldyA9IHpvbmVTdG9yZS5nZXRTdGF0ZSgpLnByZXZpZXdJbmRleFt6b25lQ29tcG91bmRdO1xuICAgIGlmIChjb21wb25lbnRJZCA9PT0gKHByZXZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpZXcucHJvcHMuaWQpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwcmV2aWV3LmNvbXBvbmVudFR5cGUsXG4gICAgICAgIHByb3BzOiBwcmV2aWV3LnByb3BzLFxuICAgICAgICBwcmV2aWV3VHlwZTogcHJldmlldy50eXBlLFxuICAgICAgICBlbGVtZW50OiBwcmV2aWV3LmVsZW1lbnRcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LCBbYXBwU3RvcmUsIGNvbXBvbmVudElkLCB6b25lQ29tcG91bmQsIG5vZGVUeXBlLCBub2RlUHJvcHNdKTtcbiAgY29uc3QgY29tcG9uZW50Q29uZmlnID0gdXNlQXBwU3RvcmUoXG4gICAgKHMpID0+IChpdGVtID09IG51bGwgPyB2b2lkIDAgOiBpdGVtLnR5cGUpID8gcy5jb25maWcuY29tcG9uZW50c1tpdGVtLnR5cGVdIDogbnVsbFxuICApO1xuICBjb25zdCBwdWNrUHJvcHMgPSB1c2VNZW1vOChcbiAgICAoKSA9PiAoe1xuICAgICAgcmVuZGVyRHJvcFpvbmU6IERyb3Bab25lRWRpdFB1cmUsXG4gICAgICBpc0VkaXRpbmc6IHRydWUsXG4gICAgICBkcmFnUmVmOiBudWxsLFxuICAgICAgbWV0YWRhdGE6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBtZXRhZGF0YSksIGNvbXBvbmVudENvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29tcG9uZW50Q29uZmlnLm1ldGFkYXRhKVxuICAgIH0pLFxuICAgIFttZXRhZGF0YSwgY29tcG9uZW50Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb21wb25lbnRDb25maWcubWV0YWRhdGFdXG4gICk7XG4gIGNvbnN0IG92ZXJyaWRlcyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLm92ZXJyaWRlcyk7XG4gIGNvbnN0IGlzTG9hZGluZyA9IHVzZUFwcFN0b3JlKFxuICAgIChzKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuICgoX2EyID0gcy5jb21wb25lbnRTdGF0ZVtjb21wb25lbnRJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYTIubG9hZGluZ0NvdW50KSA+IDA7XG4gICAgfVxuICApO1xuICBjb25zdCBpc1NlbGVjdGVkID0gdXNlQXBwU3RvcmUoXG4gICAgKHMpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gKChfYTIgPSBzLnNlbGVjdGVkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5wcm9wcy5pZCkgPT09IGNvbXBvbmVudElkIHx8IGZhbHNlO1xuICAgIH1cbiAgKTtcbiAgbGV0IGxhYmVsID0gKF9iID0gKF9hID0gY29tcG9uZW50Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb21wb25lbnRDb25maWcubGFiZWwpICE9IG51bGwgPyBfYSA6IGl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IGl0ZW0udHlwZS50b1N0cmluZygpKSAhPSBudWxsID8gX2IgOiBcIkNvbXBvbmVudFwiO1xuICBjb25zdCByZW5kZXJQcmV2aWV3ID0gdXNlTWVtbzgoXG4gICAgKCkgPT4gZnVuY3Rpb24gUHJldmlldzMoKSB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgaWYgKGl0ZW0gJiYgXCJlbGVtZW50XCIgaW4gaXRlbSAmJiBpdGVtLmVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAvLyBTYWZlIHRvIHVzZSB0aGlzIHNpbmNlIHRoZSBIVE1MIGlzIHNldCBieSB0aGUgdXNlclxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyNihcImRpdlwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogaXRlbS5lbGVtZW50Lm91dGVySFRNTCB9IH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI2KERyYXdlckl0ZW1Jbm5lciwgeyBuYW1lOiBsYWJlbCwgY2hpbGRyZW46IChfYTIgPSBvdmVycmlkZXMuY29tcG9uZW50SXRlbSkgIT0gbnVsbCA/IF9hMiA6IG92ZXJyaWRlcy5kcmF3ZXJJdGVtIH0pO1xuICAgIH0sXG4gICAgW2NvbXBvbmVudElkLCBsYWJlbCwgb3ZlcnJpZGVzXVxuICApO1xuICBjb25zdCBkZWZhdWx0c1Byb3BzID0gdXNlTWVtbzgoXG4gICAgKCkgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgY29tcG9uZW50Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb21wb25lbnRDb25maWcuZGVmYXVsdFByb3BzKSwgaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5wcm9wcyksIHtcbiAgICAgIHB1Y2s6IHB1Y2tQcm9wcyxcbiAgICAgIGVkaXRNb2RlOiB0cnVlXG4gICAgICAvLyBERVBSRUNBVEVEXG4gICAgfSksXG4gICAgW2NvbXBvbmVudENvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29tcG9uZW50Q29uZmlnLmRlZmF1bHRQcm9wcywgaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5wcm9wcywgcHVja1Byb3BzXVxuICApO1xuICBjb25zdCBkZWZhdWx0ZWROb2RlID0gdXNlTWVtbzgoXG4gICAgKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIHJldHVybiB7IHR5cGU6IChfYTIgPSBpdGVtID09IG51bGwgPyB2b2lkIDAgOiBpdGVtLnR5cGUpICE9IG51bGwgPyBfYTIgOiBub2RlVHlwZSwgcHJvcHM6IGRlZmF1bHRzUHJvcHMgfTtcbiAgICB9LFxuICAgIFtpdGVtID09IG51bGwgPyB2b2lkIDAgOiBpdGVtLnR5cGUsIG5vZGVUeXBlLCBkZWZhdWx0c1Byb3BzXVxuICApO1xuICBjb25zdCBjb25maWcgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5jb25maWcpO1xuICBjb25zdCBwbHVnaW5zID0gdXNlQXBwU3RvcmUoKHMpID0+IHMucGx1Z2lucyk7XG4gIGNvbnN0IHVzZXJGaWVsZFRyYW5zZm9ybXMgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5maWVsZFRyYW5zZm9ybXMpO1xuICBjb25zdCBjb21iaW5lZEZpZWxkVHJhbnNmb3JtcyA9IHVzZU1lbW84KFxuICAgICgpID0+IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBnZXRTbG90VHJhbnNmb3JtKERyb3Bab25lRWRpdFB1cmUsIChzbG90UHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihDb250ZXh0U2xvdFJlbmRlciwgeyBjb21wb25lbnRJZCwgem9uZTogc2xvdFByb3BzLnpvbmUgfSkpKSwgZ2V0SW5saW5lVGV4dFRyYW5zZm9ybSgpKSwgcGx1Z2lucy5yZWR1Y2UoXG4gICAgICAoYWNjLCBwbHVnaW4pID0+IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBhY2MpLCBwbHVnaW4uZmllbGRUcmFuc2Zvcm1zKSxcbiAgICAgIHt9XG4gICAgKSksIHVzZXJGaWVsZFRyYW5zZm9ybXMpLFxuICAgIFtwbHVnaW5zLCB1c2VyRmllbGRUcmFuc2Zvcm1zXVxuICApO1xuICBjb25zdCB0cmFuc2Zvcm1lZFByb3BzID0gdXNlRmllbGRUcmFuc2Zvcm1zKFxuICAgIGNvbmZpZyxcbiAgICBkZWZhdWx0ZWROb2RlLFxuICAgIGNvbWJpbmVkRmllbGRUcmFuc2Zvcm1zLFxuICAgIG5vZGVSZWFkT25seSxcbiAgICBpc0xvYWRpbmdcbiAgKTtcbiAgaWYgKCFpdGVtKSByZXR1cm47XG4gIGxldCBSZW5kZXIyID0gY29tcG9uZW50Q29uZmlnID8gY29tcG9uZW50Q29uZmlnLnJlbmRlciA6ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTEoXCJkaXZcIiwgeyBzdHlsZTogeyBwYWRkaW5nOiA0OCwgdGV4dEFsaWduOiBcImNlbnRlclwiIH0sIGNoaWxkcmVuOiBbXG4gICAgXCJObyBjb25maWd1cmF0aW9uIGZvciBcIixcbiAgICBpdGVtLnR5cGVcbiAgXSB9KTtcbiAgbGV0IGNvbXBvbmVudFR5cGUgPSBpdGVtLnR5cGU7XG4gIGNvbnN0IGlzSW5zZXJ0aW5nID0gXCJwcmV2aWV3VHlwZVwiIGluIGl0ZW0gPyBpdGVtLnByZXZpZXdUeXBlID09PSBcImluc2VydFwiIDogZmFsc2U7XG4gIGlmIChpc0luc2VydGluZykge1xuICAgIFJlbmRlcjIgPSByZW5kZXJQcmV2aWV3O1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjYoXG4gICAgRHJhZ2dhYmxlQ29tcG9uZW50LFxuICAgIHtcbiAgICAgIGlkOiBjb21wb25lbnRJZCxcbiAgICAgIGNvbXBvbmVudFR5cGUsXG4gICAgICB6b25lQ29tcG91bmQsXG4gICAgICBkZXB0aDogZGVwdGggKyAxLFxuICAgICAgaW5kZXgsXG4gICAgICBpc0xvYWRpbmcsXG4gICAgICBpc1NlbGVjdGVkLFxuICAgICAgbGFiZWwsXG4gICAgICBhdXRvRHJhZ0F4aXM6IGRyYWdBeGlzLFxuICAgICAgdXNlckRyYWdBeGlzOiBjb2xsaXNpb25BeGlzLFxuICAgICAgaW5Ecm9wcGFibGVab25lLFxuICAgICAgY2hpbGRyZW46IChkcmFnUmVmKSA9PiAoY29tcG9uZW50Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb21wb25lbnRDb25maWcuaW5saW5lKSAmJiAhaXNJbnNlcnRpbmcgPyAvKiBAX19QVVJFX18gKi8ganN4MjYoRnJhZ21lbnQ3LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjYoXG4gICAgICAgIFJlbmRlcjIsXG4gICAgICAgIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHRyYW5zZm9ybWVkUHJvcHMpLCB7XG4gICAgICAgICAgcHVjazogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgdHJhbnNmb3JtZWRQcm9wcy5wdWNrKSwge1xuICAgICAgICAgICAgZHJhZ1JlZlxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICApIH0pIDogLyogQF9fUFVSRV9fICovIGpzeDI2KFwiZGl2XCIsIHsgcmVmOiBkcmFnUmVmLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI2KFJlbmRlcjIsIF9fc3ByZWFkVmFsdWVzKHt9LCB0cmFuc2Zvcm1lZFByb3BzKSkgfSlcbiAgICB9XG4gICk7XG59O1xudmFyIERyb3Bab25lQ2hpbGRNZW1vID0gbWVtbzIoRHJvcFpvbmVDaGlsZCk7XG52YXIgRHJvcFpvbmVFZGl0ID0gZm9yd2FyZFJlZjMoXG4gIGZ1bmN0aW9uIERyb3Bab25lRWRpdEludGVybmFsKHtcbiAgICB6b25lLFxuICAgIGFsbG93LFxuICAgIGRpc2FsbG93LFxuICAgIHN0eWxlLFxuICAgIGNsYXNzTmFtZSxcbiAgICBtaW5FbXB0eUhlaWdodDogdXNlck1pbkVtcHR5SGVpZ2h0ID0gMTI4LFxuICAgIGNvbGxpc2lvbkF4aXNcbiAgfSwgdXNlclJlZikge1xuICAgIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQ4KGRyb3Bab25lQ29udGV4dCk7XG4gICAgY29uc3QgYXBwU3RvcmVBcGkgPSB1c2VBcHBTdG9yZUFwaSgpO1xuICAgIGNvbnN0IHtcbiAgICAgIC8vIFRoZXNlIGFsbCBuZWVkIHNldHRpbmcgdmlhIGNvbnRleHRcbiAgICAgIGFyZWFJZCxcbiAgICAgIGRlcHRoID0gMCxcbiAgICAgIHJlZ2lzdGVyTG9jYWxab25lLFxuICAgICAgdW5yZWdpc3RlckxvY2FsWm9uZVxuICAgIH0gPSBjdHggIT0gbnVsbCA/IGN0eCA6IHt9O1xuICAgIGNvbnN0IHBhdGggPSB1c2VBcHBTdG9yZShcbiAgICAgIHVzZVNoYWxsb3c0KChzKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIGFyZWFJZCA/IChfYSA9IHMuc3RhdGUuaW5kZXhlcy5ub2Rlc1thcmVhSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EucGF0aCA6IG51bGw7XG4gICAgICB9KVxuICAgICk7XG4gICAgbGV0IHpvbmVDb21wb3VuZCA9IHJvb3REcm9wcGFibGVJZDtcbiAgICBpZiAoYXJlYUlkKSB7XG4gICAgICBpZiAoem9uZSAhPT0gcm9vdERyb3BwYWJsZUlkKSB7XG4gICAgICAgIHpvbmVDb21wb3VuZCA9IGAke2FyZWFJZH06JHt6b25lfWA7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdFpvbmUgPSB6b25lQ29tcG91bmQgPT09IHJvb3REcm9wcGFibGVJZCB8fCB6b25lID09PSByb290RHJvcHBhYmxlSWQgfHwgYXJlYUlkID09PSBcInJvb3RcIjtcbiAgICBjb25zdCBpbk5leHREZWVwZXN0QXJlYSA9IHVzZUNvbnRleHRTdG9yZShcbiAgICAgIFpvbmVTdG9yZUNvbnRleHQsXG4gICAgICAocykgPT4gcy5uZXh0QXJlYURlcHRoSW5kZXhbYXJlYUlkIHx8IFwiXCJdXG4gICAgKTtcbiAgICBjb25zdCB6b25lQ29udGVudElkcyA9IHVzZUFwcFN0b3JlKFxuICAgICAgdXNlU2hhbGxvdzQoKHMpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gcy5zdGF0ZS5pbmRleGVzLnpvbmVzW3pvbmVDb21wb3VuZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb250ZW50SWRzO1xuICAgICAgfSlcbiAgICApO1xuICAgIGNvbnN0IHpvbmVUeXBlID0gdXNlQXBwU3RvcmUoXG4gICAgICB1c2VTaGFsbG93NCgocykgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSBzLnN0YXRlLmluZGV4ZXMuem9uZXNbem9uZUNvbXBvdW5kXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnR5cGU7XG4gICAgICB9KVxuICAgICk7XG4gICAgdXNlRWZmZWN0MTgoKCkgPT4ge1xuICAgICAgaWYgKCF6b25lVHlwZSB8fCB6b25lVHlwZSA9PT0gXCJkcm9wem9uZVwiKSB7XG4gICAgICAgIGlmIChjdHggPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC5yZWdpc3RlclpvbmUpIHtcbiAgICAgICAgICBjdHggPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC5yZWdpc3RlclpvbmUoem9uZUNvbXBvdW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFt6b25lVHlwZSwgYXBwU3RvcmVBcGldKTtcbiAgICB1c2VFZmZlY3QxOCgoKSA9PiB7XG4gICAgICBpZiAoem9uZVR5cGUgPT09IFwiZHJvcHpvbmVcIikge1xuICAgICAgICBpZiAoem9uZUNvbXBvdW5kICE9PSByb290RHJvcHBhYmxlSWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIkRyb3Bab25lcyBoYXZlIGJlZW4gZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBzbG90IGZpZWxkcyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgUHVjay4gUGxlYXNlIHNlZSB0aGUgbWlncmF0aW9uIGd1aWRlOiBodHRwczovL3d3dy5wdWNrZWRpdG9yLmNvbS9kb2NzL2d1aWRlcy9taWdyYXRpb25zL2Ryb3B6b25lcy10by1zbG90c1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFt6b25lVHlwZV0pO1xuICAgIGNvbnN0IGNvbnRlbnRJZHMgPSB1c2VNZW1vOCgoKSA9PiB7XG4gICAgICByZXR1cm4gem9uZUNvbnRlbnRJZHMgfHwgW107XG4gICAgfSwgW3pvbmVDb250ZW50SWRzXSk7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmNihudWxsKTtcbiAgICBjb25zdCBhY2NlcHRzVGFyZ2V0ID0gdXNlQ2FsbGJhY2sxMShcbiAgICAgIChjb21wb25lbnRUeXBlKSA9PiB7XG4gICAgICAgIGlmICghY29tcG9uZW50VHlwZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXNhbGxvdykge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHRlZEFsbG93ID0gYWxsb3cgfHwgW107XG4gICAgICAgICAgY29uc3QgZmlsdGVyZWREaXNhbGxvdyA9IChkaXNhbGxvdyB8fCBbXSkuZmlsdGVyKFxuICAgICAgICAgICAgKGl0ZW0pID0+IGRlZmF1bHRlZEFsbG93LmluZGV4T2YoaXRlbSkgPT09IC0xXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZmlsdGVyZWREaXNhbGxvdy5pbmRleE9mKGNvbXBvbmVudFR5cGUpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhbGxvdykge1xuICAgICAgICAgIGlmIChhbGxvdy5pbmRleE9mKGNvbXBvbmVudFR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBbYWxsb3csIGRpc2FsbG93XVxuICAgICk7XG4gICAgY29uc3QgdGFyZ2V0QWNjZXB0ZWQgPSB1c2VDb250ZXh0U3RvcmUoWm9uZVN0b3JlQ29udGV4dCwgKHMpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IGRyYWdnZWRDb21wb25lbnRUeXBlID0gKF9hID0gcy5kcmFnZ2VkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRhdGEuY29tcG9uZW50VHlwZTtcbiAgICAgIHJldHVybiBhY2NlcHRzVGFyZ2V0KGRyYWdnZWRDb21wb25lbnRUeXBlKTtcbiAgICB9KTtcbiAgICBjb25zdCBob3ZlcmluZ092ZXJBcmVhID0gaW5OZXh0RGVlcGVzdEFyZWEgfHwgaXNSb290Wm9uZTtcbiAgICBjb25zdCBpc0VuYWJsZWQgPSB1c2VDb250ZXh0U3RvcmUoWm9uZVN0b3JlQ29udGV4dCwgKHMpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGxldCBfaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGlzRGVlcGVzdFpvbmUgPSAoX2EgPSBzLnpvbmVEZXB0aEluZGV4W3pvbmVDb21wb3VuZF0pICE9IG51bGwgPyBfYSA6IGZhbHNlO1xuICAgICAgX2lzRW5hYmxlZCA9IGlzRGVlcGVzdFpvbmU7XG4gICAgICBpZiAoX2lzRW5hYmxlZCkge1xuICAgICAgICBfaXNFbmFibGVkID0gdGFyZ2V0QWNjZXB0ZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2lzRW5hYmxlZDtcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QxOCgoKSA9PiB7XG4gICAgICBpZiAocmVnaXN0ZXJMb2NhbFpvbmUpIHtcbiAgICAgICAgcmVnaXN0ZXJMb2NhbFpvbmUoem9uZUNvbXBvdW5kLCB0YXJnZXRBY2NlcHRlZCB8fCBpc0VuYWJsZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHVucmVnaXN0ZXJMb2NhbFpvbmUpIHtcbiAgICAgICAgICB1bnJlZ2lzdGVyTG9jYWxab25lKHpvbmVDb21wb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSwgW3RhcmdldEFjY2VwdGVkLCBpc0VuYWJsZWQsIHpvbmVDb21wb3VuZF0pO1xuICAgIGNvbnN0IFtjb250ZW50SWRzV2l0aFByZXZpZXcsIHByZXZpZXddID0gdXNlQ29udGVudElkc1dpdGhQcmV2aWV3KFxuICAgICAgY29udGVudElkcyxcbiAgICAgIHpvbmVDb21wb3VuZFxuICAgICk7XG4gICAgY29uc3QgaXNEcm9wRW5hYmxlZCA9IGlzRW5hYmxlZCAmJiAocHJldmlldyA/IGNvbnRlbnRJZHNXaXRoUHJldmlldy5sZW5ndGggPT09IDEgOiBjb250ZW50SWRzV2l0aFByZXZpZXcubGVuZ3RoID09PSAwKTtcbiAgICBjb25zdCB6b25lU3RvcmUgPSB1c2VDb250ZXh0OChab25lU3RvcmVDb250ZXh0KTtcbiAgICB1c2VFZmZlY3QxOCgoKSA9PiB7XG4gICAgICBjb25zdCB7IGVuYWJsZWRJbmRleCB9ID0gem9uZVN0b3JlLmdldFN0YXRlKCk7XG4gICAgICB6b25lU3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICBlbmFibGVkSW5kZXg6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGVuYWJsZWRJbmRleCksIHsgW3pvbmVDb21wb3VuZF06IGlzRW5hYmxlZCB9KVxuICAgICAgfSk7XG4gICAgfSwgW2lzRW5hYmxlZCwgem9uZVN0b3JlLCB6b25lQ29tcG91bmRdKTtcbiAgICBjb25zdCBkcm9wcGFibGVDb25maWcgPSB7XG4gICAgICBpZDogem9uZUNvbXBvdW5kLFxuICAgICAgY29sbGlzaW9uUHJpb3JpdHk6IGlzRW5hYmxlZCA/IGRlcHRoIDogMCxcbiAgICAgIGRpc2FibGVkOiAhaXNEcm9wRW5hYmxlZCxcbiAgICAgIGNvbGxpc2lvbkRldGVjdG9yOiBwb2ludGVySW50ZXJzZWN0aW9uLFxuICAgICAgdHlwZTogXCJkcm9wem9uZVwiLFxuICAgICAgZGF0YToge1xuICAgICAgICBhcmVhSWQsXG4gICAgICAgIGRlcHRoLFxuICAgICAgICBpc0Ryb3BwYWJsZVRhcmdldDogdGFyZ2V0QWNjZXB0ZWQsXG4gICAgICAgIHBhdGg6IHBhdGggfHwgW11cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHsgcmVmOiBkcm9wUmVmIH0gPSB1c2VEcm9wcGFibGUyKGRyb3BwYWJsZUNvbmZpZyk7XG4gICAgY29uc3QgaXNBcmVhU2VsZWN0ZWQgPSB1c2VBcHBTdG9yZShcbiAgICAgIChzKSA9PiAocyA9PSBudWxsID8gdm9pZCAwIDogcy5zZWxlY3RlZEl0ZW0pICYmIGFyZWFJZCA9PT0gKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMuc2VsZWN0ZWRJdGVtLnByb3BzLmlkKVxuICAgICk7XG4gICAgY29uc3QgW2RyYWdBeGlzXSA9IHVzZURyYWdBeGlzKHJlZiwgY29sbGlzaW9uQXhpcyk7XG4gICAgY29uc3QgW21pbkVtcHR5SGVpZ2h0LCBpc0FuaW1hdGluZ10gPSB1c2VNaW5FbXB0eUhlaWdodCh7XG4gICAgICB6b25lQ29tcG91bmQsXG4gICAgICB1c2VyTWluRW1wdHlIZWlnaHQsXG4gICAgICByZWZcbiAgICB9KTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI2KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgJHtnZXRDbGFzc05hbWUxOSh7XG4gICAgICAgICAgaXNSb290Wm9uZSxcbiAgICAgICAgICBob3ZlcmluZ092ZXJBcmVhLFxuICAgICAgICAgIGlzRW5hYmxlZCxcbiAgICAgICAgICBpc0FyZWFTZWxlY3RlZCxcbiAgICAgICAgICBoYXNDaGlsZHJlbjogY29udGVudElkcy5sZW5ndGggPiAwLFxuICAgICAgICAgIGlzQW5pbWF0aW5nXG4gICAgICAgIH0pfSR7Y2xhc3NOYW1lID8gYCAke2NsYXNzTmFtZX1gIDogXCJcIn1gLFxuICAgICAgICByZWY6IChub2RlKSA9PiB7XG4gICAgICAgICAgYXNzaWduUmVmcyhbcmVmLCBkcm9wUmVmLCB1c2VyUmVmXSwgbm9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGF0YS10ZXN0aWRcIjogYGRyb3B6b25lOiR7em9uZUNvbXBvdW5kfWAsXG4gICAgICAgIFwiZGF0YS1wdWNrLWRyb3B6b25lXCI6IHpvbmVDb21wb3VuZCxcbiAgICAgICAgc3R5bGU6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHN0eWxlKSwge1xuICAgICAgICAgIFwiLS1taW4tZW1wdHktaGVpZ2h0XCI6IGAke21pbkVtcHR5SGVpZ2h0fXB4YCxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFJFTkRFUl9ERUJVRyA/IGdldFJhbmRvbUNvbG9yKCkgOiBzdHlsZSA9PSBudWxsID8gdm9pZCAwIDogc3R5bGUuYmFja2dyb3VuZENvbG9yXG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZHJlbjogY29udGVudElkc1dpdGhQcmV2aWV3Lm1hcCgoY29tcG9uZW50SWQsIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI2KFxuICAgICAgICAgICAgRHJvcFpvbmVDaGlsZE1lbW8sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHpvbmVDb21wb3VuZCxcbiAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgIGRyYWdBeGlzLFxuICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgY29sbGlzaW9uQXhpcyxcbiAgICAgICAgICAgICAgaW5Ecm9wcGFibGVab25lOiB0YXJnZXRBY2NlcHRlZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xudmFyIERyb3Bab25lUmVuZGVySXRlbSA9ICh7XG4gIGNvbmZpZyxcbiAgaXRlbSxcbiAgbWV0YWRhdGFcbn0pID0+IHtcbiAgY29uc3QgQ29tcG9uZW50ID0gY29uZmlnLmNvbXBvbmVudHNbaXRlbS50eXBlXTtcbiAgY29uc3QgcHJvcHMgPSB1c2VTbG90cyhjb25maWcsIGl0ZW0sIChzbG90UHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihTbG90UmVuZGVyUHVyZSwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc2xvdFByb3BzKSwgeyBjb25maWcsIG1ldGFkYXRhIH0pKSk7XG4gIGNvbnN0IG5leHRDb250ZXh0VmFsdWUgPSB1c2VNZW1vOChcbiAgICAoKSA9PiAoe1xuICAgICAgYXJlYUlkOiBwcm9wcy5pZCxcbiAgICAgIGRlcHRoOiAxXG4gICAgfSksXG4gICAgW3Byb3BzXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI2KERyb3Bab25lUHJvdmlkZXIsIHsgdmFsdWU6IG5leHRDb250ZXh0VmFsdWUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjYoXG4gICAgQ29tcG9uZW50LnJlbmRlcixcbiAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHtcbiAgICAgIHB1Y2s6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzLnB1Y2spLCB7XG4gICAgICAgIHJlbmRlckRyb3Bab25lOiBEcm9wWm9uZVJlbmRlclB1cmUsXG4gICAgICAgIG1ldGFkYXRhOiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgbWV0YWRhdGEpLCBDb21wb25lbnQubWV0YWRhdGEpXG4gICAgICB9KVxuICAgIH0pXG4gICkgfSwgcHJvcHMuaWQpO1xufTtcbnZhciBEcm9wWm9uZVJlbmRlclB1cmUgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihEcm9wWm9uZVJlbmRlciwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG52YXIgRHJvcFpvbmVSZW5kZXIgPSBmb3J3YXJkUmVmMyhcbiAgZnVuY3Rpb24gRHJvcFpvbmVSZW5kZXJJbnRlcm5hbCh7IGNsYXNzTmFtZSwgc3R5bGUsIHpvbmUgfSwgcmVmKSB7XG4gICAgY29uc3QgY3R4ID0gdXNlQ29udGV4dDgoZHJvcFpvbmVDb250ZXh0KTtcbiAgICBjb25zdCB7IGFyZWFJZCA9IFwicm9vdFwiIH0gPSBjdHggfHwge307XG4gICAgY29uc3QgeyBjb25maWcsIGRhdGEsIG1ldGFkYXRhIH0gPSB1c2VDb250ZXh0OChyZW5kZXJDb250ZXh0KTtcbiAgICBsZXQgem9uZUNvbXBvdW5kID0gYCR7YXJlYUlkfToke3pvbmV9YDtcbiAgICBsZXQgY29udGVudCA9IChkYXRhID09IG51bGwgPyB2b2lkIDAgOiBkYXRhLmNvbnRlbnQpIHx8IFtdO1xuICAgIHVzZUVmZmVjdDE4KCgpID0+IHtcbiAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICBpZiAoY3R4ID09IG51bGwgPyB2b2lkIDAgOiBjdHgucmVnaXN0ZXJab25lKSB7XG4gICAgICAgICAgY3R4ID09IG51bGwgPyB2b2lkIDAgOiBjdHgucmVnaXN0ZXJab25lKHpvbmVDb21wb3VuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbY29udGVudF0pO1xuICAgIGlmICghZGF0YSB8fCAhY29uZmlnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHpvbmVDb21wb3VuZCAhPT0gcm9vdERyb3BwYWJsZUlkKSB7XG4gICAgICBjb250ZW50ID0gc2V0dXBab25lKGRhdGEsIHpvbmVDb21wb3VuZCkuem9uZXNbem9uZUNvbXBvdW5kXTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNihcImRpdlwiLCB7IGNsYXNzTmFtZSwgc3R5bGUsIHJlZiwgY2hpbGRyZW46IGNvbnRlbnQubWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBDb21wb25lbnQgPSBjb25maWcuY29tcG9uZW50c1tpdGVtLnR5cGVdO1xuICAgICAgaWYgKENvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI2KFxuICAgICAgICAgIERyb3Bab25lUmVuZGVySXRlbSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgbWV0YWRhdGFcbiAgICAgICAgICB9LFxuICAgICAgICAgIGl0ZW0ucHJvcHMuaWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pIH0pO1xuICB9XG4pO1xudmFyIERyb3Bab25lUHVyZSA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeDI2KERyb3Bab25lLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbnZhciBEcm9wWm9uZSA9IGZvcndhcmRSZWYzKFxuICBmdW5jdGlvbiBEcm9wWm9uZTIocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQ4KGRyb3Bab25lQ29udGV4dCk7XG4gICAgaWYgKChjdHggPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC5tb2RlKSA9PT0gXCJlZGl0XCIpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjYoRnJhZ21lbnQ3LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjYoRHJvcFpvbmVFZGl0LCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHsgcmVmIH0pKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNihGcmFnbWVudDcsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihEcm9wWm9uZVJlbmRlciwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpLCB7IHJlZiB9KSkgfSk7XG4gIH1cbik7XG5cbi8vIGNvbXBvbmVudHMvUmVuZGVyL2luZGV4LnRzeFxuaW1wb3J0IFJlYWN0MywgeyB1c2VNZW1vIGFzIHVzZU1lbW85IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MjcgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciByZW5kZXJDb250ZXh0ID0gUmVhY3QzLmNyZWF0ZUNvbnRleHQoe1xuICBjb25maWc6IHsgY29tcG9uZW50czoge30gfSxcbiAgZGF0YTogeyByb290OiB7fSwgY29udGVudDogW10gfSxcbiAgbWV0YWRhdGE6IHt9XG59KTtcbmZ1bmN0aW9uIFJlbmRlcih7XG4gIGNvbmZpZyxcbiAgZGF0YSxcbiAgbWV0YWRhdGEgPSB7fVxufSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGRlZmF1bHRlZERhdGEgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBkYXRhKSwge1xuICAgIHJvb3Q6IGRhdGEucm9vdCB8fCB7fSxcbiAgICBjb250ZW50OiBkYXRhLmNvbnRlbnQgfHwgW11cbiAgfSk7XG4gIGNvbnN0IHJvb3RQcm9wcyA9IFwicHJvcHNcIiBpbiBkZWZhdWx0ZWREYXRhLnJvb3QgPyBkZWZhdWx0ZWREYXRhLnJvb3QucHJvcHMgOiBkZWZhdWx0ZWREYXRhLnJvb3Q7XG4gIGNvbnN0IHRpdGxlID0gKHJvb3RQcm9wcyA9PSBudWxsID8gdm9pZCAwIDogcm9vdFByb3BzLnRpdGxlKSB8fCBcIlwiO1xuICBjb25zdCBwYWdlUHJvcHMgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCByb290UHJvcHMpLCB7XG4gICAgcHVjazoge1xuICAgICAgcmVuZGVyRHJvcFpvbmU6IERyb3Bab25lUHVyZSxcbiAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICBkcmFnUmVmOiBudWxsLFxuICAgICAgbWV0YWRhdGFcbiAgICB9LFxuICAgIHRpdGxlLFxuICAgIGVkaXRNb2RlOiBmYWxzZSxcbiAgICBpZDogXCJwdWNrLXJvb3RcIlxuICB9KTtcbiAgY29uc3QgcHJvcHNXaXRoU2xvdHMgPSB1c2VTbG90cyhcbiAgICBjb25maWcsXG4gICAgeyB0eXBlOiBcInJvb3RcIiwgcHJvcHM6IHBhZ2VQcm9wcyB9LFxuICAgIChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeDI3KFNsb3RSZW5kZXIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwgeyBjb25maWcsIG1ldGFkYXRhIH0pKVxuICApO1xuICBjb25zdCBuZXh0Q29udGV4dFZhbHVlID0gdXNlTWVtbzkoXG4gICAgKCkgPT4gKHtcbiAgICAgIG1vZGU6IFwicmVuZGVyXCIsXG4gICAgICBkZXB0aDogMFxuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIGlmICgoX2EgPSBjb25maWcucm9vdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlbmRlcikge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjcocmVuZGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBjb25maWcsIGRhdGE6IGRlZmF1bHRlZERhdGEsIG1ldGFkYXRhIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjcoRHJvcFpvbmVQcm92aWRlciwgeyB2YWx1ZTogbmV4dENvbnRleHRWYWx1ZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNyhjb25maWcucm9vdC5yZW5kZXIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzV2l0aFNsb3RzKSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI3KERyb3Bab25lUmVuZGVyUHVyZSwgeyB6b25lOiByb290Wm9uZSB9KSB9KSkgfSkgfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNyhyZW5kZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNvbmZpZywgZGF0YTogZGVmYXVsdGVkRGF0YSwgbWV0YWRhdGEgfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNyhEcm9wWm9uZVByb3ZpZGVyLCB7IHZhbHVlOiBuZXh0Q29udGV4dFZhbHVlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI3KERyb3Bab25lUmVuZGVyUHVyZSwgeyB6b25lOiByb290Wm9uZSB9KSB9KSB9KTtcbn1cblxuLy8gbGliL3VzZS1wdWNrLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCBhcyBjcmVhdGVDb250ZXh0NSwgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0OSwgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDE5LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTE3IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSBhcyBjcmVhdGVTdG9yZTQsIHVzZVN0b3JlIGFzIHVzZVN0b3JlMyB9IGZyb20gXCJ6dXN0YW5kXCI7XG52YXIgZ2VuZXJhdGVVc2VQdWNrID0gKHN0b3JlKSA9PiB7XG4gIGNvbnN0IGhpc3RvcnkgPSB7XG4gICAgYmFjazogc3RvcmUuaGlzdG9yeS5iYWNrLFxuICAgIGZvcndhcmQ6IHN0b3JlLmhpc3RvcnkuZm9yd2FyZCxcbiAgICBzZXRIaXN0b3JpZXM6IHN0b3JlLmhpc3Rvcnkuc2V0SGlzdG9yaWVzLFxuICAgIHNldEhpc3RvcnlJbmRleDogc3RvcmUuaGlzdG9yeS5zZXRIaXN0b3J5SW5kZXgsXG4gICAgaGFzUGFzdDogc3RvcmUuaGlzdG9yeS5oYXNQYXN0KCksXG4gICAgaGFzRnV0dXJlOiBzdG9yZS5oaXN0b3J5Lmhhc0Z1dHVyZSgpLFxuICAgIGhpc3Rvcmllczogc3RvcmUuaGlzdG9yeS5oaXN0b3JpZXMsXG4gICAgaW5kZXg6IHN0b3JlLmhpc3RvcnkuaW5kZXhcbiAgfTtcbiAgY29uc3Qgc3RvcmVEYXRhID0ge1xuICAgIGFwcFN0YXRlOiBtYWtlU3RhdGVQdWJsaWMoc3RvcmUuc3RhdGUpLFxuICAgIGNvbmZpZzogc3RvcmUuY29uZmlnLFxuICAgIGRpc3BhdGNoOiBzdG9yZS5kaXNwYXRjaCxcbiAgICBnZXRQZXJtaXNzaW9uczogc3RvcmUucGVybWlzc2lvbnMuZ2V0UGVybWlzc2lvbnMsXG4gICAgcmVmcmVzaFBlcm1pc3Npb25zOiBzdG9yZS5wZXJtaXNzaW9ucy5yZWZyZXNoUGVybWlzc2lvbnMsXG4gICAgaGlzdG9yeSxcbiAgICBzZWxlY3RlZEl0ZW06IHN0b3JlLnNlbGVjdGVkSXRlbSB8fCBudWxsLFxuICAgIGdldEl0ZW1CeVNlbGVjdG9yOiAoc2VsZWN0b3IpID0+IGdldEl0ZW0oc2VsZWN0b3IsIHN0b3JlLnN0YXRlKSxcbiAgICBnZXRJdGVtQnlJZDogKGlkKSA9PiBzdG9yZS5zdGF0ZS5pbmRleGVzLm5vZGVzW2lkXS5kYXRhLFxuICAgIGdldFNlbGVjdG9yRm9ySWQ6IChpZCkgPT4gZ2V0U2VsZWN0b3JGb3JJZChzdG9yZS5zdGF0ZSwgaWQpXG4gIH07XG4gIHJldHVybiBzdG9yZURhdGE7XG59O1xudmFyIFVzZVB1Y2tTdG9yZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0NShcbiAgbnVsbFxuKTtcbnZhciBjb252ZXJ0VG9QaWNrZWRTdG9yZSA9IChzdG9yZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIHN0YXRlOiBzdG9yZS5zdGF0ZSxcbiAgICBjb25maWc6IHN0b3JlLmNvbmZpZyxcbiAgICBkaXNwYXRjaDogc3RvcmUuZGlzcGF0Y2gsXG4gICAgcGVybWlzc2lvbnM6IHN0b3JlLnBlcm1pc3Npb25zLFxuICAgIGhpc3Rvcnk6IHN0b3JlLmhpc3RvcnksXG4gICAgc2VsZWN0ZWRJdGVtOiBzdG9yZS5zZWxlY3RlZEl0ZW1cbiAgfTtcbn07XG52YXIgdXNlUmVnaXN0ZXJVc2VQdWNrU3RvcmUgPSAoYXBwU3RvcmUpID0+IHtcbiAgY29uc3QgW3VzZVB1Y2tTdG9yZV0gPSB1c2VTdGF0ZTE3KFxuICAgICgpID0+IGNyZWF0ZVN0b3JlNChcbiAgICAgICgpID0+IGdlbmVyYXRlVXNlUHVjayhjb252ZXJ0VG9QaWNrZWRTdG9yZShhcHBTdG9yZS5nZXRTdGF0ZSgpKSlcbiAgICApXG4gICk7XG4gIHVzZUVmZmVjdDE5KCgpID0+IHtcbiAgICByZXR1cm4gYXBwU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHN0b3JlKSA9PiBjb252ZXJ0VG9QaWNrZWRTdG9yZShzdG9yZSksXG4gICAgICAocGlja2VkU3RvcmUpID0+IHtcbiAgICAgICAgdXNlUHVja1N0b3JlLnNldFN0YXRlKGdlbmVyYXRlVXNlUHVjayhwaWNrZWRTdG9yZSkpO1xuICAgICAgfVxuICAgICk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHVzZVB1Y2tTdG9yZTtcbn07XG5mdW5jdGlvbiBjcmVhdGVVc2VQdWNrKCkge1xuICByZXR1cm4gZnVuY3Rpb24gdXNlUHVjazIoc2VsZWN0b3IpIHtcbiAgICBjb25zdCB1c2VQdWNrQXBpID0gdXNlQ29udGV4dDkoVXNlUHVja1N0b3JlQ29udGV4dCk7XG4gICAgaWYgKCF1c2VQdWNrQXBpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VQdWNrIG11c3QgYmUgdXNlZCBpbnNpZGUgPFB1Y2s+LlwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdXNlU3RvcmUzKFxuICAgICAgdXNlUHVja0FwaSxcbiAgICAgIHNlbGVjdG9yICE9IG51bGwgPyBzZWxlY3RvciA6IChzKSA9PiBzXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuZnVuY3Rpb24gdXNlUHVjaygpIHtcbiAgdXNlRWZmZWN0MTkoKCkgPT4ge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiWW91J3JlIHVzaW5nIHRoZSBgdXNlUHVja2AgbWV0aG9kIHdpdGhvdXQgYSBzZWxlY3Rvciwgd2hpY2ggbWF5IGNhdXNlIHVubmVjZXNzYXJ5IHJlLXJlbmRlcnMuIFJlcGxhY2Ugd2l0aCBgY3JlYXRlVXNlUHVja2AgYW5kIHByb3ZpZGUgYSBzZWxlY3RvciBmb3IgaW1wcm92ZWQgcGVyZm9ybWFuY2UuXCJcbiAgICApO1xuICB9LCBbXSk7XG4gIHJldHVybiBjcmVhdGVVc2VQdWNrKCkoKHMpID0+IHMpO1xufVxuZnVuY3Rpb24gdXNlR2V0UHVjaygpIHtcbiAgY29uc3QgdXNlUHVja0FwaSA9IHVzZUNvbnRleHQ5KFVzZVB1Y2tTdG9yZUNvbnRleHQpO1xuICBpZiAoIXVzZVB1Y2tBcGkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VQdWNrR2V0IG11c3QgYmUgdXNlZCBpbnNpZGUgPFB1Y2s+LlwiKTtcbiAgfVxuICByZXR1cm4gdXNlUHVja0FwaS5nZXRTdGF0ZTtcbn1cblxuLy8gY29tcG9uZW50cy9QdWNrL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7XG4gIGNyZWF0ZUNvbnRleHQgYXMgY3JlYXRlQ29udGV4dDgsXG4gIHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrMjAsXG4gIHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDEzLFxuICB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MjksXG4gIHVzZU1lbW8gYXMgdXNlTWVtbzIwLFxuICB1c2VSZWYgYXMgdXNlUmVmMTIsXG4gIHVzZVN0YXRlIGFzIHVzZVN0YXRlMjVcbn0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGNvbXBvbmVudHMvU2lkZWJhclNlY3Rpb24vaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvU2lkZWJhclNlY3Rpb24vc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQxNCA9IHsgXCJTaWRlYmFyU2VjdGlvblwiOiBcIl9TaWRlYmFyU2VjdGlvbl84Ym9qOF8xXCIsIFwiU2lkZWJhclNlY3Rpb24tdGl0bGVcIjogXCJfU2lkZWJhclNlY3Rpb24tdGl0bGVfOGJvajhfMTJcIiwgXCJTaWRlYmFyU2VjdGlvbi0tbm9Cb3JkZXJUb3BcIjogXCJfU2lkZWJhclNlY3Rpb24tLW5vQm9yZGVyVG9wXzhib2o4XzIwXCIsIFwiU2lkZWJhclNlY3Rpb24tY29udGVudFwiOiBcIl9TaWRlYmFyU2VjdGlvbi1jb250ZW50Xzhib2o4XzI0XCIsIFwiU2lkZWJhclNlY3Rpb24tLW5vUGFkZGluZ1wiOiBcIl9TaWRlYmFyU2VjdGlvbi0tbm9QYWRkaW5nXzhib2o4XzI4XCIsIFwiU2lkZWJhclNlY3Rpb24tYnJlYWRjcnVtYkxhYmVsXCI6IFwiX1NpZGViYXJTZWN0aW9uLWJyZWFkY3J1bWJMYWJlbF84Ym9qOF80MVwiLCBcIlNpZGViYXJTZWN0aW9uLWJyZWFkY3J1bWJzXCI6IFwiX1NpZGViYXJTZWN0aW9uLWJyZWFkY3J1bWJzXzhib2o4XzcwXCIsIFwiU2lkZWJhclNlY3Rpb24tYnJlYWRjcnVtYlwiOiBcIl9TaWRlYmFyU2VjdGlvbi1icmVhZGNydW1iXzhib2o4XzQxXCIsIFwiU2lkZWJhclNlY3Rpb24taGVhZGluZ1wiOiBcIl9TaWRlYmFyU2VjdGlvbi1oZWFkaW5nXzhib2o4XzgyXCIsIFwiU2lkZWJhclNlY3Rpb24tbG9hZGluZ092ZXJsYXlcIjogXCJfU2lkZWJhclNlY3Rpb24tbG9hZGluZ092ZXJsYXlfOGJvajhfODZcIiB9O1xuXG4vLyBsaWIvdXNlLWJyZWFkY3J1bWJzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlTWVtbyBhcyB1c2VNZW1vMTAgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VCcmVhZGNydW1icyA9IChyZW5kZXJDb3VudCkgPT4ge1xuICBjb25zdCBzZWxlY3RlZElkID0gdXNlQXBwU3RvcmUoKHMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHMuc2VsZWN0ZWRJdGVtKSA9PSBudWxsID8gdm9pZCAwIDogX2EucHJvcHMuaWQ7XG4gIH0pO1xuICBjb25zdCBjb25maWcgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5jb25maWcpO1xuICBjb25zdCBwYXRoID0gdXNlQXBwU3RvcmUoKHMpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHMuc3RhdGUuaW5kZXhlcy5ub2Rlc1tzZWxlY3RlZElkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnBhdGg7XG4gIH0pO1xuICBjb25zdCBhcHBTdG9yZSA9IHVzZUFwcFN0b3JlQXBpKCk7XG4gIHJldHVybiB1c2VNZW1vMTAoKCkgPT4ge1xuICAgIGNvbnN0IGJyZWFkY3J1bWJzID0gKHBhdGggPT0gbnVsbCA/IHZvaWQgMCA6IHBhdGgubWFwKCh6b25lQ29tcG91bmQpID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgY29uc3QgW2NvbXBvbmVudElkXSA9IHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIik7XG4gICAgICBpZiAoY29tcG9uZW50SWQgPT09IFwicm9vdFwiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGFiZWw6IFwiUGFnZVwiLFxuICAgICAgICAgIHNlbGVjdG9yOiBudWxsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZS5pbmRleGVzLm5vZGVzW2NvbXBvbmVudElkXTtcbiAgICAgIGNvbnN0IHBhcmVudElkID0gbm9kZS5wYXRoW25vZGUucGF0aC5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGNvbnRlbnRJZHMgPSAoKF9hID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZS5pbmRleGVzLnpvbmVzW3BhcmVudElkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbnRlbnRJZHMpIHx8IFtdO1xuICAgICAgY29uc3QgaW5kZXggPSBjb250ZW50SWRzLmluZGV4T2YoY29tcG9uZW50SWQpO1xuICAgICAgY29uc3QgbGFiZWwgPSBub2RlID8gKF9jID0gKF9iID0gY29uZmlnLmNvbXBvbmVudHNbbm9kZS5kYXRhLnR5cGVdKSA9PSBudWxsID8gdm9pZCAwIDogX2IubGFiZWwpICE9IG51bGwgPyBfYyA6IG5vZGUuZGF0YS50eXBlIDogXCJDb21wb25lbnRcIjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsLFxuICAgICAgICBzZWxlY3Rvcjogbm9kZSA/IHtcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICB6b25lOiBub2RlLnBhdGhbbm9kZS5wYXRoLmxlbmd0aCAtIDFdXG4gICAgICAgIH0gOiBudWxsXG4gICAgICB9O1xuICAgIH0pKSB8fCBbXTtcbiAgICBpZiAocmVuZGVyQ291bnQpIHtcbiAgICAgIHJldHVybiBicmVhZGNydW1icy5zbGljZShicmVhZGNydW1icy5sZW5ndGggLSByZW5kZXJDb3VudCk7XG4gICAgfVxuICAgIHJldHVybiBicmVhZGNydW1icztcbiAgfSwgW3BhdGgsIHJlbmRlckNvdW50XSk7XG59O1xuXG4vLyBjb21wb25lbnRzL1NpZGViYXJTZWN0aW9uL2luZGV4LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDI4LCBqc3hzIGFzIGpzeHMxMiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTIwID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiU2lkZWJhclNlY3Rpb25cIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTQpO1xudmFyIFNpZGViYXJTZWN0aW9uID0gKHtcbiAgY2hpbGRyZW4sXG4gIHRpdGxlLFxuICBiYWNrZ3JvdW5kLFxuICBzaG93QnJlYWRjcnVtYnMsXG4gIG5vQm9yZGVyVG9wLFxuICBub1BhZGRpbmcsXG4gIGlzTG9hZGluZ1xufSkgPT4ge1xuICBjb25zdCBzZXRVaSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnNldFVpKTtcbiAgY29uc3QgYnJlYWRjcnVtYnMgPSB1c2VCcmVhZGNydW1icygxKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTIoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTIwKHsgbm9Cb3JkZXJUb3AsIG5vUGFkZGluZyB9KSxcbiAgICAgIHN0eWxlOiB7IGJhY2tncm91bmQgfSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyOChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjAoXCJ0aXRsZVwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTIwKFwiYnJlYWRjcnVtYnNcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgc2hvd0JyZWFkY3J1bWJzID8gYnJlYWRjcnVtYnMubWFwKChicmVhZGNydW1iLCBpKSA9PiAvKiBAX19QVVJFX18gKi8ganN4czEyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMChcImJyZWFkY3J1bWJcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjgoXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjAoXCJicmVhZGNydW1iTGFiZWxcIiksXG4gICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gc2V0VWkoeyBpdGVtU2VsZWN0b3I6IGJyZWFkY3J1bWIuc2VsZWN0b3IgfSksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGJyZWFkY3J1bWIubGFiZWxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyOChDaGV2cm9uUmlnaHQsIHsgc2l6ZTogMTYgfSlcbiAgICAgICAgICBdIH0sIGkpKSA6IG51bGwsXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDI4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMChcImhlYWRpbmdcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjgoSGVhZGluZywgeyByYW5rOiBcIjJcIiwgc2l6ZTogXCJ4c1wiLCBjaGlsZHJlbjogdGl0bGUgfSkgfSlcbiAgICAgICAgXSB9KSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDI4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMChcImNvbnRlbnRcIiksIGNoaWxkcmVuIH0pLFxuICAgICAgICBpc0xvYWRpbmcgJiYgLyogQF9fUFVSRV9fICovIGpzeDI4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMChcImxvYWRpbmdPdmVybGF5XCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI4KExvYWRlciwgeyBzaXplOiAzMiB9KSB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9QdWNrL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTUgPSB7IFwiUHVja1wiOiBcIl9QdWNrXzF5eGx3XzE5XCIsIFwiUHVjay1wb3J0YWxcIjogXCJfUHVjay1wb3J0YWxfMXl4bHdfMzFcIiwgXCJQdWNrTGF5b3V0LWlubmVyXCI6IFwiX1B1Y2tMYXlvdXQtaW5uZXJfMXl4bHdfMzhcIiwgXCJQdWNrTGF5b3V0LS1tb3VudGVkXCI6IFwiX1B1Y2tMYXlvdXQtLW1vdW50ZWRfMXl4bHdfNTlcIiwgXCJQdWNrTGF5b3V0LS1sZWZ0U2lkZUJhclZpc2libGVcIjogXCJfUHVja0xheW91dC0tbGVmdFNpZGVCYXJWaXNpYmxlXzF5eGx3XzYzXCIsIFwiUHVja0xheW91dC0tcmlnaHRTaWRlQmFyVmlzaWJsZVwiOiBcIl9QdWNrTGF5b3V0LS1yaWdodFNpZGVCYXJWaXNpYmxlXzF5eGx3XzY5XCIsIFwiUHVja0xheW91dC1tb3VudGVkXCI6IFwiX1B1Y2tMYXlvdXQtbW91bnRlZF8xeXhsd184M1wiLCBcIlB1Y2tMYXlvdXRcIjogXCJfUHVja0xheW91dF8xeXhsd18zOFwiIH07XG5cbi8vIGNvbXBvbmVudHMvUHVjay9jb21wb25lbnRzL0ZpZWxkcy9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvRmllbGRzL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTYgPSB7IFwiUHVja0ZpZWxkc1wiOiBcIl9QdWNrRmllbGRzXzEwYmg3XzFcIiwgXCJQdWNrRmllbGRzLS1pc0xvYWRpbmdcIjogXCJfUHVja0ZpZWxkcy0taXNMb2FkaW5nXzEwYmg3XzZcIiwgXCJQdWNrRmllbGRzLWxvYWRpbmdPdmVybGF5XCI6IFwiX1B1Y2tGaWVsZHMtbG9hZGluZ092ZXJsYXlfMTBiaDdfMTBcIiwgXCJQdWNrRmllbGRzLWxvYWRpbmdPdmVybGF5SW5uZXJcIjogXCJfUHVja0ZpZWxkcy1sb2FkaW5nT3ZlcmxheUlubmVyXzEwYmg3XzI1XCIsIFwiUHVja0ZpZWxkcy1maWVsZFwiOiBcIl9QdWNrRmllbGRzLWZpZWxkXzEwYmg3XzMyXCIsIFwiUHVja0ZpZWxkcy0td3JhcEZpZWxkc1wiOiBcIl9QdWNrRmllbGRzLS13cmFwRmllbGRzXzEwYmg3XzM2XCIgfTtcblxuLy8gY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvRmllbGRzL2luZGV4LnRzeFxuaW1wb3J0IHsgbWVtbyBhcyBtZW1vMywgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2sxMiwgdXNlTWVtbyBhcyB1c2VNZW1vMTEgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNoYWxsb3cgYXMgdXNlU2hhbGxvdzUgfSBmcm9tIFwienVzdGFuZC9yZWFjdC9zaGFsbG93XCI7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDgsIGpzeCBhcyBqc3gyOSwganN4cyBhcyBqc3hzMTMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWUyMSA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIlB1Y2tGaWVsZHNcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTYpO1xudmFyIERlZmF1bHRGaWVsZHMgPSAoe1xuICBjaGlsZHJlblxufSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI5KEZyYWdtZW50OCwgeyBjaGlsZHJlbiB9KTtcbn07XG52YXIgY3JlYXRlT25DaGFuZ2UgPSAoZmllbGROYW1lLCBhcHBTdG9yZSkgPT4gKHZhbHVlLCB1cGRhdGVkVWkpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICBsZXQgY3VycmVudFByb3BzO1xuICBjb25zdCB7IGRpc3BhdGNoLCBzdGF0ZSwgc2VsZWN0ZWRJdGVtLCByZXNvbHZlQ29tcG9uZW50RGF0YTogcmVzb2x2ZUNvbXBvbmVudERhdGEyIH0gPSBhcHBTdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCB7IGRhdGEsIHVpIH0gPSBzdGF0ZTtcbiAgY29uc3QgeyBpdGVtU2VsZWN0b3IgfSA9IHVpO1xuICBjb25zdCByb290UHJvcHMgPSBkYXRhLnJvb3QucHJvcHMgfHwgZGF0YS5yb290O1xuICBpZiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgY3VycmVudFByb3BzID0gc2VsZWN0ZWRJdGVtLnByb3BzO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRQcm9wcyA9IHJvb3RQcm9wcztcbiAgfVxuICBjb25zdCBuZXdQcm9wcyA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGN1cnJlbnRQcm9wcyksIHtcbiAgICBbZmllbGROYW1lXTogdmFsdWVcbiAgfSk7XG4gIGlmIChzZWxlY3RlZEl0ZW0gJiYgaXRlbVNlbGVjdG9yKSB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJyZXBsYWNlXCIsXG4gICAgICBkZXN0aW5hdGlvbkluZGV4OiBpdGVtU2VsZWN0b3IuaW5kZXgsXG4gICAgICBkZXN0aW5hdGlvblpvbmU6IGl0ZW1TZWxlY3Rvci56b25lIHx8IHJvb3REcm9wcGFibGVJZCxcbiAgICAgIGRhdGE6ICh5aWVsZCByZXNvbHZlQ29tcG9uZW50RGF0YTIoXG4gICAgICAgIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHNlbGVjdGVkSXRlbSksIHsgcHJvcHM6IG5ld1Byb3BzIH0pLFxuICAgICAgICBcInJlcGxhY2VcIlxuICAgICAgKSkubm9kZSxcbiAgICAgIHVpOiB1cGRhdGVkVWlcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZGF0YS5yb290LnByb3BzKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IFwicmVwbGFjZVJvb3RcIixcbiAgICAgICAgcm9vdDogKHlpZWxkIHJlc29sdmVDb21wb25lbnREYXRhMihcbiAgICAgICAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBkYXRhLnJvb3QpLCB7IHByb3BzOiBuZXdQcm9wcyB9KSxcbiAgICAgICAgICBcInJlcGxhY2VcIlxuICAgICAgICApKS5ub2RlLFxuICAgICAgICB1aTogX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHVpKSwgdXBkYXRlZFVpKSxcbiAgICAgICAgcmVjb3JkSGlzdG9yeTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogXCJzZXREYXRhXCIsXG4gICAgICAgIGRhdGE6IHsgcm9vdDogbmV3UHJvcHMgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbnZhciBGaWVsZHNDaGlsZCA9ICh7IGZpZWxkTmFtZSB9KSA9PiB7XG4gIGNvbnN0IGZpZWxkID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuZmllbGRzLmZpZWxkc1tmaWVsZE5hbWVdKTtcbiAgY29uc3QgaXNSZWFkT25seSA9IHVzZUFwcFN0b3JlKFxuICAgIChzKSA9PiAoKHMuc2VsZWN0ZWRJdGVtID8gcy5zZWxlY3RlZEl0ZW0ucmVhZE9ubHkgOiBzLnN0YXRlLmRhdGEucm9vdC5yZWFkT25seSkgfHwge30pW2ZpZWxkTmFtZV1cbiAgKTtcbiAgY29uc3QgdmFsdWUgPSB1c2VBcHBTdG9yZSgocykgPT4ge1xuICAgIGNvbnN0IHJvb3RQcm9wcyA9IHMuc3RhdGUuZGF0YS5yb290LnByb3BzIHx8IHMuc3RhdGUuZGF0YS5yb290O1xuICAgIHJldHVybiBzLnNlbGVjdGVkSXRlbSA/IHMuc2VsZWN0ZWRJdGVtLnByb3BzW2ZpZWxkTmFtZV0gOiByb290UHJvcHNbZmllbGROYW1lXTtcbiAgfSk7XG4gIGNvbnN0IGlkID0gdXNlQXBwU3RvcmUoKHMpID0+IHtcbiAgICBpZiAoIWZpZWxkKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gcy5zZWxlY3RlZEl0ZW0gPyBgJHtzLnNlbGVjdGVkSXRlbS5wcm9wcy5pZH1fJHtmaWVsZC50eXBlfV8ke2ZpZWxkTmFtZX1gIDogYHJvb3RfJHtmaWVsZC50eXBlfV8ke2ZpZWxkTmFtZX1gO1xuICB9KTtcbiAgY29uc3QgcGVybWlzc2lvbnMgPSB1c2VBcHBTdG9yZShcbiAgICB1c2VTaGFsbG93NSgocykgPT4ge1xuICAgICAgY29uc3QgeyBzZWxlY3RlZEl0ZW0sIHBlcm1pc3Npb25zOiBwZXJtaXNzaW9uczIgfSA9IHM7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRJdGVtID8gcGVybWlzc2lvbnMyLmdldFBlcm1pc3Npb25zKHsgaXRlbTogc2VsZWN0ZWRJdGVtIH0pIDogcGVybWlzc2lvbnMyLmdldFBlcm1pc3Npb25zKHsgcm9vdDogdHJ1ZSB9KTtcbiAgICB9KVxuICApO1xuICBjb25zdCBhcHBTdG9yZSA9IHVzZUFwcFN0b3JlQXBpKCk7XG4gIGNvbnN0IG9uQ2hhbmdlID0gdXNlQ2FsbGJhY2sxMihjcmVhdGVPbkNoYW5nZShmaWVsZE5hbWUsIGFwcFN0b3JlKSwgW1xuICAgIGZpZWxkTmFtZVxuICBdKTtcbiAgY29uc3QgeyB2aXNpYmxlID0gdHJ1ZSB9ID0gZmllbGQgIT0gbnVsbCA/IGZpZWxkIDoge307XG4gIGlmICghZmllbGQgfHwgIWlkIHx8ICF2aXNpYmxlKSByZXR1cm4gbnVsbDtcbiAgaWYgKGZpZWxkLnR5cGUgPT09IFwic2xvdFwiKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjEoXCJmaWVsZFwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcbiAgICBBdXRvRmllbGRQcml2YXRlLFxuICAgIHtcbiAgICAgIGZpZWxkLFxuICAgICAgbmFtZTogZmllbGROYW1lLFxuICAgICAgaWQsXG4gICAgICByZWFkT25seTogIXBlcm1pc3Npb25zLmVkaXQgfHwgaXNSZWFkT25seSxcbiAgICAgIHZhbHVlLFxuICAgICAgb25DaGFuZ2VcbiAgICB9XG4gICkgfSwgaWQpO1xufTtcbnZhciBGaWVsZHNDaGlsZE1lbW8gPSBtZW1vMyhGaWVsZHNDaGlsZCk7XG52YXIgRmllbGRzSW50ZXJuYWwgPSAoeyB3cmFwRmllbGRzID0gdHJ1ZSB9KSA9PiB7XG4gIGNvbnN0IG92ZXJyaWRlcyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLm92ZXJyaWRlcyk7XG4gIGNvbnN0IGNvbXBvbmVudFJlc29sdmluZyA9IHVzZUFwcFN0b3JlKChzKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBsb2FkaW5nQ291bnQgPSBzLnNlbGVjdGVkSXRlbSA/IChfYSA9IHMuY29tcG9uZW50U3RhdGVbcy5zZWxlY3RlZEl0ZW0ucHJvcHMuaWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EubG9hZGluZ0NvdW50IDogKF9iID0gcy5jb21wb25lbnRTdGF0ZVtcInJvb3RcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5sb2FkaW5nQ291bnQ7XG4gICAgcmV0dXJuIChsb2FkaW5nQ291bnQgIT0gbnVsbCA/IGxvYWRpbmdDb3VudCA6IDApID4gMDtcbiAgfSk7XG4gIGNvbnN0IGl0ZW1TZWxlY3RvciA9IHVzZUFwcFN0b3JlKHVzZVNoYWxsb3c1KChzKSA9PiBzLnN0YXRlLnVpLml0ZW1TZWxlY3RvcikpO1xuICBjb25zdCBpZCA9IHVzZUFwcFN0b3JlKChzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBzLnNlbGVjdGVkSXRlbSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByb3BzLmlkO1xuICB9KTtcbiAgY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZUFwaSgpO1xuICB1c2VSZWdpc3RlckZpZWxkc1NsaWNlKGFwcFN0b3JlLCBpZCk7XG4gIGNvbnN0IGZpZWxkc0xvYWRpbmcgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5maWVsZHMubG9hZGluZyk7XG4gIGNvbnN0IGZpZWxkTmFtZXMgPSB1c2VBcHBTdG9yZShcbiAgICB1c2VTaGFsbG93NSgocykgPT4ge1xuICAgICAgaWYgKHMuZmllbGRzLmlkID09PSBpZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocy5maWVsZHMuZmllbGRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9KVxuICApO1xuICBjb25zdCBpc0xvYWRpbmcgPSBmaWVsZHNMb2FkaW5nIHx8IGNvbXBvbmVudFJlc29sdmluZztcbiAgY29uc3QgV3JhcHBlciA9IHVzZU1lbW8xMSgoKSA9PiBvdmVycmlkZXMuZmllbGRzIHx8IERlZmF1bHRGaWVsZHMsIFtvdmVycmlkZXNdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTMoXG4gICAgXCJmb3JtXCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMSh7IHdyYXBGaWVsZHMgfSksXG4gICAgICBvblN1Ym1pdDogKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyOShXcmFwcGVyLCB7IGlzTG9hZGluZywgaXRlbVNlbGVjdG9yLCBjaGlsZHJlbjogZmllbGROYW1lcy5tYXAoKGZpZWxkTmFtZSkgPT4gLyogQF9fUFVSRV9fICovIGpzeDI5KEZpZWxkc0NoaWxkTWVtbywgeyBmaWVsZE5hbWUgfSwgZmllbGROYW1lKSkgfSksXG4gICAgICAgIGlzTG9hZGluZyAmJiAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTIxKFwibG9hZGluZ092ZXJsYXlcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTIxKFwibG9hZGluZ092ZXJsYXlJbm5lclwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShMb2FkZXIsIHsgc2l6ZTogMTYgfSkgfSkgfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59O1xudmFyIEZpZWxkcyA9IG1lbW8zKEZpZWxkc0ludGVybmFsKTtcblxuLy8gY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvQ29tcG9uZW50cy9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGxpYi91c2UtY29tcG9uZW50LWxpc3QudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDIxLCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTE4IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGNvbXBvbmVudHMvQ29tcG9uZW50TGlzdC9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9Db21wb25lbnRMaXN0L3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTcgPSB7IFwiQ29tcG9uZW50TGlzdFwiOiBcIl9Db21wb25lbnRMaXN0XzFycmx0XzFcIiwgXCJDb21wb25lbnRMaXN0LS1pc0V4cGFuZGVkXCI6IFwiX0NvbXBvbmVudExpc3QtLWlzRXhwYW5kZWRfMXJybHRfNVwiLCBcIkNvbXBvbmVudExpc3QtY29udGVudFwiOiBcIl9Db21wb25lbnRMaXN0LWNvbnRlbnRfMXJybHRfOVwiLCBcIkNvbXBvbmVudExpc3QtdGl0bGVcIjogXCJfQ29tcG9uZW50TGlzdC10aXRsZV8xcnJsdF8xN1wiLCBcIkNvbXBvbmVudExpc3QtdGl0bGVJY29uXCI6IFwiX0NvbXBvbmVudExpc3QtdGl0bGVJY29uXzFycmx0XzUzXCIgfTtcblxuLy8gY29tcG9uZW50cy9Db21wb25lbnRMaXN0L2luZGV4LnRzeFxuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDIwIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MzAsIGpzeHMgYXMganN4czE0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lMjIgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJDb21wb25lbnRMaXN0XCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDE3KTtcbnZhciBDb21wb25lbnRMaXN0SXRlbSA9ICh7XG4gIG5hbWUsXG4gIGxhYmVsXG59KSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3Qgb3ZlcnJpZGVzID0gdXNlQXBwU3RvcmUoKHMpID0+IHMub3ZlcnJpZGVzKTtcbiAgY29uc3QgY2FuSW5zZXJ0ID0gdXNlQXBwU3RvcmUoXG4gICAgKHMpID0+IHMucGVybWlzc2lvbnMuZ2V0UGVybWlzc2lvbnMoe1xuICAgICAgdHlwZTogbmFtZVxuICAgIH0pLmluc2VydFxuICApO1xuICB1c2VFZmZlY3QyMCgoKSA9PiB7XG4gICAgaWYgKG92ZXJyaWRlcy5jb21wb25lbnRJdGVtKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiVGhlIGBjb21wb25lbnRJdGVtYCBvdmVycmlkZSBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCByZW5hbWVkIHRvIGBkcmF3ZXJJdGVtYFwiXG4gICAgICApO1xuICAgIH1cbiAgfSwgW292ZXJyaWRlc10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKERyYXdlci5JdGVtLCB7IGxhYmVsLCBuYW1lLCBpc0RyYWdEaXNhYmxlZDogIWNhbkluc2VydCwgY2hpbGRyZW46IChfYSA9IG92ZXJyaWRlcy5jb21wb25lbnRJdGVtKSAhPSBudWxsID8gX2EgOiBvdmVycmlkZXMuZHJhd2VySXRlbSB9KTtcbn07XG52YXIgQ29tcG9uZW50TGlzdCA9ICh7XG4gIGNoaWxkcmVuLFxuICB0aXRsZSxcbiAgaWRcbn0pID0+IHtcbiAgY29uc3QgY29uZmlnID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuY29uZmlnKTtcbiAgY29uc3Qgc2V0VWkgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5zZXRVaSk7XG4gIGNvbnN0IGNvbXBvbmVudExpc3QgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5zdGF0ZS51aS5jb21wb25lbnRMaXN0KTtcbiAgY29uc3QgeyBleHBhbmRlZCA9IHRydWUgfSA9IGNvbXBvbmVudExpc3RbaWRdIHx8IHt9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjIoeyBpc0V4cGFuZGVkOiBleHBhbmRlZCB9KSwgY2hpbGRyZW46IFtcbiAgICB0aXRsZSAmJiAvKiBAX19QVVJFX18gKi8ganN4czE0KFxuICAgICAgXCJidXR0b25cIixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMihcInRpdGxlXCIpLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiBzZXRVaSh7XG4gICAgICAgICAgY29tcG9uZW50TGlzdDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY29tcG9uZW50TGlzdCksIHtcbiAgICAgICAgICAgIFtpZF06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvbXBvbmVudExpc3RbaWRdKSwge1xuICAgICAgICAgICAgICBleHBhbmRlZDogIWV4cGFuZGVkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pLFxuICAgICAgICB0aXRsZTogZXhwYW5kZWQgPyBgQ29sbGFwc2Uke3RpdGxlID8gYCAke3RpdGxlfWAgOiBcIlwifWAgOiBgRXhwYW5kJHt0aXRsZSA/IGAgJHt0aXRsZX1gIDogXCJcIn1gLFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcImRpdlwiLCB7IGNoaWxkcmVuOiB0aXRsZSB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MzAoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTIyKFwidGl0bGVJY29uXCIpLCBjaGlsZHJlbjogZXhwYW5kZWQgPyAvKiBAX19QVVJFX18gKi8ganN4MzAoQ2hldnJvblVwLCB7IHNpemU6IDEyIH0pIDogLyogQF9fUFVSRV9fICovIGpzeDMwKENoZXZyb25Eb3duLCB7IHNpemU6IDEyIH0pIH0pXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjIoXCJjb250ZW50XCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDMwKERyYXdlciwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfHwgT2JqZWN0LmtleXMoY29uZmlnLmNvbXBvbmVudHMpLm1hcCgoY29tcG9uZW50S2V5KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKFxuICAgICAgICBDb21wb25lbnRMaXN0SXRlbSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiAoX2EgPSBjb25maWcuY29tcG9uZW50c1tjb21wb25lbnRLZXldW1wibGFiZWxcIl0pICE9IG51bGwgPyBfYSA6IGNvbXBvbmVudEtleSxcbiAgICAgICAgICBuYW1lOiBjb21wb25lbnRLZXlcbiAgICAgICAgfSxcbiAgICAgICAgY29tcG9uZW50S2V5XG4gICAgICApO1xuICAgIH0pIH0pIH0pXG4gIF0gfSk7XG59O1xuQ29tcG9uZW50TGlzdC5JdGVtID0gQ29tcG9uZW50TGlzdEl0ZW07XG5cbi8vIGxpYi91c2UtY29tcG9uZW50LWxpc3QudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MzEgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciB1c2VDb21wb25lbnRMaXN0ID0gKCkgPT4ge1xuICBjb25zdCBbY29tcG9uZW50TGlzdCwgc2V0Q29tcG9uZW50TGlzdF0gPSB1c2VTdGF0ZTE4KCk7XG4gIGNvbnN0IGNvbmZpZyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmNvbmZpZyk7XG4gIGNvbnN0IHVpQ29tcG9uZW50TGlzdCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnN0YXRlLnVpLmNvbXBvbmVudExpc3QpO1xuICB1c2VFZmZlY3QyMSgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgaWYgKE9iamVjdC5rZXlzKHVpQ29tcG9uZW50TGlzdCkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbWF0Y2hlZENvbXBvbmVudHMgPSBbXTtcbiAgICAgIGxldCBfY29tcG9uZW50TGlzdDtcbiAgICAgIF9jb21wb25lbnRMaXN0ID0gT2JqZWN0LmVudHJpZXModWlDb21wb25lbnRMaXN0KS5tYXAoXG4gICAgICAgIChbY2F0ZWdvcnlLZXksIGNhdGVnb3J5XSkgPT4ge1xuICAgICAgICAgIGlmICghY2F0ZWdvcnkuY29tcG9uZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGVnb3J5LmNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50TmFtZSkgPT4ge1xuICAgICAgICAgICAgbWF0Y2hlZENvbXBvbmVudHMucHVzaChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoY2F0ZWdvcnkudmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMxKFxuICAgICAgICAgICAgQ29tcG9uZW50TGlzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IGNhdGVnb3J5S2V5LFxuICAgICAgICAgICAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUgfHwgY2F0ZWdvcnlLZXksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBjYXRlZ29yeS5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50TmFtZSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTI7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50Q29uZiA9IGNvbmZpZy5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdIHx8IHt9O1xuICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzEoXG4gICAgICAgICAgICAgICAgICBDb21wb25lbnRMaXN0Lkl0ZW0sXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAoX2EyID0gY29tcG9uZW50Q29uZltcImxhYmVsXCJdKSAhPSBudWxsID8gX2EyIDogY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYXRlZ29yeUtleVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjb25zdCByZW1haW5pbmdDb21wb25lbnRzID0gT2JqZWN0LmtleXMoY29uZmlnLmNvbXBvbmVudHMpLmZpbHRlcihcbiAgICAgICAgKGNvbXBvbmVudCkgPT4gbWF0Y2hlZENvbXBvbmVudHMuaW5kZXhPZihjb21wb25lbnQpID09PSAtMVxuICAgICAgKTtcbiAgICAgIGlmIChyZW1haW5pbmdDb21wb25lbnRzLmxlbmd0aCA+IDAgJiYgISgoX2EgPSB1aUNvbXBvbmVudExpc3Qub3RoZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb21wb25lbnRzKSAmJiAoKF9iID0gdWlDb21wb25lbnRMaXN0Lm90aGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2IudmlzaWJsZSkgIT09IGZhbHNlKSB7XG4gICAgICAgIF9jb21wb25lbnRMaXN0LnB1c2goXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMxKFxuICAgICAgICAgICAgQ29tcG9uZW50TGlzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IFwib3RoZXJcIixcbiAgICAgICAgICAgICAgdGl0bGU6ICgoX2MgPSB1aUNvbXBvbmVudExpc3Qub3RoZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYy50aXRsZSkgfHwgXCJPdGhlclwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogcmVtYWluaW5nQ29tcG9uZW50cy5tYXAoKGNvbXBvbmVudE5hbWUsIGkpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudENvbmYgPSBjb25maWcuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSB8fCB7fTtcbiAgICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMxKFxuICAgICAgICAgICAgICAgICAgQ29tcG9uZW50TGlzdC5JdGVtLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogKF9hMiA9IGNvbXBvbmVudENvbmZbXCJsYWJlbFwiXSkgIT0gbnVsbCA/IF9hMiA6IGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJvdGhlclwiXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgc2V0Q29tcG9uZW50TGlzdChfY29tcG9uZW50TGlzdCk7XG4gICAgfVxuICB9LCBbY29uZmlnLmNhdGVnb3JpZXMsIGNvbmZpZy5jb21wb25lbnRzLCB1aUNvbXBvbmVudExpc3RdKTtcbiAgcmV0dXJuIGNvbXBvbmVudExpc3Q7XG59O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9Db21wb25lbnRzL2luZGV4LnRzeFxuaW1wb3J0IHsgdXNlTWVtbyBhcyB1c2VNZW1vMTIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gzMiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIENvbXBvbmVudHMgPSAoKSA9PiB7XG4gIGNvbnN0IG92ZXJyaWRlcyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLm92ZXJyaWRlcyk7XG4gIGNvbnN0IGNvbXBvbmVudExpc3QgPSB1c2VDb21wb25lbnRMaXN0KCk7XG4gIGNvbnN0IFdyYXBwZXIgPSB1c2VNZW1vMTIoKCkgPT4ge1xuICAgIGlmIChvdmVycmlkZXMuY29tcG9uZW50cykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlRoZSBgY29tcG9uZW50c2Agb3ZlcnJpZGUgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgcmVuYW1lZCB0byBgZHJhd2VyYFwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb3ZlcnJpZGVzLmNvbXBvbmVudHMgfHwgb3ZlcnJpZGVzLmRyYXdlciB8fCBcImRpdlwiO1xuICB9LCBbb3ZlcnJpZGVzXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzIoV3JhcHBlciwgeyBjaGlsZHJlbjogY29tcG9uZW50TGlzdCA/IGNvbXBvbmVudExpc3QgOiAvKiBAX19QVVJFX18gKi8ganN4MzIoQ29tcG9uZW50TGlzdCwgeyBpZDogXCJhbGxcIiB9KSB9KTtcbn07XG5cbi8vIGNvbXBvbmVudHMvUHVjay9jb21wb25lbnRzL1ByZXZpZXcvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2sxMywgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDIzLCB1c2VSZWYgYXMgdXNlUmVmNywgdXNlTWVtbyBhcyB1c2VNZW1vMTMgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY29tcG9uZW50cy9BdXRvRnJhbWUvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHtcbiAgY3JlYXRlQ29udGV4dCBhcyBjcmVhdGVDb250ZXh0NixcbiAgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MTAsXG4gIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyMixcbiAgdXNlU3RhdGUgYXMgdXNlU3RhdGUxOVxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBoYXNoIGZyb20gXCJvYmplY3QtaGFzaFwiO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIGFzIGNyZWF0ZVBvcnRhbDMgfSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDksIGpzeCBhcyBqc3gzMyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIHN0eWxlU2VsZWN0b3IgPSAnc3R5bGUsIGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXSc7XG52YXIgY29sbGVjdFN0eWxlcyA9IChkb2MpID0+IHtcbiAgY29uc3QgY29sbGVjdGVkID0gW107XG4gIGRvYy5xdWVyeVNlbGVjdG9yQWxsKHN0eWxlU2VsZWN0b3IpLmZvckVhY2goKHN0eWxlKSA9PiB7XG4gICAgaWYgKHN0eWxlLnRhZ05hbWUgPT09IFwiU1RZTEVcIikge1xuICAgICAgY29uc3QgaGFzQ29udGVudCA9ICEhc3R5bGUuaW5uZXJIVE1MLnRyaW0oKTtcbiAgICAgIGlmIChoYXNDb250ZW50KSB7XG4gICAgICAgIGNvbGxlY3RlZC5wdXNoKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29sbGVjdGVkLnB1c2goc3R5bGUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjb2xsZWN0ZWQ7XG59O1xudmFyIGdldFN0eWxlU2hlZXQgPSAoZWwpID0+IHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQuc3R5bGVTaGVldHMpLmZpbmQoKHNzKSA9PiB7XG4gICAgY29uc3Qgb3duZXJOb2RlID0gc3Mub3duZXJOb2RlO1xuICAgIHJldHVybiBvd25lck5vZGUuaHJlZiA9PT0gZWwuaHJlZjtcbiAgfSk7XG59O1xudmFyIGdldFN0eWxlcyA9IChzdHlsZVNoZWV0KSA9PiB7XG4gIGlmIChzdHlsZVNoZWV0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBbLi4uQXJyYXkuZnJvbShzdHlsZVNoZWV0LmNzc1J1bGVzKV0ubWFwKChydWxlKSA9PiBydWxlLmNzc1RleHQpLmpvaW4oXCJcIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIkFjY2VzcyB0byBzdHlsZXNoZWV0ICVzIGlzIGRlbmllZC4gSWdub3JpbmdcXHUyMDI2XCIsXG4gICAgICAgIHN0eWxlU2hlZXQuaHJlZlxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59O1xudmFyIHN5bmNBdHRyaWJ1dGVzID0gKHNvdXJjZUVsZW1lbnQsIHRhcmdldEVsZW1lbnQpID0+IHtcbiAgY29uc3QgYXR0cmlidXRlcyA9IHNvdXJjZUVsZW1lbnQuYXR0cmlidXRlcztcbiAgaWYgKChhdHRyaWJ1dGVzID09IG51bGwgPyB2b2lkIDAgOiBhdHRyaWJ1dGVzLmxlbmd0aCkgPiAwKSB7XG4gICAgQXJyYXkuZnJvbShhdHRyaWJ1dGVzKS5mb3JFYWNoKChhdHRyaWJ1dGUpID0+IHtcbiAgICAgIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZS5uYW1lLCBhdHRyaWJ1dGUudmFsdWUpO1xuICAgIH0pO1xuICB9XG59O1xudmFyIGRlZmVyID0gKGZuKSA9PiBzZXRUaW1lb3V0KGZuLCAwKTtcbnZhciBDb3B5SG9zdFN0eWxlcyA9ICh7XG4gIGNoaWxkcmVuLFxuICBkZWJ1ZyA9IGZhbHNlLFxuICBvblN0eWxlc0xvYWRlZCA9ICgpID0+IG51bGxcbn0pID0+IHtcbiAgY29uc3QgeyBkb2N1bWVudDogZG9jLCB3aW5kb3c6IHdpbiB9ID0gdXNlRnJhbWUoKTtcbiAgdXNlRWZmZWN0MjIoKCkgPT4ge1xuICAgIGlmICghd2luIHx8ICFkb2MpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgZWxlbWVudHMgPSBbXTtcbiAgICBjb25zdCBoYXNoZXMgPSB7fTtcbiAgICBjb25zdCBsb29rdXBFbCA9IChlbCkgPT4gZWxlbWVudHMuZmluZEluZGV4KChlbGVtZW50TWFwKSA9PiBlbGVtZW50TWFwLm9yaWdpbmFsID09PSBlbCk7XG4gICAgY29uc3QgbWlycm9yRWwgPSAoZWwsIGlubGluZVN0eWxlcyA9IGZhbHNlKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGxldCBtaXJyb3I7XG4gICAgICBpZiAoZWwubm9kZU5hbWUgPT09IFwiTElOS1wiICYmIGlubGluZVN0eWxlcykge1xuICAgICAgICBtaXJyb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIG1pcnJvci50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgICAgICBsZXQgc3R5bGVTaGVldCA9IGdldFN0eWxlU2hlZXQoZWwpO1xuICAgICAgICBpZiAoIXN0eWxlU2hlZXQpIHtcbiAgICAgICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZm4pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZuKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdHlsZVNoZWV0ID0gZ2V0U3R5bGVTaGVldChlbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGVzMiA9IGdldFN0eWxlcyhzdHlsZVNoZWV0KTtcbiAgICAgICAgaWYgKCFzdHlsZXMyKSB7XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIGBUcmllZCB0byBsb2FkIHN0eWxlcyBmb3IgbGluayBlbGVtZW50LCBidXQgY291bGRuJ3QgZmluZCB0aGVtLiBTa2lwcGluZy4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtaXJyb3IuaW5uZXJIVE1MID0gc3R5bGVzMjtcbiAgICAgICAgbWlycm9yLnNldEF0dHJpYnV0ZShcImRhdGEtaHJlZlwiLCBlbC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pcnJvciA9IGVsLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtaXJyb3I7XG4gICAgfSk7XG4gICAgY29uc3QgYWRkRWwgPSAoZWwpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgaW5kZXggPSBsb29rdXBFbChlbCk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgVHJpZWQgdG8gYWRkIGFuIGVsZW1lbnQgdGhhdCB3YXMgYWxyZWFkeSBtaXJyb3JlZC4gVXBkYXRpbmcgaW5zdGVhZC4uLmBcbiAgICAgICAgICApO1xuICAgICAgICBlbGVtZW50c1tpbmRleF0ubWlycm9yLmlubmVyVGV4dCA9IGVsLmlubmVyVGV4dDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbWlycm9yID0geWllbGQgbWlycm9yRWwoZWwpO1xuICAgICAgaWYgKCFtaXJyb3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZWxIYXNoID0gaGFzaChtaXJyb3Iub3V0ZXJIVE1MKTtcbiAgICAgIGlmIChoYXNoZXNbZWxIYXNoXSkge1xuICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgaWZyYW1lIGFscmVhZHkgY29udGFpbnMgZWxlbWVudCB0aGF0IGlzIGJlaW5nIG1pcnJvcmVkLiBTa2lwcGluZy4uLmBcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBoYXNoZXNbZWxIYXNoXSA9IHRydWU7XG4gICAgICBkb2MuaGVhZC5hcHBlbmQobWlycm9yKTtcbiAgICAgIGVsZW1lbnRzLnB1c2goeyBvcmlnaW5hbDogZWwsIG1pcnJvciB9KTtcbiAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coYEFkZGVkIHN0eWxlIG5vZGUgJHtlbC5vdXRlckhUTUx9YCk7XG4gICAgfSk7XG4gICAgY29uc3QgcmVtb3ZlRWwgPSAoZWwpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBjb25zdCBpbmRleCA9IGxvb2t1cEVsKGVsKTtcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYFRyaWVkIHRvIHJlbW92ZSBhbiBlbGVtZW50IHRoYXQgZGlkIG5vdCBleGlzdC4gU2tpcHBpbmcuLi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZWxIYXNoID0gaGFzaChlbC5vdXRlckhUTUwpO1xuICAgICAgKF9iID0gKF9hID0gZWxlbWVudHNbaW5kZXhdKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWlycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2IucmVtb3ZlKCk7XG4gICAgICBkZWxldGUgaGFzaGVzW2VsSGFzaF07XG4gICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKGBSZW1vdmVkIHN0eWxlIG5vZGUgJHtlbC5vdXRlckhUTUx9YCk7XG4gICAgfTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gXCJjaGlsZExpc3RcIikge1xuICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsID0gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgPyBub2RlLnBhcmVudEVsZW1lbnQgOiBub2RlO1xuICAgICAgICAgICAgICBpZiAoZWwgJiYgZWwubWF0Y2hlcyhzdHlsZVNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgIGRlZmVyKCgpID0+IGFkZEVsKGVsKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBtdXRhdGlvbi5yZW1vdmVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsID0gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUgPyBub2RlLnBhcmVudEVsZW1lbnQgOiBub2RlO1xuICAgICAgICAgICAgICBpZiAoZWwgJiYgZWwubWF0Y2hlcyhzdHlsZVNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgIGRlZmVyKCgpID0+IHJlbW92ZUVsKGVsKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgcGFyZW50RG9jdW1lbnQgPSB3aW4ucGFyZW50LmRvY3VtZW50O1xuICAgIGNvbnN0IGNvbGxlY3RlZFN0eWxlcyA9IGNvbGxlY3RTdHlsZXMocGFyZW50RG9jdW1lbnQpO1xuICAgIGNvbnN0IGhyZWZzID0gW107XG4gICAgbGV0IHN0eWxlc0xvYWRlZCA9IDA7XG4gICAgY29uc3QgcGFyZW50SHRtbCA9IHBhcmVudERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaHRtbFwiKVswXTtcbiAgICBzeW5jQXR0cmlidXRlcyhwYXJlbnRIdG1sLCBkb2MuZG9jdW1lbnRFbGVtZW50KTtcbiAgICBjb25zdCBwYXJlbnRCb2R5ID0gcGFyZW50RG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO1xuICAgIHN5bmNBdHRyaWJ1dGVzKHBhcmVudEJvZHksIGRvYy5ib2R5KTtcbiAgICBQcm9taXNlLmFsbChcbiAgICAgIGNvbGxlY3RlZFN0eWxlcy5tYXAoKHN0eWxlTm9kZSwgaSkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmIChzdHlsZU5vZGUubm9kZU5hbWUgPT09IFwiTElOS1wiKSB7XG4gICAgICAgICAgY29uc3QgbGlua0hyZWYgPSBzdHlsZU5vZGUuaHJlZjtcbiAgICAgICAgICBpZiAoaHJlZnMuaW5kZXhPZihsaW5rSHJlZikgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBocmVmcy5wdXNoKGxpbmtIcmVmKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtaXJyb3IgPSB5aWVsZCBtaXJyb3JFbChzdHlsZU5vZGUpO1xuICAgICAgICBpZiAoIW1pcnJvcikgcmV0dXJuO1xuICAgICAgICBlbGVtZW50cy5wdXNoKHsgb3JpZ2luYWw6IHN0eWxlTm9kZSwgbWlycm9yIH0pO1xuICAgICAgICByZXR1cm4gbWlycm9yO1xuICAgICAgfSkpXG4gICAgKS50aGVuKChtaXJyb3JTdHlsZXMpID0+IHtcbiAgICAgIGNvbnN0IGZpbHRlcmVkID0gbWlycm9yU3R5bGVzLmZpbHRlcihcbiAgICAgICAgKGVsKSA9PiB0eXBlb2YgZWwgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICk7XG4gICAgICBmaWx0ZXJlZC5mb3JFYWNoKChtaXJyb3IpID0+IHtcbiAgICAgICAgbWlycm9yLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBzdHlsZXNMb2FkZWQgPSBzdHlsZXNMb2FkZWQgKyAxO1xuICAgICAgICAgIGlmIChzdHlsZXNMb2FkZWQgPj0gZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBvblN0eWxlc0xvYWRlZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbWlycm9yLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBBdXRvRnJhbWUgY291bGRuJ3QgbG9hZCBhIHN0eWxlc2hlZXRgKTtcbiAgICAgICAgICBzdHlsZXNMb2FkZWQgPSBzdHlsZXNMb2FkZWQgKyAxO1xuICAgICAgICAgIGlmIChzdHlsZXNMb2FkZWQgPj0gZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBvblN0eWxlc0xvYWRlZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgZG9jLmhlYWQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIGRvYy5oZWFkLmFwcGVuZCguLi5maWx0ZXJlZCk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHBhcmVudERvY3VtZW50LmhlYWQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuICAgICAgZmlsdGVyZWQuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgY29uc3QgZWxIYXNoID0gaGFzaChlbC5vdXRlckhUTUwpO1xuICAgICAgICBoYXNoZXNbZWxIYXNoXSA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMyhGcmFnbWVudDksIHsgY2hpbGRyZW4gfSk7XG59O1xudmFyIGF1dG9GcmFtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0Nih7fSk7XG52YXIgdXNlRnJhbWUgPSAoKSA9PiB1c2VDb250ZXh0MTAoYXV0b0ZyYW1lQ29udGV4dCk7XG5mdW5jdGlvbiBBdXRvRnJhbWUoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgZGVidWcsXG4gICAgaWQsXG4gICAgb25SZWFkeSA9ICgpID0+IHtcbiAgICB9LFxuICAgIG9uTm90UmVhZHkgPSAoKSA9PiB7XG4gICAgfSxcbiAgICBmcmFtZVJlZlxuICB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJjaGlsZHJlblwiLFxuICAgIFwiY2xhc3NOYW1lXCIsXG4gICAgXCJkZWJ1Z1wiLFxuICAgIFwiaWRcIixcbiAgICBcIm9uUmVhZHlcIixcbiAgICBcIm9uTm90UmVhZHlcIixcbiAgICBcImZyYW1lUmVmXCJcbiAgXSk7XG4gIGNvbnN0IFtsb2FkZWQsIHNldExvYWRlZF0gPSB1c2VTdGF0ZTE5KGZhbHNlKTtcbiAgY29uc3QgW2N0eCwgc2V0Q3R4XSA9IHVzZVN0YXRlMTkoe30pO1xuICBjb25zdCBbbW91bnRUYXJnZXQsIHNldE1vdW50VGFyZ2V0XSA9IHVzZVN0YXRlMTkoKTtcbiAgY29uc3QgW3N0eWxlc0xvYWRlZCwgc2V0U3R5bGVzTG9hZGVkXSA9IHVzZVN0YXRlMTkoZmFsc2UpO1xuICB1c2VFZmZlY3QyMigoKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBpZiAoZnJhbWVSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgZG9jID0gZnJhbWVSZWYuY3VycmVudC5jb250ZW50RG9jdW1lbnQ7XG4gICAgICBjb25zdCB3aW4gPSBmcmFtZVJlZi5jdXJyZW50LmNvbnRlbnRXaW5kb3c7XG4gICAgICBzZXRDdHgoe1xuICAgICAgICBkb2N1bWVudDogZG9jIHx8IHZvaWQgMCxcbiAgICAgICAgd2luZG93OiB3aW4gfHwgdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHNldE1vdW50VGFyZ2V0KFxuICAgICAgICAoX2EyID0gZnJhbWVSZWYuY3VycmVudC5jb250ZW50RG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ2V0RWxlbWVudEJ5SWQoXCJmcmFtZS1yb290XCIpXG4gICAgICApO1xuICAgICAgaWYgKGRvYyAmJiB3aW4gJiYgc3R5bGVzTG9hZGVkKSB7XG4gICAgICAgIG9uUmVhZHkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uTm90UmVhZHkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtmcmFtZVJlZiwgbG9hZGVkLCBzdHlsZXNMb2FkZWRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMyhcbiAgICBcImlmcmFtZVwiLFxuICAgIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwge1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgaWQsXG4gICAgICBzcmNEb2M6ICc8IURPQ1RZUEUgaHRtbD48aHRtbD48aGVhZD48L2hlYWQ+PGJvZHk+PGRpdiBpZD1cImZyYW1lLXJvb3RcIiBkYXRhLXB1Y2stZW50cnk+PC9kaXY+PC9ib2R5PjwvaHRtbD4nLFxuICAgICAgcmVmOiBmcmFtZVJlZixcbiAgICAgIG9uTG9hZDogKCkgPT4ge1xuICAgICAgICBzZXRMb2FkZWQodHJ1ZSk7XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzMyhhdXRvRnJhbWVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjdHgsIGNoaWxkcmVuOiBsb2FkZWQgJiYgbW91bnRUYXJnZXQgJiYgLyogQF9fUFVSRV9fICovIGpzeDMzKFxuICAgICAgICBDb3B5SG9zdFN0eWxlcyxcbiAgICAgICAge1xuICAgICAgICAgIGRlYnVnLFxuICAgICAgICAgIG9uU3R5bGVzTG9hZGVkOiAoKSA9PiBzZXRTdHlsZXNMb2FkZWQodHJ1ZSksXG4gICAgICAgICAgY2hpbGRyZW46IGNyZWF0ZVBvcnRhbDMoY2hpbGRyZW4sIG1vdW50VGFyZ2V0KVxuICAgICAgICB9XG4gICAgICApIH0pXG4gICAgfSlcbiAgKTtcbn1cbkF1dG9GcmFtZS5kaXNwbGF5TmFtZSA9IFwiQXV0b0ZyYW1lXCI7XG52YXIgQXV0b0ZyYW1lX2RlZmF1bHQgPSBBdXRvRnJhbWU7XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvUHJldmlldy9zdHlsZXMubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHN0eWxlc19tb2R1bGVfZGVmYXVsdDE4ID0geyBcIlB1Y2tQcmV2aWV3XCI6IFwiX1B1Y2tQcmV2aWV3X3oycmd1XzFcIiwgXCJQdWNrUHJldmlldy1mcmFtZVwiOiBcIl9QdWNrUHJldmlldy1mcmFtZV96MnJndV82XCIgfTtcblxuLy8gY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvUHJldmlldy9pbmRleC50c3hcbmltcG9ydCB7IEZyYWdtZW50IGFzIEZyYWdtZW50MTAsIGpzeCBhcyBqc3gzNCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTIzID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiUHVja1ByZXZpZXdcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTgpO1xudmFyIHVzZUJ1YmJsZUlmcmFtZUV2ZW50cyA9IChyZWYpID0+IHtcbiAgY29uc3Qgc3RhdHVzID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuc3RhdHVzKTtcbiAgdXNlRWZmZWN0MjMoKCkgPT4ge1xuICAgIGlmIChyZWYuY3VycmVudCAmJiBzdGF0dXMgPT09IFwiUkVBRFlcIikge1xuICAgICAgY29uc3QgaWZyYW1lID0gcmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBoYW5kbGVQb2ludGVyTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBldnQgPSBuZXcgQnViYmxlZFBvaW50ZXJFdmVudChcInBvaW50ZXJtb3ZlXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGV2ZW50KSwge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICAgICAgY2xpZW50WDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICBjbGllbnRZOiBldmVudC5jbGllbnRZLFxuICAgICAgICAgIG9yaWdpbmFsVGFyZ2V0OiBldmVudC50YXJnZXRcbiAgICAgICAgfSkpO1xuICAgICAgICBpZnJhbWUuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHVucmVnaXN0ZXIoKTtcbiAgICAgICAgKF9hID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgXCJwb2ludGVybW92ZVwiLFxuICAgICAgICAgIGhhbmRsZVBvaW50ZXJNb3ZlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgY29uc3QgdW5yZWdpc3RlciA9ICgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBpZnJhbWUuY29udGVudERvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBcInBvaW50ZXJtb3ZlXCIsXG4gICAgICAgICAgaGFuZGxlUG9pbnRlck1vdmVcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICByZWdpc3RlcigpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdW5yZWdpc3RlcigpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtzdGF0dXNdKTtcbn07XG52YXIgUHJldmlldzIgPSAoeyBpZCA9IFwicHVjay1wcmV2aWV3XCIgfSkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmRpc3BhdGNoKTtcbiAgY29uc3Qgcm9vdCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnN0YXRlLmRhdGEucm9vdCk7XG4gIGNvbnN0IGNvbmZpZyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmNvbmZpZyk7XG4gIGNvbnN0IHNldFN0YXR1cyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnNldFN0YXR1cyk7XG4gIGNvbnN0IGlmcmFtZSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmlmcmFtZSk7XG4gIGNvbnN0IG92ZXJyaWRlcyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLm92ZXJyaWRlcyk7XG4gIGNvbnN0IG1ldGFkYXRhID0gdXNlQXBwU3RvcmUoKHMpID0+IHMubWV0YWRhdGEpO1xuICBjb25zdCByZW5kZXJEYXRhID0gdXNlQXBwU3RvcmUoXG4gICAgKHMpID0+IHMuc3RhdGUudWkucHJldmlld01vZGUgPT09IFwiZWRpdFwiID8gbnVsbCA6IHMuc3RhdGUuZGF0YVxuICApO1xuICBjb25zdCBQYWdlID0gdXNlQ2FsbGJhY2sxMyhcbiAgICAocGFnZVByb3BzKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgY29uc3QgcHJvcHNXaXRoU2xvdHMgPSB1c2VTbG90cyhcbiAgICAgICAgY29uZmlnLFxuICAgICAgICB7IHR5cGU6IFwicm9vdFwiLCBwcm9wczogcGFnZVByb3BzIH0sXG4gICAgICAgIERyb3Bab25lRWRpdFB1cmVcbiAgICAgICk7XG4gICAgICByZXR1cm4gKChfYSA9IGNvbmZpZy5yb290KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVuZGVyKSA/IChfYiA9IGNvbmZpZy5yb290KSA9PSBudWxsID8gdm9pZCAwIDogX2IucmVuZGVyKF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgaWQ6IFwicHVjay1yb290XCJcbiAgICAgIH0sIHByb3BzV2l0aFNsb3RzKSkgOiAvKiBAX19QVVJFX18gKi8ganN4MzQoRnJhZ21lbnQxMCwgeyBjaGlsZHJlbjogcHJvcHNXaXRoU2xvdHMuY2hpbGRyZW4gfSk7XG4gICAgfSxcbiAgICBbY29uZmlnXVxuICApO1xuICBjb25zdCBGcmFtZSA9IHVzZU1lbW8xMygoKSA9PiBvdmVycmlkZXMuaWZyYW1lLCBbb3ZlcnJpZGVzXSk7XG4gIGNvbnN0IHJvb3RQcm9wcyA9IHJvb3QucHJvcHMgfHwgcm9vdDtcbiAgY29uc3QgcmVmID0gdXNlUmVmNyhudWxsKTtcbiAgdXNlQnViYmxlSWZyYW1lRXZlbnRzKHJlZik7XG4gIGNvbnN0IGlubmVyID0gIXJlbmRlckRhdGEgPyAvKiBAX19QVVJFX18gKi8ganN4MzQoXG4gICAgUGFnZSxcbiAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCByb290UHJvcHMpLCB7XG4gICAgICBwdWNrOiB7XG4gICAgICAgIHJlbmRlckRyb3Bab25lOiBEcm9wWm9uZVB1cmUsXG4gICAgICAgIGlzRWRpdGluZzogdHJ1ZSxcbiAgICAgICAgZHJhZ1JlZjogbnVsbCxcbiAgICAgICAgbWV0YWRhdGFcbiAgICAgIH0sXG4gICAgICBlZGl0TW9kZTogdHJ1ZSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzQoRHJvcFpvbmVQdXJlLCB7IHpvbmU6IHJvb3REcm9wcGFibGVJZCB9KVxuICAgIH0pXG4gICkgOiAvKiBAX19QVVJFX18gKi8ganN4MzQoUmVuZGVyLCB7IGRhdGE6IHJlbmRlckRhdGEsIGNvbmZpZywgbWV0YWRhdGEgfSk7XG4gIHVzZUVmZmVjdDIzKCgpID0+IHtcbiAgICBpZiAoIWlmcmFtZS5lbmFibGVkKSB7XG4gICAgICBzZXRTdGF0dXMoXCJSRUFEWVwiKTtcbiAgICB9XG4gIH0sIFtpZnJhbWUuZW5hYmxlZF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDM0KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMygpLFxuICAgICAgaWQsXG4gICAgICBcImRhdGEtcHVjay1wcmV2aWV3XCI6IHRydWUsXG4gICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZShcImRhdGEtcHVjay1jb21wb25lbnRcIikgJiYgIWVsLmhhc0F0dHJpYnV0ZShcImRhdGEtcHVjay1kcm9wem9uZVwiKSkge1xuICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJzZXRVaVwiLCB1aTogeyBpdGVtU2VsZWN0b3I6IG51bGwgfSB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBpZnJhbWUuZW5hYmxlZCA/IC8qIEBfX1BVUkVfXyAqLyBqc3gzNChcbiAgICAgICAgQXV0b0ZyYW1lX2RlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogXCJwcmV2aWV3LWZyYW1lXCIsXG4gICAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyMyhcImZyYW1lXCIpLFxuICAgICAgICAgIFwiZGF0YS1yZmQtaWZyYW1lXCI6IHRydWUsXG4gICAgICAgICAgb25SZWFkeTogKCkgPT4ge1xuICAgICAgICAgICAgc2V0U3RhdHVzKFwiUkVBRFlcIik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbk5vdFJlYWR5OiAoKSA9PiB7XG4gICAgICAgICAgICBzZXRTdGF0dXMoXCJNT1VOVEVEXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnJhbWVSZWY6IHJlZixcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM0KGF1dG9GcmFtZUNvbnRleHQuQ29uc3VtZXIsIHsgY2hpbGRyZW46ICh7IGRvY3VtZW50OiBkb2N1bWVudDIgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKEZyYW1lKSB7XG4gICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzQoRnJhbWUsIHsgZG9jdW1lbnQ6IGRvY3VtZW50MiwgY2hpbGRyZW46IGlubmVyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlubmVyO1xuICAgICAgICAgIH0gfSlcbiAgICAgICAgfVxuICAgICAgKSA6IC8qIEBfX1BVUkVfXyAqLyBqc3gzNChcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcInByZXZpZXctZnJhbWVcIixcbiAgICAgICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTIzKFwiZnJhbWVcIiksXG4gICAgICAgICAgcmVmLFxuICAgICAgICAgIFwiZGF0YS1wdWNrLWVudHJ5XCI6IHRydWUsXG4gICAgICAgICAgY2hpbGRyZW46IGlubmVyXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9PdXRsaW5lL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gY29tcG9uZW50cy9MYXllclRyZWUvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvTGF5ZXJUcmVlL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTkgPSB7IFwiTGF5ZXJUcmVlXCI6IFwiX0xheWVyVHJlZV83cngwNF8xXCIsIFwiTGF5ZXJUcmVlLXpvbmVUaXRsZVwiOiBcIl9MYXllclRyZWUtem9uZVRpdGxlXzdyeDA0XzExXCIsIFwiTGF5ZXJUcmVlLWhlbHBlclwiOiBcIl9MYXllclRyZWUtaGVscGVyXzdyeDA0XzE3XCIsIFwiTGF5ZXJcIjogXCJfTGF5ZXJfN3J4MDRfMVwiLCBcIkxheWVyLWlubmVyXCI6IFwiX0xheWVyLWlubmVyXzdyeDA0XzI5XCIsIFwiTGF5ZXItLWNvbnRhaW5zWm9uZVwiOiBcIl9MYXllci0tY29udGFpbnNab25lXzdyeDA0XzM1XCIsIFwiTGF5ZXItY2xpY2thYmxlXCI6IFwiX0xheWVyLWNsaWNrYWJsZV83cngwNF8zOVwiLCBcIkxheWVyLS1pc1NlbGVjdGVkXCI6IFwiX0xheWVyLS1pc1NlbGVjdGVkXzdyeDA0XzYxXCIsIFwiTGF5ZXItY2hldnJvblwiOiBcIl9MYXllci1jaGV2cm9uXzdyeDA0Xzc3XCIsIFwiTGF5ZXItLWNoaWxkSXNTZWxlY3RlZFwiOiBcIl9MYXllci0tY2hpbGRJc1NlbGVjdGVkXzdyeDA0Xzc4XCIsIFwiTGF5ZXItem9uZXNcIjogXCJfTGF5ZXItem9uZXNfN3J4MDRfODJcIiwgXCJMYXllci10aXRsZVwiOiBcIl9MYXllci10aXRsZV83cngwNF85NlwiLCBcIkxheWVyLW5hbWVcIjogXCJfTGF5ZXItbmFtZV83cngwNF8xMDVcIiwgXCJMYXllci1pY29uXCI6IFwiX0xheWVyLWljb25fN3J4MDRfMTExXCIsIFwiTGF5ZXItem9uZUljb25cIjogXCJfTGF5ZXItem9uZUljb25fN3J4MDRfMTE2XCIgfTtcblxuLy8gbGliL3Njcm9sbC1pbnRvLXZpZXcudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc2Nyb2xsSW50b1ZpZXcgPSAoZWwpID0+IHtcbiAgY29uc3Qgb2xkU3R5bGUgPSBfX3NwcmVhZFZhbHVlcyh7fSwgZWwuc3R5bGUpO1xuICBlbC5zdHlsZS5zY3JvbGxNYXJnaW4gPSBcIjI1NnB4XCI7XG4gIGlmIChlbCkge1xuICAgIGVsID09IG51bGwgPyB2b2lkIDAgOiBlbC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuICAgIGVsLnN0eWxlLnNjcm9sbE1hcmdpbiA9IG9sZFN0eWxlLnNjcm9sbE1hcmdpbiB8fCBcIlwiO1xuICB9XG59O1xuXG4vLyBjb21wb25lbnRzL0xheWVyVHJlZS9pbmRleC50c3hcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrMTQsIHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDExIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9vbi1zY3JvbGwtZW5kLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIG9uU2Nyb2xsRW5kID0gKGZyYW1lLCBjYikgPT4ge1xuICBsZXQgc2Nyb2xsVGltZW91dDtcbiAgY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhclRpbWVvdXQoc2Nyb2xsVGltZW91dCk7XG4gICAgc2Nyb2xsVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBjYigpO1xuICAgICAgZnJhbWUgPT0gbnVsbCA/IHZvaWQgMCA6IGZyYW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgY2FsbGJhY2spO1xuICAgIH0sIDUwKTtcbiAgfTtcbiAgZnJhbWUgPT0gbnVsbCA/IHZvaWQgMCA6IGZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgY2FsbGJhY2spO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoIXNjcm9sbFRpbWVvdXQpIHtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9LCA1MCk7XG59O1xuXG4vLyBjb21wb25lbnRzL0xheWVyVHJlZS9pbmRleC50c3hcbmltcG9ydCB7IHVzZVNoYWxsb3cgYXMgdXNlU2hhbGxvdzYgfSBmcm9tIFwienVzdGFuZC9yZWFjdC9zaGFsbG93XCI7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDExLCBqc3ggYXMganN4MzUsIGpzeHMgYXMganN4czE1IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lMjQgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJMYXllclRyZWVcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTkpO1xudmFyIGdldENsYXNzTmFtZUxheWVyID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiTGF5ZXJcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTkpO1xudmFyIExheWVyID0gKHtcbiAgaW5kZXgsXG4gIGl0ZW1JZCxcbiAgem9uZUNvbXBvdW5kXG59KSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgY29uZmlnID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuY29uZmlnKTtcbiAgY29uc3QgaXRlbVNlbGVjdG9yID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuc3RhdGUudWkuaXRlbVNlbGVjdG9yKTtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VBcHBTdG9yZSgocykgPT4gcy5kaXNwYXRjaCk7XG4gIGNvbnN0IHNldEl0ZW1TZWxlY3RvciA9IHVzZUNhbGxiYWNrMTQoXG4gICAgKGl0ZW1TZWxlY3RvcjIpID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJzZXRVaVwiLCB1aTogeyBpdGVtU2VsZWN0b3I6IGl0ZW1TZWxlY3RvcjIgfSB9KTtcbiAgICB9LFxuICAgIFtkaXNwYXRjaF1cbiAgKTtcbiAgY29uc3Qgc2VsZWNlZEl0ZW1JZCA9IHVzZUFwcFN0b3JlKChzKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICByZXR1cm4gKF9hMiA9IHMuc2VsZWN0ZWRJdGVtKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnByb3BzLmlkO1xuICB9KTtcbiAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjZWRJdGVtSWQgPT09IGl0ZW1JZCB8fCBpdGVtU2VsZWN0b3IgJiYgaXRlbVNlbGVjdG9yLnpvbmUgPT09IHJvb3REcm9wcGFibGVJZCAmJiAhem9uZUNvbXBvdW5kO1xuICBjb25zdCBub2RlRGF0YSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnN0YXRlLmluZGV4ZXMubm9kZXNbaXRlbUlkXSk7XG4gIGNvbnN0IHpvbmVzRm9ySXRlbSA9IHVzZUFwcFN0b3JlKFxuICAgIHVzZVNoYWxsb3c2KFxuICAgICAgKHMpID0+IE9iamVjdC5rZXlzKHMuc3RhdGUuaW5kZXhlcy56b25lcykuZmlsdGVyKFxuICAgICAgICAoeikgPT4gei5zcGxpdChcIjpcIilbMF0gPT09IGl0ZW1JZFxuICAgICAgKVxuICAgIClcbiAgKTtcbiAgY29uc3QgY29udGFpbnNab25lID0gem9uZXNGb3JJdGVtLmxlbmd0aCA+IDA7XG4gIGNvbnN0IHpvbmVTdG9yZSA9IHVzZUNvbnRleHQxMShab25lU3RvcmVDb250ZXh0KTtcbiAgY29uc3QgaXNIb3ZlcmluZyA9IHVzZUNvbnRleHRTdG9yZShcbiAgICBab25lU3RvcmVDb250ZXh0LFxuICAgIChzKSA9PiBzLmhvdmVyaW5nQ29tcG9uZW50ID09PSBpdGVtSWRcbiAgKTtcbiAgY29uc3QgY2hpbGRJc1NlbGVjdGVkID0gdXNlQXBwU3RvcmUoKHMpID0+IHtcbiAgICB2YXIgX2EyLCBfYjtcbiAgICBjb25zdCBzZWxlY3RlZERhdGEgPSBzLnN0YXRlLmluZGV4ZXMubm9kZXNbKF9hMiA9IHMuc2VsZWN0ZWRJdGVtKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnByb3BzLmlkXTtcbiAgICByZXR1cm4gKF9iID0gc2VsZWN0ZWREYXRhID09IG51bGwgPyB2b2lkIDAgOiBzZWxlY3RlZERhdGEucGF0aC5zb21lKChjYW5kaWRhdGUpID0+IHtcbiAgICAgIGNvbnN0IFtjYW5kaWRhdGVJZF0gPSBjYW5kaWRhdGUuc3BsaXQoXCI6XCIpO1xuICAgICAgcmV0dXJuIGNhbmRpZGF0ZUlkID09PSBpdGVtSWQ7XG4gICAgfSkpICE9IG51bGwgPyBfYiA6IGZhbHNlO1xuICB9KTtcbiAgY29uc3QgY29tcG9uZW50Q29uZmlnID0gY29uZmlnLmNvbXBvbmVudHNbbm9kZURhdGEuZGF0YS50eXBlXTtcbiAgY29uc3QgbGFiZWwgPSAoX2EgPSBjb21wb25lbnRDb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbXBvbmVudENvbmZpZ1tcImxhYmVsXCJdKSAhPSBudWxsID8gX2EgOiBub2RlRGF0YS5kYXRhLnR5cGUudG9TdHJpbmcoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTUoXG4gICAgXCJsaVwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTGF5ZXIoe1xuICAgICAgICBpc1NlbGVjdGVkLFxuICAgICAgICBpc0hvdmVyaW5nLFxuICAgICAgICBjb250YWluc1pvbmUsXG4gICAgICAgIGNoaWxkSXNTZWxlY3RlZFxuICAgICAgfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MzUoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZUxheWVyKFwiaW5uZXJcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE1KFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTGF5ZXIoXCJjbGlja2FibGVcIiksXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgc2V0SXRlbVNlbGVjdG9yKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBmcmFtZSA9IGdldEZyYW1lKCk7XG4gICAgICAgICAgICAgIGNvbnN0IGVsID0gZnJhbWUgPT0gbnVsbCA/IHZvaWQgMCA6IGZyYW1lLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgYFtkYXRhLXB1Y2stY29tcG9uZW50PVwiJHtpdGVtSWR9XCJdYFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICAgICAgc2V0SXRlbVNlbGVjdG9yKHtcbiAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgem9uZTogem9uZUNvbXBvdW5kXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNjcm9sbEludG9WaWV3KGVsKTtcbiAgICAgICAgICAgICAgb25TY3JvbGxFbmQoZnJhbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJdGVtU2VsZWN0b3Ioe1xuICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICB6b25lOiB6b25lQ29tcG91bmRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Nb3VzZUVudGVyOiAoZSkgPT4ge1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB6b25lU3RvcmUuc2V0U3RhdGUoeyBob3ZlcmluZ0NvbXBvbmVudDogaXRlbUlkIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgem9uZVN0b3JlLnNldFN0YXRlKHsgaG92ZXJpbmdDb21wb25lbnQ6IG51bGwgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgY29udGFpbnNab25lICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzNShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lTGF5ZXIoXCJjaGV2cm9uXCIpLFxuICAgICAgICAgICAgICAgICAgdGl0bGU6IGlzU2VsZWN0ZWQgPyBcIkNvbGxhcHNlXCIgOiBcIkV4cGFuZFwiLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzNShDaGV2cm9uRG93biwgeyBzaXplOiBcIjEyXCIgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTUoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZUxheWVyKFwidGl0bGVcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDM1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVMYXllcihcImljb25cIiksIGNoaWxkcmVuOiBub2RlRGF0YS5kYXRhLnR5cGUgPT09IFwiVGV4dFwiIHx8IG5vZGVEYXRhLmRhdGEudHlwZSA9PT0gXCJIZWFkaW5nXCIgPyAvKiBAX19QVVJFX18gKi8ganN4MzUoVHlwZSwgeyBzaXplOiBcIjE2XCIgfSkgOiAvKiBAX19QVVJFX18gKi8ganN4MzUoTGF5b3V0R3JpZCwgeyBzaXplOiBcIjE2XCIgfSkgfSksXG4gICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDM1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVMYXllcihcIm5hbWVcIiksIGNoaWxkcmVuOiBsYWJlbCB9KVxuICAgICAgICAgICAgICBdIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICApIH0pLFxuICAgICAgICBjb250YWluc1pvbmUgJiYgem9uZXNGb3JJdGVtLm1hcCgoc3Viem9uZSkgPT4gLyogQF9fUFVSRV9fICovIGpzeDM1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVMYXllcihcInpvbmVzXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM1KExheWVyVHJlZSwgeyB6b25lQ29tcG91bmQ6IHN1YnpvbmUgfSkgfSwgc3Viem9uZSkpXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcbnZhciBMYXllclRyZWUgPSAoe1xuICBsYWJlbDogX2xhYmVsLFxuICB6b25lQ29tcG91bmRcbn0pID0+IHtcbiAgY29uc3QgbGFiZWwgPSB1c2VBcHBTdG9yZSgocykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoX2xhYmVsKSByZXR1cm4gX2xhYmVsO1xuICAgIGlmICh6b25lQ29tcG91bmQgPT09IHJvb3REcm9wcGFibGVJZCkgcmV0dXJuO1xuICAgIGNvbnN0IFtjb21wb25lbnRJZCwgc2xvdElkXSA9IHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIik7XG4gICAgY29uc3QgY29tcG9uZW50VHlwZSA9IChfYSA9IHMuc3RhdGUuaW5kZXhlcy5ub2Rlc1tjb21wb25lbnRJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5kYXRhLnR5cGU7XG4gICAgY29uc3QgY29uZmlnRm9yQ29tcG9uZW50ID0gY29tcG9uZW50VHlwZSAmJiBjb21wb25lbnRUeXBlICE9PSByb290QXJlYUlkID8gcy5jb25maWcuY29tcG9uZW50c1tjb21wb25lbnRUeXBlXSA6IHMuY29uZmlnLnJvb3Q7XG4gICAgcmV0dXJuIChfZCA9IChfYyA9IChfYiA9IGNvbmZpZ0ZvckNvbXBvbmVudCA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnRm9yQ29tcG9uZW50LmZpZWxkcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iW3Nsb3RJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYy5sYWJlbCkgIT0gbnVsbCA/IF9kIDogc2xvdElkO1xuICB9KTtcbiAgY29uc3QgY29udGVudElkcyA9IHVzZUFwcFN0b3JlKFxuICAgIHVzZVNoYWxsb3c2KFxuICAgICAgKHMpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIHpvbmVDb21wb3VuZCA/IChfYiA9IChfYSA9IHMuc3RhdGUuaW5kZXhlcy56b25lc1t6b25lQ29tcG91bmRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29udGVudElkcykgIT0gbnVsbCA/IF9iIDogW10gOiBbXTtcbiAgICAgIH1cbiAgICApXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czE1KEZyYWdtZW50MTEsIHsgY2hpbGRyZW46IFtcbiAgICBsYWJlbCAmJiAvKiBAX19QVVJFX18gKi8ganN4czE1KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyNChcInpvbmVUaXRsZVwiKSwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gzNShcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjQoXCJ6b25lSWNvblwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzNShMYXllcnMsIHsgc2l6ZTogXCIxNlwiIH0pIH0pLFxuICAgICAgbGFiZWxcbiAgICBdIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTUoXCJ1bFwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjQoKSwgY2hpbGRyZW46IFtcbiAgICAgIGNvbnRlbnRJZHMubGVuZ3RoID09PSAwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzNShcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjQoXCJoZWxwZXJcIiksIGNoaWxkcmVuOiBcIk5vIGl0ZW1zXCIgfSksXG4gICAgICBjb250ZW50SWRzLm1hcCgoaXRlbUlkLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzUoXG4gICAgICAgICAgTGF5ZXIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICB6b25lQ29tcG91bmRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGl0ZW1JZFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICBdIH0pXG4gIF0gfSk7XG59O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9PdXRsaW5lL2luZGV4LnRzeFxuaW1wb3J0IHsgdXNlTWVtbyBhcyB1c2VNZW1vMTQgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RhdGEvZmluZC16b25lcy1mb3ItYXJlYS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBmaW5kWm9uZXNGb3JBcmVhID0gKHN0YXRlLCBhcmVhKSA9PiB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzdGF0ZS5pbmRleGVzLnpvbmVzKS5maWx0ZXIoXG4gICAgKHpvbmUpID0+IHpvbmUuc3BsaXQoXCI6XCIpWzBdID09PSBhcmVhXG4gICk7XG59O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9PdXRsaW5lL2luZGV4LnRzeFxuaW1wb3J0IHsgdXNlU2hhbGxvdyBhcyB1c2VTaGFsbG93NyB9IGZyb20gXCJ6dXN0YW5kL3JlYWN0L3NoYWxsb3dcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gzNiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIE91dGxpbmUgPSAoKSA9PiB7XG4gIGNvbnN0IG91dGxpbmVPdmVycmlkZSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLm92ZXJyaWRlcy5vdXRsaW5lKTtcbiAgY29uc3Qgcm9vdFpvbmVzID0gdXNlQXBwU3RvcmUoXG4gICAgdXNlU2hhbGxvdzcoKHMpID0+IGZpbmRab25lc0ZvckFyZWEocy5zdGF0ZSwgXCJyb290XCIpKVxuICApO1xuICBjb25zdCBXcmFwcGVyID0gdXNlTWVtbzE0KCgpID0+IG91dGxpbmVPdmVycmlkZSB8fCBcImRpdlwiLCBbb3V0bGluZU92ZXJyaWRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzYoV3JhcHBlciwgeyBjaGlsZHJlbjogcm9vdFpvbmVzLm1hcCgoem9uZUNvbXBvdW5kKSA9PiAvKiBAX19QVVJFX18gKi8ganN4MzYoXG4gICAgTGF5ZXJUcmVlLFxuICAgIHtcbiAgICAgIGxhYmVsOiByb290Wm9uZXMubGVuZ3RoID09PSAxID8gXCJcIiA6IHpvbmVDb21wb3VuZC5zcGxpdChcIjpcIilbMV0sXG4gICAgICB6b25lQ29tcG91bmRcbiAgICB9LFxuICAgIHpvbmVDb21wb3VuZFxuICApKSB9KTtcbn07XG5cbi8vIGNvbXBvbmVudHMvUHVjay9jb21wb25lbnRzL0NhbnZhcy9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQge1xuICB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazE1LFxuICB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MjUsXG4gIHVzZU1lbW8gYXMgdXNlTWVtbzE3LFxuICB1c2VSZWYgYXMgdXNlUmVmOSxcbiAgdXNlU3RhdGUgYXMgdXNlU3RhdGUyMVxufSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY29tcG9uZW50cy9WaWV3cG9ydENvbnRyb2xzL2luZGV4LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyNCwgdXNlTWVtbyBhcyB1c2VNZW1vMTUsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMjAgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL1ZpZXdwb3J0Q29udHJvbHMvc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQyMCA9IHsgXCJWaWV3cG9ydENvbnRyb2xzXCI6IFwiX1ZpZXdwb3J0Q29udHJvbHNfZ2VqenJfMVwiLCBcIlZpZXdwb3J0Q29udHJvbHMtZGl2aWRlclwiOiBcIl9WaWV3cG9ydENvbnRyb2xzLWRpdmlkZXJfZ2VqenJfMTVcIiwgXCJWaWV3cG9ydENvbnRyb2xzLXpvb21TZWxlY3RcIjogXCJfVmlld3BvcnRDb250cm9scy16b29tU2VsZWN0X2dlanpyXzIxXCIsIFwiVmlld3BvcnRCdXR0b24tLWlzQWN0aXZlXCI6IFwiX1ZpZXdwb3J0QnV0dG9uLS1pc0FjdGl2ZV9nZWp6cl8zOFwiLCBcIlZpZXdwb3J0QnV0dG9uLWlubmVyXCI6IFwiX1ZpZXdwb3J0QnV0dG9uLWlubmVyX2dlanpyXzM4XCIgfTtcblxuLy8gY29tcG9uZW50cy9WaWV3cG9ydENvbnRyb2xzL2luZGV4LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDM3LCBqc3hzIGFzIGpzeHMxNiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGljb25zID0ge1xuICBTbWFydHBob25lOiAvKiBAX19QVVJFX18gKi8ganN4MzcoU21hcnRwaG9uZSwgeyBzaXplOiAxNiB9KSxcbiAgVGFibGV0OiAvKiBAX19QVVJFX18gKi8ganN4MzcoVGFibGV0LCB7IHNpemU6IDE2IH0pLFxuICBNb25pdG9yOiAvKiBAX19QVVJFX18gKi8ganN4MzcoTW9uaXRvciwgeyBzaXplOiAxNiB9KVxufTtcbnZhciBnZXRDbGFzc05hbWUyNSA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIlZpZXdwb3J0Q29udHJvbHNcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MjApO1xudmFyIGdldENsYXNzTmFtZUJ1dHRvbiA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIlZpZXdwb3J0QnV0dG9uXCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDIwKTtcbnZhciBWaWV3cG9ydEJ1dHRvbiA9ICh7XG4gIGNoaWxkcmVuLFxuICBoZWlnaHQgPSBcImF1dG9cIixcbiAgdGl0bGUsXG4gIHdpZHRoLFxuICBvbkNsaWNrXG59KSA9PiB7XG4gIGNvbnN0IHZpZXdwb3J0cyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnN0YXRlLnVpLnZpZXdwb3J0cyk7XG4gIGNvbnN0IFtpc0FjdGl2ZSwgc2V0SXNBY3RpdmVdID0gdXNlU3RhdGUyMChmYWxzZSk7XG4gIHVzZUVmZmVjdDI0KCgpID0+IHtcbiAgICBzZXRJc0FjdGl2ZSh3aWR0aCA9PT0gdmlld3BvcnRzLmN1cnJlbnQud2lkdGgpO1xuICB9LCBbd2lkdGgsIHZpZXdwb3J0cy5jdXJyZW50LndpZHRoXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzcoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVCdXR0b24oeyBpc0FjdGl2ZSB9KSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzNyhcbiAgICBJY29uQnV0dG9uLFxuICAgIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICB0aXRsZSxcbiAgICAgIGRpc2FibGVkOiBpc0FjdGl2ZSxcbiAgICAgIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIG9uQ2xpY2soeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzcoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWVCdXR0b24oXCJpbm5lclwiKSwgY2hpbGRyZW4gfSlcbiAgICB9XG4gICkgfSk7XG59O1xudmFyIGRlZmF1bHRab29tT3B0aW9ucyA9IFtcbiAgeyBsYWJlbDogXCIyNSVcIiwgdmFsdWU6IDAuMjUgfSxcbiAgeyBsYWJlbDogXCI1MCVcIiwgdmFsdWU6IDAuNSB9LFxuICB7IGxhYmVsOiBcIjc1JVwiLCB2YWx1ZTogMC43NSB9LFxuICB7IGxhYmVsOiBcIjEwMCVcIiwgdmFsdWU6IDEgfSxcbiAgeyBsYWJlbDogXCIxMjUlXCIsIHZhbHVlOiAxLjI1IH0sXG4gIHsgbGFiZWw6IFwiMTUwJVwiLCB2YWx1ZTogMS41IH0sXG4gIHsgbGFiZWw6IFwiMjAwJVwiLCB2YWx1ZTogMiB9XG5dO1xudmFyIFZpZXdwb3J0Q29udHJvbHMgPSAoe1xuICBhdXRvWm9vbSxcbiAgem9vbSxcbiAgb25WaWV3cG9ydENoYW5nZSxcbiAgb25ab29tXG59KSA9PiB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHZpZXdwb3J0cyA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnZpZXdwb3J0cyk7XG4gIGNvbnN0IGRlZmF1bHRzQ29udGFpbkF1dG9ab29tID0gZGVmYXVsdFpvb21PcHRpb25zLmZpbmQoXG4gICAgKG9wdGlvbikgPT4gb3B0aW9uLnZhbHVlID09PSBhdXRvWm9vbVxuICApO1xuICBjb25zdCB6b29tT3B0aW9ucyA9IHVzZU1lbW8xNShcbiAgICAoKSA9PiBbXG4gICAgICAuLi5kZWZhdWx0Wm9vbU9wdGlvbnMsXG4gICAgICAuLi5kZWZhdWx0c0NvbnRhaW5BdXRvWm9vbSA/IFtdIDogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IGF1dG9ab29tLFxuICAgICAgICAgIGxhYmVsOiBgJHsoYXV0b1pvb20gKiAxMDApLnRvRml4ZWQoMCl9JSAoQXV0bylgXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICBdLmZpbHRlcigoYSkgPT4gYS52YWx1ZSA8PSBhdXRvWm9vbSkuc29ydCgoYSwgYikgPT4gYS52YWx1ZSA+IGIudmFsdWUgPyAxIDogLTEpLFxuICAgIFthdXRvWm9vbV1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTYoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTI1KCksIGNoaWxkcmVuOiBbXG4gICAgdmlld3BvcnRzLm1hcCgodmlld3BvcnQsIGkpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gzNyhcbiAgICAgIFZpZXdwb3J0QnV0dG9uLFxuICAgICAge1xuICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0LmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgICB0aXRsZTogdmlld3BvcnQubGFiZWwgPyBgU3dpdGNoIHRvICR7dmlld3BvcnQubGFiZWx9IHZpZXdwb3J0YCA6IFwiU3dpdGNoIHZpZXdwb3J0XCIsXG4gICAgICAgIG9uQ2xpY2s6IG9uVmlld3BvcnRDaGFuZ2UsXG4gICAgICAgIGNoaWxkcmVuOiB0eXBlb2Ygdmlld3BvcnQuaWNvbiA9PT0gXCJzdHJpbmdcIiA/IGljb25zW3ZpZXdwb3J0Lmljb25dIHx8IHZpZXdwb3J0Lmljb24gOiB2aWV3cG9ydC5pY29uIHx8IGljb25zLlNtYXJ0cGhvbmVcbiAgICAgIH0sXG4gICAgICBpXG4gICAgKSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDM3KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyNShcImRpdmlkZXJcIikgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDM3KFxuICAgICAgSWNvbkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgdGl0bGU6IFwiWm9vbSB2aWV3cG9ydCBvdXRcIixcbiAgICAgICAgZGlzYWJsZWQ6IHpvb20gPD0gKChfYSA9IHpvb21PcHRpb25zWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWUpLFxuICAgICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgb25ab29tKFxuICAgICAgICAgICAgem9vbU9wdGlvbnNbTWF0aC5tYXgoXG4gICAgICAgICAgICAgIHpvb21PcHRpb25zLmZpbmRJbmRleCgob3B0aW9uKSA9PiBvcHRpb24udmFsdWUgPT09IHpvb20pIC0gMSxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKV0udmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM3KFpvb21PdXQsIHsgc2l6ZTogMTYgfSlcbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gzNyhcbiAgICAgIEljb25CdXR0b24sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIHRpdGxlOiBcIlpvb20gdmlld3BvcnQgaW5cIixcbiAgICAgICAgZGlzYWJsZWQ6IHpvb20gPj0gKChfYiA9IHpvb21PcHRpb25zW3pvb21PcHRpb25zLmxlbmd0aCAtIDFdKSA9PSBudWxsID8gdm9pZCAwIDogX2IudmFsdWUpLFxuICAgICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgb25ab29tKFxuICAgICAgICAgICAgem9vbU9wdGlvbnNbTWF0aC5taW4oXG4gICAgICAgICAgICAgIHpvb21PcHRpb25zLmZpbmRJbmRleCgob3B0aW9uKSA9PiBvcHRpb24udmFsdWUgPT09IHpvb20pICsgMSxcbiAgICAgICAgICAgICAgem9vbU9wdGlvbnMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgKV0udmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDM3KFpvb21JbiwgeyBzaXplOiAxNiB9KVxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDM3KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyNShcImRpdmlkZXJcIikgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDM3KFxuICAgICAgXCJzZWxlY3RcIixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyNShcInpvb21TZWxlY3RcIiksXG4gICAgICAgIHZhbHVlOiB6b29tLnRvU3RyaW5nKCksXG4gICAgICAgIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgb25ab29tKHBhcnNlRmxvYXQoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiB6b29tT3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gLyogQF9fUFVSRV9fICovIGpzeDM3KFxuICAgICAgICAgIFwib3B0aW9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICAgIGxhYmVsOiBvcHRpb24ubGFiZWxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbi5sYWJlbFxuICAgICAgICApKVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn07XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvQ2FudmFzL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MjEgPSB7IFwiUHVja0NhbnZhc1wiOiBcIl9QdWNrQ2FudmFzXzE4amF5XzFcIiwgXCJQdWNrQ2FudmFzLWNvbnRyb2xzXCI6IFwiX1B1Y2tDYW52YXMtY29udHJvbHNfMThqYXlfMTZcIiwgXCJQdWNrQ2FudmFzLWlubmVyXCI6IFwiX1B1Y2tDYW52YXMtaW5uZXJfMThqYXlfMjFcIiwgXCJQdWNrQ2FudmFzLXJvb3RcIjogXCJfUHVja0NhbnZhcy1yb290XzE4amF5XzMwXCIsIFwiUHVja0NhbnZhcy0tcmVhZHlcIjogXCJfUHVja0NhbnZhcy0tcmVhZHlfMThqYXlfNTVcIiwgXCJQdWNrQ2FudmFzLWxvYWRlclwiOiBcIl9QdWNrQ2FudmFzLWxvYWRlcl8xOGpheV82MFwiLCBcIlB1Y2tDYW52YXMtLXNob3dMb2FkZXJcIjogXCJfUHVja0NhbnZhcy0tc2hvd0xvYWRlcl8xOGpheV83MFwiIH07XG5cbi8vIGNvbXBvbmVudHMvUHVjay9jb21wb25lbnRzL0NhbnZhcy9pbmRleC50c3hcbmltcG9ydCB7IHVzZVNoYWxsb3cgYXMgdXNlU2hhbGxvdzggfSBmcm9tIFwienVzdGFuZC9yZWFjdC9zaGFsbG93XCI7XG5cbi8vIGxpYi9mcmFtZS1jb250ZXh0LnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7XG4gIGNyZWF0ZUNvbnRleHQgYXMgY3JlYXRlQ29udGV4dDcsXG4gIHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDEyLFxuICB1c2VSZWYgYXMgdXNlUmVmOCxcbiAgdXNlTWVtbyBhcyB1c2VNZW1vMTZcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MzggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBGcmFtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0NyhudWxsKTtcbnZhciBGcmFtZVByb3ZpZGVyID0gKHtcbiAgY2hpbGRyZW5cbn0pID0+IHtcbiAgY29uc3QgZnJhbWVSZWYgPSB1c2VSZWY4KG51bGwpO1xuICBjb25zdCB2YWx1ZSA9IHVzZU1lbW8xNihcbiAgICAoKSA9PiAoe1xuICAgICAgZnJhbWVSZWZcbiAgICB9KSxcbiAgICBbXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDM4KEZyYW1lQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZSwgY2hpbGRyZW4gfSk7XG59O1xudmFyIHVzZUNhbnZhc0ZyYW1lID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dDEyKEZyYW1lQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQ2FudmFzRnJhbWUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEZyYW1lUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9DYW52YXMvaW5kZXgudHN4XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDEyLCBqc3ggYXMganN4MzksIGpzeHMgYXMganN4czE3IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lMjYgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJQdWNrQ2FudmFzXCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDIxKTtcbnZhciBaT09NX09OX0NIQU5HRSA9IHRydWU7XG52YXIgVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MDtcbnZhciBDYW52YXMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgZnJhbWVSZWYgfSA9IHVzZUNhbnZhc0ZyYW1lKCk7XG4gIGNvbnN0IHJlc2V0QXV0b1pvb20gPSB1c2VSZXNldEF1dG9ab29tKGZyYW1lUmVmKTtcbiAgY29uc3Qge1xuICAgIGRpc3BhdGNoLFxuICAgIG92ZXJyaWRlcyxcbiAgICBzZXRVaSxcbiAgICB6b29tQ29uZmlnLFxuICAgIHNldFpvb21Db25maWcsXG4gICAgc3RhdHVzLFxuICAgIGlmcmFtZVxuICB9ID0gdXNlQXBwU3RvcmUoXG4gICAgdXNlU2hhbGxvdzgoKHMpID0+ICh7XG4gICAgICBkaXNwYXRjaDogcy5kaXNwYXRjaCxcbiAgICAgIG92ZXJyaWRlczogcy5vdmVycmlkZXMsXG4gICAgICBzZXRVaTogcy5zZXRVaSxcbiAgICAgIHpvb21Db25maWc6IHMuem9vbUNvbmZpZyxcbiAgICAgIHNldFpvb21Db25maWc6IHMuc2V0Wm9vbUNvbmZpZyxcbiAgICAgIHN0YXR1czogcy5zdGF0dXMsXG4gICAgICBpZnJhbWU6IHMuaWZyYW1lXG4gICAgfSkpXG4gICk7XG4gIGNvbnN0IHtcbiAgICBsZWZ0U2lkZUJhclZpc2libGUsXG4gICAgcmlnaHRTaWRlQmFyVmlzaWJsZSxcbiAgICBsZWZ0U2lkZUJhcldpZHRoLFxuICAgIHJpZ2h0U2lkZUJhcldpZHRoLFxuICAgIHZpZXdwb3J0c1xuICB9ID0gdXNlQXBwU3RvcmUoXG4gICAgdXNlU2hhbGxvdzgoKHMpID0+ICh7XG4gICAgICBsZWZ0U2lkZUJhclZpc2libGU6IHMuc3RhdGUudWkubGVmdFNpZGVCYXJWaXNpYmxlLFxuICAgICAgcmlnaHRTaWRlQmFyVmlzaWJsZTogcy5zdGF0ZS51aS5yaWdodFNpZGVCYXJWaXNpYmxlLFxuICAgICAgbGVmdFNpZGVCYXJXaWR0aDogcy5zdGF0ZS51aS5sZWZ0U2lkZUJhcldpZHRoLFxuICAgICAgcmlnaHRTaWRlQmFyV2lkdGg6IHMuc3RhdGUudWkucmlnaHRTaWRlQmFyV2lkdGgsXG4gICAgICB2aWV3cG9ydHM6IHMuc3RhdGUudWkudmlld3BvcnRzXG4gICAgfSkpXG4gICk7XG4gIGNvbnN0IFtzaG93VHJhbnNpdGlvbiwgc2V0U2hvd1RyYW5zaXRpb25dID0gdXNlU3RhdGUyMShmYWxzZSk7XG4gIGNvbnN0IGlzUmVzaXppbmdSZWYgPSB1c2VSZWY5KGZhbHNlKTtcbiAgY29uc3QgZGVmYXVsdFJlbmRlciA9IHVzZU1lbW8xNygoKSA9PiB7XG4gICAgY29uc3QgUHVja0RlZmF1bHQgPSAoeyBjaGlsZHJlbiB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4MzkoRnJhZ21lbnQxMiwgeyBjaGlsZHJlbiB9KTtcbiAgICByZXR1cm4gUHVja0RlZmF1bHQ7XG4gIH0sIFtdKTtcbiAgY29uc3QgQ3VzdG9tUHJldmlldyA9IHVzZU1lbW8xNyhcbiAgICAoKSA9PiBvdmVycmlkZXMucHJldmlldyB8fCBkZWZhdWx0UmVuZGVyLFxuICAgIFtvdmVycmlkZXNdXG4gICk7XG4gIGNvbnN0IGdldEZyYW1lRGltZW5zaW9ucyA9IHVzZUNhbGxiYWNrMTUoKCkgPT4ge1xuICAgIGlmIChmcmFtZVJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCBmcmFtZSA9IGZyYW1lUmVmLmN1cnJlbnQ7XG4gICAgICBjb25zdCBib3ggPSBnZXRCb3goZnJhbWUpO1xuICAgICAgcmV0dXJuIHsgd2lkdGg6IGJveC5jb250ZW50Qm94LndpZHRoLCBoZWlnaHQ6IGJveC5jb250ZW50Qm94LmhlaWdodCB9O1xuICAgIH1cbiAgICByZXR1cm4geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gIH0sIFtmcmFtZVJlZl0pO1xuICB1c2VFZmZlY3QyNSgoKSA9PiB7XG4gICAgcmVzZXRBdXRvWm9vbSgpO1xuICB9LCBbXG4gICAgZnJhbWVSZWYsXG4gICAgbGVmdFNpZGVCYXJWaXNpYmxlLFxuICAgIHJpZ2h0U2lkZUJhclZpc2libGUsXG4gICAgbGVmdFNpZGVCYXJXaWR0aCxcbiAgICByaWdodFNpZGVCYXJXaWR0aCxcbiAgICB2aWV3cG9ydHNcbiAgXSk7XG4gIHVzZUVmZmVjdDI1KCgpID0+IHtcbiAgICBjb25zdCB7IGhlaWdodDogZnJhbWVIZWlnaHQgfSA9IGdldEZyYW1lRGltZW5zaW9ucygpO1xuICAgIGlmICh2aWV3cG9ydHMuY3VycmVudC5oZWlnaHQgPT09IFwiYXV0b1wiKSB7XG4gICAgICBzZXRab29tQ29uZmlnKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHpvb21Db25maWcpLCB7XG4gICAgICAgIHJvb3RIZWlnaHQ6IGZyYW1lSGVpZ2h0IC8gem9vbUNvbmZpZy56b29tXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCBbem9vbUNvbmZpZy56b29tLCBnZXRGcmFtZURpbWVuc2lvbnMsIHNldFpvb21Db25maWddKTtcbiAgdXNlRWZmZWN0MjUoKCkgPT4ge1xuICAgIGlmIChaT09NX09OX0NIQU5HRSkge1xuICAgICAgcmVzZXRBdXRvWm9vbSgpO1xuICAgIH1cbiAgfSwgW3ZpZXdwb3J0cy5jdXJyZW50LndpZHRoLCB2aWV3cG9ydHNdKTtcbiAgdXNlRWZmZWN0MjUoKCkgPT4ge1xuICAgIGlmICghZnJhbWVSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgIGlmICghaXNSZXNpemluZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHJlc2V0QXV0b1pvb20oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGZyYW1lUmVmLmN1cnJlbnQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW2ZyYW1lUmVmLmN1cnJlbnRdKTtcbiAgY29uc3QgW3Nob3dMb2FkZXIsIHNldFNob3dMb2FkZXJdID0gdXNlU3RhdGUyMShmYWxzZSk7XG4gIHVzZUVmZmVjdDI1KCgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFNob3dMb2FkZXIodHJ1ZSk7XG4gICAgfSwgNTAwKTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjYoe1xuICAgICAgICByZWFkeTogc3RhdHVzID09PSBcIlJFQURZXCIgfHwgIWlmcmFtZS5lbmFibGVkIHx8ICFpZnJhbWUud2FpdEZvclN0eWxlcyxcbiAgICAgICAgc2hvd0xvYWRlclxuICAgICAgfSksXG4gICAgICBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZShcImRhdGEtcHVjay1jb21wb25lbnRcIikgJiYgIWVsLmhhc0F0dHJpYnV0ZShcImRhdGEtcHVjay1kcm9wem9uZVwiKSkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwic2V0VWlcIixcbiAgICAgICAgICAgIHVpOiB7IGl0ZW1TZWxlY3RvcjogbnVsbCB9LFxuICAgICAgICAgICAgcmVjb3JkSGlzdG9yeTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgdmlld3BvcnRzLmNvbnRyb2xzVmlzaWJsZSAmJiBpZnJhbWUuZW5hYmxlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4MzkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTI2KFwiY29udHJvbHNcIiksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzkoXG4gICAgICAgICAgVmlld3BvcnRDb250cm9scyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdXRvWm9vbTogem9vbUNvbmZpZy5hdXRvWm9vbSxcbiAgICAgICAgICAgIHpvb206IHpvb21Db25maWcuem9vbSxcbiAgICAgICAgICAgIG9uVmlld3BvcnRDaGFuZ2U6ICh2aWV3cG9ydCkgPT4ge1xuICAgICAgICAgICAgICBzZXRTaG93VHJhbnNpdGlvbih0cnVlKTtcbiAgICAgICAgICAgICAgaXNSZXNpemluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgY29uc3QgdWlWaWV3cG9ydCA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHZpZXdwb3J0KSwge1xuICAgICAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0IHx8IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIHpvb206IHpvb21Db25maWcuem9vbVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc3QgbmV3VWkgPSB7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCB2aWV3cG9ydHMpLCB7IGN1cnJlbnQ6IHVpVmlld3BvcnQgfSlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgc2V0VWkobmV3VWkpO1xuICAgICAgICAgICAgICBpZiAoWk9PTV9PTl9DSEFOR0UpIHtcbiAgICAgICAgICAgICAgICByZXNldEF1dG9ab29tKHtcbiAgICAgICAgICAgICAgICAgIHZpZXdwb3J0czogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgdmlld3BvcnRzKSwgeyBjdXJyZW50OiB1aVZpZXdwb3J0IH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblpvb206ICh6b29tKSA9PiB7XG4gICAgICAgICAgICAgIHNldFNob3dUcmFuc2l0aW9uKHRydWUpO1xuICAgICAgICAgICAgICBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICBzZXRab29tQ29uZmlnKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHpvb21Db25maWcpLCB7IHpvb20gfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMxNyhcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjYoXCJpbm5lclwiKSwgcmVmOiBmcmFtZVJlZiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MzkoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IGdldENsYXNzTmFtZTI2KFwicm9vdFwiKSxcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogaWZyYW1lLmVuYWJsZWQgPyB2aWV3cG9ydHMuY3VycmVudC53aWR0aCA6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogem9vbUNvbmZpZy5yb290SGVpZ2h0LFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogaWZyYW1lLmVuYWJsZWQgPyBgc2NhbGUoJHt6b29tQ29uZmlnLnpvb219KWAgOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogc2hvd1RyYW5zaXRpb24gPyBgd2lkdGggJHtUUkFOU0lUSU9OX0RVUkFUSU9OfW1zIGVhc2Utb3V0LCBoZWlnaHQgJHtUUkFOU0lUSU9OX0RVUkFUSU9OfW1zIGVhc2Utb3V0LCB0cmFuc2Zvcm0gJHtUUkFOU0lUSU9OX0RVUkFUSU9OfW1zIGVhc2Utb3V0YCA6IFwiXCIsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGlmcmFtZS5lbmFibGVkID8gdm9pZCAwIDogXCJhdXRvXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgICAgICAgICBpZDogXCJwdWNrLWNhbnZhcy1yb290XCIsXG4gICAgICAgICAgICAgIG9uVHJhbnNpdGlvbkVuZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNob3dUcmFuc2l0aW9uKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzOShDdXN0b21QcmV2aWV3LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzkoUHJldmlldzIsIHt9KSB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDM5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyNihcImxvYWRlclwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzOShMb2FkZXIsIHsgc2l6ZTogMjQgfSkgfSlcbiAgICAgICAgXSB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIGxpYi91c2UtbG9hZGVkLW92ZXJyaWRlcy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZU1lbW8gYXMgdXNlTWVtbzE4IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9sb2FkLW92ZXJyaWRlcy50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBsb2FkT3ZlcnJpZGVzID0gKHtcbiAgb3ZlcnJpZGVzLFxuICBwbHVnaW5zXG59KSA9PiB7XG4gIGNvbnN0IGNvbGxlY3RlZCA9IF9fc3ByZWFkVmFsdWVzKHt9LCBvdmVycmlkZXMpO1xuICBwbHVnaW5zID09IG51bGwgPyB2b2lkIDAgOiBwbHVnaW5zLmZvckVhY2goKHBsdWdpbikgPT4ge1xuICAgIGlmICghcGx1Z2luLm92ZXJyaWRlcykgcmV0dXJuO1xuICAgIE9iamVjdC5rZXlzKHBsdWdpbi5vdmVycmlkZXMpLmZvckVhY2goKF9vdmVycmlkZXNUeXBlKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBvdmVycmlkZXNUeXBlID0gX292ZXJyaWRlc1R5cGU7XG4gICAgICBpZiAoISgoX2EgPSBwbHVnaW4ub3ZlcnJpZGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2Fbb3ZlcnJpZGVzVHlwZV0pKSByZXR1cm47XG4gICAgICBpZiAob3ZlcnJpZGVzVHlwZSA9PT0gXCJmaWVsZFR5cGVzXCIpIHtcbiAgICAgICAgY29uc3QgZmllbGRUeXBlcyA9IHBsdWdpbi5vdmVycmlkZXMuZmllbGRUeXBlcztcbiAgICAgICAgT2JqZWN0LmtleXMoZmllbGRUeXBlcykuZm9yRWFjaCgoZmllbGRUeXBlKSA9PiB7XG4gICAgICAgICAgY29sbGVjdGVkLmZpZWxkVHlwZXMgPSBjb2xsZWN0ZWQuZmllbGRUeXBlcyB8fCB7fTtcbiAgICAgICAgICBjb25zdCBjaGlsZE5vZGUyID0gY29sbGVjdGVkLmZpZWxkVHlwZXNbZmllbGRUeXBlXTtcbiAgICAgICAgICBjb25zdCBDb21wMiA9IChwcm9wcykgPT4gZmllbGRUeXBlc1tmaWVsZFR5cGVdKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwge1xuICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkTm9kZTIgPyBjaGlsZE5vZGUyKHByb3BzKSA6IHByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGNvbGxlY3RlZC5maWVsZFR5cGVzW2ZpZWxkVHlwZV0gPSBDb21wMjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IGNvbGxlY3RlZFtvdmVycmlkZXNUeXBlXTtcbiAgICAgIGNvbnN0IENvbXAgPSAocHJvcHMpID0+IHBsdWdpbi5vdmVycmlkZXNbb3ZlcnJpZGVzVHlwZV0oX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpLCB7XG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZE5vZGUgPyBjaGlsZE5vZGUocHJvcHMpIDogcHJvcHMuY2hpbGRyZW5cbiAgICAgIH0pKTtcbiAgICAgIGNvbGxlY3RlZFtvdmVycmlkZXNUeXBlXSA9IENvbXA7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY29sbGVjdGVkO1xufTtcblxuLy8gbGliL3VzZS1sb2FkZWQtb3ZlcnJpZGVzLnRzXG52YXIgdXNlTG9hZGVkT3ZlcnJpZGVzID0gKHtcbiAgb3ZlcnJpZGVzLFxuICBwbHVnaW5zXG59KSA9PiB7XG4gIHJldHVybiB1c2VNZW1vMTgoKCkgPT4ge1xuICAgIHJldHVybiBsb2FkT3ZlcnJpZGVzKHsgb3ZlcnJpZGVzLCBwbHVnaW5zIH0pO1xuICB9LCBbcGx1Z2lucywgb3ZlcnJpZGVzXSk7XG59O1xuXG4vLyBjb21wb25lbnRzL0RlZmF1bHRPdmVycmlkZS9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDEzLCBqc3ggYXMganN4NDAgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBEZWZhdWx0T3ZlcnJpZGUgPSAoeyBjaGlsZHJlbiB9KSA9PiAvKiBAX19QVVJFX18gKi8ganN4NDAoRnJhZ21lbnQxMywgeyBjaGlsZHJlbiB9KTtcblxuLy8gbGliL3VzZS1pbmplY3QtY3NzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDI2LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTIyIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgc3R5bGVzID0gYGA7XG52YXIgdXNlSW5qZWN0U3R5bGVTaGVldCA9IChpbml0aWFsU3R5bGVzLCBpZnJhbWVFbmFibGVkKSA9PiB7XG4gIGNvbnN0IFtlbCwgc2V0RWxdID0gdXNlU3RhdGUyMigpO1xuICB1c2VFZmZlY3QyNigoKSA9PiB7XG4gICAgc2V0RWwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QyNigoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghZWwgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbC5pbm5lckhUTUwgPSBpbml0aWFsU3R5bGVzO1xuICAgIGlmIChpZnJhbWVFbmFibGVkKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IGdldEZyYW1lKCk7XG4gICAgICAoX2EgPSBmcmFtZSA9PSBudWxsID8gdm9pZCAwIDogZnJhbWUuaGVhZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmFwcGVuZENoaWxkKGVsKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbCk7XG4gIH0sIFtpZnJhbWVFbmFibGVkLCBlbF0pO1xuICByZXR1cm4gZWw7XG59O1xudmFyIHVzZUluamVjdEdsb2JhbENzcyA9IChpZnJhbWVFbmFibGVkKSA9PiB7XG4gIHJldHVybiB1c2VJbmplY3RTdHlsZVNoZWV0KHN0eWxlcywgaWZyYW1lRW5hYmxlZCk7XG59O1xuXG4vLyBsaWIvdXNlLXByZXZpZXctbW9kZS1ob3RrZXlzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2sxNiB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZVByZXZpZXdNb2RlSG90a2V5cyA9ICgpID0+IHtcbiAgY29uc3QgYXBwU3RvcmUgPSB1c2VBcHBTdG9yZUFwaSgpO1xuICBjb25zdCB0b2dnbGVJbnRlcmFjdGl2ZSA9IHVzZUNhbGxiYWNrMTYoKCkgPT4ge1xuICAgIGNvbnN0IGRpc3BhdGNoID0gYXBwU3RvcmUuZ2V0U3RhdGUoKS5kaXNwYXRjaDtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBcInNldFVpXCIsXG4gICAgICB1aTogKHVpKSA9PiAoe1xuICAgICAgICBwcmV2aWV3TW9kZTogdWkucHJldmlld01vZGUgPT09IFwiZWRpdFwiID8gXCJpbnRlcmFjdGl2ZVwiIDogXCJlZGl0XCJcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0sIFthcHBTdG9yZV0pO1xuICB1c2VIb3RrZXkoeyBtZXRhOiB0cnVlLCBpOiB0cnVlIH0sIHRvZ2dsZUludGVyYWN0aXZlKTtcbiAgdXNlSG90a2V5KHsgY3RybDogdHJ1ZSwgaTogdHJ1ZSB9LCB0b2dnbGVJbnRlcmFjdGl2ZSk7XG59O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svaW5kZXgudHN4XG5pbXBvcnQgZmRlcSBmcm9tIFwiZmFzdC1kZWVwLWVxdWFsXCI7XG5cbi8vIGNvbXBvbmVudHMvUHVjay9jb21wb25lbnRzL0hlYWRlci9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyBtZW1vIGFzIG1lbW80LCB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazE3LCB1c2VNZW1vIGFzIHVzZU1lbW8xOSwgdXNlU3RhdGUgYXMgdXNlU3RhdGUyMyB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBjb21wb25lbnRzL01lbnVCYXIvaW5kZXgudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyBjc3MtbW9kdWxlOi9ob21lL3J1bm5lci93b3JrL3B1Y2svcHVjay9wYWNrYWdlcy9jb3JlL2NvbXBvbmVudHMvTWVudUJhci9zdHlsZXMubW9kdWxlLmNzcyNjc3MtbW9kdWxlXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xudmFyIHN0eWxlc19tb2R1bGVfZGVmYXVsdDIyID0geyBcIk1lbnVCYXJcIjogXCJfTWVudUJhcl84cGY4Y18xXCIsIFwiTWVudUJhci0tbWVudU9wZW5cIjogXCJfTWVudUJhci0tbWVudU9wZW5fOHBmOGNfMTRcIiwgXCJNZW51QmFyLWlubmVyXCI6IFwiX01lbnVCYXItaW5uZXJfOHBmOGNfMjlcIiwgXCJNZW51QmFyLWhpc3RvcnlcIjogXCJfTWVudUJhci1oaXN0b3J5XzhwZjhjXzQ1XCIgfTtcblxuLy8gY29tcG9uZW50cy9NZW51QmFyL2luZGV4LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQxNCwganN4IGFzIGpzeDQxLCBqc3hzIGFzIGpzeHMxOCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTI3ID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiTWVudUJhclwiLCBzdHlsZXNfbW9kdWxlX2RlZmF1bHQyMik7XG5mdW5jdGlvbiBNZW51QmFyKHtcbiAgbWVudU9wZW4gPSBmYWxzZSxcbiAgcmVuZGVySGVhZGVyQWN0aW9ucyxcbiAgc2V0TWVudU9wZW5cbn0pIHtcbiAgY29uc3QgYmFjayA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmhpc3RvcnkuYmFjayk7XG4gIGNvbnN0IGZvcndhcmQgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5oaXN0b3J5LmZvcndhcmQpO1xuICBjb25zdCBoYXNGdXR1cmUgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5oaXN0b3J5Lmhhc0Z1dHVyZSgpKTtcbiAgY29uc3QgaGFzUGFzdCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmhpc3RvcnkuaGFzUGFzdCgpKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0MShcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjcoeyBtZW51T3BlbiB9KSxcbiAgICAgIG9uQ2xpY2s6IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDYzOHB4KVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09IFwiQVwiICYmICgoX2EgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdGFydHNXaXRoKFwiI1wiKSkpIHtcbiAgICAgICAgICBzZXRNZW51T3BlbihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxOChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjcoXCJpbm5lclwiKSwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMxOChcImRpdlwiLCB7IGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjcoXCJoaXN0b3J5XCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g0MShcbiAgICAgICAgICAgIEljb25CdXR0b24sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBcInVuZG9cIixcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6ICFoYXNQYXN0LFxuICAgICAgICAgICAgICBvbkNsaWNrOiBiYWNrLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQxKFVuZG8yLCB7IHNpemU6IDIxIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NDEoXG4gICAgICAgICAgICBJY29uQnV0dG9uLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICB0aXRsZTogXCJyZWRvXCIsXG4gICAgICAgICAgICAgIGRpc2FibGVkOiAhaGFzRnV0dXJlLFxuICAgICAgICAgICAgICBvbkNsaWNrOiBmb3J3YXJkLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQxKFJlZG8yLCB7IHNpemU6IDIxIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NDEoRnJhZ21lbnQxNCwgeyBjaGlsZHJlbjogcmVuZGVySGVhZGVyQWN0aW9ucyAmJiByZW5kZXJIZWFkZXJBY3Rpb25zKCkgfSlcbiAgICAgIF0gfSlcbiAgICB9XG4gICk7XG59XG5cbi8vIGNzcy1tb2R1bGU6L2hvbWUvcnVubmVyL3dvcmsvcHVjay9wdWNrL3BhY2thZ2VzL2NvcmUvY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvSGVhZGVyL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MjMgPSB7IFwiUHVja0hlYWRlclwiOiBcIl9QdWNrSGVhZGVyXzE1eG5xXzFcIiwgXCJQdWNrSGVhZGVyLWlubmVyXCI6IFwiX1B1Y2tIZWFkZXItaW5uZXJfMTV4bnFfMTBcIiwgXCJQdWNrSGVhZGVyLXRvZ2dsZVwiOiBcIl9QdWNrSGVhZGVyLXRvZ2dsZV8xNXhucV8yMFwiLCBcIlB1Y2tIZWFkZXItLXJpZ2h0U2lkZUJhclZpc2libGVcIjogXCJfUHVja0hlYWRlci0tcmlnaHRTaWRlQmFyVmlzaWJsZV8xNXhucV8yN1wiLCBcIlB1Y2tIZWFkZXItcmlnaHRTaWRlQmFyVG9nZ2xlXCI6IFwiX1B1Y2tIZWFkZXItcmlnaHRTaWRlQmFyVG9nZ2xlXzE1eG5xXzI3XCIsIFwiUHVja0hlYWRlci0tbGVmdFNpZGVCYXJWaXNpYmxlXCI6IFwiX1B1Y2tIZWFkZXItLWxlZnRTaWRlQmFyVmlzaWJsZV8xNXhucV8yOFwiLCBcIlB1Y2tIZWFkZXItbGVmdFNpZGVCYXJUb2dnbGVcIjogXCJfUHVja0hlYWRlci1sZWZ0U2lkZUJhclRvZ2dsZV8xNXhucV8yOFwiLCBcIlB1Y2tIZWFkZXItdGl0bGVcIjogXCJfUHVja0hlYWRlci10aXRsZV8xNXhucV8zMlwiLCBcIlB1Y2tIZWFkZXItcGF0aFwiOiBcIl9QdWNrSGVhZGVyLXBhdGhfMTV4bnFfMzZcIiwgXCJQdWNrSGVhZGVyLXRvb2xzXCI6IFwiX1B1Y2tIZWFkZXItdG9vbHNfMTV4bnFfNDNcIiwgXCJQdWNrSGVhZGVyLW1lbnVCdXR0b25cIjogXCJfUHVja0hlYWRlci1tZW51QnV0dG9uXzE1eG5xXzQ5XCIsIFwiUHVja0hlYWRlci0tbWVudU9wZW5cIjogXCJfUHVja0hlYWRlci0tbWVudU9wZW5fMTV4bnFfNTRcIiB9O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9IZWFkZXIvaW5kZXgudHN4XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDE1LCBqc3ggYXMganN4NDIsIGpzeHMgYXMganN4czE5IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lMjggPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJQdWNrSGVhZGVyXCIsIHN0eWxlc19tb2R1bGVfZGVmYXVsdDIzKTtcbnZhciBIZWFkZXJJbm5lciA9ICgpID0+IHtcbiAgY29uc3Qge1xuICAgIG9uUHVibGlzaCxcbiAgICByZW5kZXJIZWFkZXIsXG4gICAgcmVuZGVySGVhZGVyQWN0aW9ucyxcbiAgICBoZWFkZXJUaXRsZSxcbiAgICBoZWFkZXJQYXRoLFxuICAgIGlmcmFtZTogX2lmcmFtZVxuICB9ID0gdXNlUHJvcHNDb250ZXh0KCk7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuZGlzcGF0Y2gpO1xuICBjb25zdCBhcHBTdG9yZSA9IHVzZUFwcFN0b3JlQXBpKCk7XG4gIGNvbnN0IGRlZmF1bHRIZWFkZXJSZW5kZXIgPSB1c2VNZW1vMTkoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJIZWFkZXIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJgcmVuZGVySGVhZGVyYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBvdmVycmlkZXMuaGVhZGVyYCBhbmQgdGhlIGB1c2VQdWNrYCBob29rIGluc3RlYWRcIlxuICAgICAgKTtcbiAgICAgIGNvbnN0IFJlbmRlckhlYWRlciA9IChfYSkgPT4ge1xuICAgICAgICB2YXIgX2IgPSBfYSwgeyBhY3Rpb25zIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcImFjdGlvbnNcIl0pO1xuICAgICAgICBjb25zdCBDb21wID0gcmVuZGVySGVhZGVyO1xuICAgICAgICBjb25zdCBhcHBTdGF0ZSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnN0YXRlKTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0MihDb21wLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHsgZGlzcGF0Y2gsIHN0YXRlOiBhcHBTdGF0ZSwgY2hpbGRyZW46IGFjdGlvbnMgfSkpO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBSZW5kZXJIZWFkZXI7XG4gICAgfVxuICAgIHJldHVybiBEZWZhdWx0T3ZlcnJpZGU7XG4gIH0sIFtyZW5kZXJIZWFkZXJdKTtcbiAgY29uc3QgZGVmYXVsdEhlYWRlckFjdGlvbnNSZW5kZXIgPSB1c2VNZW1vMTkoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJIZWFkZXJBY3Rpb25zKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiYHJlbmRlckhlYWRlckFjdGlvbnNgIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYG92ZXJyaWRlcy5oZWFkZXJBY3Rpb25zYCBhbmQgdGhlIGB1c2VQdWNrYCBob29rIGluc3RlYWQuXCJcbiAgICAgICk7XG4gICAgICBjb25zdCBSZW5kZXJIZWFkZXIgPSAocHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgQ29tcCA9IHJlbmRlckhlYWRlckFjdGlvbnM7XG4gICAgICAgIGNvbnN0IGFwcFN0YXRlID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuc3RhdGUpO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQyKENvbXAsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwgeyBkaXNwYXRjaCwgc3RhdGU6IGFwcFN0YXRlIH0pKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gUmVuZGVySGVhZGVyO1xuICAgIH1cbiAgICByZXR1cm4gRGVmYXVsdE92ZXJyaWRlO1xuICB9LCBbcmVuZGVySGVhZGVyQWN0aW9uc10pO1xuICBjb25zdCBDdXN0b21IZWFkZXIgPSB1c2VBcHBTdG9yZShcbiAgICAocykgPT4gcy5vdmVycmlkZXMuaGVhZGVyIHx8IGRlZmF1bHRIZWFkZXJSZW5kZXJcbiAgKTtcbiAgY29uc3QgQ3VzdG9tSGVhZGVyQWN0aW9ucyA9IHVzZUFwcFN0b3JlKFxuICAgIChzKSA9PiBzLm92ZXJyaWRlcy5oZWFkZXJBY3Rpb25zIHx8IGRlZmF1bHRIZWFkZXJBY3Rpb25zUmVuZGVyXG4gICk7XG4gIGNvbnN0IFttZW51T3Blbiwgc2V0TWVudU9wZW5dID0gdXNlU3RhdGUyMyhmYWxzZSk7XG4gIGNvbnN0IHJvb3RUaXRsZSA9IHVzZUFwcFN0b3JlKChzKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCByb290RGF0YSA9IChfYSA9IHMuc3RhdGUuaW5kZXhlcy5ub2Rlc1tcInJvb3RcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5kYXRhO1xuICAgIHJldHVybiAoX2IgPSByb290RGF0YS5wcm9wcy50aXRsZSkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgfSk7XG4gIGNvbnN0IGxlZnRTaWRlQmFyVmlzaWJsZSA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLnN0YXRlLnVpLmxlZnRTaWRlQmFyVmlzaWJsZSk7XG4gIGNvbnN0IHJpZ2h0U2lkZUJhclZpc2libGUgPSB1c2VBcHBTdG9yZShcbiAgICAocykgPT4gcy5zdGF0ZS51aS5yaWdodFNpZGVCYXJWaXNpYmxlXG4gICk7XG4gIGNvbnN0IHRvZ2dsZVNpZGViYXJzID0gdXNlQ2FsbGJhY2sxNyhcbiAgICAoc2lkZWJhcikgPT4ge1xuICAgICAgY29uc3Qgd2lkZXJWaWV3cG9ydCA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogNjM4cHgpXCIpLm1hdGNoZXM7XG4gICAgICBjb25zdCBzaWRlQmFyVmlzaWJsZSA9IHNpZGViYXIgPT09IFwibGVmdFwiID8gbGVmdFNpZGVCYXJWaXNpYmxlIDogcmlnaHRTaWRlQmFyVmlzaWJsZTtcbiAgICAgIGNvbnN0IG9wcG9zaXRlU2lkZUJhciA9IHNpZGViYXIgPT09IFwibGVmdFwiID8gXCJyaWdodFNpZGVCYXJWaXNpYmxlXCIgOiBcImxlZnRTaWRlQmFyVmlzaWJsZVwiO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBcInNldFVpXCIsXG4gICAgICAgIHVpOiBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgW2Ake3NpZGViYXJ9U2lkZUJhclZpc2libGVgXTogIXNpZGVCYXJWaXNpYmxlXG4gICAgICAgIH0sICF3aWRlclZpZXdwb3J0ID8geyBbb3Bwb3NpdGVTaWRlQmFyXTogZmFsc2UgfSA6IHt9KVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZGlzcGF0Y2gsIGxlZnRTaWRlQmFyVmlzaWJsZSwgcmlnaHRTaWRlQmFyVmlzaWJsZV1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0MihcbiAgICBDdXN0b21IZWFkZXIsXG4gICAge1xuICAgICAgYWN0aW9uczogLyogQF9fUFVSRV9fICovIGpzeDQyKEZyYWdtZW50MTUsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0MihDdXN0b21IZWFkZXJBY3Rpb25zLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDIoXG4gICAgICAgIEJ1dHRvbixcbiAgICAgICAge1xuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcHBTdG9yZS5nZXRTdGF0ZSgpLnN0YXRlLmRhdGE7XG4gICAgICAgICAgICBvblB1Ymxpc2ggJiYgb25QdWJsaXNoKGRhdGEpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIGpzeDQyKEdsb2JlLCB7IHNpemU6IFwiMTRweFwiIH0pLFxuICAgICAgICAgIGNoaWxkcmVuOiBcIlB1Ymxpc2hcIlxuICAgICAgICB9XG4gICAgICApIH0pIH0pLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0MihcbiAgICAgICAgXCJoZWFkZXJcIixcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogZ2V0Q2xhc3NOYW1lMjgoeyBsZWZ0U2lkZUJhclZpc2libGUsIHJpZ2h0U2lkZUJhclZpc2libGUgfSksXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTI4KFwiaW5uZXJcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyOChcInRvZ2dsZVwiKSwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyOChcImxlZnRTaWRlQmFyVG9nZ2xlXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQyKFxuICAgICAgICAgICAgICAgIEljb25CdXR0b24sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU2lkZWJhcnMoXCJsZWZ0XCIpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlRvZ2dsZSBsZWZ0IHNpZGViYXJcIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDIoUGFuZWxMZWZ0LCB7IGZvY3VzYWJsZTogXCJmYWxzZVwiIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApIH0pLFxuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NDIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTI4KFwicmlnaHRTaWRlQmFyVG9nZ2xlXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQyKFxuICAgICAgICAgICAgICAgIEljb25CdXR0b24sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU2lkZWJhcnMoXCJyaWdodFwiKTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB0aXRsZTogXCJUb2dnbGUgcmlnaHQgc2lkZWJhclwiLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0MihQYW5lbFJpZ2h0LCB7IGZvY3VzYWJsZTogXCJmYWxzZVwiIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApIH0pXG4gICAgICAgICAgICBdIH0pLFxuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyOChcInRpdGxlXCIpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxOShIZWFkaW5nLCB7IHJhbms6IFwiMlwiLCBzaXplOiBcInhzXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIGhlYWRlclRpdGxlIHx8IHJvb3RUaXRsZSB8fCBcIlBhZ2VcIixcbiAgICAgICAgICAgICAgaGVhZGVyUGF0aCAmJiAvKiBAX19QVVJFX18gKi8ganN4czE5KEZyYWdtZW50MTUsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NDIoXCJjb2RlXCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyOChcInBhdGhcIiksIGNoaWxkcmVuOiBoZWFkZXJQYXRoIH0pXG4gICAgICAgICAgICAgIF0gfSlcbiAgICAgICAgICAgIF0gfSkgfSksXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE5KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyOChcInRvb2xzXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NDIoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGdldENsYXNzTmFtZTI4KFwibWVudUJ1dHRvblwiKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0MihcbiAgICAgICAgICAgICAgICBJY29uQnV0dG9uLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRNZW51T3BlbighbWVudU9wZW4pO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlRvZ2dsZSBtZW51IGJhclwiLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IG1lbnVPcGVuID8gLyogQF9fUFVSRV9fICovIGpzeDQyKENoZXZyb25VcCwgeyBmb2N1c2FibGU6IFwiZmFsc2VcIiB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3g0MihDaGV2cm9uRG93biwgeyBmb2N1c2FibGU6IFwiZmFsc2VcIiB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQyKFxuICAgICAgICAgICAgICAgIE1lbnVCYXIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgICAgICAgICAgICBvblB1Ymxpc2gsXG4gICAgICAgICAgICAgICAgICBtZW51T3BlbixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckhlYWRlckFjdGlvbnM6ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3g0MihDdXN0b21IZWFkZXJBY3Rpb25zLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDIoXG4gICAgICAgICAgICAgICAgICAgIEJ1dHRvbixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcHBTdG9yZS5nZXRTdGF0ZSgpLnN0YXRlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblB1Ymxpc2ggJiYgb25QdWJsaXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIGpzeDQyKEdsb2JlLCB7IHNpemU6IFwiMTRweFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBcIlB1Ymxpc2hcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApIH0pLFxuICAgICAgICAgICAgICAgICAgc2V0TWVudU9wZW5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF0gfSlcbiAgICAgICAgICBdIH0pXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xudmFyIEhlYWRlciA9IG1lbW80KEhlYWRlcklubmVyKTtcblxuLy8gY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvU2lkZWJhci9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIGNvbXBvbmVudHMvUHVjay9jb21wb25lbnRzL1Jlc2l6ZUhhbmRsZS9pbmRleC50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazE4LCB1c2VSZWYgYXMgdXNlUmVmMTAgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9SZXNpemVIYW5kbGUvc3R5bGVzLm1vZHVsZS5jc3MjY3NzLW1vZHVsZVxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbnZhciBzdHlsZXNfbW9kdWxlX2RlZmF1bHQyNCA9IHsgXCJSZXNpemVIYW5kbGVcIjogXCJfUmVzaXplSGFuZGxlXzE0NGJmXzJcIiwgXCJSZXNpemVIYW5kbGUtLWxlZnRcIjogXCJfUmVzaXplSGFuZGxlLS1sZWZ0XzE0NGJmXzE2XCIsIFwiUmVzaXplSGFuZGxlLS1yaWdodFwiOiBcIl9SZXNpemVIYW5kbGUtLXJpZ2h0XzE0NGJmXzIwXCIgfTtcblxuLy8gY29tcG9uZW50cy9QdWNrL2NvbXBvbmVudHMvUmVzaXplSGFuZGxlL2luZGV4LnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDQzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZ2V0Q2xhc3NOYW1lMjkgPSBnZXRfY2xhc3NfbmFtZV9mYWN0b3J5X2RlZmF1bHQoXCJSZXNpemVIYW5kbGVcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MjQpO1xudmFyIFJlc2l6ZUhhbmRsZSA9ICh7XG4gIHBvc2l0aW9uLFxuICBzaWRlYmFyUmVmLFxuICBvblJlc2l6ZSxcbiAgb25SZXNpemVFbmRcbn0pID0+IHtcbiAgY29uc3QgeyBmcmFtZVJlZiB9ID0gdXNlQ2FudmFzRnJhbWUoKTtcbiAgY29uc3QgcmVzZXRBdXRvWm9vbSA9IHVzZVJlc2V0QXV0b1pvb20oZnJhbWVSZWYpO1xuICBjb25zdCBoYW5kbGVSZWYgPSB1c2VSZWYxMChudWxsKTtcbiAgY29uc3QgaXNEcmFnZ2luZyA9IHVzZVJlZjEwKGZhbHNlKTtcbiAgY29uc3Qgc3RhcnRYID0gdXNlUmVmMTAoMCk7XG4gIGNvbnN0IHN0YXJ0V2lkdGggPSB1c2VSZWYxMCgwKTtcbiAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gdXNlQ2FsbGJhY2sxOChcbiAgICAoZSkgPT4ge1xuICAgICAgaWYgKCFpc0RyYWdnaW5nLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGNvbnN0IGRlbHRhID0gZS5jbGllbnRYIC0gc3RhcnRYLmN1cnJlbnQ7XG4gICAgICBjb25zdCBuZXdXaWR0aCA9IHBvc2l0aW9uID09PSBcImxlZnRcIiA/IHN0YXJ0V2lkdGguY3VycmVudCArIGRlbHRhIDogc3RhcnRXaWR0aC5jdXJyZW50IC0gZGVsdGE7XG4gICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KDE5MiwgbmV3V2lkdGgpO1xuICAgICAgb25SZXNpemUod2lkdGgpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgW29uUmVzaXplLCBwb3NpdGlvbl1cbiAgKTtcbiAgY29uc3QgaGFuZGxlTW91c2VVcCA9IHVzZUNhbGxiYWNrMTgoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIWlzRHJhZ2dpbmcuY3VycmVudCkgcmV0dXJuO1xuICAgIGlzRHJhZ2dpbmcuY3VycmVudCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSBcIlwiO1xuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2l6ZS1vdmVybGF5XCIpO1xuICAgIGlmIChvdmVybGF5KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXkpO1xuICAgIH1cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGhhbmRsZU1vdXNlTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlTW91c2VVcCk7XG4gICAgY29uc3QgZmluYWxXaWR0aCA9ICgoX2EgPSBzaWRlYmFyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCkgfHwgMDtcbiAgICBvblJlc2l6ZUVuZChmaW5hbFdpZHRoKTtcbiAgICByZXNldEF1dG9ab29tKCk7XG4gIH0sIFtvblJlc2l6ZUVuZF0pO1xuICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSB1c2VDYWxsYmFjazE4KFxuICAgIChlKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpc0RyYWdnaW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgc3RhcnRYLmN1cnJlbnQgPSBlLmNsaWVudFg7XG4gICAgICBzdGFydFdpZHRoLmN1cnJlbnQgPSAoKF9hID0gc2lkZWJhclJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpIHx8IDA7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiY29sLXJlc2l6ZVwiO1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS51c2VyU2VsZWN0ID0gXCJub25lXCI7XG4gICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG92ZXJsYXkuaWQgPSBcInJlc2l6ZS1vdmVybGF5XCI7XG4gICAgICBvdmVybGF5LnNldEF0dHJpYnV0ZShcImRhdGEtcmVzaXplLW92ZXJsYXlcIiwgXCJcIik7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBoYW5kbGVNb3VzZU1vdmUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlTW91c2VVcCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSxcbiAgICBbcG9zaXRpb24sIGhhbmRsZU1vdXNlTW92ZSwgaGFuZGxlTW91c2VVcF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0MyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIHJlZjogaGFuZGxlUmVmLFxuICAgICAgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUyOSh7IFtwb3NpdGlvbl06IHRydWUgfSksXG4gICAgICBvbk1vdXNlRG93bjogaGFuZGxlTW91c2VEb3duXG4gICAgfVxuICApO1xufTtcblxuLy8gY3NzLW1vZHVsZTovaG9tZS9ydW5uZXIvd29yay9wdWNrL3B1Y2svcGFja2FnZXMvY29yZS9jb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9TaWRlYmFyL3N0eWxlcy5tb2R1bGUuY3NzI2Nzcy1tb2R1bGVcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG52YXIgc3R5bGVzX21vZHVsZV9kZWZhdWx0MjUgPSB7IFwiU2lkZWJhclwiOiBcIl9TaWRlYmFyXzF4a3NiXzFcIiwgXCJTaWRlYmFyLS1sZWZ0XCI6IFwiX1NpZGViYXItLWxlZnRfMXhrc2JfOFwiLCBcIlNpZGViYXItLXJpZ2h0XCI6IFwiX1NpZGViYXItLXJpZ2h0XzF4a3NiXzE0XCIsIFwiU2lkZWJhci1yZXNpemVIYW5kbGVcIjogXCJfU2lkZWJhci1yZXNpemVIYW5kbGVfMXhrc2JfMjBcIiB9O1xuXG4vLyBjb21wb25lbnRzL1B1Y2svY29tcG9uZW50cy9TaWRlYmFyL2luZGV4LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQgYXMgRnJhZ21lbnQxNiwganN4IGFzIGpzeDQ0LCBqc3hzIGFzIGpzeHMyMCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGdldENsYXNzTmFtZTMwID0gZ2V0X2NsYXNzX25hbWVfZmFjdG9yeV9kZWZhdWx0KFwiU2lkZWJhclwiLCBzdHlsZXNfbW9kdWxlX2RlZmF1bHQyNSk7XG52YXIgU2lkZWJhciA9ICh7XG4gIHBvc2l0aW9uLFxuICBzaWRlYmFyUmVmLFxuICBpc1Zpc2libGUsXG4gIG9uUmVzaXplLFxuICBvblJlc2l6ZUVuZCxcbiAgY2hpbGRyZW5cbn0pID0+IHtcbiAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMyMChGcmFnbWVudDE2LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDQ0KFwiZGl2XCIsIHsgcmVmOiBzaWRlYmFyUmVmLCBjbGFzc05hbWU6IGdldENsYXNzTmFtZTMwKHsgW3Bvc2l0aW9uXTogdHJ1ZSB9KSwgY2hpbGRyZW4gfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDQ0KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgJHtnZXRDbGFzc05hbWUzMChcInJlc2l6ZUhhbmRsZVwiKX1gLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ0KFxuICAgICAgUmVzaXplSGFuZGxlLFxuICAgICAge1xuICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgc2lkZWJhclJlZixcbiAgICAgICAgb25SZXNpemUsXG4gICAgICAgIG9uUmVzaXplRW5kXG4gICAgICB9XG4gICAgKSB9KVxuICBdIH0pO1xufTtcblxuLy8gbGliL3VzZS1zaWRlYmFyLXJlc2l6ZS50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrMTksIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyOCwgdXNlUmVmIGFzIHVzZVJlZjExLCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTI0IH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VTaWRlYmFyUmVzaXplKHBvc2l0aW9uLCBkaXNwYXRjaCkge1xuICBjb25zdCBbd2lkdGgsIHNldFdpZHRoXSA9IHVzZVN0YXRlMjQobnVsbCk7XG4gIGNvbnN0IHNpZGViYXJSZWYgPSB1c2VSZWYxMShudWxsKTtcbiAgY29uc3Qgc3RvcmVXaWR0aCA9IHVzZUFwcFN0b3JlKFxuICAgIChzKSA9PiBwb3NpdGlvbiA9PT0gXCJsZWZ0XCIgPyBzLnN0YXRlLnVpLmxlZnRTaWRlQmFyV2lkdGggOiBzLnN0YXRlLnVpLnJpZ2h0U2lkZUJhcldpZHRoXG4gICk7XG4gIHVzZUVmZmVjdDI4KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhc3RvcmVXaWR0aCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2F2ZWRXaWR0aHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInB1Y2stc2lkZWJhci13aWR0aHNcIik7XG4gICAgICAgIGlmIChzYXZlZFdpZHRocykge1xuICAgICAgICAgIGNvbnN0IHdpZHRocyA9IEpTT04ucGFyc2Uoc2F2ZWRXaWR0aHMpO1xuICAgICAgICAgIGNvbnN0IHNhdmVkV2lkdGggPSB3aWR0aHNbcG9zaXRpb25dO1xuICAgICAgICAgIGNvbnN0IGtleSA9IHBvc2l0aW9uID09PSBcImxlZnRcIiA/IFwibGVmdFNpZGVCYXJXaWR0aFwiIDogXCJyaWdodFNpZGVCYXJXaWR0aFwiO1xuICAgICAgICAgIGlmIChzYXZlZFdpZHRoKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwic2V0VWlcIixcbiAgICAgICAgICAgICAgdWk6IHtcbiAgICAgICAgICAgICAgICBba2V5XTogc2F2ZWRXaWR0aFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBsb2FkICR7cG9zaXRpb259IHNpZGViYXIgd2lkdGggZnJvbSBsb2NhbFN0b3JhZ2VgLFxuICAgICAgICAgIGVycm9yXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIHBvc2l0aW9uLCBzdG9yZVdpZHRoXSk7XG4gIHVzZUVmZmVjdDI4KCgpID0+IHtcbiAgICBpZiAoc3RvcmVXaWR0aCAhPT0gdm9pZCAwKSB7XG4gICAgICBzZXRXaWR0aChzdG9yZVdpZHRoKTtcbiAgICB9XG4gIH0sIFtzdG9yZVdpZHRoXSk7XG4gIGNvbnN0IGhhbmRsZVJlc2l6ZUVuZCA9IHVzZUNhbGxiYWNrMTkoXG4gICAgKHdpZHRoMikgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBcInNldFVpXCIsXG4gICAgICAgIHVpOiB7XG4gICAgICAgICAgW3Bvc2l0aW9uID09PSBcImxlZnRcIiA/IFwibGVmdFNpZGVCYXJXaWR0aFwiIDogXCJyaWdodFNpZGVCYXJXaWR0aFwiXTogd2lkdGgyXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGV0IHdpZHRocyA9IHt9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2F2ZWRXaWR0aHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInB1Y2stc2lkZWJhci13aWR0aHNcIik7XG4gICAgICAgIHdpZHRocyA9IHNhdmVkV2lkdGhzID8gSlNPTi5wYXJzZShzYXZlZFdpZHRocykgOiB7fTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBzYXZlICR7cG9zaXRpb259IHNpZGViYXIgd2lkdGggdG8gbG9jYWxTdG9yYWdlYCxcbiAgICAgICAgICBlcnJvclxuICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgXCJwdWNrLXNpZGViYXItd2lkdGhzXCIsXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgd2lkdGhzKSwge1xuICAgICAgICAgICAgW3Bvc2l0aW9uXTogd2lkdGgyXG4gICAgICAgICAgfSkpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwidmlld3BvcnRjaGFuZ2VcIiwge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBbZGlzcGF0Y2gsIHBvc2l0aW9uXVxuICApO1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIHNldFdpZHRoLFxuICAgIHNpZGViYXJSZWYsXG4gICAgaGFuZGxlUmVzaXplRW5kXG4gIH07XG59XG5cbi8vIGNvbXBvbmVudHMvUHVjay9pbmRleC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g0NSwganN4cyBhcyBqc3hzMjEgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBnZXRDbGFzc05hbWUzMSA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIlB1Y2tcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTUpO1xudmFyIGdldExheW91dENsYXNzTmFtZSA9IGdldF9jbGFzc19uYW1lX2ZhY3RvcnlfZGVmYXVsdChcIlB1Y2tMYXlvdXRcIiwgc3R5bGVzX21vZHVsZV9kZWZhdWx0MTUpO1xudmFyIEZpZWxkU2lkZUJhciA9ICgpID0+IHtcbiAgY29uc3QgdGl0bGUgPSB1c2VBcHBTdG9yZShcbiAgICAocykgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIHJldHVybiBzLnNlbGVjdGVkSXRlbSA/IChfYiA9IChfYSA9IHMuY29uZmlnLmNvbXBvbmVudHNbcy5zZWxlY3RlZEl0ZW0udHlwZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYVtcImxhYmVsXCJdKSAhPSBudWxsID8gX2IgOiBzLnNlbGVjdGVkSXRlbS50eXBlLnRvU3RyaW5nKCkgOiBcIlBhZ2VcIjtcbiAgICB9XG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NDUoU2lkZWJhclNlY3Rpb24sIHsgbm9QYWRkaW5nOiB0cnVlLCBub0JvcmRlclRvcDogdHJ1ZSwgc2hvd0JyZWFkY3J1bWJzOiB0cnVlLCB0aXRsZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0NShGaWVsZHMsIHt9KSB9KTtcbn07XG52YXIgcHJvcHNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDgoe30pO1xuZnVuY3Rpb24gUHJvcHNQcm92aWRlcihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ1KHByb3BzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcHJvcHMsIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlbiB9KTtcbn1cbnZhciB1c2VQcm9wc0NvbnRleHQgPSAoKSA9PiB1c2VDb250ZXh0MTMocHJvcHNDb250ZXh0KTtcbmZ1bmN0aW9uIFB1Y2tQcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3Qge1xuICAgIGNvbmZpZyxcbiAgICBkYXRhOiBpbml0aWFsRGF0YSxcbiAgICB1aTogaW5pdGlhbFVpLFxuICAgIG9uQ2hhbmdlLFxuICAgIHBlcm1pc3Npb25zID0ge30sXG4gICAgcGx1Z2lucyxcbiAgICBvdmVycmlkZXMsXG4gICAgdmlld3BvcnRzID0gZGVmYXVsdFZpZXdwb3J0cyxcbiAgICBpZnJhbWU6IF9pZnJhbWUsXG4gICAgaW5pdGlhbEhpc3Rvcnk6IF9pbml0aWFsSGlzdG9yeSxcbiAgICBtZXRhZGF0YSxcbiAgICBvbkFjdGlvbixcbiAgICBmaWVsZFRyYW5zZm9ybXNcbiAgfSA9IHVzZVByb3BzQ29udGV4dCgpO1xuICBjb25zdCBpZnJhbWUgPSB1c2VNZW1vMjAoXG4gICAgKCkgPT4gX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIHdhaXRGb3JTdHlsZXM6IHRydWVcbiAgICB9LCBfaWZyYW1lKSxcbiAgICBbX2lmcmFtZV1cbiAgKTtcbiAgY29uc3QgW2dlbmVyYXRlZEFwcFN0YXRlXSA9IHVzZVN0YXRlMjUoKCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pO1xuICAgIGNvbnN0IGluaXRpYWwgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZGVmYXVsdEFwcFN0YXRlLnVpKSwgaW5pdGlhbFVpKTtcbiAgICBsZXQgY2xpZW50VWlTdGF0ZSA9IHt9O1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA2MzhweClcIikubWF0Y2hlcykge1xuICAgICAgICBjbGllbnRVaVN0YXRlID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY2xpZW50VWlTdGF0ZSksIHtcbiAgICAgICAgICBsZWZ0U2lkZUJhclZpc2libGU6IGZhbHNlLFxuICAgICAgICAgIHJpZ2h0U2lkZUJhclZpc2libGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgY29uc3Qgdmlld3BvcnREaWZmZXJlbmNlcyA9IE9iamVjdC5lbnRyaWVzKHZpZXdwb3J0cykubWFwKChba2V5LCB2YWx1ZV0pID0+ICh7XG4gICAgICAgIGtleSxcbiAgICAgICAgZGlmZjogTWF0aC5hYnModmlld3BvcnRXaWR0aCAtIHZhbHVlLndpZHRoKVxuICAgICAgfSkpLnNvcnQoKGEsIGIpID0+IGEuZGlmZiA+IGIuZGlmZiA/IDEgOiAtMSk7XG4gICAgICBjb25zdCBjbG9zZXN0Vmlld3BvcnQgPSB2aWV3cG9ydERpZmZlcmVuY2VzWzBdLmtleTtcbiAgICAgIGlmIChpZnJhbWUuZW5hYmxlZCkge1xuICAgICAgICBjbGllbnRVaVN0YXRlID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY2xpZW50VWlTdGF0ZSksIHtcbiAgICAgICAgICB2aWV3cG9ydHM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGluaXRpYWwudmlld3BvcnRzKSwge1xuICAgICAgICAgICAgY3VycmVudDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaW5pdGlhbC52aWV3cG9ydHMuY3VycmVudCksIHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAoKF9iID0gKF9hID0gaW5pdGlhbFVpID09IG51bGwgPyB2b2lkIDAgOiBpbml0aWFsVWkudmlld3BvcnRzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmhlaWdodCkgfHwgKChfYyA9IHZpZXdwb3J0c1tjbG9zZXN0Vmlld3BvcnRdKSA9PSBudWxsID8gdm9pZCAwIDogX2MuaGVpZ2h0KSB8fCBcImF1dG9cIixcbiAgICAgICAgICAgICAgd2lkdGg6ICgoX2UgPSAoX2QgPSBpbml0aWFsVWkgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXRpYWxVaS52aWV3cG9ydHMpID09IG51bGwgPyB2b2lkIDAgOiBfZC5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2Uud2lkdGgpIHx8ICgoX2YgPSB2aWV3cG9ydHNbY2xvc2VzdFZpZXdwb3J0XSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLndpZHRoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKChpbml0aWFsRGF0YSA9PSBudWxsID8gdm9pZCAwIDogaW5pdGlhbERhdGEucm9vdCkgfHwge30pLmxlbmd0aCA+IDAgJiYgISgoX2cgPSBpbml0aWFsRGF0YSA9PSBudWxsID8gdm9pZCAwIDogaW5pdGlhbERhdGEucm9vdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLnByb3BzKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIldhcm5pbmc6IERlZmluaW5nIHByb3BzIG9uIGByb290YCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGByb290LnByb3BzYCwgb3IgcmVwdWJsaXNoIHRoaXMgcGFnZSB0byBtaWdyYXRlIGF1dG9tYXRpY2FsbHkuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RQcm9wcyA9ICgoX2ggPSBpbml0aWFsRGF0YSA9PSBudWxsID8gdm9pZCAwIDogaW5pdGlhbERhdGEucm9vdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLnByb3BzKSB8fCAoaW5pdGlhbERhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXRpYWxEYXRhLnJvb3QpIHx8IHt9O1xuICAgIGNvbnN0IGRlZmF1bHRlZFJvb3RQcm9wcyA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCAoX2kgPSBjb25maWcucm9vdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLmRlZmF1bHRQcm9wcyksIHJvb3RQcm9wcyk7XG4gICAgY29uc3QgbmV3QXBwU3RhdGUgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBkZWZhdWx0QXBwU3RhdGUpLCB7XG4gICAgICBkYXRhOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBpbml0aWFsRGF0YSksIHtcbiAgICAgICAgcm9vdDogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaW5pdGlhbERhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXRpYWxEYXRhLnJvb3QpLCB7IHByb3BzOiBkZWZhdWx0ZWRSb290UHJvcHMgfSksXG4gICAgICAgIGNvbnRlbnQ6IGluaXRpYWxEYXRhLmNvbnRlbnQgfHwgW11cbiAgICAgIH0pLFxuICAgICAgdWk6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGluaXRpYWwpLCBjbGllbnRVaVN0YXRlKSwge1xuICAgICAgICAvLyBTdG9yZSBjYXRlZ29yaWVzIHVuZGVyIGNvbXBvbmVudExpc3Qgb24gc3RhdGUgdG8gYWxsb3cgcmVuZGVyIGZ1bmN0aW9ucyBhbmQgcGx1Z2lucyB0byBtb2RpZnlcbiAgICAgICAgY29tcG9uZW50TGlzdDogY29uZmlnLmNhdGVnb3JpZXMgPyBPYmplY3QuZW50cmllcyhjb25maWcuY2F0ZWdvcmllcykucmVkdWNlKFxuICAgICAgICAgIChhY2MsIFtjYXRlZ29yeU5hbWUsIGNhdGVnb3J5XSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFjYyksIHtcbiAgICAgICAgICAgICAgW2NhdGVnb3J5TmFtZV06IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogY2F0ZWdvcnkuY29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICBleHBhbmRlZDogY2F0ZWdvcnkuZGVmYXVsdEV4cGFuZGVkLFxuICAgICAgICAgICAgICAgIHZpc2libGU6IGNhdGVnb3J5LnZpc2libGVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7fVxuICAgICAgICApIDoge31cbiAgICAgIH0pXG4gICAgfSk7XG4gICAgcmV0dXJuIHdhbGtBcHBTdGF0ZShuZXdBcHBTdGF0ZSwgY29uZmlnKTtcbiAgfSk7XG4gIGNvbnN0IHsgYXBwZW5kRGF0YSA9IHRydWUgfSA9IF9pbml0aWFsSGlzdG9yeSB8fCB7fTtcbiAgY29uc3QgW2JsZW5kZWRIaXN0b3JpZXNdID0gdXNlU3RhdGUyNShcbiAgICBbXG4gICAgICAuLi4oX2luaXRpYWxIaXN0b3J5ID09IG51bGwgPyB2b2lkIDAgOiBfaW5pdGlhbEhpc3RvcnkuaGlzdG9yaWVzKSB8fCBbXSxcbiAgICAgIC4uLmFwcGVuZERhdGEgPyBbeyBzdGF0ZTogZ2VuZXJhdGVkQXBwU3RhdGUgfV0gOiBbXVxuICAgIF0ubWFwKChoaXN0b3J5KSA9PiB7XG4gICAgICBsZXQgbmV3U3RhdGUgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2VuZXJhdGVkQXBwU3RhdGUpLCBoaXN0b3J5LnN0YXRlKTtcbiAgICAgIGlmICghaGlzdG9yeS5zdGF0ZS5pbmRleGVzKSB7XG4gICAgICAgIG5ld1N0YXRlID0gd2Fsa0FwcFN0YXRlKG5ld1N0YXRlLCBjb25maWcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGhpc3RvcnkpLCB7XG4gICAgICAgIHN0YXRlOiBuZXdTdGF0ZVxuICAgICAgfSk7XG4gICAgfSlcbiAgKTtcbiAgY29uc3QgaW5pdGlhbEhpc3RvcnlJbmRleCA9IChfaW5pdGlhbEhpc3RvcnkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbml0aWFsSGlzdG9yeS5pbmRleCkgfHwgYmxlbmRlZEhpc3Rvcmllcy5sZW5ndGggLSAxO1xuICBjb25zdCBpbml0aWFsQXBwU3RhdGUgPSBibGVuZGVkSGlzdG9yaWVzW2luaXRpYWxIaXN0b3J5SW5kZXhdLnN0YXRlO1xuICBjb25zdCBsb2FkZWRPdmVycmlkZXMgPSB1c2VMb2FkZWRPdmVycmlkZXMoe1xuICAgIG92ZXJyaWRlcyxcbiAgICBwbHVnaW5zXG4gIH0pO1xuICBjb25zdCBsb2FkZWRGaWVsZFRyYW5zZm9ybXMgPSB1c2VNZW1vMjAoKCkgPT4ge1xuICAgIGNvbnN0IF9wbHVnaW5zID0gcGx1Z2lucyB8fCBbXTtcbiAgICBjb25zdCBwbHVnaW5GaWVsZFRyYW5zZm9ybXMgPSBfcGx1Z2lucy5yZWR1Y2UoXG4gICAgICAoYWNjLCBwbHVnaW4pID0+IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBhY2MpLCBwbHVnaW4uZmllbGRUcmFuc2Zvcm1zKSxcbiAgICAgIHt9XG4gICAgKTtcbiAgICByZXR1cm4gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIHBsdWdpbkZpZWxkVHJhbnNmb3JtcyksIGZpZWxkVHJhbnNmb3Jtcyk7XG4gIH0sIFtmaWVsZFRyYW5zZm9ybXMsIHBsdWdpbnNdKTtcbiAgY29uc3QgZ2VuZXJhdGVBcHBTdG9yZSA9IHVzZUNhbGxiYWNrMjAoXG4gICAgKHN0YXRlKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0ZSxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICBwbHVnaW5zOiBwbHVnaW5zIHx8IFtdLFxuICAgICAgICBvdmVycmlkZXM6IGxvYWRlZE92ZXJyaWRlcyxcbiAgICAgICAgdmlld3BvcnRzLFxuICAgICAgICBpZnJhbWUsXG4gICAgICAgIG9uQWN0aW9uLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgZmllbGRUcmFuc2Zvcm1zOiBsb2FkZWRGaWVsZFRyYW5zZm9ybXNcbiAgICAgIH07XG4gICAgfSxcbiAgICBbXG4gICAgICBpbml0aWFsQXBwU3RhdGUsXG4gICAgICBjb25maWcsXG4gICAgICBwbHVnaW5zLFxuICAgICAgbG9hZGVkT3ZlcnJpZGVzLFxuICAgICAgdmlld3BvcnRzLFxuICAgICAgaWZyYW1lLFxuICAgICAgb25BY3Rpb24sXG4gICAgICBtZXRhZGF0YSxcbiAgICAgIGxvYWRlZEZpZWxkVHJhbnNmb3Jtc1xuICAgIF1cbiAgKTtcbiAgY29uc3QgW2FwcFN0b3JlXSA9IHVzZVN0YXRlMjUoXG4gICAgKCkgPT4gY3JlYXRlQXBwU3RvcmUoZ2VuZXJhdGVBcHBTdG9yZShpbml0aWFsQXBwU3RhdGUpKVxuICApO1xuICB1c2VFZmZlY3QyOSgoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgd2luZG93Ll9fUFVDS19JTlRFUk5BTF9ET19OT1RfVVNFID0geyBhcHBTdG9yZSB9O1xuICAgIH1cbiAgfSwgW2FwcFN0b3JlXSk7XG4gIHVzZUVmZmVjdDI5KCgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGFwcFN0b3JlLmdldFN0YXRlKCkuc3RhdGU7XG4gICAgYXBwU3RvcmUuc2V0U3RhdGUoX19zcHJlYWRWYWx1ZXMoe30sIGdlbmVyYXRlQXBwU3RvcmUoc3RhdGUpKSk7XG4gIH0sIFtjb25maWcsIHBsdWdpbnMsIGxvYWRlZE92ZXJyaWRlcywgdmlld3BvcnRzLCBpZnJhbWUsIG9uQWN0aW9uLCBtZXRhZGF0YV0pO1xuICB1c2VSZWdpc3Rlckhpc3RvcnlTbGljZShhcHBTdG9yZSwge1xuICAgIGhpc3RvcmllczogYmxlbmRlZEhpc3RvcmllcyxcbiAgICBpbmRleDogaW5pdGlhbEhpc3RvcnlJbmRleCxcbiAgICBpbml0aWFsQXBwU3RhdGVcbiAgfSk7XG4gIGNvbnN0IHByZXZpb3VzRGF0YSA9IHVzZVJlZjEyKG51bGwpO1xuICB1c2VFZmZlY3QyOSgoKSA9PiB7XG4gICAgYXBwU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHMpID0+IHMuc3RhdGUuZGF0YSxcbiAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgIGlmIChmZGVxKGRhdGEsIHByZXZpb3VzRGF0YS5jdXJyZW50KSkgcmV0dXJuO1xuICAgICAgICAgIG9uQ2hhbmdlKGRhdGEpO1xuICAgICAgICAgIHByZXZpb3VzRGF0YS5jdXJyZW50ID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0sIFtdKTtcbiAgdXNlUmVnaXN0ZXJQZXJtaXNzaW9uc1NsaWNlKGFwcFN0b3JlLCBwZXJtaXNzaW9ucyk7XG4gIGNvbnN0IHVQdWNrU3RvcmUgPSB1c2VSZWdpc3RlclVzZVB1Y2tTdG9yZShhcHBTdG9yZSk7XG4gIHVzZUVmZmVjdDI5KCgpID0+IHtcbiAgICBjb25zdCB7IHJlc29sdmVBbmRDb21taXREYXRhIH0gPSBhcHBTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJlc29sdmVBbmRDb21taXREYXRhKCk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0NShhcHBTdG9yZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGFwcFN0b3JlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ1KFVzZVB1Y2tTdG9yZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHVQdWNrU3RvcmUsIGNoaWxkcmVuIH0pIH0pO1xufVxuZnVuY3Rpb24gUHVja0xheW91dCh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3Qge1xuICAgIGlmcmFtZTogX2lmcmFtZSxcbiAgICBkbmQsXG4gICAgaW5pdGlhbEhpc3Rvcnk6IF9pbml0aWFsSGlzdG9yeVxuICB9ID0gdXNlUHJvcHNDb250ZXh0KCk7XG4gIGNvbnN0IGlmcmFtZSA9IHVzZU1lbW8yMChcbiAgICAoKSA9PiBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgd2FpdEZvclN0eWxlczogdHJ1ZVxuICAgIH0sIF9pZnJhbWUpLFxuICAgIFtfaWZyYW1lXVxuICApO1xuICB1c2VJbmplY3RHbG9iYWxDc3MoaWZyYW1lLmVuYWJsZWQpO1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZUFwcFN0b3JlKChzKSA9PiBzLmRpc3BhdGNoKTtcbiAgY29uc3QgbGVmdFNpZGVCYXJWaXNpYmxlID0gdXNlQXBwU3RvcmUoKHMpID0+IHMuc3RhdGUudWkubGVmdFNpZGVCYXJWaXNpYmxlKTtcbiAgY29uc3QgcmlnaHRTaWRlQmFyVmlzaWJsZSA9IHVzZUFwcFN0b3JlKFxuICAgIChzKSA9PiBzLnN0YXRlLnVpLnJpZ2h0U2lkZUJhclZpc2libGVcbiAgKTtcbiAgY29uc3Qge1xuICAgIHdpZHRoOiBsZWZ0V2lkdGgsXG4gICAgc2V0V2lkdGg6IHNldExlZnRXaWR0aCxcbiAgICBzaWRlYmFyUmVmOiBsZWZ0U2lkZWJhclJlZixcbiAgICBoYW5kbGVSZXNpemVFbmQ6IGhhbmRsZUxlZnRTaWRlYmFyUmVzaXplRW5kXG4gIH0gPSB1c2VTaWRlYmFyUmVzaXplKFwibGVmdFwiLCBkaXNwYXRjaCk7XG4gIGNvbnN0IHtcbiAgICB3aWR0aDogcmlnaHRXaWR0aCxcbiAgICBzZXRXaWR0aDogc2V0UmlnaHRXaWR0aCxcbiAgICBzaWRlYmFyUmVmOiByaWdodFNpZGViYXJSZWYsXG4gICAgaGFuZGxlUmVzaXplRW5kOiBoYW5kbGVSaWdodFNpZGViYXJSZXNpemVFbmRcbiAgfSA9IHVzZVNpZGViYXJSZXNpemUoXCJyaWdodFwiLCBkaXNwYXRjaCk7XG4gIHVzZUVmZmVjdDI5KCgpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogNjM4cHgpXCIpLm1hdGNoZXMpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogXCJzZXRVaVwiLFxuICAgICAgICB1aToge1xuICAgICAgICAgIGxlZnRTaWRlQmFyVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgcmlnaHRTaWRlQmFyVmlzaWJsZTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA2MzhweClcIikubWF0Y2hlcykge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogXCJzZXRVaVwiLFxuICAgICAgICAgIHVpOiAodWkpID0+IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCB1aSksIHVpLnJpZ2h0U2lkZUJhclZpc2libGUgPyB7IGxlZnRTaWRlQmFyVmlzaWJsZTogZmFsc2UgfSA6IHt9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCBvdmVycmlkZXMgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5vdmVycmlkZXMpO1xuICBjb25zdCBDdXN0b21QdWNrID0gdXNlTWVtbzIwKFxuICAgICgpID0+IG92ZXJyaWRlcy5wdWNrIHx8IERlZmF1bHRPdmVycmlkZSxcbiAgICBbb3ZlcnJpZGVzXVxuICApO1xuICBjb25zdCBbbW91bnRlZCwgc2V0TW91bnRlZF0gPSB1c2VTdGF0ZTI1KGZhbHNlKTtcbiAgdXNlRWZmZWN0MjkoKCkgPT4ge1xuICAgIHNldE1vdW50ZWQodHJ1ZSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgcmVhZHkgPSB1c2VBcHBTdG9yZSgocykgPT4gcy5zdGF0dXMgPT09IFwiUkVBRFlcIik7XG4gIHVzZU1vbml0b3JIb3RrZXlzKCk7XG4gIHVzZUVmZmVjdDI5KCgpID0+IHtcbiAgICBpZiAocmVhZHkgJiYgaWZyYW1lLmVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGZyYW1lRG9jID0gZ2V0RnJhbWUoKTtcbiAgICAgIGlmIChmcmFtZURvYykge1xuICAgICAgICByZXR1cm4gbW9uaXRvckhvdGtleXMoZnJhbWVEb2MpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3JlYWR5LCBpZnJhbWUuZW5hYmxlZF0pO1xuICB1c2VQcmV2aWV3TW9kZUhvdGtleXMoKTtcbiAgY29uc3QgbGF5b3V0T3B0aW9ucyA9IHt9O1xuICBpZiAobGVmdFdpZHRoKSB7XG4gICAgbGF5b3V0T3B0aW9uc1tcIi0tcHVjay11c2VyLWxlZnQtc2lkZS1iYXItd2lkdGhcIl0gPSBgJHtsZWZ0V2lkdGh9cHhgO1xuICB9XG4gIGlmIChyaWdodFdpZHRoKSB7XG4gICAgbGF5b3V0T3B0aW9uc1tcIi0tcHVjay11c2VyLXJpZ2h0LXNpZGUtYmFyLXdpZHRoXCJdID0gYCR7cmlnaHRXaWR0aH1weGA7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMjEoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGBQdWNrICR7Z2V0Q2xhc3NOYW1lMzEoKX1gLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g0NShEcmFnRHJvcENvbnRleHQsIHsgZGlzYWJsZUF1dG9TY3JvbGw6IGRuZCA9PSBudWxsID8gdm9pZCAwIDogZG5kLmRpc2FibGVBdXRvU2Nyb2xsLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ1KEN1c3RvbVB1Y2ssIHsgY2hpbGRyZW46IGNoaWxkcmVuIHx8IC8qIEBfX1BVUkVfXyAqLyBqc3g0NShGcmFtZVByb3ZpZGVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDUoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IGdldExheW91dENsYXNzTmFtZSh7XG4gICAgICAgICAgbGVmdFNpZGVCYXJWaXNpYmxlLFxuICAgICAgICAgIG1vdW50ZWQsXG4gICAgICAgICAgcmlnaHRTaWRlQmFyVmlzaWJsZVxuICAgICAgICB9KSxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzMjEoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGdldExheW91dENsYXNzTmFtZShcImlubmVyXCIpLFxuICAgICAgICAgICAgc3R5bGU6IGxheW91dE9wdGlvbnMsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NDUoSGVhZGVyLCB7fSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMjEoXG4gICAgICAgICAgICAgICAgU2lkZWJhcixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgICAgICBzaWRlYmFyUmVmOiBsZWZ0U2lkZWJhclJlZixcbiAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogbGVmdFNpZGVCYXJWaXNpYmxlLFxuICAgICAgICAgICAgICAgICAgb25SZXNpemU6IHNldExlZnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgIG9uUmVzaXplRW5kOiBoYW5kbGVMZWZ0U2lkZWJhclJlc2l6ZUVuZCxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g0NShTaWRlYmFyU2VjdGlvbiwgeyB0aXRsZTogXCJDb21wb25lbnRzXCIsIG5vQm9yZGVyVG9wOiB0cnVlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ1KENvbXBvbmVudHMsIHt9KSB9KSxcbiAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQ1KFNpZGViYXJTZWN0aW9uLCB7IHRpdGxlOiBcIk91dGxpbmVcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0NShPdXRsaW5lLCB7fSkgfSlcbiAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g0NShDYW52YXMsIHt9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDQ1KFxuICAgICAgICAgICAgICAgIFNpZGViYXIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmlnaHRcIixcbiAgICAgICAgICAgICAgICAgIHNpZGViYXJSZWY6IHJpZ2h0U2lkZWJhclJlZixcbiAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogcmlnaHRTaWRlQmFyVmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgIG9uUmVzaXplOiBzZXRSaWdodFdpZHRoLFxuICAgICAgICAgICAgICAgICAgb25SZXNpemVFbmQ6IGhhbmRsZVJpZ2h0U2lkZWJhclJlc2l6ZUVuZCxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDUoRmllbGRTaWRlQmFyLCB7fSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApIH0pIH0pIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g0NShcImRpdlwiLCB7IGlkOiBcInB1Y2stcG9ydGFsLXJvb3RcIiwgY2xhc3NOYW1lOiBnZXRDbGFzc05hbWUzMShcInBvcnRhbFwiKSB9KVxuICBdIH0pO1xufVxuZnVuY3Rpb24gUHVjayhwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQ1KFByb3BzUHJvdmlkZXIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQ1KFB1Y2tQcm92aWRlciwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NDUoUHVja0xheW91dCwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSkgfSkpIH0pKTtcbn1cblB1Y2suQ29tcG9uZW50cyA9IENvbXBvbmVudHM7XG5QdWNrLkZpZWxkcyA9IEZpZWxkcztcblB1Y2suT3V0bGluZSA9IE91dGxpbmU7XG5QdWNrLlByZXZpZXcgPSBQcmV2aWV3MjtcblxuLy8gYnVuZGxlL2NvcmUudHNcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIHR5cGVzL0FQSS9pbmRleC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gdHlwZXMvQVBJL0Ryb3Bab25lLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyB0eXBlcy9BUEkvVmlld3BvcnRzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyB0eXBlcy9BUEkvRmllbGRUcmFuc2Zvcm1zLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyB0eXBlcy9pbmRleC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gdHlwZXMvQXBwU3RhdGUudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyB0eXBlcy9Db25maWcudHN4XG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyB0eXBlcy9EYXRhLnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuLy8gdHlwZXMvRmllbGRzLnRzXG5pbml0X3JlYWN0X2ltcG9ydCgpO1xuXG4vLyB0eXBlcy9Qcm9wcy50c3hcbmluaXRfcmVhY3RfaW1wb3J0KCk7XG5cbi8vIHR5cGVzL1V0aWxzLnRzeFxuaW5pdF9yZWFjdF9pbXBvcnQoKTtcblxuZXhwb3J0IHtcbiAgb3ZlcnJpZGVLZXlzLFxuICBBY3Rpb25CYXIsXG4gIEFjdGlvbixcbiAgR3JvdXAsXG4gIExhYmVsLFxuICBJY29uQnV0dG9uLFxuICBCdXR0b24sXG4gIEZpZWxkTGFiZWwsXG4gIEF1dG9GaWVsZCxcbiAgcmVuZGVyQ29udGV4dCxcbiAgUmVuZGVyLFxuICByZWdpc3Rlck92ZXJsYXlQb3J0YWwsXG4gIHNldERlZXAsXG4gIERyb3Bab25lLFxuICBEcmF3ZXIsXG4gIGNyZWF0ZVVzZVB1Y2ssXG4gIHVzZVB1Y2ssXG4gIHVzZUdldFB1Y2ssXG4gIFB1Y2tcbn07XG4vKiEgQnVuZGxlZCBsaWNlbnNlIGluZm9ybWF0aW9uOlxuXG5jbGFzc25hbWVzL2luZGV4LmpzOlxuICAoKiFcbiAgXHRDb3B5cmlnaHQgKGMpIDIwMTggSmVkIFdhdHNvbi5cbiAgXHRMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBcdGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL3NoYXJlZC9zcmMvdXRpbHMuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2RlZmF1bHRBdHRyaWJ1dGVzLmpzOlxuICAoKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ2OC4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICopXG5cbmx1Y2lkZS1yZWFjdC9kaXN0L2VzbS9JY29uLmpzOlxuICAoKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ2OC4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICopXG5cbmx1Y2lkZS1yZWFjdC9kaXN0L2VzbS9jcmVhdGVMdWNpZGVJY29uLmpzOlxuICAoKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ2OC4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICopXG5cbmx1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9jaGV2cm9uLWRvd24uanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2NoZXZyb24tcmlnaHQuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2NoZXZyb24tdXAuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2NpcmNsZS1jaGVjay1iaWcuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2NvcHkuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2Nvcm5lci1sZWZ0LXVwLmpzOlxuICAoKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ2OC4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICopXG5cbmx1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9lbGxpcHNpcy12ZXJ0aWNhbC5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvZ2xvYmUuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2hhc2guanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xheWVycy5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbGF5b3V0LWdyaWQuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xpbmsuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xpc3QuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xvY2stb3Blbi5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbG9jay5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvbW9uaXRvci5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcGFuZWwtbGVmdC5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvcGFuZWwtcmlnaHQuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3BsdXMuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3JlZG8tMi5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvc2VhcmNoLmpzOlxuICAoKipcbiAgICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ2OC4wIC0gSVNDXG4gICAqXG4gICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICAgKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAgICopXG5cbmx1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9zbGlkZXJzLWhvcml6b250YWwuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3NtYXJ0cGhvbmUuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3RhYmxldC5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvdHJhc2guanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3R5cGUuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3VuZG8tMi5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvem9vbS1pbi5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuXG5sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvem9vbS1vdXQuanM6XG4gICgqKlxuICAgKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDY4LjAgLSBJU0NcbiAgICpcbiAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gICAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICAgKilcblxubHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2x1Y2lkZS1yZWFjdC5qczpcbiAgKCoqXG4gICAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NjguMCAtIElTQ1xuICAgKlxuICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAgICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAqKVxuKi9cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-QIGVND56.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.css":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.css ***!
  \*************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"62db6846a7ae\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbWVhc3VyZWQrcHVja0AwLjIwLjJfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9AbWVhc3VyZWQvcHVjay9kaXN0L2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9AbWVhc3VyZWQrcHVja0AwLjIwLjJfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9AbWVhc3VyZWQvcHVjay9kaXN0L2luZGV4LmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjYyZGI2ODQ2YTdhZVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.mjs":
/*!*************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.mjs ***!
  \*************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Action: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.Action),\n/* harmony export */   ActionBar: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionBar),\n/* harmony export */   AutoField: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.AutoField),\n/* harmony export */   Button: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.Button),\n/* harmony export */   Drawer: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.Drawer),\n/* harmony export */   DropZone: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.DropZone),\n/* harmony export */   FieldLabel: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.FieldLabel),\n/* harmony export */   Group: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.Group),\n/* harmony export */   IconButton: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.IconButton),\n/* harmony export */   Label: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.Label),\n/* harmony export */   Puck: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.Puck),\n/* harmony export */   Render: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.Render),\n/* harmony export */   createUsePuck: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.createUsePuck),\n/* harmony export */   migrate: () => (/* reexport safe */ _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_1__.migrate),\n/* harmony export */   overrideKeys: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.overrideKeys),\n/* harmony export */   registerOverlayPortal: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.registerOverlayPortal),\n/* harmony export */   renderContext: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.renderContext),\n/* harmony export */   resolveAllData: () => (/* reexport safe */ _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_1__.resolveAllData),\n/* harmony export */   setDeep: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.setDeep),\n/* harmony export */   transformProps: () => (/* reexport safe */ _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_1__.transformProps),\n/* harmony export */   useGetPuck: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.useGetPuck),\n/* harmony export */   usePuck: () => (/* reexport safe */ _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__.usePuck),\n/* harmony export */   walkTree: () => (/* reexport safe */ _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_1__.walkTree)\n/* harmony export */ });\n/* harmony import */ var _chunk_QIGVND56_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-QIGVND56.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-QIGVND56.mjs\");\n/* harmony import */ var _chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-OOLYDXKW.mjs */ \"(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/chunk-OOLYDXKW.mjs\");\n\n\n\n// bundle/index.ts\n(0,_chunk_OOLYDXKW_mjs__WEBPACK_IMPORTED_MODULE_1__.init_react_import)();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbWVhc3VyZWQrcHVja0AwLjIwLjJfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9AbWVhc3VyZWQvcHVjay9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0I4QjtBQU9BOztBQUU5QjtBQUNBLHNFQUFpQjtBQXlCZiIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL0BtZWFzdXJlZCtwdWNrQDAuMjAuMl9AdHlwZXMrcmVhY3RAMTkuMi43X3JlYWN0LWRvbUAxOS4yLjBfcmVhY3RAMTkuMi4wX19yZWFjdEAxOS4yLjAvbm9kZV9tb2R1bGVzL0BtZWFzdXJlZC9wdWNrL2Rpc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFjdGlvbixcbiAgQWN0aW9uQmFyLFxuICBBdXRvRmllbGQsXG4gIEJ1dHRvbixcbiAgRHJhd2VyLFxuICBEcm9wWm9uZSxcbiAgRmllbGRMYWJlbCxcbiAgR3JvdXAsXG4gIEljb25CdXR0b24sXG4gIExhYmVsLFxuICBQdWNrLFxuICBSZW5kZXIsXG4gIGNyZWF0ZVVzZVB1Y2ssXG4gIG92ZXJyaWRlS2V5cyxcbiAgcmVnaXN0ZXJPdmVybGF5UG9ydGFsLFxuICByZW5kZXJDb250ZXh0LFxuICBzZXREZWVwLFxuICB1c2VHZXRQdWNrLFxuICB1c2VQdWNrXG59IGZyb20gXCIuL2NodW5rLVFJR1ZORDU2Lm1qc1wiO1xuaW1wb3J0IHtcbiAgaW5pdF9yZWFjdF9pbXBvcnQsXG4gIG1pZ3JhdGUsXG4gIHJlc29sdmVBbGxEYXRhLFxuICB0cmFuc2Zvcm1Qcm9wcyxcbiAgd2Fsa1RyZWVcbn0gZnJvbSBcIi4vY2h1bmstT09MWURYS1cubWpzXCI7XG5cbi8vIGJ1bmRsZS9pbmRleC50c1xuaW5pdF9yZWFjdF9pbXBvcnQoKTtcbmV4cG9ydCB7XG4gIEFjdGlvbixcbiAgQWN0aW9uQmFyLFxuICBBdXRvRmllbGQsXG4gIEJ1dHRvbixcbiAgRHJhd2VyLFxuICBEcm9wWm9uZSxcbiAgRmllbGRMYWJlbCxcbiAgR3JvdXAsXG4gIEljb25CdXR0b24sXG4gIExhYmVsLFxuICBQdWNrLFxuICBSZW5kZXIsXG4gIGNyZWF0ZVVzZVB1Y2ssXG4gIG1pZ3JhdGUsXG4gIG92ZXJyaWRlS2V5cyxcbiAgcmVnaXN0ZXJPdmVybGF5UG9ydGFsLFxuICByZW5kZXJDb250ZXh0LFxuICByZXNvbHZlQWxsRGF0YSxcbiAgc2V0RGVlcCxcbiAgdHJhbnNmb3JtUHJvcHMsXG4gIHVzZUdldFB1Y2ssXG4gIHVzZVB1Y2ssXG4gIHdhbGtUcmVlXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Computed: () => (/* binding */ y),\n/* harmony export */   Effect: () => (/* binding */ p),\n/* harmony export */   Signal: () => (/* binding */ u),\n/* harmony export */   batch: () => (/* binding */ r),\n/* harmony export */   computed: () => (/* binding */ w),\n/* harmony export */   effect: () => (/* binding */ E),\n/* harmony export */   signal: () => (/* binding */ d),\n/* harmony export */   untracked: () => (/* binding */ n)\n/* harmony export */ });\nvar i=Symbol.for(\"preact-signals\");function t(){if(!(s>1)){var i,t=!1;while(void 0!==h){var r=h;h=void 0;f++;while(void 0!==r){var o=r.o;r.o=void 0;r.f&=-3;if(!(8&r.f)&&c(r))try{r.c()}catch(r){if(!t){i=r;t=!0}}r=o}}f=0;s--;if(t)throw i}else s--}function r(i){if(s>0)return i();s++;try{return i()}finally{t()}}var o=void 0;function n(i){var t=o;o=void 0;try{return i()}finally{o=t}}var h=void 0,s=0,f=0,v=0;function e(i){if(void 0!==o){var t=i.n;if(void 0===t||t.t!==o){t={i:0,S:i,p:o.s,n:void 0,t:o,e:void 0,x:void 0,r:t};if(void 0!==o.s)o.s.n=t;o.s=t;i.n=t;if(32&o.f)i.S(t);return t}else if(-1===t.i){t.i=0;if(void 0!==t.n){t.n.p=t.p;if(void 0!==t.p)t.p.n=t.n;t.p=o.s;t.n=void 0;o.s.n=t;o.s=t}return t}}}function u(i,t){this.v=i;this.i=0;this.n=void 0;this.t=void 0;this.W=null==t?void 0:t.watched;this.Z=null==t?void 0:t.unwatched;this.name=null==t?void 0:t.name}u.prototype.brand=i;u.prototype.h=function(){return!0};u.prototype.S=function(i){var t=this,r=this.t;if(r!==i&&void 0===i.e){i.x=r;this.t=i;if(void 0!==r)r.e=i;else n(function(){var i;null==(i=t.W)||i.call(t)})}};u.prototype.U=function(i){var t=this;if(void 0!==this.t){var r=i.e,o=i.x;if(void 0!==r){r.x=o;i.e=void 0}if(void 0!==o){o.e=r;i.x=void 0}if(i===this.t){this.t=o;if(void 0===o)n(function(){var i;null==(i=t.Z)||i.call(t)})}}};u.prototype.subscribe=function(i){var t=this;return E(function(){var r=t.value,n=o;o=void 0;try{i(r)}finally{o=n}},{name:\"sub\"})};u.prototype.valueOf=function(){return this.value};u.prototype.toString=function(){return this.value+\"\"};u.prototype.toJSON=function(){return this.value};u.prototype.peek=function(){var i=o;o=void 0;try{return this.value}finally{o=i}};Object.defineProperty(u.prototype,\"value\",{get:function(){var i=e(this);if(void 0!==i)i.i=this.i;return this.v},set:function(i){if(i!==this.v){if(f>100)throw new Error(\"Cycle detected\");this.v=i;this.i++;v++;s++;try{for(var r=this.t;void 0!==r;r=r.x)r.t.N()}finally{t()}}}});function d(i,t){return new u(i,t)}function c(i){for(var t=i.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function a(i){for(var t=i.s;void 0!==t;t=t.n){var r=t.S.n;if(void 0!==r)t.r=r;t.S.n=t;t.i=-1;if(void 0===t.n){i.s=t;break}}}function l(i){var t=i.s,r=void 0;while(void 0!==t){var o=t.p;if(-1===t.i){t.S.U(t);if(void 0!==o)o.n=t.n;if(void 0!==t.n)t.n.p=o}else r=t;t.S.n=t.r;if(void 0!==t.r)t.r=void 0;t=o}i.s=r}function y(i,t){u.call(this,void 0);this.x=i;this.s=void 0;this.g=v-1;this.f=4;this.W=null==t?void 0:t.watched;this.Z=null==t?void 0:t.unwatched;this.name=null==t?void 0:t.name}y.prototype=new u;y.prototype.h=function(){this.f&=-3;if(1&this.f)return!1;if(32==(36&this.f))return!0;this.f&=-5;if(this.g===v)return!0;this.g=v;this.f|=1;if(this.i>0&&!c(this)){this.f&=-2;return!0}var i=o;try{a(this);o=this;var t=this.x();if(16&this.f||this.v!==t||0===this.i){this.v=t;this.f&=-17;this.i++}}catch(i){this.v=i;this.f|=16;this.i++}o=i;l(this);this.f&=-2;return!0};y.prototype.S=function(i){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}u.prototype.S.call(this,i)};y.prototype.U=function(i){if(void 0!==this.t){u.prototype.U.call(this,i);if(void 0===this.t){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}}};y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var i=this.t;void 0!==i;i=i.x)i.t.N()}};Object.defineProperty(y.prototype,\"value\",{get:function(){if(1&this.f)throw new Error(\"Cycle detected\");var i=e(this);this.h();if(void 0!==i)i.i=this.i;if(16&this.f)throw this.v;return this.v}});function w(i,t){return new y(i,t)}function _(i){var r=i.u;i.u=void 0;if(\"function\"==typeof r){s++;var n=o;o=void 0;try{r()}catch(t){i.f&=-2;i.f|=8;b(i);throw t}finally{o=n;t()}}}function b(i){for(var t=i.s;void 0!==t;t=t.n)t.S.U(t);i.x=void 0;i.s=void 0;_(i)}function g(i){if(o!==this)throw new Error(\"Out-of-order effect\");l(this);o=i;this.f&=-2;if(8&this.f)b(this);t()}function p(i,t){this.x=i;this.u=void 0;this.s=void 0;this.o=void 0;this.f=32;this.name=null==t?void 0:t.name}p.prototype.c=function(){var i=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var t=this.x();if(\"function\"==typeof t)this.u=t}finally{i()}};p.prototype.S=function(){if(1&this.f)throw new Error(\"Cycle detected\");this.f|=1;this.f&=-9;_(this);a(this);s++;var i=o;o=this;return g.bind(this,i)};p.prototype.N=function(){if(!(2&this.f)){this.f|=2;this.o=h;h=this}};p.prototype.d=function(){this.f|=8;if(!(1&this.f))b(this)};p.prototype.dispose=function(){this.d()};function E(i,t){var r=new p(i,t);try{r.c()}catch(i){r.d();throw i}var o=r.d.bind(r);o[Symbol.dispose]=o;return o}//# sourceMappingURL=signals-core.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJlYWN0K3NpZ25hbHMtY29yZUAxLjEyLjEvbm9kZV9tb2R1bGVzL0BwcmVhY3Qvc2lnbmFscy1jb3JlL2Rpc3Qvc2lnbmFscy1jb3JlLm1vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLG1DQUFtQyxhQUFhLFdBQVcsV0FBVyxrQkFBa0IsUUFBUSxTQUFTLElBQUksa0JBQWtCLFVBQVUsV0FBVyxRQUFRLHNCQUFzQixNQUFNLFNBQVMsT0FBTyxJQUFJLE1BQU0sS0FBSyxJQUFJLElBQUksYUFBYSxTQUFTLGNBQWMsa0JBQWtCLElBQUksSUFBSSxXQUFXLFFBQVEsS0FBSyxhQUFhLGNBQWMsUUFBUSxTQUFTLElBQUksV0FBVyxRQUFRLEtBQUsseUJBQXlCLGNBQWMsZUFBZSxVQUFVLHdCQUF3QixHQUFHLGtEQUFrRCx3QkFBd0IsTUFBTSxNQUFNLGlCQUFpQixTQUFTLGtCQUFrQixNQUFNLGlCQUFpQixVQUFVLDBCQUEwQixRQUFRLFdBQVcsUUFBUSxNQUFNLFdBQVcsZ0JBQWdCLFNBQVMsU0FBUyxjQUFjLGNBQWMsZ0NBQWdDLGtDQUFrQyxnQ0FBZ0Msb0JBQW9CLHlCQUF5QixVQUFVLDBCQUEwQixvQkFBb0Isd0JBQXdCLE1BQU0sU0FBUyxvQkFBb0Isa0JBQWtCLE1BQU0seUJBQXlCLElBQUksMEJBQTBCLFdBQVcsb0JBQW9CLGdCQUFnQixlQUFlLE1BQU0sV0FBVyxlQUFlLE1BQU0sV0FBVyxlQUFlLFNBQVMsMkJBQTJCLE1BQU0seUJBQXlCLEtBQUssa0NBQWtDLFdBQVcsb0JBQW9CLGtCQUFrQixTQUFTLElBQUksS0FBSyxRQUFRLEtBQUssRUFBRSxXQUFXLEdBQUcsK0JBQStCLG1CQUFtQixnQ0FBZ0Msc0JBQXNCLDhCQUE4QixtQkFBbUIsNEJBQTRCLFFBQVEsU0FBUyxJQUFJLGtCQUFrQixRQUFRLE1BQU0sMkNBQTJDLGVBQWUsY0FBYyx5QkFBeUIsY0FBYyxpQkFBaUIsZUFBZSwyQ0FBMkMsU0FBUyxTQUFTLElBQUksSUFBSSxJQUFJLGlCQUFpQixXQUFXLGNBQWMsUUFBUSxPQUFPLEVBQUUsZ0JBQWdCLGtCQUFrQixjQUFjLGNBQWMsV0FBVyxxREFBcUQsU0FBUyxjQUFjLGNBQWMsV0FBVyxPQUFPLFlBQVksb0JBQW9CLFFBQVEsT0FBTyxpQkFBaUIsTUFBTSxRQUFRLGNBQWMsbUJBQW1CLGtCQUFrQixVQUFVLGFBQWEsU0FBUyxzQkFBc0Isd0JBQXdCLFNBQVMsVUFBVSwyQkFBMkIsSUFBSSxNQUFNLGdCQUFnQixvQkFBb0IsU0FBUyxjQUFjLFdBQVcsU0FBUyxnQ0FBZ0Msa0NBQWtDLGdDQUFnQyxrQkFBa0IseUJBQXlCLFdBQVcscUJBQXFCLDRCQUE0QixXQUFXLHVCQUF1QixTQUFTLFVBQVUsdUJBQXVCLFdBQVcsU0FBUyxRQUFRLElBQUksUUFBUSxPQUFPLGVBQWUsc0NBQXNDLFNBQVMsWUFBWSxVQUFVLFNBQVMsU0FBUyxXQUFXLFNBQVMsSUFBSSxRQUFRLFdBQVcsVUFBVSwwQkFBMEIsb0JBQW9CLFdBQVcsaUJBQWlCLFdBQVcsZUFBZSw0QkFBNEIsMEJBQTBCLG9CQUFvQiwyQkFBMkIsb0JBQW9CLFlBQVksaUJBQWlCLFdBQVcsa0JBQWtCLHlCQUF5QixnQkFBZ0IsVUFBVSxpQkFBaUIsV0FBVyxnQkFBZ0IsMkNBQTJDLGVBQWUsOENBQThDLGNBQWMsU0FBUyx5QkFBeUIsMEJBQTBCLGVBQWUsRUFBRSxnQkFBZ0Isa0JBQWtCLGNBQWMsVUFBVSxXQUFXLHlCQUF5QixJQUFJLFFBQVEsU0FBUyxJQUFJLElBQUksU0FBUyxRQUFRLE9BQU8sS0FBSyxRQUFRLFFBQVEsSUFBSSxNQUFNLGNBQWMsY0FBYyxXQUFXLGVBQWUsV0FBVyxXQUFXLEtBQUssY0FBYyxtREFBbUQsUUFBUSxJQUFJLFdBQVcsb0JBQW9CLElBQUksZ0JBQWdCLFNBQVMsY0FBYyxjQUFjLGNBQWMsVUFBVSxnQ0FBZ0MseUJBQXlCLGVBQWUsSUFBSSxtQkFBbUIsMEJBQTBCLGVBQWUsaUNBQWlDLFFBQVEsTUFBTSx5QkFBeUIsOENBQThDLFVBQVUsV0FBVyxRQUFRLFFBQVEsSUFBSSxRQUFRLE9BQU8sdUJBQXVCLHlCQUF5QixnQkFBZ0IsVUFBVSxTQUFTLFNBQVMseUJBQXlCLFVBQVUsd0JBQXdCLCtCQUErQixVQUFVLGdCQUFnQixpQkFBaUIsSUFBSSxNQUFNLFNBQVMsTUFBTSxRQUFRLGtCQUFrQixvQkFBb0IsU0FBdUgiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJlYWN0K3NpZ25hbHMtY29yZUAxLjEyLjEvbm9kZV9tb2R1bGVzL0BwcmVhY3Qvc2lnbmFscy1jb3JlL2Rpc3Qvc2lnbmFscy1jb3JlLm1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaT1TeW1ib2wuZm9yKFwicHJlYWN0LXNpZ25hbHNcIik7ZnVuY3Rpb24gdCgpe2lmKCEocz4xKSl7dmFyIGksdD0hMTt3aGlsZSh2b2lkIDAhPT1oKXt2YXIgcj1oO2g9dm9pZCAwO2YrKzt3aGlsZSh2b2lkIDAhPT1yKXt2YXIgbz1yLm87ci5vPXZvaWQgMDtyLmYmPS0zO2lmKCEoOCZyLmYpJiZjKHIpKXRyeXtyLmMoKX1jYXRjaChyKXtpZighdCl7aT1yO3Q9ITB9fXI9b319Zj0wO3MtLTtpZih0KXRocm93IGl9ZWxzZSBzLS19ZnVuY3Rpb24gcihpKXtpZihzPjApcmV0dXJuIGkoKTtzKys7dHJ5e3JldHVybiBpKCl9ZmluYWxseXt0KCl9fXZhciBvPXZvaWQgMDtmdW5jdGlvbiBuKGkpe3ZhciB0PW87bz12b2lkIDA7dHJ5e3JldHVybiBpKCl9ZmluYWxseXtvPXR9fXZhciBoPXZvaWQgMCxzPTAsZj0wLHY9MDtmdW5jdGlvbiBlKGkpe2lmKHZvaWQgMCE9PW8pe3ZhciB0PWkubjtpZih2b2lkIDA9PT10fHx0LnQhPT1vKXt0PXtpOjAsUzppLHA6by5zLG46dm9pZCAwLHQ6byxlOnZvaWQgMCx4OnZvaWQgMCxyOnR9O2lmKHZvaWQgMCE9PW8ucylvLnMubj10O28ucz10O2kubj10O2lmKDMyJm8uZilpLlModCk7cmV0dXJuIHR9ZWxzZSBpZigtMT09PXQuaSl7dC5pPTA7aWYodm9pZCAwIT09dC5uKXt0Lm4ucD10LnA7aWYodm9pZCAwIT09dC5wKXQucC5uPXQubjt0LnA9by5zO3Qubj12b2lkIDA7by5zLm49dDtvLnM9dH1yZXR1cm4gdH19fWZ1bmN0aW9uIHUoaSx0KXt0aGlzLnY9aTt0aGlzLmk9MDt0aGlzLm49dm9pZCAwO3RoaXMudD12b2lkIDA7dGhpcy5XPW51bGw9PXQ/dm9pZCAwOnQud2F0Y2hlZDt0aGlzLlo9bnVsbD09dD92b2lkIDA6dC51bndhdGNoZWQ7dGhpcy5uYW1lPW51bGw9PXQ/dm9pZCAwOnQubmFtZX11LnByb3RvdHlwZS5icmFuZD1pO3UucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXtyZXR1cm4hMH07dS5wcm90b3R5cGUuUz1mdW5jdGlvbihpKXt2YXIgdD10aGlzLHI9dGhpcy50O2lmKHIhPT1pJiZ2b2lkIDA9PT1pLmUpe2kueD1yO3RoaXMudD1pO2lmKHZvaWQgMCE9PXIpci5lPWk7ZWxzZSBuKGZ1bmN0aW9uKCl7dmFyIGk7bnVsbD09KGk9dC5XKXx8aS5jYWxsKHQpfSl9fTt1LnByb3RvdHlwZS5VPWZ1bmN0aW9uKGkpe3ZhciB0PXRoaXM7aWYodm9pZCAwIT09dGhpcy50KXt2YXIgcj1pLmUsbz1pLng7aWYodm9pZCAwIT09cil7ci54PW87aS5lPXZvaWQgMH1pZih2b2lkIDAhPT1vKXtvLmU9cjtpLng9dm9pZCAwfWlmKGk9PT10aGlzLnQpe3RoaXMudD1vO2lmKHZvaWQgMD09PW8pbihmdW5jdGlvbigpe3ZhciBpO251bGw9PShpPXQuWil8fGkuY2FsbCh0KX0pfX19O3UucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihpKXt2YXIgdD10aGlzO3JldHVybiBFKGZ1bmN0aW9uKCl7dmFyIHI9dC52YWx1ZSxuPW87bz12b2lkIDA7dHJ5e2kocil9ZmluYWxseXtvPW59fSx7bmFtZTpcInN1YlwifSl9O3UucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX07dS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZStcIlwifTt1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX07dS5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3ZhciBpPW87bz12b2lkIDA7dHJ5e3JldHVybiB0aGlzLnZhbHVlfWZpbmFsbHl7bz1pfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLFwidmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKTtpZih2b2lkIDAhPT1pKWkuaT10aGlzLmk7cmV0dXJuIHRoaXMudn0sc2V0OmZ1bmN0aW9uKGkpe2lmKGkhPT10aGlzLnYpe2lmKGY+MTAwKXRocm93IG5ldyBFcnJvcihcIkN5Y2xlIGRldGVjdGVkXCIpO3RoaXMudj1pO3RoaXMuaSsrO3YrKztzKys7dHJ5e2Zvcih2YXIgcj10aGlzLnQ7dm9pZCAwIT09cjtyPXIueClyLnQuTigpfWZpbmFsbHl7dCgpfX19fSk7ZnVuY3Rpb24gZChpLHQpe3JldHVybiBuZXcgdShpLHQpfWZ1bmN0aW9uIGMoaSl7Zm9yKHZhciB0PWkuczt2b2lkIDAhPT10O3Q9dC5uKWlmKHQuUy5pIT09dC5pfHwhdC5TLmgoKXx8dC5TLmkhPT10LmkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYShpKXtmb3IodmFyIHQ9aS5zO3ZvaWQgMCE9PXQ7dD10Lm4pe3ZhciByPXQuUy5uO2lmKHZvaWQgMCE9PXIpdC5yPXI7dC5TLm49dDt0Lmk9LTE7aWYodm9pZCAwPT09dC5uKXtpLnM9dDticmVha319fWZ1bmN0aW9uIGwoaSl7dmFyIHQ9aS5zLHI9dm9pZCAwO3doaWxlKHZvaWQgMCE9PXQpe3ZhciBvPXQucDtpZigtMT09PXQuaSl7dC5TLlUodCk7aWYodm9pZCAwIT09bylvLm49dC5uO2lmKHZvaWQgMCE9PXQubil0Lm4ucD1vfWVsc2Ugcj10O3QuUy5uPXQucjtpZih2b2lkIDAhPT10LnIpdC5yPXZvaWQgMDt0PW99aS5zPXJ9ZnVuY3Rpb24geShpLHQpe3UuY2FsbCh0aGlzLHZvaWQgMCk7dGhpcy54PWk7dGhpcy5zPXZvaWQgMDt0aGlzLmc9di0xO3RoaXMuZj00O3RoaXMuVz1udWxsPT10P3ZvaWQgMDp0LndhdGNoZWQ7dGhpcy5aPW51bGw9PXQ/dm9pZCAwOnQudW53YXRjaGVkO3RoaXMubmFtZT1udWxsPT10P3ZvaWQgMDp0Lm5hbWV9eS5wcm90b3R5cGU9bmV3IHU7eS5wcm90b3R5cGUuaD1mdW5jdGlvbigpe3RoaXMuZiY9LTM7aWYoMSZ0aGlzLmYpcmV0dXJuITE7aWYoMzI9PSgzNiZ0aGlzLmYpKXJldHVybiEwO3RoaXMuZiY9LTU7aWYodGhpcy5nPT09dilyZXR1cm4hMDt0aGlzLmc9djt0aGlzLmZ8PTE7aWYodGhpcy5pPjAmJiFjKHRoaXMpKXt0aGlzLmYmPS0yO3JldHVybiEwfXZhciBpPW87dHJ5e2EodGhpcyk7bz10aGlzO3ZhciB0PXRoaXMueCgpO2lmKDE2JnRoaXMuZnx8dGhpcy52IT09dHx8MD09PXRoaXMuaSl7dGhpcy52PXQ7dGhpcy5mJj0tMTc7dGhpcy5pKyt9fWNhdGNoKGkpe3RoaXMudj1pO3RoaXMuZnw9MTY7dGhpcy5pKyt9bz1pO2wodGhpcyk7dGhpcy5mJj0tMjtyZXR1cm4hMH07eS5wcm90b3R5cGUuUz1mdW5jdGlvbihpKXtpZih2b2lkIDA9PT10aGlzLnQpe3RoaXMuZnw9MzY7Zm9yKHZhciB0PXRoaXMuczt2b2lkIDAhPT10O3Q9dC5uKXQuUy5TKHQpfXUucHJvdG90eXBlLlMuY2FsbCh0aGlzLGkpfTt5LnByb3RvdHlwZS5VPWZ1bmN0aW9uKGkpe2lmKHZvaWQgMCE9PXRoaXMudCl7dS5wcm90b3R5cGUuVS5jYWxsKHRoaXMsaSk7aWYodm9pZCAwPT09dGhpcy50KXt0aGlzLmYmPS0zMztmb3IodmFyIHQ9dGhpcy5zO3ZvaWQgMCE9PXQ7dD10Lm4pdC5TLlUodCl9fX07eS5wcm90b3R5cGUuTj1mdW5jdGlvbigpe2lmKCEoMiZ0aGlzLmYpKXt0aGlzLmZ8PTY7Zm9yKHZhciBpPXRoaXMudDt2b2lkIDAhPT1pO2k9aS54KWkudC5OKCl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoeS5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZigxJnRoaXMuZil0aHJvdyBuZXcgRXJyb3IoXCJDeWNsZSBkZXRlY3RlZFwiKTt2YXIgaT1lKHRoaXMpO3RoaXMuaCgpO2lmKHZvaWQgMCE9PWkpaS5pPXRoaXMuaTtpZigxNiZ0aGlzLmYpdGhyb3cgdGhpcy52O3JldHVybiB0aGlzLnZ9fSk7ZnVuY3Rpb24gdyhpLHQpe3JldHVybiBuZXcgeShpLHQpfWZ1bmN0aW9uIF8oaSl7dmFyIHI9aS51O2kudT12b2lkIDA7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7cysrO3ZhciBuPW87bz12b2lkIDA7dHJ5e3IoKX1jYXRjaCh0KXtpLmYmPS0yO2kuZnw9ODtiKGkpO3Rocm93IHR9ZmluYWxseXtvPW47dCgpfX19ZnVuY3Rpb24gYihpKXtmb3IodmFyIHQ9aS5zO3ZvaWQgMCE9PXQ7dD10Lm4pdC5TLlUodCk7aS54PXZvaWQgMDtpLnM9dm9pZCAwO18oaSl9ZnVuY3Rpb24gZyhpKXtpZihvIT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoXCJPdXQtb2Ytb3JkZXIgZWZmZWN0XCIpO2wodGhpcyk7bz1pO3RoaXMuZiY9LTI7aWYoOCZ0aGlzLmYpYih0aGlzKTt0KCl9ZnVuY3Rpb24gcChpLHQpe3RoaXMueD1pO3RoaXMudT12b2lkIDA7dGhpcy5zPXZvaWQgMDt0aGlzLm89dm9pZCAwO3RoaXMuZj0zMjt0aGlzLm5hbWU9bnVsbD09dD92b2lkIDA6dC5uYW1lfXAucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLlMoKTt0cnl7aWYoOCZ0aGlzLmYpcmV0dXJuO2lmKHZvaWQgMD09PXRoaXMueClyZXR1cm47dmFyIHQ9dGhpcy54KCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl0aGlzLnU9dH1maW5hbGx5e2koKX19O3AucHJvdG90eXBlLlM9ZnVuY3Rpb24oKXtpZigxJnRoaXMuZil0aHJvdyBuZXcgRXJyb3IoXCJDeWNsZSBkZXRlY3RlZFwiKTt0aGlzLmZ8PTE7dGhpcy5mJj0tOTtfKHRoaXMpO2EodGhpcyk7cysrO3ZhciBpPW87bz10aGlzO3JldHVybiBnLmJpbmQodGhpcyxpKX07cC5wcm90b3R5cGUuTj1mdW5jdGlvbigpe2lmKCEoMiZ0aGlzLmYpKXt0aGlzLmZ8PTI7dGhpcy5vPWg7aD10aGlzfX07cC5wcm90b3R5cGUuZD1mdW5jdGlvbigpe3RoaXMuZnw9ODtpZighKDEmdGhpcy5mKSliKHRoaXMpfTtwLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5kKCl9O2Z1bmN0aW9uIEUoaSx0KXt2YXIgcj1uZXcgcChpLHQpO3RyeXtyLmMoKX1jYXRjaChpKXtyLmQoKTt0aHJvdyBpfXZhciBvPXIuZC5iaW5kKHIpO29bU3ltYm9sLmRpc3Bvc2VdPW87cmV0dXJuIG99ZXhwb3J0e3kgYXMgQ29tcHV0ZWQscCBhcyBFZmZlY3QsdSBhcyBTaWduYWwsciBhcyBiYXRjaCx3IGFzIGNvbXB1dGVkLEUgYXMgZWZmZWN0LGQgYXMgc2lnbmFsLG4gYXMgdW50cmFja2VkfTsvLyMgc291cmNlTWFwcGluZ1VSTD1zaWduYWxzLWNvcmUubW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/@preact+signals-core@1.12.1/node_modules/@preact/signals-core/dist/signals-core.module.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9mYXN0LWRlZXAtZXF1YWxAMy4xLjMvbm9kZV9tb2R1bGVzL2Zhc3QtZGVlcC1lcXVhbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixVQUFVO0FBQ2pDO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFVBQVU7QUFDL0I7O0FBRUEscUJBQXFCLFVBQVU7QUFDL0I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL2Zhc3QtZGVlcC1lcXVhbEAzLjEuMy9ub2RlX21vZHVsZXMvZmFzdC1kZWVwLWVxdWFsL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/flat@5.0.2/node_modules/flat/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/.pnpm/flat@5.0.2/node_modules/flat/index.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("module.exports = flatten\nflatten.flatten = flatten\nflatten.unflatten = unflatten\n\nfunction isBuffer (obj) {\n  return obj &&\n    obj.constructor &&\n    (typeof obj.constructor.isBuffer === 'function') &&\n    obj.constructor.isBuffer(obj)\n}\n\nfunction keyIdentity (key) {\n  return key\n}\n\nfunction flatten (target, opts) {\n  opts = opts || {}\n\n  const delimiter = opts.delimiter || '.'\n  const maxDepth = opts.maxDepth\n  const transformKey = opts.transformKey || keyIdentity\n  const output = {}\n\n  function step (object, prev, currentDepth) {\n    currentDepth = currentDepth || 1\n    Object.keys(object).forEach(function (key) {\n      const value = object[key]\n      const isarray = opts.safe && Array.isArray(value)\n      const type = Object.prototype.toString.call(value)\n      const isbuffer = isBuffer(value)\n      const isobject = (\n        type === '[object Object]' ||\n        type === '[object Array]'\n      )\n\n      const newKey = prev\n        ? prev + delimiter + transformKey(key)\n        : transformKey(key)\n\n      if (!isarray && !isbuffer && isobject && Object.keys(value).length &&\n        (!opts.maxDepth || currentDepth < maxDepth)) {\n        return step(value, newKey, currentDepth + 1)\n      }\n\n      output[newKey] = value\n    })\n  }\n\n  step(target)\n\n  return output\n}\n\nfunction unflatten (target, opts) {\n  opts = opts || {}\n\n  const delimiter = opts.delimiter || '.'\n  const overwrite = opts.overwrite || false\n  const transformKey = opts.transformKey || keyIdentity\n  const result = {}\n\n  const isbuffer = isBuffer(target)\n  if (isbuffer || Object.prototype.toString.call(target) !== '[object Object]') {\n    return target\n  }\n\n  // safely ensure that the key is\n  // an integer.\n  function getkey (key) {\n    const parsedKey = Number(key)\n\n    return (\n      isNaN(parsedKey) ||\n      key.indexOf('.') !== -1 ||\n      opts.object\n    ) ? key\n      : parsedKey\n  }\n\n  function addKeys (keyPrefix, recipient, target) {\n    return Object.keys(target).reduce(function (result, key) {\n      result[keyPrefix + delimiter + key] = target[key]\n\n      return result\n    }, recipient)\n  }\n\n  function isEmpty (val) {\n    const type = Object.prototype.toString.call(val)\n    const isArray = type === '[object Array]'\n    const isObject = type === '[object Object]'\n\n    if (!val) {\n      return true\n    } else if (isArray) {\n      return !val.length\n    } else if (isObject) {\n      return !Object.keys(val).length\n    }\n  }\n\n  target = Object.keys(target).reduce(function (result, key) {\n    const type = Object.prototype.toString.call(target[key])\n    const isObject = (type === '[object Object]' || type === '[object Array]')\n    if (!isObject || isEmpty(target[key])) {\n      result[key] = target[key]\n      return result\n    } else {\n      return addKeys(\n        key,\n        result,\n        flatten(target[key], opts)\n      )\n    }\n  }, {})\n\n  Object.keys(target).forEach(function (key) {\n    const split = key.split(delimiter).map(transformKey)\n    let key1 = getkey(split.shift())\n    let key2 = getkey(split[0])\n    let recipient = result\n\n    while (key2 !== undefined) {\n      if (key1 === '__proto__') {\n        return\n      }\n\n      const type = Object.prototype.toString.call(recipient[key1])\n      const isobject = (\n        type === '[object Object]' ||\n        type === '[object Array]'\n      )\n\n      // do not write over falsey, non-undefined values if overwrite is false\n      if (!overwrite && !isobject && typeof recipient[key1] !== 'undefined') {\n        return\n      }\n\n      if ((overwrite && !isobject) || (!overwrite && recipient[key1] == null)) {\n        recipient[key1] = (\n          typeof key2 === 'number' &&\n          !opts.object ? [] : {}\n        )\n      }\n\n      recipient = recipient[key1]\n      if (split.length > 0) {\n        key1 = getkey(split.shift())\n        key2 = getkey(split[0])\n      }\n    }\n\n    // unflatten again for 'messy objects'\n    recipient[key1] = unflatten(target[key], opts)\n  })\n\n  return result\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9mbGF0QDUuMC4yL25vZGVfbW9kdWxlcy9mbGF0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9mbGF0QDUuMC4yL25vZGVfbW9kdWxlcy9mbGF0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZmxhdHRlblxuZmxhdHRlbi5mbGF0dGVuID0gZmxhdHRlblxuZmxhdHRlbi51bmZsYXR0ZW4gPSB1bmZsYXR0ZW5cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gb2JqICYmXG4gICAgb2JqLmNvbnN0cnVjdG9yICYmXG4gICAgKHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicpICYmXG4gICAgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iailcbn1cblxuZnVuY3Rpb24ga2V5SWRlbnRpdHkgKGtleSkge1xuICByZXR1cm4ga2V5XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW4gKHRhcmdldCwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIGNvbnN0IGRlbGltaXRlciA9IG9wdHMuZGVsaW1pdGVyIHx8ICcuJ1xuICBjb25zdCBtYXhEZXB0aCA9IG9wdHMubWF4RGVwdGhcbiAgY29uc3QgdHJhbnNmb3JtS2V5ID0gb3B0cy50cmFuc2Zvcm1LZXkgfHwga2V5SWRlbnRpdHlcbiAgY29uc3Qgb3V0cHV0ID0ge31cblxuICBmdW5jdGlvbiBzdGVwIChvYmplY3QsIHByZXYsIGN1cnJlbnREZXB0aCkge1xuICAgIGN1cnJlbnREZXB0aCA9IGN1cnJlbnREZXB0aCB8fCAxXG4gICAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV1cbiAgICAgIGNvbnN0IGlzYXJyYXkgPSBvcHRzLnNhZmUgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICAgIGNvbnN0IHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpXG4gICAgICBjb25zdCBpc2J1ZmZlciA9IGlzQnVmZmVyKHZhbHVlKVxuICAgICAgY29uc3QgaXNvYmplY3QgPSAoXG4gICAgICAgIHR5cGUgPT09ICdbb2JqZWN0IE9iamVjdF0nIHx8XG4gICAgICAgIHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XSdcbiAgICAgIClcblxuICAgICAgY29uc3QgbmV3S2V5ID0gcHJldlxuICAgICAgICA/IHByZXYgKyBkZWxpbWl0ZXIgKyB0cmFuc2Zvcm1LZXkoa2V5KVxuICAgICAgICA6IHRyYW5zZm9ybUtleShrZXkpXG5cbiAgICAgIGlmICghaXNhcnJheSAmJiAhaXNidWZmZXIgJiYgaXNvYmplY3QgJiYgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCAmJlxuICAgICAgICAoIW9wdHMubWF4RGVwdGggfHwgY3VycmVudERlcHRoIDwgbWF4RGVwdGgpKSB7XG4gICAgICAgIHJldHVybiBzdGVwKHZhbHVlLCBuZXdLZXksIGN1cnJlbnREZXB0aCArIDEpXG4gICAgICB9XG5cbiAgICAgIG91dHB1dFtuZXdLZXldID0gdmFsdWVcbiAgICB9KVxuICB9XG5cbiAgc3RlcCh0YXJnZXQpXG5cbiAgcmV0dXJuIG91dHB1dFxufVxuXG5mdW5jdGlvbiB1bmZsYXR0ZW4gKHRhcmdldCwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIGNvbnN0IGRlbGltaXRlciA9IG9wdHMuZGVsaW1pdGVyIHx8ICcuJ1xuICBjb25zdCBvdmVyd3JpdGUgPSBvcHRzLm92ZXJ3cml0ZSB8fCBmYWxzZVxuICBjb25zdCB0cmFuc2Zvcm1LZXkgPSBvcHRzLnRyYW5zZm9ybUtleSB8fCBrZXlJZGVudGl0eVxuICBjb25zdCByZXN1bHQgPSB7fVxuXG4gIGNvbnN0IGlzYnVmZmVyID0gaXNCdWZmZXIodGFyZ2V0KVxuICBpZiAoaXNidWZmZXIgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRhcmdldCkgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgcmV0dXJuIHRhcmdldFxuICB9XG5cbiAgLy8gc2FmZWx5IGVuc3VyZSB0aGF0IHRoZSBrZXkgaXNcbiAgLy8gYW4gaW50ZWdlci5cbiAgZnVuY3Rpb24gZ2V0a2V5IChrZXkpIHtcbiAgICBjb25zdCBwYXJzZWRLZXkgPSBOdW1iZXIoa2V5KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIGlzTmFOKHBhcnNlZEtleSkgfHxcbiAgICAgIGtleS5pbmRleE9mKCcuJykgIT09IC0xIHx8XG4gICAgICBvcHRzLm9iamVjdFxuICAgICkgPyBrZXlcbiAgICAgIDogcGFyc2VkS2V5XG4gIH1cblxuICBmdW5jdGlvbiBhZGRLZXlzIChrZXlQcmVmaXgsIHJlY2lwaWVudCwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuICAgICAgcmVzdWx0W2tleVByZWZpeCArIGRlbGltaXRlciArIGtleV0gPSB0YXJnZXRba2V5XVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSwgcmVjaXBpZW50KVxuICB9XG5cbiAgZnVuY3Rpb24gaXNFbXB0eSAodmFsKSB7XG4gICAgY29uc3QgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpXG4gICAgY29uc3QgaXNBcnJheSA9IHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XSdcbiAgICBjb25zdCBpc09iamVjdCA9IHR5cGUgPT09ICdbb2JqZWN0IE9iamVjdF0nXG5cbiAgICBpZiAoIXZhbCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkpIHtcbiAgICAgIHJldHVybiAhdmFsLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHJldHVybiAhT2JqZWN0LmtleXModmFsKS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB0YXJnZXQgPSBPYmplY3Qua2V5cyh0YXJnZXQpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICBjb25zdCB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRhcmdldFtrZXldKVxuICAgIGNvbnN0IGlzT2JqZWN0ID0gKHR5cGUgPT09ICdbb2JqZWN0IE9iamVjdF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpXG4gICAgaWYgKCFpc09iamVjdCB8fCBpc0VtcHR5KHRhcmdldFtrZXldKSkge1xuICAgICAgcmVzdWx0W2tleV0gPSB0YXJnZXRba2V5XVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWRkS2V5cyhcbiAgICAgICAga2V5LFxuICAgICAgICByZXN1bHQsXG4gICAgICAgIGZsYXR0ZW4odGFyZ2V0W2tleV0sIG9wdHMpXG4gICAgICApXG4gICAgfVxuICB9LCB7fSlcblxuICBPYmplY3Qua2V5cyh0YXJnZXQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGNvbnN0IHNwbGl0ID0ga2V5LnNwbGl0KGRlbGltaXRlcikubWFwKHRyYW5zZm9ybUtleSlcbiAgICBsZXQga2V5MSA9IGdldGtleShzcGxpdC5zaGlmdCgpKVxuICAgIGxldCBrZXkyID0gZ2V0a2V5KHNwbGl0WzBdKVxuICAgIGxldCByZWNpcGllbnQgPSByZXN1bHRcblxuICAgIHdoaWxlIChrZXkyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChrZXkxID09PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyZWNpcGllbnRba2V5MV0pXG4gICAgICBjb25zdCBpc29iamVjdCA9IChcbiAgICAgICAgdHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgfHxcbiAgICAgICAgdHlwZSA9PT0gJ1tvYmplY3QgQXJyYXldJ1xuICAgICAgKVxuXG4gICAgICAvLyBkbyBub3Qgd3JpdGUgb3ZlciBmYWxzZXksIG5vbi11bmRlZmluZWQgdmFsdWVzIGlmIG92ZXJ3cml0ZSBpcyBmYWxzZVxuICAgICAgaWYgKCFvdmVyd3JpdGUgJiYgIWlzb2JqZWN0ICYmIHR5cGVvZiByZWNpcGllbnRba2V5MV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoKG92ZXJ3cml0ZSAmJiAhaXNvYmplY3QpIHx8ICghb3ZlcndyaXRlICYmIHJlY2lwaWVudFtrZXkxXSA9PSBudWxsKSkge1xuICAgICAgICByZWNpcGllbnRba2V5MV0gPSAoXG4gICAgICAgICAgdHlwZW9mIGtleTIgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgIW9wdHMub2JqZWN0ID8gW10gOiB7fVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHJlY2lwaWVudCA9IHJlY2lwaWVudFtrZXkxXVxuICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAga2V5MSA9IGdldGtleShzcGxpdC5zaGlmdCgpKVxuICAgICAgICBrZXkyID0gZ2V0a2V5KHNwbGl0WzBdKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVuZmxhdHRlbiBhZ2FpbiBmb3IgJ21lc3N5IG9iamVjdHMnXG4gICAgcmVjaXBpZW50W2tleTFdID0gdW5mbGF0dGVuKHRhcmdldFtrZXldLCBvcHRzKVxuICB9KVxuXG4gIHJldHVybiByZXN1bHRcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/flat@5.0.2/node_modules/flat/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fapp%2Fpuck%2F%5B...puckPath%5D%2Fclient.tsx%22%2C%22ids%22%3A%5B%22Client%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fnode_modules%2F.pnpm%2F%40measured%2Bpuck%400.20.2_%40types%2Breact%4019.2.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0%2Fnode_modules%2F%40measured%2Fpuck%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&server=false!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fapp%2Fpuck%2F%5B...puckPath%5D%2Fclient.tsx%22%2C%22ids%22%3A%5B%22Client%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fnode_modules%2F.pnpm%2F%40measured%2Bpuck%400.20.2_%40types%2Breact%4019.2.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0%2Fnode_modules%2F%40measured%2Fpuck%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&server=false! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/puck/[...puckPath]/client.tsx */ \"(app-pages-browser)/./app/puck/[...puckPath]/client.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.css */ \"(app-pages-browser)/./node_modules/.pnpm/@measured+puck@0.20.2_@types+react@19.2.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@measured/puck/dist/index.css\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjUuNl9yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZmZWRlcmljb2pvcmdlYm9uZWx0b3p6aSUyRkRlc2t0b3AlMkZXb3JrJTJGcHVjayUyRmNvZGUlMkZlY29zeXN0ZW0lMkZwdWNrLWNvbmZpZ3MlMkZzaGFkY24tdHdibG9ja3MlMkZhcHAlMkZwdWNrJTJGJTVCLi4ucHVja1BhdGglNUQlMkZjbGllbnQudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQ2xpZW50JTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGZmVkZXJpY29qb3JnZWJvbmVsdG96emklMkZEZXNrdG9wJTJGV29yayUyRnB1Y2slMkZjb2RlJTJGZWNvc3lzdGVtJTJGcHVjay1jb25maWdzJTJGc2hhZGNuLXR3YmxvY2tzJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkYlNDBtZWFzdXJlZCUyQnB1Y2slNDAwLjIwLjJfJTQwdHlwZXMlMkJyZWFjdCU0MDE5LjIuN19yZWFjdC1kb20lNDAxOS4yLjBfcmVhY3QlNDAxOS4yLjBfX3JlYWN0JTQwMTkuMi4wJTJGbm9kZV9tb2R1bGVzJTJGJTQwbWVhc3VyZWQlMkZwdWNrJTJGZGlzdCUyRmluZGV4LmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9ZmFsc2UhIiwibWFwcGluZ3MiOiJBQUFBLGdNQUErTDtBQUMvTDtBQUNBLG9hQUFxUiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQ2xpZW50XCJdICovIFwiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3MvYXBwL3B1Y2svWy4uLnB1Y2tQYXRoXS9jbGllbnQudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vQG1lYXN1cmVkK3B1Y2tAMC4yMC4yX0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3QtZG9tQDE5LjIuMF9yZWFjdEAxOS4yLjBfX3JlYWN0QDE5LjIuMC9ub2RlX21vZHVsZXMvQG1lYXN1cmVkL3B1Y2svZGlzdC9pbmRleC5jc3NcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fapp%2Fpuck%2F%5B...puckPath%5D%2Fclient.tsx%22%2C%22ids%22%3A%5B%22Client%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fnode_modules%2F.pnpm%2F%40measured%2Bpuck%400.20.2_%40types%2Breact%4019.2.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0%2Fnode_modules%2F%40measured%2Fpuck%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        maybeKey,\n        getOwner(),\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (type, config, maybeKey, isStaticChildren) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjUuNl9yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYixLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQWdEO0FBQ2hFLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQSxnQ0FBZ0Msa0NBQWtDLE9BQU87QUFDekU7QUFDQSxnR0FBZ0csU0FBUyxVQUFVLHNGQUFzRixhQUFhLFVBQVUsVUFBVTtBQUMxTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsaUxBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCLElBQUksY0FBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjUuNl9yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9BQ1RJVklUWV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkFjdGl2aXR5XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBjb25zb2xlO1xuICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmVycm9yO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwID1cbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgIFwiT2JqZWN0XCI7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcF9jb25zdC5jYWxsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCxcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXNrTmFtZSh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkgcmV0dXJuIFwiPD5cIjtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICByZXR1cm4gbmFtZSA/IFwiPFwiICsgbmFtZSArIFwiPlwiIDogXCI8Li4uPlwiO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBudWxsID09PSBkaXNwYXRjaGVyID8gbnVsbCA6IGRpc3BhdGNoZXIuZ2V0T3duZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gVW5rbm93bk93bmVyKCkge1xuICAgICAgcmV0dXJuIEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCBcImtleVwiKS5nZXQ7XG4gICAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb25maWcua2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHdhcm5BYm91dEFjY2Vzc2luZ0tleSgpIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gfHxcbiAgICAgICAgICAoKHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gITApLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zcGVjaWFsLXByb3BzKVwiLFxuICAgICAgICAgICAgZGlzcGxheU5hbWVcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9ICEwO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCBcImtleVwiLCB7XG4gICAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmcoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0aGlzLnR5cGUpO1xuICAgICAgZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAoKGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBY2Nlc3NpbmcgZWxlbWVudC5yZWYgd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIHJlZiBpcyBub3cgYSByZWd1bGFyIHByb3AuIEl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBKU1ggRWxlbWVudCB0eXBlIGluIGEgZnV0dXJlIHJlbGVhc2UuXCJcbiAgICAgICAgKSk7XG4gICAgICBjb21wb25lbnROYW1lID0gdGhpcy5wcm9wcy5yZWY7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb21wb25lbnROYW1lID8gY29tcG9uZW50TmFtZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHByb3BzLCBvd25lciwgZGVidWdTdGFjaywgZGVidWdUYXNrKSB7XG4gICAgICB2YXIgcmVmUHJvcCA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSByZWZQcm9wID8gcmVmUHJvcCA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnU3RhY2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdTdGFja1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdUYXNrXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IGRlYnVnVGFza1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqc3hERVZJbXBsKFxuICAgICAgdHlwZSxcbiAgICAgIGNvbmZpZyxcbiAgICAgIG1heWJlS2V5LFxuICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgIGRlYnVnU3RhY2ssXG4gICAgICBkZWJ1Z1Rhc2tcbiAgICApIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICAgIGlmICh2b2lkIDAgIT09IGNoaWxkcmVuKVxuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbilcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID0gMDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA8IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbisrXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2lzU3RhdGljQ2hpbGRyZW5dKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbik7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5XCIgIT09IGs7XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAwIDwga2V5cy5sZW5ndGhcbiAgICAgICAgICAgID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiXG4gICAgICAgICAgICA6IFwie2tleTogc29tZUtleX1cIjtcbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gfHxcbiAgICAgICAgICAoKGtleXMgPVxuICAgICAgICAgICAgMCA8IGtleXMubGVuZ3RoID8gXCJ7XCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIHsuLi5wcm9wc30gLz5cXG5SZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsXG4gICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2b2lkIDAgIT09IG1heWJlS2V5ICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIG1heWJlS2V5KSk7XG4gICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgaWYgKFwia2V5XCIgaW4gY29uZmlnKSB7XG4gICAgICAgIG1heWJlS2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJiAobWF5YmVLZXlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9IGVsc2UgbWF5YmVLZXkgPSBjb25maWc7XG4gICAgICBjaGlsZHJlbiAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBtYXliZUtleSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBtYXliZUtleSxcbiAgICAgICAgZ2V0T3duZXIoKSxcbiAgICAgICAgZGVidWdTdGFjayxcbiAgICAgICAgZGVidWdUYXNrXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlKSB7XG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygbm9kZSAmJlxuICAgICAgICBudWxsICE9PSBub2RlICYmXG4gICAgICAgIG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSAmJlxuICAgICAgICBub2RlLl9zdG9yZSAmJlxuICAgICAgICAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSk7XG4gICAgfVxuICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoXCJuZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3RcIiksXG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIiksXG4gICAgICBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX0FDVElWSVRZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuYWN0aXZpdHlcIiksXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9XG4gICAgICAgIFJlYWN0Ll9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIGNyZWF0ZVRhc2sgPSBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgPyBjb25zb2xlLmNyZWF0ZVRhc2tcbiAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9O1xuICAgIFJlYWN0ID0ge1xuICAgICAgcmVhY3Rfc3RhY2tfYm90dG9tX2ZyYW1lOiBmdW5jdGlvbiAoY2FsbFN0YWNrRm9yRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxTdGFja0ZvckVycm9yKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdTdGFjayA9IFJlYWN0LnJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZS5iaW5kKFxuICAgICAgUmVhY3QsXG4gICAgICBVbmtub3duT3duZXJcbiAgICApKCk7XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnVGFzayA9IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUoVW5rbm93bk93bmVyKSk7XG4gICAgdmFyIGRpZFdhcm5BYm91dEtleVNwcmVhZCA9IHt9O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuanN4REVWID0gZnVuY3Rpb24gKHR5cGUsIGNvbmZpZywgbWF5YmVLZXksIGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgIHZhciB0cmFja0FjdHVhbE93bmVyID1cbiAgICAgICAgMWU0ID4gUmVhY3RTaGFyZWRJbnRlcm5hbHMucmVjZW50bHlDcmVhdGVkT3duZXJTdGFja3MrKztcbiAgICAgIHJldHVybiBqc3hERVZJbXBsKFxuICAgICAgICB0eXBlLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICB0cmFja0FjdHVhbE93bmVyXG4gICAgICAgICAgPyBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKVxuICAgICAgICAgIDogdW5rbm93bk93bmVyRGVidWdTdGFjayxcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lciA/IGNyZWF0ZVRhc2soZ2V0VGFza05hbWUodHlwZSkpIDogdW5rbm93bk93bmVyRGVidWdUYXNrXG4gICAgICApO1xuICAgIH07XG4gIH0pKCk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \*********************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjUuNl9yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSx5UUFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjUuNl9yZWFjdC1kb21AMTkuMi4wX3JlYWN0QDE5LjIuMF9fcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/object-hash@3.0.0/node_modules/object-hash/dist/object_hash.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/.pnpm/object-hash@3.0.0/node_modules/object-hash/dist/object_hash.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("!function(e){var t; true?module.exports=e():0}(function(){return function r(o,i,u){function s(n,e){if(!i[n]){if(!o[n]){var t=undefined;if(!e&&t)return require(n,!0);if(a)return a(n,!0);throw new Error(\"Cannot find module '\"+n+\"'\")}e=i[n]={exports:{}};o[n][0].call(e.exports,function(e){var t=o[n][1][e];return s(t||e)},e,e.exports,r,o,i,u)}return i[n].exports}for(var a=undefined,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(w,b,m){!function(e,n,s,c,d,h,p,g,y){\"use strict\";var r=w(\"crypto\");function t(e,t){t=u(e,t);var n;return void 0===(n=\"passthrough\"!==t.algorithm?r.createHash(t.algorithm):new l).write&&(n.write=n.update,n.end=n.update),f(t,n).dispatch(e),n.update||n.end(\"\"),n.digest?n.digest(\"buffer\"===t.encoding?void 0:t.encoding):(e=n.read(),\"buffer\"!==t.encoding?e.toString(t.encoding):e)}(m=b.exports=t).sha1=function(e){return t(e)},m.keys=function(e){return t(e,{excludeValues:!0,algorithm:\"sha1\",encoding:\"hex\"})},m.MD5=function(e){return t(e,{algorithm:\"md5\",encoding:\"hex\"})},m.keysMD5=function(e){return t(e,{algorithm:\"md5\",encoding:\"hex\",excludeValues:!0})};var o=r.getHashes?r.getHashes().slice():[\"sha1\",\"md5\"],i=(o.push(\"passthrough\"),[\"buffer\",\"hex\",\"binary\",\"base64\"]);function u(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||\"sha1\",n.encoding=t.encoding||\"hex\",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error(\"Object argument required.\");for(var r=0;r<o.length;++r)o[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=o[r]);if(-1===o.indexOf(n.algorithm))throw new Error('Algorithm \"'+n.algorithm+'\"  not supported. supported values: '+o.join(\", \"));if(-1===i.indexOf(n.encoding)&&\"passthrough\"!==n.algorithm)throw new Error('Encoding \"'+n.encoding+'\"  not supported. supported values: '+i.join(\", \"));return n}function a(e){if(\"function\"==typeof e)return null!=/^function\\s+\\w*\\s*\\(\\s*\\)\\s*{\\s+\\[native code\\]\\s+}$/i.exec(Function.prototype.toString.call(e))}function f(o,t,i){i=i||[];function u(e){return t.update?t.update(e,\"utf8\"):t.write(e,\"utf8\")}return{dispatch:function(e){return this[\"_\"+(null===(e=o.replacer?o.replacer(e):e)?\"null\":typeof e)](e)},_object:function(t){var n,e=Object.prototype.toString.call(t),r=/\\[object (.*)\\]/i.exec(e);r=(r=r?r[1]:\"unknown:[\"+e+\"]\").toLowerCase();if(0<=(e=i.indexOf(t)))return this.dispatch(\"[CIRCULAR:\"+e+\"]\");if(i.push(t),void 0!==s&&s.isBuffer&&s.isBuffer(t))return u(\"buffer:\"),u(t);if(\"object\"===r||\"function\"===r||\"asyncfunction\"===r)return e=Object.keys(t),o.unorderedObjects&&(e=e.sort()),!1===o.respectType||a(t)||e.splice(0,0,\"prototype\",\"__proto__\",\"constructor\"),o.excludeKeys&&(e=e.filter(function(e){return!o.excludeKeys(e)})),u(\"object:\"+e.length+\":\"),n=this,e.forEach(function(e){n.dispatch(e),u(\":\"),o.excludeValues||n.dispatch(t[e]),u(\",\")});if(!this[\"_\"+r]){if(o.ignoreUnknown)return u(\"[\"+r+\"]\");throw new Error('Unknown object type \"'+r+'\"')}this[\"_\"+r](t)},_array:function(e,t){t=void 0!==t?t:!1!==o.unorderedArrays;var n=this;if(u(\"array:\"+e.length+\":\"),!t||e.length<=1)return e.forEach(function(e){return n.dispatch(e)});var r=[],t=e.map(function(e){var t=new l,n=i.slice();return f(o,t,n).dispatch(e),r=r.concat(n.slice(i.length)),t.read().toString()});return i=i.concat(r),t.sort(),this._array(t,!1)},_date:function(e){return u(\"date:\"+e.toJSON())},_symbol:function(e){return u(\"symbol:\"+e.toString())},_error:function(e){return u(\"error:\"+e.toString())},_boolean:function(e){return u(\"bool:\"+e.toString())},_string:function(e){u(\"string:\"+e.length+\":\"),u(e.toString())},_function:function(e){u(\"fn:\"),a(e)?this.dispatch(\"[native]\"):this.dispatch(e.toString()),!1!==o.respectFunctionNames&&this.dispatch(\"function-name:\"+String(e.name)),o.respectFunctionProperties&&this._object(e)},_number:function(e){return u(\"number:\"+e.toString())},_xml:function(e){return u(\"xml:\"+e.toString())},_null:function(){return u(\"Null\")},_undefined:function(){return u(\"Undefined\")},_regexp:function(e){return u(\"regex:\"+e.toString())},_uint8array:function(e){return u(\"uint8array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return u(\"uint8clampedarray:\"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return u(\"int8array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return u(\"uint16array:\"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return u(\"int16array:\"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return u(\"uint32array:\"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return u(\"int32array:\"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return u(\"float32array:\"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return u(\"float64array:\"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return u(\"arraybuffer:\"),this.dispatch(new Uint8Array(e))},_url:function(e){return u(\"url:\"+e.toString())},_map:function(e){u(\"map:\");e=Array.from(e);return this._array(e,!1!==o.unorderedSets)},_set:function(e){u(\"set:\");e=Array.from(e);return this._array(e,!1!==o.unorderedSets)},_file:function(e){return u(\"file:\"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(o.ignoreUnknown)return u(\"[blob]\");throw Error('Hashing Blob objects is currently not supported\\n(see https://github.com/puleos/object-hash/issues/26)\\nUse \"options.replacer\" or \"options.ignoreUnknown\"\\n')},_domwindow:function(){return u(\"domwindow\")},_bigint:function(e){return u(\"bigint:\"+e.toString())},_process:function(){return u(\"process\")},_timer:function(){return u(\"timer\")},_pipe:function(){return u(\"pipe\")},_tcp:function(){return u(\"tcp\")},_udp:function(){return u(\"udp\")},_tty:function(){return u(\"tty\")},_statwatcher:function(){return u(\"statwatcher\")},_securecontext:function(){return u(\"securecontext\")},_connection:function(){return u(\"connection\")},_zlib:function(){return u(\"zlib\")},_context:function(){return u(\"context\")},_nodescript:function(){return u(\"nodescript\")},_httpparser:function(){return u(\"httpparser\")},_dataview:function(){return u(\"dataview\")},_signal:function(){return u(\"signal\")},_fsevent:function(){return u(\"fsevent\")},_tlswrap:function(){return u(\"tlswrap\")}}}function l(){return{buf:\"\",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}m.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),f(t=u(e,t),n).dispatch(e)}}.call(this,w(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},w(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/fake_9a5aa49d.js\",\"/\")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,f){!function(e,t,n,r,o,i,u,s,a){!function(e){\"use strict\";var a=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,t=\"+\".charCodeAt(0),n=\"/\".charCodeAt(0),r=\"0\".charCodeAt(0),o=\"a\".charCodeAt(0),i=\"A\".charCodeAt(0),u=\"-\".charCodeAt(0),s=\"_\".charCodeAt(0);function f(e){e=e.charCodeAt(0);return e===t||e===u?62:e===n||e===s?63:e<r?-1:e<r+10?e-r+26+26:e<i+26?e-i:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var t,n;if(0<e.length%4)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.length,r=\"=\"===e.charAt(r-2)?2:\"=\"===e.charAt(r-1)?1:0,o=new a(3*e.length/4-r),i=0<r?e.length-4:e.length,u=0;function s(e){o[u++]=e}for(t=0;t<i;t+=4,0)s((16711680&(n=f(e.charAt(t))<<18|f(e.charAt(t+1))<<12|f(e.charAt(t+2))<<6|f(e.charAt(t+3))))>>16),s((65280&n)>>8),s(255&n);return 2==r?s(255&(n=f(e.charAt(t))<<2|f(e.charAt(t+1))>>4)):1==r&&(s((n=f(e.charAt(t))<<10|f(e.charAt(t+1))<<4|f(e.charAt(t+2))>>2)>>8&255),s(255&n)),o},e.fromByteArray=function(e){var t,n,r,o,i=e.length%3,u=\"\";function s(e){return\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(e)}for(t=0,r=e.length-i;t<r;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],u+=s((o=n)>>18&63)+s(o>>12&63)+s(o>>6&63)+s(63&o);switch(i){case 1:u=(u+=s((n=e[e.length-1])>>2))+s(n<<4&63)+\"==\";break;case 2:u=(u=(u+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+\"=\"}return u}}(void 0===f?this.base64js={}:f)}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js\",\"/node_modules/gulp-browserify/node_modules/base64-js/lib\")},{buffer:3,lYpoI2:11}],3:[function(O,e,H){!function(e,n,f,r,h,p,g,y,w){var a=O(\"base64-js\"),i=O(\"ieee754\");function f(e,t,n){if(!(this instanceof f))return new f(e,t,n);var r,o,i,u,s=typeof e;if(\"base64\"===t&&\"string\"==s)for(e=(u=e).trim?u.trim():u.replace(/^\\s+|\\s+$/g,\"\");e.length%4!=0;)e+=\"=\";if(\"number\"==s)r=j(e);else if(\"string\"==s)r=f.byteLength(e,t);else{if(\"object\"!=s)throw new Error(\"First argument needs to be a number, array or string.\");r=j(e.length)}if(f._useTypedArrays?o=f._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),f._useTypedArrays&&\"number\"==typeof e.byteLength)o._set(e);else if(C(u=e)||f.isBuffer(u)||u&&\"object\"==typeof u&&\"number\"==typeof u.length)for(i=0;i<r;i++)f.isBuffer(e)?o[i]=e.readUInt8(i):o[i]=e[i];else if(\"string\"==s)o.write(e,0,t);else if(\"number\"==s&&!f._useTypedArrays&&!n)for(i=0;i<r;i++)o[i]=0;return o}function b(e,t,n,r){return f._charsWritten=c(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return f._charsWritten=c(function(e){for(var t,n,r=[],o=0;o<e.length;o++)n=e.charCodeAt(o),t=n>>8,n=n%256,r.push(n),r.push(t);return r}(t),e,n,r)}function v(e,t,n){var r=\"\";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}function o(e,t,n,r){r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+1<e.length,\"Trying to read beyond buffer length\"));var o,r=e.length;if(!(r<=t))return n?(o=e[t],t+1<r&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<r&&(o|=e[t+1])),o}function u(e,t,n,r){r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+3<e.length,\"Trying to read beyond buffer length\"));var o,r=e.length;if(!(r<=t))return n?(t+2<r&&(o=e[t+2]<<16),t+1<r&&(o|=e[t+1]<<8),o|=e[t],t+3<r&&(o+=e[t+3]<<24>>>0)):(t+1<r&&(o=e[t+1]<<16),t+2<r&&(o|=e[t+2]<<8),t+3<r&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function _(e,t,n,r){if(r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+1<e.length,\"Trying to read beyond buffer length\")),!(e.length<=t))return r=o(e,t,n,!0),32768&r?-1*(65535-r+1):r}function E(e,t,n,r){if(r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(null!=t,\"missing offset\"),d(t+3<e.length,\"Trying to read beyond buffer length\")),!(e.length<=t))return r=u(e,t,n,!0),2147483648&r?-1*(4294967295-r+1):r}function I(e,t,n,r){return r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(t+3<e.length,\"Trying to read beyond buffer length\")),i.read(e,t,n,23,4)}function A(e,t,n,r){return r||(d(\"boolean\"==typeof n,\"missing or invalid endian\"),d(t+7<e.length,\"Trying to read beyond buffer length\")),i.read(e,t,n,52,8)}function s(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+1<e.length,\"trying to write beyond buffer length\"),Y(t,65535));o=e.length;if(!(o<=n))for(var i=0,u=Math.min(o-n,2);i<u;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function l(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"trying to write beyond buffer length\"),Y(t,4294967295));o=e.length;if(!(o<=n))for(var i=0,u=Math.min(o-n,4);i<u;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+1<e.length,\"Trying to write beyond buffer length\"),F(t,32767,-32768)),e.length<=n||s(e,0<=t?t:65535+t+1,n,r,o)}function L(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"Trying to write beyond buffer length\"),F(t,2147483647,-2147483648)),e.length<=n||l(e,0<=t?t:4294967295+t+1,n,r,o)}function U(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+3<e.length,\"Trying to write beyond buffer length\"),D(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||i.write(e,t,n,r,23,4)}function x(e,t,n,r,o){o||(d(null!=t,\"missing value\"),d(\"boolean\"==typeof r,\"missing or invalid endian\"),d(null!=n,\"missing offset\"),d(n+7<e.length,\"Trying to write beyond buffer length\"),D(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||i.write(e,t,n,r,52,8)}H.Buffer=f,H.SlowBuffer=f,H.INSPECT_MAX_BYTES=50,f.poolSize=8192,f._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&\"function\"==typeof t.subarray}catch(e){return!1}}(),f.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"raw\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.byteLength=function(e,t){var n;switch(e+=\"\",t||\"utf8\"){case\"hex\":n=e.length/2;break;case\"utf8\":case\"utf-8\":n=T(e).length;break;case\"ascii\":case\"binary\":case\"raw\":n=e.length;break;case\"base64\":n=M(e).length;break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":n=2*e.length;break;default:throw new Error(\"Unknown encoding\")}return n},f.concat=function(e,t){if(d(C(e),\"Usage: Buffer.concat(list, [totalLength])\\nlist should be an Array.\"),0===e.length)return new f(0);if(1===e.length)return e[0];if(\"number\"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new f(t),r=0,o=0;o<e.length;o++){var i=e[o];i.copy(n,r),r+=i.length}return n},f.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(a=r,r=t,t=n,n=a),t=Number(t)||0;var o,i,u,s,a=this.length-t;switch((!n||a<(n=Number(n)))&&(n=a),r=String(r||\"utf8\").toLowerCase()){case\"hex\":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),d((o=t.length)%2==0,\"Invalid hex string\"),o/2<r&&(r=o/2);for(var i=0;i<r;i++){var u=parseInt(t.substr(2*i,2),16);d(!isNaN(u),\"Invalid hex string\"),e[n+i]=u}return f._charsWritten=2*i,i}(this,e,t,n);break;case\"utf8\":case\"utf-8\":i=this,u=t,s=n,o=f._charsWritten=c(T(e),i,u,s);break;case\"ascii\":case\"binary\":o=b(this,e,t,n);break;case\"base64\":i=this,u=t,s=n,o=f._charsWritten=c(M(e),i,u,s);break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":o=m(this,e,t,n);break;default:throw new Error(\"Unknown encoding\")}return o},f.prototype.toString=function(e,t,n){var r,o,i,u,s=this;if(e=String(e||\"utf8\").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):s.length)===t)return\"\";switch(e){case\"hex\":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||r<n)&&(n=r);for(var o=\"\",i=t;i<n;i++)o+=k(e[i]);return o}(s,t,n);break;case\"utf8\":case\"utf-8\":r=function(e,t,n){var r=\"\",o=\"\";n=Math.min(e.length,n);for(var i=t;i<n;i++)e[i]<=127?(r+=N(o)+String.fromCharCode(e[i]),o=\"\"):o+=\"%\"+e[i].toString(16);return r+N(o)}(s,t,n);break;case\"ascii\":case\"binary\":r=v(s,t,n);break;case\"base64\":o=s,u=n,r=0===(i=t)&&u===o.length?a.fromByteArray(o):a.fromByteArray(o.slice(i,u));break;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":r=function(e,t,n){for(var r=e.slice(t,n),o=\"\",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}(s,t,n);break;default:throw new Error(\"Unknown encoding\")}return r},f.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){d(n<=r,\"sourceEnd < sourceStart\"),d(0<=t&&t<e.length,\"targetStart out of bounds\"),d(0<=n&&n<this.length,\"sourceStart out of bounds\"),d(0<=r&&r<=this.length,\"sourceEnd out of bounds\"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!f._useTypedArrays)for(var i=0;i<o;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+o),t)}},f.prototype.slice=function(e,t){var n=this.length;if(e=S(e,n,0),t=S(t,n,n),f._useTypedArrays)return f._augment(this.subarray(e,t));for(var r=t-e,o=new f(r,void 0,!0),i=0;i<r;i++)o[i]=this[i+e];return o},f.prototype.get=function(e){return console.log(\".get() is deprecated. Access using array indexes instead.\"),this.readUInt8(e)},f.prototype.set=function(e,t){return console.log(\".set() is deprecated. Access using array indexes instead.\"),this.writeUInt8(e,t)},f.prototype.readUInt8=function(e,t){if(t||(d(null!=e,\"missing offset\"),d(e<this.length,\"Trying to read beyond buffer length\")),!(e>=this.length))return this[e]},f.prototype.readUInt16LE=function(e,t){return o(this,e,!0,t)},f.prototype.readUInt16BE=function(e,t){return o(this,e,!1,t)},f.prototype.readUInt32LE=function(e,t){return u(this,e,!0,t)},f.prototype.readUInt32BE=function(e,t){return u(this,e,!1,t)},f.prototype.readInt8=function(e,t){if(t||(d(null!=e,\"missing offset\"),d(e<this.length,\"Trying to read beyond buffer length\")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){return _(this,e,!0,t)},f.prototype.readInt16BE=function(e,t){return _(this,e,!1,t)},f.prototype.readInt32LE=function(e,t){return E(this,e,!0,t)},f.prototype.readInt32BE=function(e,t){return E(this,e,!1,t)},f.prototype.readFloatLE=function(e,t){return I(this,e,!0,t)},f.prototype.readFloatBE=function(e,t){return I(this,e,!1,t)},f.prototype.readDoubleLE=function(e,t){return A(this,e,!0,t)},f.prototype.readDoubleBE=function(e,t){return A(this,e,!1,t)},f.prototype.writeUInt8=function(e,t,n){n||(d(null!=e,\"missing value\"),d(null!=t,\"missing offset\"),d(t<this.length,\"trying to write beyond buffer length\"),Y(e,255)),t>=this.length||(this[t]=e)},f.prototype.writeUInt16LE=function(e,t,n){s(this,e,t,!0,n)},f.prototype.writeUInt16BE=function(e,t,n){s(this,e,t,!1,n)},f.prototype.writeUInt32LE=function(e,t,n){l(this,e,t,!0,n)},f.prototype.writeUInt32BE=function(e,t,n){l(this,e,t,!1,n)},f.prototype.writeInt8=function(e,t,n){n||(d(null!=e,\"missing value\"),d(null!=t,\"missing offset\"),d(t<this.length,\"Trying to write beyond buffer length\"),F(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},f.prototype.writeInt16LE=function(e,t,n){B(this,e,t,!0,n)},f.prototype.writeInt16BE=function(e,t,n){B(this,e,t,!1,n)},f.prototype.writeInt32LE=function(e,t,n){L(this,e,t,!0,n)},f.prototype.writeInt32BE=function(e,t,n){L(this,e,t,!1,n)},f.prototype.writeFloatLE=function(e,t,n){U(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){U(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){x(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){x(this,e,t,!1,n)},f.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,d(\"number\"==typeof(e=\"string\"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),\"value is not a number\"),d(t<=n,\"end < start\"),n!==t&&0!==this.length){d(0<=t&&t<this.length,\"start out of bounds\"),d(0<=n&&n<=this.length,\"end out of bounds\");for(var r=t;r<n;r++)this[r]=e}},f.prototype.inspect=function(){for(var e=[],t=this.length,n=0;n<t;n++)if(e[n]=k(this[n]),n===H.INSPECT_MAX_BYTES){e[n+1]=\"...\";break}return\"<Buffer \"+e.join(\" \")+\">\"},f.prototype.toArrayBuffer=function(){if(\"undefined\"==typeof Uint8Array)throw new Error(\"Buffer.toArrayBuffer not supported in this browser\");if(f._useTypedArrays)return new f(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var t=f.prototype;function S(e,t,n){return\"number\"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function j(e){return(e=~~Math.ceil(+e))<0?0:e}function C(e){return(Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)})(e)}function k(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function T(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var o=n,i=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(o,n+1)).substr(1).split(\"%\")),u=0;u<i.length;u++)t.push(parseInt(i[u],16))}return t}function M(e){return a.toByteArray(e)}function c(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function N(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function Y(e,t){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(0<=e,\"specified a negative value for writing an unsigned value\"),d(e<=t,\"value is larger than maximum value for type\"),d(Math.floor(e)===e,\"value has a fractional component\")}function F(e,t,n){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(e<=t,\"value larger than maximum allowed value\"),d(n<=e,\"value smaller than minimum allowed value\"),d(Math.floor(e)===e,\"value has a fractional component\")}function D(e,t,n){d(\"number\"==typeof e,\"cannot write a non-number as a number\"),d(e<=t,\"value larger than maximum allowed value\"),d(n<=e,\"value smaller than minimum allowed value\")}function d(e,t){if(!e)throw new Error(t||\"Failed assertion\")}f._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=t.get,e.set=t.set,e.write=t.write,e.toString=t.toString,e.toLocaleString=t.toString,e.toJSON=t.toJSON,e.copy=t.copy,e.slice=t.slice,e.readUInt8=t.readUInt8,e.readUInt16LE=t.readUInt16LE,e.readUInt16BE=t.readUInt16BE,e.readUInt32LE=t.readUInt32LE,e.readUInt32BE=t.readUInt32BE,e.readInt8=t.readInt8,e.readInt16LE=t.readInt16LE,e.readInt16BE=t.readInt16BE,e.readInt32LE=t.readInt32LE,e.readInt32BE=t.readInt32BE,e.readFloatLE=t.readFloatLE,e.readFloatBE=t.readFloatBE,e.readDoubleLE=t.readDoubleLE,e.readDoubleBE=t.readDoubleBE,e.writeUInt8=t.writeUInt8,e.writeUInt16LE=t.writeUInt16LE,e.writeUInt16BE=t.writeUInt16BE,e.writeUInt32LE=t.writeUInt32LE,e.writeUInt32BE=t.writeUInt32BE,e.writeInt8=t.writeInt8,e.writeInt16LE=t.writeInt16LE,e.writeInt16BE=t.writeInt16BE,e.writeInt32LE=t.writeInt32LE,e.writeInt32BE=t.writeInt32BE,e.writeFloatLE=t.writeFloatLE,e.writeFloatBE=t.writeFloatBE,e.writeDoubleLE=t.writeDoubleLE,e.writeDoubleBE=t.writeDoubleBE,e.fill=t.fill,e.inspect=t.inspect,e.toArrayBuffer=t.toArrayBuffer,e}}.call(this,O(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},O(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/buffer/index.js\",\"/node_modules/gulp-browserify/node_modules/buffer\")},{\"base64-js\":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(c,d,e){!function(e,t,a,n,r,o,i,u,s){var a=c(\"buffer\").Buffer,f=4,l=new a(f);l.fill(0);d.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%f!=0&&(n=e.length+(f-e.length%f),e=a.concat([e,l],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=f)r.push(o.call(e,i));return r}(e=a.isBuffer(e)?e:new a(e),r),8*e.length),t=r,i=new a(n),u=t?i.writeInt32BE:i.writeInt32LE,s=0;s<o.length;s++)u.call(i,o[s],4*s,!0);return i}}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{buffer:3,lYpoI2:11}],5:[function(v,e,_){!function(l,c,u,d,h,p,g,y,w){var u=v(\"buffer\").Buffer,e=v(\"./sha\"),t=v(\"./sha256\"),n=v(\"./rng\"),b={sha1:e,sha256:t,md5:v(\"./md5\")},s=64,a=new u(s);function r(e,n){var r=b[e=e||\"sha1\"],o=[];return r||i(\"algorithm:\",e,\"is not yet supported\"),{update:function(e){return u.isBuffer(e)||(e=new u(e)),o.push(e),e.length,this},digest:function(e){var t=u.concat(o),t=n?function(e,t,n){u.isBuffer(t)||(t=new u(t)),u.isBuffer(n)||(n=new u(n)),t.length>s?t=e(t):t.length<s&&(t=u.concat([t,a],s));for(var r=new u(s),o=new u(s),i=0;i<s;i++)r[i]=54^t[i],o[i]=92^t[i];return n=e(u.concat([r,n])),e(u.concat([o,n]))}(r,n,t):r(t);return o=null,e?t.toString(e):t}}}function i(){var e=[].slice.call(arguments).join(\" \");throw new Error([e,\"we accept pull requests\",\"http://github.com/dominictarr/crypto-browserify\"].join(\"\\n\"))}a.fill(0),_.createHash=function(e){return r(e)},_.createHmac=r,_.randomBytes=function(e,t){if(!t||!t.call)return new u(n(e));try{t.call(this,void 0,new u(n(e)))}catch(e){t(e)}};var o,f=[\"createCredentials\",\"createCipher\",\"createCipheriv\",\"createDecipher\",\"createDecipheriv\",\"createSign\",\"createVerify\",\"createDiffieHellman\",\"pbkdf2\"],m=function(e){_[e]=function(){i(\"sorry,\",e,\"is not implemented yet\")}};for(o in f)m(f[o],o)}.call(this,v(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},v(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./md5\":6,\"./rng\":7,\"./sha\":8,\"./sha256\":9,buffer:3,lYpoI2:11}],6:[function(w,b,e){!function(e,r,o,i,u,a,f,l,y){var t=w(\"./helpers\");function n(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,u=0;u<e.length;u+=16){var s=n,a=r,f=o,l=i,n=c(n,r,o,i,e[u+0],7,-680876936),i=c(i,n,r,o,e[u+1],12,-389564586),o=c(o,i,n,r,e[u+2],17,606105819),r=c(r,o,i,n,e[u+3],22,-1044525330);n=c(n,r,o,i,e[u+4],7,-176418897),i=c(i,n,r,o,e[u+5],12,1200080426),o=c(o,i,n,r,e[u+6],17,-1473231341),r=c(r,o,i,n,e[u+7],22,-45705983),n=c(n,r,o,i,e[u+8],7,1770035416),i=c(i,n,r,o,e[u+9],12,-1958414417),o=c(o,i,n,r,e[u+10],17,-42063),r=c(r,o,i,n,e[u+11],22,-1990404162),n=c(n,r,o,i,e[u+12],7,1804603682),i=c(i,n,r,o,e[u+13],12,-40341101),o=c(o,i,n,r,e[u+14],17,-1502002290),n=d(n,r=c(r,o,i,n,e[u+15],22,1236535329),o,i,e[u+1],5,-165796510),i=d(i,n,r,o,e[u+6],9,-1069501632),o=d(o,i,n,r,e[u+11],14,643717713),r=d(r,o,i,n,e[u+0],20,-373897302),n=d(n,r,o,i,e[u+5],5,-701558691),i=d(i,n,r,o,e[u+10],9,38016083),o=d(o,i,n,r,e[u+15],14,-660478335),r=d(r,o,i,n,e[u+4],20,-405537848),n=d(n,r,o,i,e[u+9],5,568446438),i=d(i,n,r,o,e[u+14],9,-1019803690),o=d(o,i,n,r,e[u+3],14,-187363961),r=d(r,o,i,n,e[u+8],20,1163531501),n=d(n,r,o,i,e[u+13],5,-1444681467),i=d(i,n,r,o,e[u+2],9,-51403784),o=d(o,i,n,r,e[u+7],14,1735328473),n=h(n,r=d(r,o,i,n,e[u+12],20,-1926607734),o,i,e[u+5],4,-378558),i=h(i,n,r,o,e[u+8],11,-2022574463),o=h(o,i,n,r,e[u+11],16,1839030562),r=h(r,o,i,n,e[u+14],23,-35309556),n=h(n,r,o,i,e[u+1],4,-1530992060),i=h(i,n,r,o,e[u+4],11,1272893353),o=h(o,i,n,r,e[u+7],16,-155497632),r=h(r,o,i,n,e[u+10],23,-1094730640),n=h(n,r,o,i,e[u+13],4,681279174),i=h(i,n,r,o,e[u+0],11,-358537222),o=h(o,i,n,r,e[u+3],16,-722521979),r=h(r,o,i,n,e[u+6],23,76029189),n=h(n,r,o,i,e[u+9],4,-640364487),i=h(i,n,r,o,e[u+12],11,-421815835),o=h(o,i,n,r,e[u+15],16,530742520),n=p(n,r=h(r,o,i,n,e[u+2],23,-995338651),o,i,e[u+0],6,-198630844),i=p(i,n,r,o,e[u+7],10,1126891415),o=p(o,i,n,r,e[u+14],15,-1416354905),r=p(r,o,i,n,e[u+5],21,-57434055),n=p(n,r,o,i,e[u+12],6,1700485571),i=p(i,n,r,o,e[u+3],10,-1894986606),o=p(o,i,n,r,e[u+10],15,-1051523),r=p(r,o,i,n,e[u+1],21,-2054922799),n=p(n,r,o,i,e[u+8],6,1873313359),i=p(i,n,r,o,e[u+15],10,-30611744),o=p(o,i,n,r,e[u+6],15,-1560198380),r=p(r,o,i,n,e[u+13],21,1309151649),n=p(n,r,o,i,e[u+4],6,-145523070),i=p(i,n,r,o,e[u+11],10,-1120210379),o=p(o,i,n,r,e[u+2],15,718787259),r=p(r,o,i,n,e[u+9],21,-343485551),n=g(n,s),r=g(r,a),o=g(o,f),i=g(i,l)}return Array(n,r,o,i)}function s(e,t,n,r,o,i){return g((t=g(g(t,e),g(r,i)))<<o|t>>>32-o,n)}function c(e,t,n,r,o,i,u){return s(t&n|~t&r,e,t,o,i,u)}function d(e,t,n,r,o,i,u){return s(t&r|n&~r,e,t,o,i,u)}function h(e,t,n,r,o,i,u){return s(t^n^r,e,t,o,i,u)}function p(e,t,n,r,o,i,u){return s(n^(t|~r),e,t,o,i,u)}function g(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}b.exports=function(e){return t.hash(e,n,16)}}.call(this,w(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},w(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],7:[function(e,l,t){!function(e,t,n,r,o,i,u,s,f){var a;l.exports=a||function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{buffer:3,lYpoI2:11}],8:[function(c,d,e){!function(e,t,n,r,o,s,a,f,l){var i=c(\"./helpers\");function u(l,c){l[c>>5]|=128<<24-c%32,l[15+(c+64>>9<<4)]=c;for(var e,t,n,r=Array(80),o=1732584193,i=-271733879,u=-1732584194,s=271733878,d=-1009589776,h=0;h<l.length;h+=16){for(var p=o,g=i,y=u,w=s,b=d,a=0;a<80;a++){r[a]=a<16?l[h+a]:v(r[a-3]^r[a-8]^r[a-14]^r[a-16],1);var f=m(m(v(o,5),(f=i,t=u,n=s,(e=a)<20?f&t|~f&n:!(e<40)&&e<60?f&t|f&n|t&n:f^t^n)),m(m(d,r[a]),(e=a)<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514)),d=s,s=u,u=v(i,30),i=o,o=f}o=m(o,p),i=m(i,g),u=m(u,y),s=m(s,w),d=m(d,b)}return Array(o,i,u,s,d)}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function v(e,t){return e<<t|e>>>32-t}d.exports=function(e){return i.hash(e,u,20,!0)}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],9:[function(c,d,e){!function(e,t,n,r,u,s,a,f,l){function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,l){var c,d=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),t=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),n=new Array(64);e[l>>5]|=128<<24-l%32,e[15+(l+64>>9<<4)]=l;for(var r,o,h=0;h<e.length;h+=16){for(var i=t[0],u=t[1],s=t[2],p=t[3],a=t[4],g=t[5],y=t[6],w=t[7],f=0;f<64;f++)n[f]=f<16?e[f+h]:b(b(b((o=n[f-2],m(o,17)^m(o,19)^v(o,10)),n[f-7]),(o=n[f-15],m(o,7)^m(o,18)^v(o,3))),n[f-16]),c=b(b(b(b(w,m(o=a,6)^m(o,11)^m(o,25)),a&g^~a&y),d[f]),n[f]),r=b(m(r=i,2)^m(r,13)^m(r,22),i&u^i&s^u&s),w=y,y=g,g=a,a=b(p,c),p=s,s=u,u=i,i=b(c,r);t[0]=b(i,t[0]),t[1]=b(u,t[1]),t[2]=b(s,t[2]),t[3]=b(p,t[3]),t[4]=b(a,t[4]),t[5]=b(g,t[5]),t[6]=b(y,t[6]),t[7]=b(w,t[7])}return t}var i=c(\"./helpers\"),m=function(e,t){return e>>>t|e<<32-t},v=function(e,t){return e>>>t};d.exports=function(e){return i.hash(e,o,32,!0)}}.call(this,c(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},c(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js\",\"/node_modules/gulp-browserify/node_modules/crypto-browserify\")},{\"./helpers\":4,buffer:3,lYpoI2:11}],10:[function(e,t,f){!function(e,t,n,r,o,i,u,s,a){f.read=function(e,t,n,r,o){var i,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,s=-7,a=n?o-1:0,f=n?-1:1,o=e[t+a];for(a+=f,i=o&(1<<-s)-1,o>>=-s,s+=l;0<s;i=256*i+e[t+a],a+=f,s-=8);for(u=i&(1<<-s)-1,i>>=-s,s+=r;0<s;u=256*u+e[t+a],a+=f,s-=8);if(0===i)i=1-d;else{if(i===c)return u?NaN:1/0*(o?-1:1);u+=Math.pow(2,r),i-=d}return(o?-1:1)*u*Math.pow(2,i-r)},f.write=function(e,t,l,n,r,c){var o,i,u=8*c-r-1,s=(1<<u)-1,a=s>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:c-1,h=n?1:-1,c=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,o=s):(o=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(t+=1<=o+a?d/n:d*Math.pow(2,1-a))*n&&(o++,n/=2),s<=o+a?(i=0,o=s):1<=o+a?(i=(t*n-1)*Math.pow(2,r),o+=a):(i=t*Math.pow(2,a-1)*Math.pow(2,r),o=0));8<=r;e[l+f]=255&i,f+=h,i/=256,r-=8);for(o=o<<r|i,u+=r;0<u;e[l+f]=255&o,f+=h,o/=256,u-=8);e[l+f-h]|=128*c}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/ieee754/index.js\",\"/node_modules/gulp-browserify/node_modules/ieee754\")},{buffer:3,lYpoI2:11}],11:[function(e,h,t){!function(e,t,n,r,o,f,l,c,d){var i,u,s;function a(){}(e=h.exports={}).nextTick=(u=\"undefined\"!=typeof window&&window.setImmediate,s=\"undefined\"!=typeof window&&window.postMessage&&window.addEventListener,u?function(e){return window.setImmediate(e)}:s?(i=[],window.addEventListener(\"message\",function(e){var t=e.source;t!==window&&null!==t||\"process-tick\"!==e.data||(e.stopPropagation(),0<i.length&&i.shift()())},!0),function(e){i.push(e),window.postMessage(\"process-tick\",\"*\")}):function(e){setTimeout(e,0)}),e.title=\"browser\",e.browser=!0,e.env={},e.argv=[],e.on=a,e.addListener=a,e.once=a,e.off=a,e.removeListener=a,e.removeAllListeners=a,e.emit=a,e.binding=function(e){throw new Error(\"process.binding is not supported\")},e.cwd=function(){return\"/\"},e.chdir=function(e){throw new Error(\"process.chdir is not supported\")}}.call(this,e(\"lYpoI2\"),\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{},e(\"buffer\").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],\"/node_modules/gulp-browserify/node_modules/process/browser.js\",\"/node_modules/gulp-browserify/node_modules/process\")},{buffer:3,lYpoI2:11}]},{},[1])(1)});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9vYmplY3QtaGFzaEAzLjAuMC9ub2RlX21vZHVsZXMvb2JqZWN0LWhhc2gvZGlzdC9vYmplY3RfaGFzaC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLE1BQU0sS0FBd0Isb0JBQW9CLENBQTZLLENBQUMsWUFBWSx5QkFBeUIsZ0JBQWdCLFVBQVUsVUFBVSxNQUFNLFNBQW1DLENBQUMsZ0JBQWdCLE9BQUMsT0FBTyxvQkFBb0IsOENBQThDLFFBQVEsWUFBWSxtQ0FBbUMsaUJBQWlCLGVBQWUsc0JBQXNCLG9CQUFvQixVQUFVLFNBQW1DLEtBQUssV0FBVyxZQUFZLFNBQVMsRUFBRSxtQkFBbUIsNkJBQTZCLGFBQWEsa0JBQWtCLGdCQUFnQixTQUFTLE1BQU0sdVJBQXVSLGlDQUFpQyxZQUFZLG9CQUFvQixZQUFZLGlEQUFpRCxFQUFFLG1CQUFtQixZQUFZLCtCQUErQixFQUFFLHVCQUF1QixZQUFZLGdEQUFnRCxHQUFHLG9IQUFvSCxnQkFBZ0IsU0FBUyx1QkFBdUIsc2tCQUFza0IsWUFBWSxXQUFXLHVFQUF1RSw4SEFBOEgsd0pBQXdKLFNBQVMsY0FBYyxtRUFBbUUsc0JBQXNCLDhDQUE4QyxrQkFBa0IsUUFBUSxjQUFjLHFEQUFxRCxPQUFPLHFCQUFxQiw0RUFBNEUscUJBQXFCLHVFQUF1RSw2Q0FBNkMsZ0VBQWdFLDRFQUE0RSxtT0FBbU8sd0JBQXdCLDBEQUEwRCw4REFBOEQsRUFBRSxpQkFBaUIsdUNBQXVDLCtDQUErQyxlQUFlLHNCQUFzQixzQ0FBc0MsV0FBVyx5RUFBeUUscUJBQXFCLEVBQUUsNkJBQTZCLHdCQUF3Qiw4RUFBOEUsRUFBRSxnREFBZ0QsbUJBQW1CLDZCQUE2QixxQkFBcUIsaUNBQWlDLG9CQUFvQixnQ0FBZ0Msc0JBQXNCLCtCQUErQixxQkFBcUIsMENBQTBDLHVCQUF1Qiw2TEFBNkwscUJBQXFCLGlDQUFpQyxrQkFBa0IsOEJBQThCLGtCQUFrQixpQkFBaUIsdUJB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LEVBQUUsbUJBQW1CLHFCQUFxQiw2QkFBNkIscUJBQXFCLGdCQUFnQiwyQ0FBMkMsZ0dBQWdHLFdBQVcsT0FBTyxnQ0FBZ0MsS0FBSyxLQUFLLG9EQUFvRCwwTEFBMEwsNkNBQTZDLHdCQUF3QixnQkFBZ0IsMEJBQTBCLDBDQUEwQyxnQkFBZ0IscUJBQXFCLHNCQUFzQiwwQkFBMEIseUZBQXlGLDhNQUE4TSxFQUFFLGlDQUFpQyxxQkFBcUIsNkJBQTZCLGdCQUFnQiwwQkFBMEIsMENBQTBDLGdCQUFnQix1ekJBQXV6QiwyQ0FBMkMsZ0JBQWdCLFdBQVcsT0FBTyxvRUFBb0UsS0FBSyxrUUFBa1Esd0hBQXdILFNBQVMscUNBQXFDLHFCQUFxQixpQkFBaUIsY0FBYyxzQkFBc0IsMEJBQTBCLHlGQUF5RixpTkFBaU4sRUFBRSxpQ0FBaUMsc0JBQXNCLDZCQUE2QiwyQkFBMkIscUVBQXFFLG1DQUFtQyxJQUFJLDBCQUEwQiw4QkFBOEIsSUFBSSwwQkFBMEIsZUFBZSxLQUFLLG1DQUFtQyxzQkFBc0IsaUNBQWlDLCtCQUErQiwwSEFBMEgsbVJBQW1SLEtBQUssK0JBQStCLGtCQUFrQixJQUFJLCtCQUErQixpQkFBaUIseUZBQXlGLDRMQUE0TCxFQUFFLG1CQUFtQixzQkFBc0IsNkJBQTZCLFVBQVUsY0FBYyxlQUFlLHNKQUFzSiw4QkFBOEIsdURBQXVELGVBQWUsNkZBQTZGLGlCQUFpQixpREFBaUQsY0FBYyxnQkFBZ0IseUNBQXlDLDRIQUE0SCxvREFBb0Qsa0JBQWtCLFVBQVUscUJBQXFCLG1EQUFtRCx5RkFBeUYsOExBQThMLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxTQUFTIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vb2JqZWN0LWhhc2hAMy4wLjAvbm9kZV9tb2R1bGVzL29iamVjdC1oYXNoL2Rpc3Qvb2JqZWN0X2hhc2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUpe3ZhciB0O1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3Q9d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/dD1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJih0PXNlbGYpLHQub2JqZWN0SGFzaD1lKCkpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiByKG8saSx1KXtmdW5jdGlvbiBzKG4sZSl7aWYoIWlbbl0pe2lmKCFvW25dKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFlJiZ0KXJldHVybiB0KG4sITApO2lmKGEpcmV0dXJuIGEobiwhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIituK1wiJ1wiKX1lPWlbbl09e2V4cG9ydHM6e319O29bbl1bMF0uY2FsbChlLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHQ9b1tuXVsxXVtlXTtyZXR1cm4gcyh0fHxlKX0sZSxlLmV4cG9ydHMscixvLGksdSl9cmV0dXJuIGlbbl0uZXhwb3J0c31mb3IodmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxlPTA7ZTx1Lmxlbmd0aDtlKyspcyh1W2VdKTtyZXR1cm4gc30oezE6W2Z1bmN0aW9uKHcsYixtKXshZnVuY3Rpb24oZSxuLHMsYyxkLGgscCxnLHkpe1widXNlIHN0cmljdFwiO3ZhciByPXcoXCJjcnlwdG9cIik7ZnVuY3Rpb24gdChlLHQpe3Q9dShlLHQpO3ZhciBuO3JldHVybiB2b2lkIDA9PT0obj1cInBhc3N0aHJvdWdoXCIhPT10LmFsZ29yaXRobT9yLmNyZWF0ZUhhc2godC5hbGdvcml0aG0pOm5ldyBsKS53cml0ZSYmKG4ud3JpdGU9bi51cGRhdGUsbi5lbmQ9bi51cGRhdGUpLGYodCxuKS5kaXNwYXRjaChlKSxuLnVwZGF0ZXx8bi5lbmQoXCJcIiksbi5kaWdlc3Q/bi5kaWdlc3QoXCJidWZmZXJcIj09PXQuZW5jb2Rpbmc/dm9pZCAwOnQuZW5jb2RpbmcpOihlPW4ucmVhZCgpLFwiYnVmZmVyXCIhPT10LmVuY29kaW5nP2UudG9TdHJpbmcodC5lbmNvZGluZyk6ZSl9KG09Yi5leHBvcnRzPXQpLnNoYTE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9LG0ua2V5cz1mdW5jdGlvbihlKXtyZXR1cm4gdChlLHtleGNsdWRlVmFsdWVzOiEwLGFsZ29yaXRobTpcInNoYTFcIixlbmNvZGluZzpcImhleFwifSl9LG0uTUQ1PWZ1bmN0aW9uKGUpe3JldHVybiB0KGUse2FsZ29yaXRobTpcIm1kNVwiLGVuY29kaW5nOlwiaGV4XCJ9KX0sbS5rZXlzTUQ1PWZ1bmN0aW9uKGUpe3JldHVybiB0KGUse2FsZ29yaXRobTpcIm1kNVwiLGVuY29kaW5nOlwiaGV4XCIsZXhjbHVkZVZhbHVlczohMH0pfTt2YXIgbz1yLmdldEhhc2hlcz9yLmdldEhhc2hlcygpLnNsaWNlKCk6W1wic2hhMVwiLFwibWQ1XCJdLGk9KG8ucHVzaChcInBhc3N0aHJvdWdoXCIpLFtcImJ1ZmZlclwiLFwiaGV4XCIsXCJiaW5hcnlcIixcImJhc2U2NFwiXSk7ZnVuY3Rpb24gdShlLHQpe3ZhciBuPXt9O2lmKG4uYWxnb3JpdGhtPSh0PXR8fHt9KS5hbGdvcml0aG18fFwic2hhMVwiLG4uZW5jb2Rpbmc9dC5lbmNvZGluZ3x8XCJoZXhcIixuLmV4Y2x1ZGVWYWx1ZXM9ISF0LmV4Y2x1ZGVWYWx1ZXMsbi5hbGdvcml0aG09bi5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSxuLmVuY29kaW5nPW4uZW5jb2RpbmcudG9Mb3dlckNhc2UoKSxuLmlnbm9yZVVua25vd249ITA9PT10Lmlnbm9yZVVua25vd24sbi5yZXNwZWN0VHlwZT0hMSE9PXQucmVzcGVjdFR5cGUsbi5yZXNwZWN0RnVuY3Rpb25OYW1lcz0hMSE9PXQucmVzcGVjdEZ1bmN0aW9uTmFtZXMsbi5yZXNwZWN0RnVuY3Rpb25Qcm9wZXJ0aWVzPSExIT09dC5yZXNwZWN0RnVuY3Rpb25Qcm9wZXJ0aWVzLG4udW5vcmRlcmVkQXJyYXlzPSEwPT09dC51bm9yZGVyZWRBcnJheXMsbi51bm9yZGVyZWRTZXRzPSExIT09dC51bm9yZGVyZWRTZXRzLG4udW5vcmRlcmVkT2JqZWN0cz0hMSE9PXQudW5vcmRlcmVkT2JqZWN0cyxuLnJlcGxhY2VyPXQucmVwbGFjZXJ8fHZvaWQgMCxuLmV4Y2x1ZGVLZXlzPXQuZXhjbHVkZUtleXN8fHZvaWQgMCx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIk9iamVjdCBhcmd1bWVudCByZXF1aXJlZC5cIik7Zm9yKHZhciByPTA7cjxvLmxlbmd0aDsrK3Ipb1tyXS50b0xvd2VyQ2FzZSgpPT09bi5hbGdvcml0aG0udG9Mb3dlckNhc2UoKSYmKG4uYWxnb3JpdGhtPW9bcl0pO2lmKC0xPT09by5pbmRleE9mKG4uYWxnb3JpdGhtKSl0aHJvdyBuZXcgRXJyb3IoJ0FsZ29yaXRobSBcIicrbi5hbGdvcml0aG0rJ1wiICBub3Qgc3VwcG9ydGVkLiBzdXBwb3J0ZWQgdmFsdWVzOiAnK28uam9pbihcIiwgXCIpKTtpZigtMT09PWkuaW5kZXhPZihuLmVuY29kaW5nKSYmXCJwYXNzdGhyb3VnaFwiIT09bi5hbGdvcml0aG0pdGhyb3cgbmV3IEVycm9yKCdFbmNvZGluZyBcIicrbi5lbmNvZGluZysnXCIgIG5vdCBzdXBwb3J0ZWQuIHN1cHBvcnRlZCB2YWx1ZXM6ICcraS5qb2luKFwiLCBcIikpO3JldHVybiBufWZ1bmN0aW9uIGEoZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gbnVsbCE9L15mdW5jdGlvblxccytcXHcqXFxzKlxcKFxccypcXClcXHMqe1xccytcXFtuYXRpdmUgY29kZVxcXVxccyt9JC9pLmV4ZWMoRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpfWZ1bmN0aW9uIGYobyx0LGkpe2k9aXx8W107ZnVuY3Rpb24gdShlKXtyZXR1cm4gdC51cGRhdGU/dC51cGRhdGUoZSxcInV0ZjhcIik6dC53cml0ZShlLFwidXRmOFwiKX1yZXR1cm57ZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbXCJfXCIrKG51bGw9PT0oZT1vLnJlcGxhY2VyP28ucmVwbGFjZXIoZSk6ZSk/XCJudWxsXCI6dHlwZW9mIGUpXShlKX0sX29iamVjdDpmdW5jdGlvbih0KXt2YXIgbixlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSxyPS9cXFtvYmplY3QgKC4qKVxcXS9pLmV4ZWMoZSk7cj0ocj1yP3JbMV06XCJ1bmtub3duOltcIitlK1wiXVwiKS50b0xvd2VyQ2FzZSgpO2lmKDA8PShlPWkuaW5kZXhPZih0KSkpcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJbQ0lSQ1VMQVI6XCIrZStcIl1cIik7aWYoaS5wdXNoKHQpLHZvaWQgMCE9PXMmJnMuaXNCdWZmZXImJnMuaXNCdWZmZXIodCkpcmV0dXJuIHUoXCJidWZmZXI6XCIpLHUodCk7aWYoXCJvYmplY3RcIj09PXJ8fFwiZnVuY3Rpb25cIj09PXJ8fFwiYXN5bmNmdW5jdGlvblwiPT09cilyZXR1cm4gZT1PYmplY3Qua2V5cyh0KSxvLnVub3JkZXJlZE9iamVjdHMmJihlPWUuc29ydCgpKSwhMT09PW8ucmVzcGVjdFR5cGV8fGEodCl8fGUuc3BsaWNlKDAsMCxcInByb3RvdHlwZVwiLFwiX19wcm90b19fXCIsXCJjb25zdHJ1Y3RvclwiKSxvLmV4Y2x1ZGVLZXlzJiYoZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hby5leGNsdWRlS2V5cyhlKX0pKSx1KFwib2JqZWN0OlwiK2UubGVuZ3RoK1wiOlwiKSxuPXRoaXMsZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uZGlzcGF0Y2goZSksdShcIjpcIiksby5leGNsdWRlVmFsdWVzfHxuLmRpc3BhdGNoKHRbZV0pLHUoXCIsXCIpfSk7aWYoIXRoaXNbXCJfXCIrcl0pe2lmKG8uaWdub3JlVW5rbm93bilyZXR1cm4gdShcIltcIityK1wiXVwiKTt0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gb2JqZWN0IHR5cGUgXCInK3IrJ1wiJyl9dGhpc1tcIl9cIityXSh0KX0sX2FycmF5OmZ1bmN0aW9uKGUsdCl7dD12b2lkIDAhPT10P3Q6ITEhPT1vLnVub3JkZXJlZEFycmF5czt2YXIgbj10aGlzO2lmKHUoXCJhcnJheTpcIitlLmxlbmd0aCtcIjpcIiksIXR8fGUubGVuZ3RoPD0xKXJldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIG4uZGlzcGF0Y2goZSl9KTt2YXIgcj1bXSx0PWUubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBsLG49aS5zbGljZSgpO3JldHVybiBmKG8sdCxuKS5kaXNwYXRjaChlKSxyPXIuY29uY2F0KG4uc2xpY2UoaS5sZW5ndGgpKSx0LnJlYWQoKS50b1N0cmluZygpfSk7cmV0dXJuIGk9aS5jb25jYXQociksdC5zb3J0KCksdGhpcy5fYXJyYXkodCwhMSl9LF9kYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZGF0ZTpcIitlLnRvSlNPTigpKX0sX3N5bWJvbDpmdW5jdGlvbihlKXtyZXR1cm4gdShcInN5bWJvbDpcIitlLnRvU3RyaW5nKCkpfSxfZXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJlcnJvcjpcIitlLnRvU3RyaW5nKCkpfSxfYm9vbGVhbjpmdW5jdGlvbihlKXtyZXR1cm4gdShcImJvb2w6XCIrZS50b1N0cmluZygpKX0sX3N0cmluZzpmdW5jdGlvbihlKXt1KFwic3RyaW5nOlwiK2UubGVuZ3RoK1wiOlwiKSx1KGUudG9TdHJpbmcoKSl9LF9mdW5jdGlvbjpmdW5jdGlvbihlKXt1KFwiZm46XCIpLGEoZSk/dGhpcy5kaXNwYXRjaChcIltuYXRpdmVdXCIpOnRoaXMuZGlzcGF0Y2goZS50b1N0cmluZygpKSwhMSE9PW8ucmVzcGVjdEZ1bmN0aW9uTmFtZXMmJnRoaXMuZGlzcGF0Y2goXCJmdW5jdGlvbi1uYW1lOlwiK1N0cmluZyhlLm5hbWUpKSxvLnJlc3BlY3RGdW5jdGlvblByb3BlcnRpZXMmJnRoaXMuX29iamVjdChlKX0sX251bWJlcjpmdW5jdGlvbihlKXtyZXR1cm4gdShcIm51bWJlcjpcIitlLnRvU3RyaW5nKCkpfSxfeG1sOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwieG1sOlwiK2UudG9TdHJpbmcoKSl9LF9udWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJOdWxsXCIpfSxfdW5kZWZpbmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJVbmRlZmluZWRcIil9LF9yZWdleHA6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJyZWdleDpcIitlLnRvU3RyaW5nKCkpfSxfdWludDhhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcInVpbnQ4YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfdWludDhjbGFtcGVkYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50OGNsYW1wZWRhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9pbnQ4YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJpbnQ4YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfdWludDE2YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1aW50MTZhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9pbnQxNmFycmF5OmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiaW50MTZhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF91aW50MzJhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcInVpbnQzMmFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2ludDMyYXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJpbnQzMmFycmF5OlwiKSx0aGlzLmRpc3BhdGNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sX2Zsb2F0MzJhcnJheTpmdW5jdGlvbihlKXtyZXR1cm4gdShcImZsb2F0MzJhcnJheTpcIiksdGhpcy5kaXNwYXRjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKSl9LF9mbG9hdDY0YXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJmbG9hdDY0YXJyYXk6XCIpLHRoaXMuZGlzcGF0Y2goQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpfSxfYXJyYXlidWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJhcnJheWJ1ZmZlcjpcIiksdGhpcy5kaXNwYXRjaChuZXcgVWludDhBcnJheShlKSl9LF91cmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoXCJ1cmw6XCIrZS50b1N0cmluZygpKX0sX21hcDpmdW5jdGlvbihlKXt1KFwibWFwOlwiKTtlPUFycmF5LmZyb20oZSk7cmV0dXJuIHRoaXMuX2FycmF5KGUsITEhPT1vLnVub3JkZXJlZFNldHMpfSxfc2V0OmZ1bmN0aW9uKGUpe3UoXCJzZXQ6XCIpO2U9QXJyYXkuZnJvbShlKTtyZXR1cm4gdGhpcy5fYXJyYXkoZSwhMSE9PW8udW5vcmRlcmVkU2V0cyl9LF9maWxlOmZ1bmN0aW9uKGUpe3JldHVybiB1KFwiZmlsZTpcIiksdGhpcy5kaXNwYXRjaChbZS5uYW1lLGUuc2l6ZSxlLnR5cGUsZS5sYXN0TW9kZmllZF0pfSxfYmxvYjpmdW5jdGlvbigpe2lmKG8uaWdub3JlVW5rbm93bilyZXR1cm4gdShcIltibG9iXVwiKTt0aHJvdyBFcnJvcignSGFzaGluZyBCbG9iIG9iamVjdHMgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWRcXG4oc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wdWxlb3Mvb2JqZWN0LWhhc2gvaXNzdWVzLzI2KVxcblVzZSBcIm9wdGlvbnMucmVwbGFjZXJcIiBvciBcIm9wdGlvbnMuaWdub3JlVW5rbm93blwiXFxuJyl9LF9kb213aW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdShcImRvbXdpbmRvd1wiKX0sX2JpZ2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdShcImJpZ2ludDpcIitlLnRvU3RyaW5nKCkpfSxfcHJvY2VzczpmdW5jdGlvbigpe3JldHVybiB1KFwicHJvY2Vzc1wiKX0sX3RpbWVyOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ0aW1lclwiKX0sX3BpcGU6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInBpcGVcIil9LF90Y3A6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInRjcFwiKX0sX3VkcDpmdW5jdGlvbigpe3JldHVybiB1KFwidWRwXCIpfSxfdHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ0dHlcIil9LF9zdGF0d2F0Y2hlcjpmdW5jdGlvbigpe3JldHVybiB1KFwic3RhdHdhdGNoZXJcIil9LF9zZWN1cmVjb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJzZWN1cmVjb250ZXh0XCIpfSxfY29ubmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB1KFwiY29ubmVjdGlvblwiKX0sX3psaWI6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInpsaWJcIil9LF9jb250ZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJjb250ZXh0XCIpfSxfbm9kZXNjcmlwdDpmdW5jdGlvbigpe3JldHVybiB1KFwibm9kZXNjcmlwdFwiKX0sX2h0dHBwYXJzZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdShcImh0dHBwYXJzZXJcIil9LF9kYXRhdmlldzpmdW5jdGlvbigpe3JldHVybiB1KFwiZGF0YXZpZXdcIil9LF9zaWduYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdShcInNpZ25hbFwiKX0sX2ZzZXZlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdShcImZzZXZlbnRcIil9LF90bHN3cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHUoXCJ0bHN3cmFwXCIpfX19ZnVuY3Rpb24gbCgpe3JldHVybntidWY6XCJcIix3cml0ZTpmdW5jdGlvbihlKXt0aGlzLmJ1Zis9ZX0sZW5kOmZ1bmN0aW9uKGUpe3RoaXMuYnVmKz1lfSxyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmfX19bS53cml0ZVRvU3RyZWFtPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49dCx0PXt9KSxmKHQ9dShlLHQpLG4pLmRpc3BhdGNoKGUpfX0uY2FsbCh0aGlzLHcoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSx3KFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvZmFrZV85YTVhYTQ5ZC5qc1wiLFwiL1wiKX0se2J1ZmZlcjozLGNyeXB0bzo1LGxZcG9JMjoxMX1dLDI6W2Z1bmN0aW9uKGUsdCxmKXshZnVuY3Rpb24oZSx0LG4scixvLGksdSxzLGEpeyFmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgYT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LHQ9XCIrXCIuY2hhckNvZGVBdCgwKSxuPVwiL1wiLmNoYXJDb2RlQXQoMCkscj1cIjBcIi5jaGFyQ29kZUF0KDApLG89XCJhXCIuY2hhckNvZGVBdCgwKSxpPVwiQVwiLmNoYXJDb2RlQXQoMCksdT1cIi1cIi5jaGFyQ29kZUF0KDApLHM9XCJfXCIuY2hhckNvZGVBdCgwKTtmdW5jdGlvbiBmKGUpe2U9ZS5jaGFyQ29kZUF0KDApO3JldHVybiBlPT09dHx8ZT09PXU/NjI6ZT09PW58fGU9PT1zPzYzOmU8cj8tMTplPHIrMTA/ZS1yKzI2KzI2OmU8aSsyNj9lLWk6ZTxvKzI2P2UtbysyNjp2b2lkIDB9ZS50b0J5dGVBcnJheT1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKDA8ZS5sZW5ndGglNCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciByPWUubGVuZ3RoLHI9XCI9XCI9PT1lLmNoYXJBdChyLTIpPzI6XCI9XCI9PT1lLmNoYXJBdChyLTEpPzE6MCxvPW5ldyBhKDMqZS5sZW5ndGgvNC1yKSxpPTA8cj9lLmxlbmd0aC00OmUubGVuZ3RoLHU9MDtmdW5jdGlvbiBzKGUpe29bdSsrXT1lfWZvcih0PTA7dDxpO3QrPTQsMClzKCgxNjcxMTY4MCYobj1mKGUuY2hhckF0KHQpKTw8MTh8ZihlLmNoYXJBdCh0KzEpKTw8MTJ8ZihlLmNoYXJBdCh0KzIpKTw8NnxmKGUuY2hhckF0KHQrMykpKSk+PjE2KSxzKCg2NTI4MCZuKT4+OCkscygyNTUmbik7cmV0dXJuIDI9PXI/cygyNTUmKG49ZihlLmNoYXJBdCh0KSk8PDJ8ZihlLmNoYXJBdCh0KzEpKT4+NCkpOjE9PXImJihzKChuPWYoZS5jaGFyQXQodCkpPDwxMHxmKGUuY2hhckF0KHQrMSkpPDw0fGYoZS5jaGFyQXQodCsyKSk+PjIpPj44JjI1NSkscygyNTUmbikpLG99LGUuZnJvbUJ5dGVBcnJheT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPWUubGVuZ3RoJTMsdT1cIlwiO2Z1bmN0aW9uIHMoZSl7cmV0dXJuXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIuY2hhckF0KGUpfWZvcih0PTAscj1lLmxlbmd0aC1pO3Q8cjt0Kz0zKW49KGVbdF08PDE2KSsoZVt0KzFdPDw4KStlW3QrMl0sdSs9cygobz1uKT4+MTgmNjMpK3Mobz4+MTImNjMpK3Mobz4+NiY2Mykrcyg2MyZvKTtzd2l0Y2goaSl7Y2FzZSAxOnU9KHUrPXMoKG49ZVtlLmxlbmd0aC0xXSk+PjIpKStzKG48PDQmNjMpK1wiPT1cIjticmVhaztjYXNlIDI6dT0odT0odSs9cygobj0oZVtlLmxlbmd0aC0yXTw8OCkrZVtlLmxlbmd0aC0xXSk+PjEwKSkrcyhuPj40JjYzKSkrcyhuPDwyJjYzKStcIj1cIn1yZXR1cm4gdX19KHZvaWQgMD09PWY/dGhpcy5iYXNlNjRqcz17fTpmKX0uY2FsbCh0aGlzLGUoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxlKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2xpYi9iNjQuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9iYXNlNjQtanMvbGliXCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sMzpbZnVuY3Rpb24oTyxlLEgpeyFmdW5jdGlvbihlLG4sZixyLGgscCxnLHksdyl7dmFyIGE9TyhcImJhc2U2NC1qc1wiKSxpPU8oXCJpZWVlNzU0XCIpO2Z1bmN0aW9uIGYoZSx0LG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGYpKXJldHVybiBuZXcgZihlLHQsbik7dmFyIHIsbyxpLHUscz10eXBlb2YgZTtpZihcImJhc2U2NFwiPT09dCYmXCJzdHJpbmdcIj09cylmb3IoZT0odT1lKS50cmltP3UudHJpbSgpOnUucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKTtlLmxlbmd0aCU0IT0wOyllKz1cIj1cIjtpZihcIm51bWJlclwiPT1zKXI9aihlKTtlbHNlIGlmKFwic3RyaW5nXCI9PXMpcj1mLmJ5dGVMZW5ndGgoZSx0KTtlbHNle2lmKFwib2JqZWN0XCIhPXMpdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgYXJndW1lbnQgbmVlZHMgdG8gYmUgYSBudW1iZXIsIGFycmF5IG9yIHN0cmluZy5cIik7cj1qKGUubGVuZ3RoKX1pZihmLl91c2VUeXBlZEFycmF5cz9vPWYuX2F1Z21lbnQobmV3IFVpbnQ4QXJyYXkocikpOigobz10aGlzKS5sZW5ndGg9cixvLl9pc0J1ZmZlcj0hMCksZi5fdXNlVHlwZWRBcnJheXMmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmJ5dGVMZW5ndGgpby5fc2V0KGUpO2Vsc2UgaWYoQyh1PWUpfHxmLmlzQnVmZmVyKHUpfHx1JiZcIm9iamVjdFwiPT10eXBlb2YgdSYmXCJudW1iZXJcIj09dHlwZW9mIHUubGVuZ3RoKWZvcihpPTA7aTxyO2krKylmLmlzQnVmZmVyKGUpP29baV09ZS5yZWFkVUludDgoaSk6b1tpXT1lW2ldO2Vsc2UgaWYoXCJzdHJpbmdcIj09cylvLndyaXRlKGUsMCx0KTtlbHNlIGlmKFwibnVtYmVyXCI9PXMmJiFmLl91c2VUeXBlZEFycmF5cyYmIW4pZm9yKGk9MDtpPHI7aSsrKW9baV09MDtyZXR1cm4gb31mdW5jdGlvbiBiKGUsdCxuLHIpe3JldHVybiBmLl9jaGFyc1dyaXR0ZW49YyhmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKXQucHVzaCgyNTUmZS5jaGFyQ29kZUF0KG4pKTtyZXR1cm4gdH0odCksZSxuLHIpfWZ1bmN0aW9uIG0oZSx0LG4scil7cmV0dXJuIGYuX2NoYXJzV3JpdHRlbj1jKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9W10sbz0wO288ZS5sZW5ndGg7bysrKW49ZS5jaGFyQ29kZUF0KG8pLHQ9bj4+OCxuPW4lMjU2LHIucHVzaChuKSxyLnB1c2godCk7cmV0dXJuIHJ9KHQpLGUsbixyKX1mdW5jdGlvbiB2KGUsdCxuKXt2YXIgcj1cIlwiO249TWF0aC5taW4oZS5sZW5ndGgsbik7Zm9yKHZhciBvPXQ7bzxuO28rKylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbb10pO3JldHVybiByfWZ1bmN0aW9uIG8oZSx0LG4scil7cnx8KGQoXCJib29sZWFuXCI9PXR5cGVvZiBuLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQrMTxlLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKTt2YXIgbyxyPWUubGVuZ3RoO2lmKCEocjw9dCkpcmV0dXJuIG4/KG89ZVt0XSx0KzE8ciYmKG98PWVbdCsxXTw8OCkpOihvPWVbdF08PDgsdCsxPHImJihvfD1lW3QrMV0pKSxvfWZ1bmN0aW9uIHUoZSx0LG4scil7cnx8KGQoXCJib29sZWFuXCI9PXR5cGVvZiBuLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQrMzxlLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKTt2YXIgbyxyPWUubGVuZ3RoO2lmKCEocjw9dCkpcmV0dXJuIG4/KHQrMjxyJiYobz1lW3QrMl08PDE2KSx0KzE8ciYmKG98PWVbdCsxXTw8OCksb3w9ZVt0XSx0KzM8ciYmKG8rPWVbdCszXTw8MjQ+Pj4wKSk6KHQrMTxyJiYobz1lW3QrMV08PDE2KSx0KzI8ciYmKG98PWVbdCsyXTw8OCksdCszPHImJihvfD1lW3QrM10pLG8rPWVbdF08PDI0Pj4+MCksb31mdW5jdGlvbiBfKGUsdCxuLHIpe2lmKHJ8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT10LFwibWlzc2luZyBvZmZzZXRcIiksZCh0KzE8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksIShlLmxlbmd0aDw9dCkpcmV0dXJuIHI9byhlLHQsbiwhMCksMzI3Njgmcj8tMSooNjU1MzUtcisxKTpyfWZ1bmN0aW9uIEUoZSx0LG4scil7aWYocnx8KGQoXCJib29sZWFuXCI9PXR5cGVvZiBuLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPXQsXCJtaXNzaW5nIG9mZnNldFwiKSxkKHQrMzxlLmxlbmd0aCxcIlRyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpKSwhKGUubGVuZ3RoPD10KSlyZXR1cm4gcj11KGUsdCxuLCEwKSwyMTQ3NDgzNjQ4JnI/LTEqKDQyOTQ5NjcyOTUtcisxKTpyfWZ1bmN0aW9uIEkoZSx0LG4scil7cmV0dXJuIHJ8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZCh0KzM8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksaS5yZWFkKGUsdCxuLDIzLDQpfWZ1bmN0aW9uIEEoZSx0LG4scil7cmV0dXJuIHJ8fChkKFwiYm9vbGVhblwiPT10eXBlb2YgbixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZCh0Kzc8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksaS5yZWFkKGUsdCxuLDUyLDgpfWZ1bmN0aW9uIHMoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzE8ZS5sZW5ndGgsXCJ0cnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksWSh0LDY1NTM1KSk7bz1lLmxlbmd0aDtpZighKG88PW4pKWZvcih2YXIgaT0wLHU9TWF0aC5taW4oby1uLDIpO2k8dTtpKyspZVtuK2ldPSh0JjI1NTw8OCoocj9pOjEtaSkpPj4+OCoocj9pOjEtaSl9ZnVuY3Rpb24gbChlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rMzxlLmxlbmd0aCxcInRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxZKHQsNDI5NDk2NzI5NSkpO289ZS5sZW5ndGg7aWYoIShvPD1uKSlmb3IodmFyIGk9MCx1PU1hdGgubWluKG8tbiw0KTtpPHU7aSsrKWVbbitpXT10Pj4+OCoocj9pOjMtaSkmMjU1fWZ1bmN0aW9uIEIoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzE8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRih0LDMyNzY3LC0zMjc2OCkpLGUubGVuZ3RoPD1ufHxzKGUsMDw9dD90OjY1NTM1K3QrMSxuLHIsbyl9ZnVuY3Rpb24gTChlLHQsbixyLG8pe298fChkKG51bGwhPXQsXCJtaXNzaW5nIHZhbHVlXCIpLGQoXCJib29sZWFuXCI9PXR5cGVvZiByLFwibWlzc2luZyBvciBpbnZhbGlkIGVuZGlhblwiKSxkKG51bGwhPW4sXCJtaXNzaW5nIG9mZnNldFwiKSxkKG4rMzxlLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxGKHQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCkpLGUubGVuZ3RoPD1ufHxsKGUsMDw9dD90OjQyOTQ5NjcyOTUrdCsxLG4scixvKX1mdW5jdGlvbiBVKGUsdCxuLHIsbyl7b3x8KGQobnVsbCE9dCxcIm1pc3NpbmcgdmFsdWVcIiksZChcImJvb2xlYW5cIj09dHlwZW9mIHIsXCJtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuXCIpLGQobnVsbCE9bixcIm1pc3Npbmcgb2Zmc2V0XCIpLGQobiszPGUubGVuZ3RoLFwiVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpLEQodCwzNDAyODIzNDY2Mzg1Mjg4NmUyMiwtMzQwMjgyMzQ2NjM4NTI4ODZlMjIpKSxlLmxlbmd0aDw9bnx8aS53cml0ZShlLHQsbixyLDIzLDQpfWZ1bmN0aW9uIHgoZSx0LG4scixvKXtvfHwoZChudWxsIT10LFwibWlzc2luZyB2YWx1ZVwiKSxkKFwiYm9vbGVhblwiPT10eXBlb2YgcixcIm1pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW5cIiksZChudWxsIT1uLFwibWlzc2luZyBvZmZzZXRcIiksZChuKzc8ZS5sZW5ndGgsXCJUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIiksRCh0LDE3OTc2OTMxMzQ4NjIzMTU3ZTI5MiwtMTc5NzY5MzEzNDg2MjMxNTdlMjkyKSksZS5sZW5ndGg8PW58fGkud3JpdGUoZSx0LG4sciw1Miw4KX1ILkJ1ZmZlcj1mLEguU2xvd0J1ZmZlcj1mLEguSU5TUEVDVF9NQVhfQllURVM9NTAsZi5wb29sU2l6ZT04MTkyLGYuX3VzZVR5cGVkQXJyYXlzPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW5ldyBBcnJheUJ1ZmZlcigwKSx0PW5ldyBVaW50OEFycmF5KGUpO3JldHVybiB0LmZvbz1mdW5jdGlvbigpe3JldHVybiA0Mn0sNDI9PT10LmZvbygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnN1YmFycmF5fWNhdGNoKGUpe3JldHVybiExfX0oKSxmLmlzRW5jb2Rpbmc9ZnVuY3Rpb24oZSl7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInJhd1wiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxmLmlzQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiEobnVsbD09ZXx8IWUuX2lzQnVmZmVyKX0sZi5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGUsdCl7dmFyIG47c3dpdGNoKGUrPVwiXCIsdHx8XCJ1dGY4XCIpe2Nhc2VcImhleFwiOm49ZS5sZW5ndGgvMjticmVhaztjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpuPVQoZSkubGVuZ3RoO2JyZWFrO2Nhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwicmF3XCI6bj1lLmxlbmd0aDticmVhaztjYXNlXCJiYXNlNjRcIjpuPU0oZSkubGVuZ3RoO2JyZWFrO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOm49MiplLmxlbmd0aDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2RpbmdcIil9cmV0dXJuIG59LGYuY29uY2F0PWZ1bmN0aW9uKGUsdCl7aWYoZChDKGUpLFwiVXNhZ2U6IEJ1ZmZlci5jb25jYXQobGlzdCwgW3RvdGFsTGVuZ3RoXSlcXG5saXN0IHNob3VsZCBiZSBhbiBBcnJheS5cIiksMD09PWUubGVuZ3RoKXJldHVybiBuZXcgZigwKTtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGVbMF07aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpZm9yKG89dD0wO288ZS5sZW5ndGg7bysrKXQrPWVbb10ubGVuZ3RoO2Zvcih2YXIgbj1uZXcgZih0KSxyPTAsbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2kuY29weShuLHIpLHIrPWkubGVuZ3RofXJldHVybiBufSxmLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbixyKXtpc0Zpbml0ZSh0KT9pc0Zpbml0ZShuKXx8KHI9bixuPXZvaWQgMCk6KGE9cixyPXQsdD1uLG49YSksdD1OdW1iZXIodCl8fDA7dmFyIG8saSx1LHMsYT10aGlzLmxlbmd0aC10O3N3aXRjaCgoIW58fGE8KG49TnVtYmVyKG4pKSkmJihuPWEpLHI9U3RyaW5nKHJ8fFwidXRmOFwiKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpvPWZ1bmN0aW9uKGUsdCxuLHIpe249TnVtYmVyKG4pfHwwO3ZhciBvPWUubGVuZ3RoLW47KCFyfHxvPChyPU51bWJlcihyKSkpJiYocj1vKSxkKChvPXQubGVuZ3RoKSUyPT0wLFwiSW52YWxpZCBoZXggc3RyaW5nXCIpLG8vMjxyJiYocj1vLzIpO2Zvcih2YXIgaT0wO2k8cjtpKyspe3ZhciB1PXBhcnNlSW50KHQuc3Vic3RyKDIqaSwyKSwxNik7ZCghaXNOYU4odSksXCJJbnZhbGlkIGhleCBzdHJpbmdcIiksZVtuK2ldPXV9cmV0dXJuIGYuX2NoYXJzV3JpdHRlbj0yKmksaX0odGhpcyxlLHQsbik7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6aT10aGlzLHU9dCxzPW4sbz1mLl9jaGFyc1dyaXR0ZW49YyhUKGUpLGksdSxzKTticmVhaztjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOm89Yih0aGlzLGUsdCxuKTticmVhaztjYXNlXCJiYXNlNjRcIjppPXRoaXMsdT10LHM9bixvPWYuX2NoYXJzV3JpdHRlbj1jKE0oZSksaSx1LHMpO2JyZWFrO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOm89bSh0aGlzLGUsdCxuKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2RpbmdcIil9cmV0dXJuIG99LGYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksdSxzPXRoaXM7aWYoZT1TdHJpbmcoZXx8XCJ1dGY4XCIpLnRvTG93ZXJDYXNlKCksdD1OdW1iZXIodCl8fDAsKG49dm9pZCAwIT09bj9OdW1iZXIobik6cy5sZW5ndGgpPT09dClyZXR1cm5cIlwiO3N3aXRjaChlKXtjYXNlXCJoZXhcIjpyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmxlbmd0aDsoIXR8fHQ8MCkmJih0PTApOyghbnx8bjwwfHxyPG4pJiYobj1yKTtmb3IodmFyIG89XCJcIixpPXQ7aTxuO2krKylvKz1rKGVbaV0pO3JldHVybiBvfShzLHQsbik7YnJlYWs7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cj1mdW5jdGlvbihlLHQsbil7dmFyIHI9XCJcIixvPVwiXCI7bj1NYXRoLm1pbihlLmxlbmd0aCxuKTtmb3IodmFyIGk9dDtpPG47aSsrKWVbaV08PTEyNz8ocis9TihvKStTdHJpbmcuZnJvbUNoYXJDb2RlKGVbaV0pLG89XCJcIik6bys9XCIlXCIrZVtpXS50b1N0cmluZygxNik7cmV0dXJuIHIrTihvKX0ocyx0LG4pO2JyZWFrO2Nhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6cj12KHMsdCxuKTticmVhaztjYXNlXCJiYXNlNjRcIjpvPXMsdT1uLHI9MD09PShpPXQpJiZ1PT09by5sZW5ndGg/YS5mcm9tQnl0ZUFycmF5KG8pOmEuZnJvbUJ5dGVBcnJheShvLnNsaWNlKGksdSkpO2JyZWFrO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnI9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lLnNsaWNlKHQsbiksbz1cIlwiLGk9MDtpPHIubGVuZ3RoO2krPTIpbys9U3RyaW5nLmZyb21DaGFyQ29kZShyW2ldKzI1NipyW2krMV0pO3JldHVybiBvfShzLHQsbik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nXCIpfXJldHVybiByfSxmLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX0sZi5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQsbixyKXtpZih0PXR8fDAsKHI9cnx8MD09PXI/cjp0aGlzLmxlbmd0aCkhPT0obj1ufHwwKSYmMCE9PWUubGVuZ3RoJiYwIT09dGhpcy5sZW5ndGgpe2Qobjw9cixcInNvdXJjZUVuZCA8IHNvdXJjZVN0YXJ0XCIpLGQoMDw9dCYmdDxlLmxlbmd0aCxcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIiksZCgwPD1uJiZuPHRoaXMubGVuZ3RoLFwic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kc1wiKSxkKDA8PXImJnI8PXRoaXMubGVuZ3RoLFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIikscj50aGlzLmxlbmd0aCYmKHI9dGhpcy5sZW5ndGgpO3ZhciBvPShyPWUubGVuZ3RoLXQ8ci1uP2UubGVuZ3RoLXQrbjpyKS1uO2lmKG88MTAwfHwhZi5fdXNlVHlwZWRBcnJheXMpZm9yKHZhciBpPTA7aTxvO2krKyllW2krdF09dGhpc1tpK25dO2Vsc2UgZS5fc2V0KHRoaXMuc3ViYXJyYXkobixuK28pLHQpfX0sZi5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmxlbmd0aDtpZihlPVMoZSxuLDApLHQ9Uyh0LG4sbiksZi5fdXNlVHlwZWRBcnJheXMpcmV0dXJuIGYuX2F1Z21lbnQodGhpcy5zdWJhcnJheShlLHQpKTtmb3IodmFyIHI9dC1lLG89bmV3IGYocix2b2lkIDAsITApLGk9MDtpPHI7aSsrKW9baV09dGhpc1tpK2VdO3JldHVybiBvfSxmLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUubG9nKFwiLmdldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuXCIpLHRoaXMucmVhZFVJbnQ4KGUpfSxmLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY29uc29sZS5sb2coXCIuc2V0KCkgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHVzaW5nIGFycmF5IGluZGV4ZXMgaW5zdGVhZC5cIiksdGhpcy53cml0ZVVJbnQ4KGUsdCl9LGYucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihlLHQpe2lmKHR8fChkKG51bGwhPWUsXCJtaXNzaW5nIG9mZnNldFwiKSxkKGU8dGhpcy5sZW5ndGgsXCJUcnlpbmcgdG8gcmVhZCBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSksIShlPj10aGlzLmxlbmd0aCkpcmV0dXJuIHRoaXNbZV19LGYucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihlLHQpe3JldHVybiBvKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8odGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdSh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB1KHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24oZSx0KXtpZih0fHwoZChudWxsIT1lLFwibWlzc2luZyBvZmZzZXRcIiksZChlPHRoaXMubGVuZ3RoLFwiVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIikpLCEoZT49dGhpcy5sZW5ndGgpKXJldHVybiAxMjgmdGhpc1tlXT8tMSooMjU1LXRoaXNbZV0rMSk6dGhpc1tlXX0sZi5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gXyh0aGlzLGUsITAsdCl9LGYucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8odGhpcyxlLCExLHQpfSxmLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiBFKHRoaXMsZSwhMCx0KX0sZi5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEkodGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbihlLHQpe3JldHVybiBJKHRoaXMsZSwhMSx0KX0sZi5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEEodGhpcyxlLCEwLHQpfSxmLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQSh0aGlzLGUsITEsdCl9LGYucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oZSx0LG4pe258fChkKG51bGwhPWUsXCJtaXNzaW5nIHZhbHVlXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodDx0aGlzLmxlbmd0aCxcInRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxZKGUsMjU1KSksdD49dGhpcy5sZW5ndGh8fCh0aGlzW3RdPWUpfSxmLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtzKHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxuKXtzKHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtsKHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxuKXtsKHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oZSx0LG4pe258fChkKG51bGwhPWUsXCJtaXNzaW5nIHZhbHVlXCIpLGQobnVsbCE9dCxcIm1pc3Npbmcgb2Zmc2V0XCIpLGQodDx0aGlzLmxlbmd0aCxcIlRyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKSxGKGUsMTI3LC0xMjgpKSx0Pj10aGlzLmxlbmd0aHx8KDA8PWU/dGhpcy53cml0ZVVJbnQ4KGUsdCxuKTp0aGlzLndyaXRlVUludDgoMjU1K2UrMSx0LG4pKX0sZi5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtCKHRoaXMsZSx0LCEwLG4pfSxmLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe0IodGhpcyxlLHQsITEsbil9LGYucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihlLHQsbil7TCh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxuKXtMKHRoaXMsZSx0LCExLG4pfSxmLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24oZSx0LG4pe1UodGhpcyxlLHQsITAsbil9LGYucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQsbil7VSh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihlLHQsbil7eCh0aGlzLGUsdCwhMCxuKX0sZi5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbihlLHQsbil7eCh0aGlzLGUsdCwhMSxuKX0sZi5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQsbil7aWYodD10fHwwLG49bnx8dGhpcy5sZW5ndGgsZChcIm51bWJlclwiPT10eXBlb2YoZT1cInN0cmluZ1wiPT10eXBlb2YoZT1lfHwwKT9lLmNoYXJDb2RlQXQoMCk6ZSkmJiFpc05hTihlKSxcInZhbHVlIGlzIG5vdCBhIG51bWJlclwiKSxkKHQ8PW4sXCJlbmQgPCBzdGFydFwiKSxuIT09dCYmMCE9PXRoaXMubGVuZ3RoKXtkKDA8PXQmJnQ8dGhpcy5sZW5ndGgsXCJzdGFydCBvdXQgb2YgYm91bmRzXCIpLGQoMDw9biYmbjw9dGhpcy5sZW5ndGgsXCJlbmQgb3V0IG9mIGJvdW5kc1wiKTtmb3IodmFyIHI9dDtyPG47cisrKXRoaXNbcl09ZX19LGYucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD10aGlzLmxlbmd0aCxuPTA7bjx0O24rKylpZihlW25dPWsodGhpc1tuXSksbj09PUguSU5TUEVDVF9NQVhfQllURVMpe2VbbisxXT1cIi4uLlwiO2JyZWFrfXJldHVyblwiPEJ1ZmZlciBcIitlLmpvaW4oXCIgXCIpK1wiPlwifSxmLnByb3RvdHlwZS50b0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQ4QXJyYXkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLnRvQXJyYXlCdWZmZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7aWYoZi5fdXNlVHlwZWRBcnJheXMpcmV0dXJuIG5ldyBmKHRoaXMpLmJ1ZmZlcjtmb3IodmFyIGU9bmV3IFVpbnQ4QXJyYXkodGhpcy5sZW5ndGgpLHQ9MCxuPWUubGVuZ3RoO3Q8bjt0Kz0xKWVbdF09dGhpc1t0XTtyZXR1cm4gZS5idWZmZXJ9O3ZhciB0PWYucHJvdG90eXBlO2Z1bmN0aW9uIFMoZSx0LG4pe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlP246dDw9KGU9fn5lKT90OjA8PWV8fDA8PShlKz10KT9lOjB9ZnVuY3Rpb24gaihlKXtyZXR1cm4oZT1+fk1hdGguY2VpbCgrZSkpPDA/MDplfWZ1bmN0aW9uIEMoZSl7cmV0dXJuKEFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0pKGUpfWZ1bmN0aW9uIGsoZSl7cmV0dXJuIGU8MTY/XCIwXCIrZS50b1N0cmluZygxNik6ZS50b1N0cmluZygxNil9ZnVuY3Rpb24gVChlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lLmNoYXJDb2RlQXQobik7aWYocjw9MTI3KXQucHVzaChlLmNoYXJDb2RlQXQobikpO2Vsc2UgZm9yKHZhciBvPW4saT0oNTUyOTY8PXImJnI8PTU3MzQzJiZuKyssZW5jb2RlVVJJQ29tcG9uZW50KGUuc2xpY2UobyxuKzEpKS5zdWJzdHIoMSkuc3BsaXQoXCIlXCIpKSx1PTA7dTxpLmxlbmd0aDt1KyspdC5wdXNoKHBhcnNlSW50KGlbdV0sMTYpKX1yZXR1cm4gdH1mdW5jdGlvbiBNKGUpe3JldHVybiBhLnRvQnl0ZUFycmF5KGUpfWZ1bmN0aW9uIGMoZSx0LG4scil7Zm9yKHZhciBvPTA7bzxyJiYhKG8rbj49dC5sZW5ndGh8fG8+PWUubGVuZ3RoKTtvKyspdFtvK25dPWVbb107cmV0dXJuIG99ZnVuY3Rpb24gTihlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlKX1jYXRjaChlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg2NTUzMyl9fWZ1bmN0aW9uIFkoZSx0KXtkKFwibnVtYmVyXCI9PXR5cGVvZiBlLFwiY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlclwiKSxkKDA8PWUsXCJzcGVjaWZpZWQgYSBuZWdhdGl2ZSB2YWx1ZSBmb3Igd3JpdGluZyBhbiB1bnNpZ25lZCB2YWx1ZVwiKSxkKGU8PXQsXCJ2YWx1ZSBpcyBsYXJnZXIgdGhhbiBtYXhpbXVtIHZhbHVlIGZvciB0eXBlXCIpLGQoTWF0aC5mbG9vcihlKT09PWUsXCJ2YWx1ZSBoYXMgYSBmcmFjdGlvbmFsIGNvbXBvbmVudFwiKX1mdW5jdGlvbiBGKGUsdCxuKXtkKFwibnVtYmVyXCI9PXR5cGVvZiBlLFwiY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlclwiKSxkKGU8PXQsXCJ2YWx1ZSBsYXJnZXIgdGhhbiBtYXhpbXVtIGFsbG93ZWQgdmFsdWVcIiksZChuPD1lLFwidmFsdWUgc21hbGxlciB0aGFuIG1pbmltdW0gYWxsb3dlZCB2YWx1ZVwiKSxkKE1hdGguZmxvb3IoZSk9PT1lLFwidmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnRcIil9ZnVuY3Rpb24gRChlLHQsbil7ZChcIm51bWJlclwiPT10eXBlb2YgZSxcImNhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXJcIiksZChlPD10LFwidmFsdWUgbGFyZ2VyIHRoYW4gbWF4aW11bSBhbGxvd2VkIHZhbHVlXCIpLGQobjw9ZSxcInZhbHVlIHNtYWxsZXIgdGhhbiBtaW5pbXVtIGFsbG93ZWQgdmFsdWVcIil9ZnVuY3Rpb24gZChlLHQpe2lmKCFlKXRocm93IG5ldyBFcnJvcih0fHxcIkZhaWxlZCBhc3NlcnRpb25cIil9Zi5fYXVnbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZS5faXNCdWZmZXI9ITAsZS5fZ2V0PWUuZ2V0LGUuX3NldD1lLnNldCxlLmdldD10LmdldCxlLnNldD10LnNldCxlLndyaXRlPXQud3JpdGUsZS50b1N0cmluZz10LnRvU3RyaW5nLGUudG9Mb2NhbGVTdHJpbmc9dC50b1N0cmluZyxlLnRvSlNPTj10LnRvSlNPTixlLmNvcHk9dC5jb3B5LGUuc2xpY2U9dC5zbGljZSxlLnJlYWRVSW50OD10LnJlYWRVSW50OCxlLnJlYWRVSW50MTZMRT10LnJlYWRVSW50MTZMRSxlLnJlYWRVSW50MTZCRT10LnJlYWRVSW50MTZCRSxlLnJlYWRVSW50MzJMRT10LnJlYWRVSW50MzJMRSxlLnJlYWRVSW50MzJCRT10LnJlYWRVSW50MzJCRSxlLnJlYWRJbnQ4PXQucmVhZEludDgsZS5yZWFkSW50MTZMRT10LnJlYWRJbnQxNkxFLGUucmVhZEludDE2QkU9dC5yZWFkSW50MTZCRSxlLnJlYWRJbnQzMkxFPXQucmVhZEludDMyTEUsZS5yZWFkSW50MzJCRT10LnJlYWRJbnQzMkJFLGUucmVhZEZsb2F0TEU9dC5yZWFkRmxvYXRMRSxlLnJlYWRGbG9hdEJFPXQucmVhZEZsb2F0QkUsZS5yZWFkRG91YmxlTEU9dC5yZWFkRG91YmxlTEUsZS5yZWFkRG91YmxlQkU9dC5yZWFkRG91YmxlQkUsZS53cml0ZVVJbnQ4PXQud3JpdGVVSW50OCxlLndyaXRlVUludDE2TEU9dC53cml0ZVVJbnQxNkxFLGUud3JpdGVVSW50MTZCRT10LndyaXRlVUludDE2QkUsZS53cml0ZVVJbnQzMkxFPXQud3JpdGVVSW50MzJMRSxlLndyaXRlVUludDMyQkU9dC53cml0ZVVJbnQzMkJFLGUud3JpdGVJbnQ4PXQud3JpdGVJbnQ4LGUud3JpdGVJbnQxNkxFPXQud3JpdGVJbnQxNkxFLGUud3JpdGVJbnQxNkJFPXQud3JpdGVJbnQxNkJFLGUud3JpdGVJbnQzMkxFPXQud3JpdGVJbnQzMkxFLGUud3JpdGVJbnQzMkJFPXQud3JpdGVJbnQzMkJFLGUud3JpdGVGbG9hdExFPXQud3JpdGVGbG9hdExFLGUud3JpdGVGbG9hdEJFPXQud3JpdGVGbG9hdEJFLGUud3JpdGVEb3VibGVMRT10LndyaXRlRG91YmxlTEUsZS53cml0ZURvdWJsZUJFPXQud3JpdGVEb3VibGVCRSxlLmZpbGw9dC5maWxsLGUuaW5zcGVjdD10Lmluc3BlY3QsZS50b0FycmF5QnVmZmVyPXQudG9BcnJheUJ1ZmZlcixlfX0uY2FsbCh0aGlzLE8oXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxPKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnVmZmVyXCIpfSx7XCJiYXNlNjQtanNcIjoyLGJ1ZmZlcjozLGllZWU3NTQ6MTAsbFlwb0kyOjExfV0sNDpbZnVuY3Rpb24oYyxkLGUpeyFmdW5jdGlvbihlLHQsYSxuLHIsbyxpLHUscyl7dmFyIGE9YyhcImJ1ZmZlclwiKS5CdWZmZXIsZj00LGw9bmV3IGEoZik7bC5maWxsKDApO2QuZXhwb3J0cz17aGFzaDpmdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIG89dChmdW5jdGlvbihlLHQpe2UubGVuZ3RoJWYhPTAmJihuPWUubGVuZ3RoKyhmLWUubGVuZ3RoJWYpLGU9YS5jb25jYXQoW2UsbF0sbikpO2Zvcih2YXIgbixyPVtdLG89dD9lLnJlYWRJbnQzMkJFOmUucmVhZEludDMyTEUsaT0wO2k8ZS5sZW5ndGg7aSs9ZilyLnB1c2goby5jYWxsKGUsaSkpO3JldHVybiByfShlPWEuaXNCdWZmZXIoZSk/ZTpuZXcgYShlKSxyKSw4KmUubGVuZ3RoKSx0PXIsaT1uZXcgYShuKSx1PXQ/aS53cml0ZUludDMyQkU6aS53cml0ZUludDMyTEUscz0wO3M8by5sZW5ndGg7cysrKXUuY2FsbChpLG9bc10sNCpzLCEwKTtyZXR1cm4gaX19fS5jYWxsKHRoaXMsYyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LGMoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9oZWxwZXJzLmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtidWZmZXI6MyxsWXBvSTI6MTF9XSw1OltmdW5jdGlvbih2LGUsXyl7IWZ1bmN0aW9uKGwsYyx1LGQsaCxwLGcseSx3KXt2YXIgdT12KFwiYnVmZmVyXCIpLkJ1ZmZlcixlPXYoXCIuL3NoYVwiKSx0PXYoXCIuL3NoYTI1NlwiKSxuPXYoXCIuL3JuZ1wiKSxiPXtzaGExOmUsc2hhMjU2OnQsbWQ1OnYoXCIuL21kNVwiKX0scz02NCxhPW5ldyB1KHMpO2Z1bmN0aW9uIHIoZSxuKXt2YXIgcj1iW2U9ZXx8XCJzaGExXCJdLG89W107cmV0dXJuIHJ8fGkoXCJhbGdvcml0aG06XCIsZSxcImlzIG5vdCB5ZXQgc3VwcG9ydGVkXCIpLHt1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUuaXNCdWZmZXIoZSl8fChlPW5ldyB1KGUpKSxvLnB1c2goZSksZS5sZW5ndGgsdGhpc30sZGlnZXN0OmZ1bmN0aW9uKGUpe3ZhciB0PXUuY29uY2F0KG8pLHQ9bj9mdW5jdGlvbihlLHQsbil7dS5pc0J1ZmZlcih0KXx8KHQ9bmV3IHUodCkpLHUuaXNCdWZmZXIobil8fChuPW5ldyB1KG4pKSx0Lmxlbmd0aD5zP3Q9ZSh0KTp0Lmxlbmd0aDxzJiYodD11LmNvbmNhdChbdCxhXSxzKSk7Zm9yKHZhciByPW5ldyB1KHMpLG89bmV3IHUocyksaT0wO2k8cztpKyspcltpXT01NF50W2ldLG9baV09OTJedFtpXTtyZXR1cm4gbj1lKHUuY29uY2F0KFtyLG5dKSksZSh1LmNvbmNhdChbbyxuXSkpfShyLG4sdCk6cih0KTtyZXR1cm4gbz1udWxsLGU/dC50b1N0cmluZyhlKTp0fX19ZnVuY3Rpb24gaSgpe3ZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKFwiIFwiKTt0aHJvdyBuZXcgRXJyb3IoW2UsXCJ3ZSBhY2NlcHQgcHVsbCByZXF1ZXN0c1wiLFwiaHR0cDovL2dpdGh1Yi5jb20vZG9taW5pY3RhcnIvY3J5cHRvLWJyb3dzZXJpZnlcIl0uam9pbihcIlxcblwiKSl9YS5maWxsKDApLF8uY3JlYXRlSGFzaD1mdW5jdGlvbihlKXtyZXR1cm4gcihlKX0sXy5jcmVhdGVIbWFjPXIsXy5yYW5kb21CeXRlcz1mdW5jdGlvbihlLHQpe2lmKCF0fHwhdC5jYWxsKXJldHVybiBuZXcgdShuKGUpKTt0cnl7dC5jYWxsKHRoaXMsdm9pZCAwLG5ldyB1KG4oZSkpKX1jYXRjaChlKXt0KGUpfX07dmFyIG8sZj1bXCJjcmVhdGVDcmVkZW50aWFsc1wiLFwiY3JlYXRlQ2lwaGVyXCIsXCJjcmVhdGVDaXBoZXJpdlwiLFwiY3JlYXRlRGVjaXBoZXJcIixcImNyZWF0ZURlY2lwaGVyaXZcIixcImNyZWF0ZVNpZ25cIixcImNyZWF0ZVZlcmlmeVwiLFwiY3JlYXRlRGlmZmllSGVsbG1hblwiLFwicGJrZGYyXCJdLG09ZnVuY3Rpb24oZSl7X1tlXT1mdW5jdGlvbigpe2koXCJzb3JyeSxcIixlLFwiaXMgbm90IGltcGxlbWVudGVkIHlldFwiKX19O2ZvcihvIGluIGYpbShmW29dLG8pfS5jYWxsKHRoaXMsdihcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LHYoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9pbmRleC5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7XCIuL21kNVwiOjYsXCIuL3JuZ1wiOjcsXCIuL3NoYVwiOjgsXCIuL3NoYTI1NlwiOjksYnVmZmVyOjMsbFlwb0kyOjExfV0sNjpbZnVuY3Rpb24odyxiLGUpeyFmdW5jdGlvbihlLHIsbyxpLHUsYSxmLGwseSl7dmFyIHQ9dyhcIi4vaGVscGVyc1wiKTtmdW5jdGlvbiBuKGUsdCl7ZVt0Pj41XXw9MTI4PDx0JTMyLGVbMTQrKHQrNjQ+Pj45PDw0KV09dDtmb3IodmFyIG49MTczMjU4NDE5MyxyPS0yNzE3MzM4Nzksbz0tMTczMjU4NDE5NCxpPTI3MTczMzg3OCx1PTA7dTxlLmxlbmd0aDt1Kz0xNil7dmFyIHM9bixhPXIsZj1vLGw9aSxuPWMobixyLG8saSxlW3UrMF0sNywtNjgwODc2OTM2KSxpPWMoaSxuLHIsbyxlW3UrMV0sMTIsLTM4OTU2NDU4Niksbz1jKG8saSxuLHIsZVt1KzJdLDE3LDYwNjEwNTgxOSkscj1jKHIsbyxpLG4sZVt1KzNdLDIyLC0xMDQ0NTI1MzMwKTtuPWMobixyLG8saSxlW3UrNF0sNywtMTc2NDE4ODk3KSxpPWMoaSxuLHIsbyxlW3UrNV0sMTIsMTIwMDA4MDQyNiksbz1jKG8saSxuLHIsZVt1KzZdLDE3LC0xNDczMjMxMzQxKSxyPWMocixvLGksbixlW3UrN10sMjIsLTQ1NzA1OTgzKSxuPWMobixyLG8saSxlW3UrOF0sNywxNzcwMDM1NDE2KSxpPWMoaSxuLHIsbyxlW3UrOV0sMTIsLTE5NTg0MTQ0MTcpLG89YyhvLGksbixyLGVbdSsxMF0sMTcsLTQyMDYzKSxyPWMocixvLGksbixlW3UrMTFdLDIyLC0xOTkwNDA0MTYyKSxuPWMobixyLG8saSxlW3UrMTJdLDcsMTgwNDYwMzY4MiksaT1jKGksbixyLG8sZVt1KzEzXSwxMiwtNDAzNDExMDEpLG89YyhvLGksbixyLGVbdSsxNF0sMTcsLTE1MDIwMDIyOTApLG49ZChuLHI9YyhyLG8saSxuLGVbdSsxNV0sMjIsMTIzNjUzNTMyOSksbyxpLGVbdSsxXSw1LC0xNjU3OTY1MTApLGk9ZChpLG4scixvLGVbdSs2XSw5LC0xMDY5NTAxNjMyKSxvPWQobyxpLG4scixlW3UrMTFdLDE0LDY0MzcxNzcxMykscj1kKHIsbyxpLG4sZVt1KzBdLDIwLC0zNzM4OTczMDIpLG49ZChuLHIsbyxpLGVbdSs1XSw1LC03MDE1NTg2OTEpLGk9ZChpLG4scixvLGVbdSsxMF0sOSwzODAxNjA4Myksbz1kKG8saSxuLHIsZVt1KzE1XSwxNCwtNjYwNDc4MzM1KSxyPWQocixvLGksbixlW3UrNF0sMjAsLTQwNTUzNzg0OCksbj1kKG4scixvLGksZVt1KzldLDUsNTY4NDQ2NDM4KSxpPWQoaSxuLHIsbyxlW3UrMTRdLDksLTEwMTk4MDM2OTApLG89ZChvLGksbixyLGVbdSszXSwxNCwtMTg3MzYzOTYxKSxyPWQocixvLGksbixlW3UrOF0sMjAsMTE2MzUzMTUwMSksbj1kKG4scixvLGksZVt1KzEzXSw1LC0xNDQ0NjgxNDY3KSxpPWQoaSxuLHIsbyxlW3UrMl0sOSwtNTE0MDM3ODQpLG89ZChvLGksbixyLGVbdSs3XSwxNCwxNzM1MzI4NDczKSxuPWgobixyPWQocixvLGksbixlW3UrMTJdLDIwLC0xOTI2NjA3NzM0KSxvLGksZVt1KzVdLDQsLTM3ODU1OCksaT1oKGksbixyLG8sZVt1KzhdLDExLC0yMDIyNTc0NDYzKSxvPWgobyxpLG4scixlW3UrMTFdLDE2LDE4MzkwMzA1NjIpLHI9aChyLG8saSxuLGVbdSsxNF0sMjMsLTM1MzA5NTU2KSxuPWgobixyLG8saSxlW3UrMV0sNCwtMTUzMDk5MjA2MCksaT1oKGksbixyLG8sZVt1KzRdLDExLDEyNzI4OTMzNTMpLG89aChvLGksbixyLGVbdSs3XSwxNiwtMTU1NDk3NjMyKSxyPWgocixvLGksbixlW3UrMTBdLDIzLC0xMDk0NzMwNjQwKSxuPWgobixyLG8saSxlW3UrMTNdLDQsNjgxMjc5MTc0KSxpPWgoaSxuLHIsbyxlW3UrMF0sMTEsLTM1ODUzNzIyMiksbz1oKG8saSxuLHIsZVt1KzNdLDE2LC03MjI1MjE5NzkpLHI9aChyLG8saSxuLGVbdSs2XSwyMyw3NjAyOTE4OSksbj1oKG4scixvLGksZVt1KzldLDQsLTY0MDM2NDQ4NyksaT1oKGksbixyLG8sZVt1KzEyXSwxMSwtNDIxODE1ODM1KSxvPWgobyxpLG4scixlW3UrMTVdLDE2LDUzMDc0MjUyMCksbj1wKG4scj1oKHIsbyxpLG4sZVt1KzJdLDIzLC05OTUzMzg2NTEpLG8saSxlW3UrMF0sNiwtMTk4NjMwODQ0KSxpPXAoaSxuLHIsbyxlW3UrN10sMTAsMTEyNjg5MTQxNSksbz1wKG8saSxuLHIsZVt1KzE0XSwxNSwtMTQxNjM1NDkwNSkscj1wKHIsbyxpLG4sZVt1KzVdLDIxLC01NzQzNDA1NSksbj1wKG4scixvLGksZVt1KzEyXSw2LDE3MDA0ODU1NzEpLGk9cChpLG4scixvLGVbdSszXSwxMCwtMTg5NDk4NjYwNiksbz1wKG8saSxuLHIsZVt1KzEwXSwxNSwtMTA1MTUyMykscj1wKHIsbyxpLG4sZVt1KzFdLDIxLC0yMDU0OTIyNzk5KSxuPXAobixyLG8saSxlW3UrOF0sNiwxODczMzEzMzU5KSxpPXAoaSxuLHIsbyxlW3UrMTVdLDEwLC0zMDYxMTc0NCksbz1wKG8saSxuLHIsZVt1KzZdLDE1LC0xNTYwMTk4MzgwKSxyPXAocixvLGksbixlW3UrMTNdLDIxLDEzMDkxNTE2NDkpLG49cChuLHIsbyxpLGVbdSs0XSw2LC0xNDU1MjMwNzApLGk9cChpLG4scixvLGVbdSsxMV0sMTAsLTExMjAyMTAzNzkpLG89cChvLGksbixyLGVbdSsyXSwxNSw3MTg3ODcyNTkpLHI9cChyLG8saSxuLGVbdSs5XSwyMSwtMzQzNDg1NTUxKSxuPWcobixzKSxyPWcocixhKSxvPWcobyxmKSxpPWcoaSxsKX1yZXR1cm4gQXJyYXkobixyLG8saSl9ZnVuY3Rpb24gcyhlLHQsbixyLG8saSl7cmV0dXJuIGcoKHQ9ZyhnKHQsZSksZyhyLGkpKSk8PG98dD4+PjMyLW8sbil9ZnVuY3Rpb24gYyhlLHQsbixyLG8saSx1KXtyZXR1cm4gcyh0Jm58fnQmcixlLHQsbyxpLHUpfWZ1bmN0aW9uIGQoZSx0LG4scixvLGksdSl7cmV0dXJuIHModCZyfG4mfnIsZSx0LG8saSx1KX1mdW5jdGlvbiBoKGUsdCxuLHIsbyxpLHUpe3JldHVybiBzKHRebl5yLGUsdCxvLGksdSl9ZnVuY3Rpb24gcChlLHQsbixyLG8saSx1KXtyZXR1cm4gcyhuXih0fH5yKSxlLHQsbyxpLHUpfWZ1bmN0aW9uIGcoZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWIuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdC5oYXNoKGUsbiwxNil9fS5jYWxsKHRoaXMsdyhcImxZcG9JMlwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9LHcoXCJidWZmZXJcIikuQnVmZmVyLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9tZDUuanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeVwiKX0se1wiLi9oZWxwZXJzXCI6NCxidWZmZXI6MyxsWXBvSTI6MTF9XSw3OltmdW5jdGlvbihlLGwsdCl7IWZ1bmN0aW9uKGUsdCxuLHIsbyxpLHUscyxmKXt2YXIgYTtsLmV4cG9ydHM9YXx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKTA9PSgzJnIpJiYodD00Mjk0OTY3Mjk2Kk1hdGgucmFuZG9tKCkpLG5bcl09dD4+PigoMyZyKTw8MykmMjU1O3JldHVybiBufX0uY2FsbCh0aGlzLGUoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxlKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvcm5nLmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtidWZmZXI6MyxsWXBvSTI6MTF9XSw4OltmdW5jdGlvbihjLGQsZSl7IWZ1bmN0aW9uKGUsdCxuLHIsbyxzLGEsZixsKXt2YXIgaT1jKFwiLi9oZWxwZXJzXCIpO2Z1bmN0aW9uIHUobCxjKXtsW2M+PjVdfD0xMjg8PDI0LWMlMzIsbFsxNSsoYys2ND4+OTw8NCldPWM7Zm9yKHZhciBlLHQsbixyPUFycmF5KDgwKSxvPTE3MzI1ODQxOTMsaT0tMjcxNzMzODc5LHU9LTE3MzI1ODQxOTQscz0yNzE3MzM4NzgsZD0tMTAwOTU4OTc3NixoPTA7aDxsLmxlbmd0aDtoKz0xNil7Zm9yKHZhciBwPW8sZz1pLHk9dSx3PXMsYj1kLGE9MDthPDgwO2ErKyl7clthXT1hPDE2P2xbaCthXTp2KHJbYS0zXV5yW2EtOF1eclthLTE0XV5yW2EtMTZdLDEpO3ZhciBmPW0obSh2KG8sNSksKGY9aSx0PXUsbj1zLChlPWEpPDIwP2YmdHx+ZiZuOiEoZTw0MCkmJmU8NjA/ZiZ0fGYmbnx0Jm46Zl50Xm4pKSxtKG0oZCxyW2FdKSwoZT1hKTwyMD8xNTE4NTAwMjQ5OmU8NDA/MTg1OTc3NTM5MzplPDYwPy0xODk0MDA3NTg4Oi04OTk0OTc1MTQpKSxkPXMscz11LHU9dihpLDMwKSxpPW8sbz1mfW89bShvLHApLGk9bShpLGcpLHU9bSh1LHkpLHM9bShzLHcpLGQ9bShkLGIpfXJldHVybiBBcnJheShvLGksdSxzLGQpfWZ1bmN0aW9uIG0oZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufWZ1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH1kLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaGFzaChlLHUsMjAsITApfX0uY2FsbCh0aGlzLGMoXCJsWXBvSTJcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSxjKFwiYnVmZmVyXCIpLkJ1ZmZlcixhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSxhcmd1bWVudHNbNl0sXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvc2hhLmpzXCIsXCIvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnlcIil9LHtcIi4vaGVscGVyc1wiOjQsYnVmZmVyOjMsbFlwb0kyOjExfV0sOTpbZnVuY3Rpb24oYyxkLGUpeyFmdW5jdGlvbihlLHQsbixyLHUscyxhLGYsbCl7ZnVuY3Rpb24gYihlLHQpe3ZhciBuPSg2NTUzNSZlKSsoNjU1MzUmdCk7cmV0dXJuKGU+PjE2KSsodD4+MTYpKyhuPj4xNik8PDE2fDY1NTM1Jm59ZnVuY3Rpb24gbyhlLGwpe3ZhciBjLGQ9bmV3IEFycmF5KDExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OCksdD1uZXcgQXJyYXkoMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjUpLG49bmV3IEFycmF5KDY0KTtlW2w+PjVdfD0xMjg8PDI0LWwlMzIsZVsxNSsobCs2ND4+OTw8NCldPWw7Zm9yKHZhciByLG8saD0wO2g8ZS5sZW5ndGg7aCs9MTYpe2Zvcih2YXIgaT10WzBdLHU9dFsxXSxzPXRbMl0scD10WzNdLGE9dFs0XSxnPXRbNV0seT10WzZdLHc9dFs3XSxmPTA7Zjw2NDtmKyspbltmXT1mPDE2P2VbZitoXTpiKGIoYigobz1uW2YtMl0sbShvLDE3KV5tKG8sMTkpXnYobywxMCkpLG5bZi03XSksKG89bltmLTE1XSxtKG8sNylebShvLDE4KV52KG8sMykpKSxuW2YtMTZdKSxjPWIoYihiKGIodyxtKG89YSw2KV5tKG8sMTEpXm0obywyNSkpLGEmZ15+YSZ5KSxkW2ZdKSxuW2ZdKSxyPWIobShyPWksMilebShyLDEzKV5tKHIsMjIpLGkmdV5pJnNedSZzKSx3PXkseT1nLGc9YSxhPWIocCxjKSxwPXMscz11LHU9aSxpPWIoYyxyKTt0WzBdPWIoaSx0WzBdKSx0WzFdPWIodSx0WzFdKSx0WzJdPWIocyx0WzJdKSx0WzNdPWIocCx0WzNdKSx0WzRdPWIoYSx0WzRdKSx0WzVdPWIoZyx0WzVdKSx0WzZdPWIoeSx0WzZdKSx0WzddPWIodyx0WzddKX1yZXR1cm4gdH12YXIgaT1jKFwiLi9oZWxwZXJzXCIpLG09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+PnR8ZTw8MzItdH0sdj1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+dH07ZC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc2goZSxvLDMyLCEwKX19LmNhbGwodGhpcyxjKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sYyhcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L3NoYTI1Ni5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5XCIpfSx7XCIuL2hlbHBlcnNcIjo0LGJ1ZmZlcjozLGxZcG9JMjoxMX1dLDEwOltmdW5jdGlvbihlLHQsZil7IWZ1bmN0aW9uKGUsdCxuLHIsbyxpLHUscyxhKXtmLnJlYWQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSx1LGw9OCpvLXItMSxjPSgxPDxsKS0xLGQ9Yz4+MSxzPS03LGE9bj9vLTE6MCxmPW4/LTE6MSxvPWVbdCthXTtmb3IoYSs9ZixpPW8mKDE8PC1zKS0xLG8+Pj0tcyxzKz1sOzA8cztpPTI1NippK2VbdCthXSxhKz1mLHMtPTgpO2Zvcih1PWkmKDE8PC1zKS0xLGk+Pj0tcyxzKz1yOzA8czt1PTI1Nip1K2VbdCthXSxhKz1mLHMtPTgpO2lmKDA9PT1pKWk9MS1kO2Vsc2V7aWYoaT09PWMpcmV0dXJuIHU/TmFOOjEvMCoobz8tMToxKTt1Kz1NYXRoLnBvdygyLHIpLGktPWR9cmV0dXJuKG8/LTE6MSkqdSpNYXRoLnBvdygyLGktcil9LGYud3JpdGU9ZnVuY3Rpb24oZSx0LGwsbixyLGMpe3ZhciBvLGksdT04KmMtci0xLHM9KDE8PHUpLTEsYT1zPj4xLGQ9MjM9PT1yP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxmPW4/MDpjLTEsaD1uPzE6LTEsYz10PDB8fDA9PT10JiYxL3Q8MD8xOjA7Zm9yKHQ9TWF0aC5hYnModCksaXNOYU4odCl8fHQ9PT0xLzA/KGk9aXNOYU4odCk/MTowLG89cyk6KG89TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMiksdCoobj1NYXRoLnBvdygyLC1vKSk8MSYmKG8tLSxuKj0yKSwyPD0odCs9MTw9bythP2QvbjpkKk1hdGgucG93KDIsMS1hKSkqbiYmKG8rKyxuLz0yKSxzPD1vK2E/KGk9MCxvPXMpOjE8PW8rYT8oaT0odCpuLTEpKk1hdGgucG93KDIsciksbys9YSk6KGk9dCpNYXRoLnBvdygyLGEtMSkqTWF0aC5wb3coMixyKSxvPTApKTs4PD1yO2VbbCtmXT0yNTUmaSxmKz1oLGkvPTI1NixyLT04KTtmb3Iobz1vPDxyfGksdSs9cjswPHU7ZVtsK2ZdPTI1NSZvLGYrPWgsby89MjU2LHUtPTgpO2VbbCtmLWhdfD0xMjgqY319LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanNcIixcIi9ub2RlX21vZHVsZXMvZ3VscC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pZWVlNzU0XCIpfSx7YnVmZmVyOjMsbFlwb0kyOjExfV0sMTE6W2Z1bmN0aW9uKGUsaCx0KXshZnVuY3Rpb24oZSx0LG4scixvLGYsbCxjLGQpe3ZhciBpLHUscztmdW5jdGlvbiBhKCl7fShlPWguZXhwb3J0cz17fSkubmV4dFRpY2s9KHU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnNldEltbWVkaWF0ZSxzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIsdT9mdW5jdGlvbihlKXtyZXR1cm4gd2luZG93LnNldEltbWVkaWF0ZShlKX06cz8oaT1bXSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixmdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZTt0IT09d2luZG93JiZudWxsIT09dHx8XCJwcm9jZXNzLXRpY2tcIiE9PWUuZGF0YXx8KGUuc3RvcFByb3BhZ2F0aW9uKCksMDxpLmxlbmd0aCYmaS5zaGlmdCgpKCkpfSwhMCksZnVuY3Rpb24oZSl7aS5wdXNoKGUpLHdpbmRvdy5wb3N0TWVzc2FnZShcInByb2Nlc3MtdGlja1wiLFwiKlwiKX0pOmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX0pLGUudGl0bGU9XCJicm93c2VyXCIsZS5icm93c2VyPSEwLGUuZW52PXt9LGUuYXJndj1bXSxlLm9uPWEsZS5hZGRMaXN0ZW5lcj1hLGUub25jZT1hLGUub2ZmPWEsZS5yZW1vdmVMaXN0ZW5lcj1hLGUucmVtb3ZlQWxsTGlzdGVuZXJzPWEsZS5lbWl0PWEsZS5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxlLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxlLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX19LmNhbGwodGhpcyxlKFwibFlwb0kyXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sZShcImJ1ZmZlclwiKS5CdWZmZXIsYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0sYXJndW1lbnRzWzZdLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qc1wiLFwiL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3NcIil9LHtidWZmZXI6MyxsWXBvSTI6MTF9XX0se30sWzFdKSgxKX0pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/object-hash@3.0.0/node_modules/object-hash/dist/object_hash.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/use-debounce@9.0.4_react@19.2.0/node_modules/use-debounce/dist/index.module.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/use-debounce@9.0.4_react@19.2.0/node_modules/use-debounce/dist/index.module.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDebounce: () => (/* binding */ o),\n/* harmony export */   useDebouncedCallback: () => (/* binding */ c),\n/* harmony export */   useThrottledCallback: () => (/* binding */ f)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction c(u,e,c){var i=this,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0),f=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),m=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),v=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),d=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(u),p=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){d.current=u},[u]);var g=!e&&0!==e&&\"undefined\"!=typeof window;if(\"function\"!=typeof u)throw new TypeError(\"Expected a function\");e=+e||0;var w=!!(c=c||{}).leading,s=!(\"trailing\"in c)||!!c.trailing,x=\"maxWait\"in c,y=x?Math.max(+c.maxWait||0,e):null;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){return p.current=!0,function(){p.current=!1}},[]);var h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){var r=function(r){var n=l.current,t=m.current;return l.current=m.current=null,o.current=r,v.current=d.current.apply(t,n)},n=function(r,n){g&&cancelAnimationFrame(f.current),f.current=g?requestAnimationFrame(r):setTimeout(r,n)},t=function(r){if(!p.current)return!1;var n=r-a.current;return!a.current||n>=e||n<0||x&&r-o.current>=y},u=function(n){return f.current=null,s&&l.current?r(n):(l.current=m.current=null,v.current)},c=function r(){var c=Date.now();if(t(c))return u(c);if(p.current){var i=e-(c-a.current),f=x?Math.min(i,y-(c-o.current)):i;n(r,f)}},h=function(){var u=Date.now(),d=t(u);if(l.current=[].slice.call(arguments),m.current=i,a.current=u,d){if(!f.current&&p.current)return o.current=a.current,n(c,e),w?r(a.current):v.current;if(x)return n(c,e),r(a.current)}return f.current||n(c,e),v.current};return h.cancel=function(){f.current&&(g?cancelAnimationFrame(f.current):clearTimeout(f.current)),o.current=0,l.current=a.current=m.current=f.current=null},h.isPending=function(){return!!f.current},h.flush=function(){return f.current?u(Date.now()):v.current},h},[w,x,e,y,s,g]);return h}function i(r,n){return r===n}function a(r){return\"function\"==typeof r?function(){return r}:r}function o(n,t,o){var f,l,m=o&&o.equalityFn||i,v=(f=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(a(n)),l=f[1],[f[0],(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(r){return l(a(r))},[])]),d=v[0],p=v[1],g=c((0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(r){return p(r)},[p]),t,o),w=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(n);return m(w.current,n)||(g(n),w.current=n),[d,g]}function f(r,n,t){var u=void 0===t?{}:t,e=u.leading,i=u.trailing;return c(r,n,{maxWait:n,leading:void 0===e||e,trailing:void 0===i||i})}\n//# sourceMappingURL=index.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS91c2UtZGVib3VuY2VAOS4wLjRfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy91c2UtZGVib3VuY2UvZGlzdC9pbmRleC5tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEYsa0JBQWtCLGFBQWEsNkNBQUMsU0FBUyw2Q0FBQyxNQUFNLDZDQUFDLFNBQVMsNkNBQUMsT0FBTyw2Q0FBQyxLQUFLLDZDQUFDLEtBQUssNkNBQUMsTUFBTSw2Q0FBQyxLQUFLLGdEQUFDLFlBQVksWUFBWSxNQUFNLDRDQUE0QyxtRUFBbUUsUUFBUSxnQkFBZ0IsK0ZBQStGLGdEQUFDLFlBQVksK0JBQStCLGNBQWMsS0FBSyxNQUFNLDhDQUFDLFlBQVksa0JBQWtCLDRCQUE0QiwyRUFBMkUsaUJBQWlCLHdGQUF3RixlQUFlLHVCQUF1QixrQkFBa0IsK0NBQStDLGVBQWUsNkVBQTZFLGdCQUFnQixpQkFBaUIsb0JBQW9CLGNBQWMsd0RBQXdELFFBQVEsY0FBYyx3QkFBd0IsaUVBQWlFLG9GQUFvRixnQ0FBZ0Msb0NBQW9DLDJCQUEyQixnSUFBZ0ksd0JBQXdCLGtCQUFrQixvQkFBb0IseUNBQXlDLEdBQUcsZ0JBQWdCLFNBQVMsZ0JBQWdCLGFBQWEsY0FBYyxzQ0FBc0MsU0FBUyxHQUFHLGtCQUFrQixrQ0FBa0MsK0NBQUMsb0JBQW9CLGtEQUFDLGFBQWEsZUFBZSx5QkFBeUIsa0RBQUMsYUFBYSxZQUFZLGFBQWEsNkNBQUMsSUFBSSxnREFBZ0Qsa0JBQWtCLG1CQUFtQiw0QkFBNEIsY0FBYyx1REFBdUQsRUFBK0U7QUFDOWxFIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vdXNlLWRlYm91bmNlQDkuMC40X3JlYWN0QDE5LjIuMC9ub2RlX21vZHVsZXMvdXNlLWRlYm91bmNlL2Rpc3QvaW5kZXgubW9kdWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHt1c2VSZWYgYXMgcix1c2VFZmZlY3QgYXMgbix1c2VNZW1vIGFzIHQsdXNlQ2FsbGJhY2sgYXMgdSx1c2VTdGF0ZSBhcyBlfWZyb21cInJlYWN0XCI7ZnVuY3Rpb24gYyh1LGUsYyl7dmFyIGk9dGhpcyxhPXIobnVsbCksbz1yKDApLGY9cihudWxsKSxsPXIoW10pLG09cigpLHY9cigpLGQ9cih1KSxwPXIoITApO24oZnVuY3Rpb24oKXtkLmN1cnJlbnQ9dX0sW3VdKTt2YXIgZz0hZSYmMCE9PWUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiKTtlPStlfHwwO3ZhciB3PSEhKGM9Y3x8e30pLmxlYWRpbmcscz0hKFwidHJhaWxpbmdcImluIGMpfHwhIWMudHJhaWxpbmcseD1cIm1heFdhaXRcImluIGMseT14P01hdGgubWF4KCtjLm1heFdhaXR8fDAsZSk6bnVsbDtuKGZ1bmN0aW9uKCl7cmV0dXJuIHAuY3VycmVudD0hMCxmdW5jdGlvbigpe3AuY3VycmVudD0hMX19LFtdKTt2YXIgaD10KGZ1bmN0aW9uKCl7dmFyIHI9ZnVuY3Rpb24ocil7dmFyIG49bC5jdXJyZW50LHQ9bS5jdXJyZW50O3JldHVybiBsLmN1cnJlbnQ9bS5jdXJyZW50PW51bGwsby5jdXJyZW50PXIsdi5jdXJyZW50PWQuY3VycmVudC5hcHBseSh0LG4pfSxuPWZ1bmN0aW9uKHIsbil7ZyYmY2FuY2VsQW5pbWF0aW9uRnJhbWUoZi5jdXJyZW50KSxmLmN1cnJlbnQ9Zz9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocik6c2V0VGltZW91dChyLG4pfSx0PWZ1bmN0aW9uKHIpe2lmKCFwLmN1cnJlbnQpcmV0dXJuITE7dmFyIG49ci1hLmN1cnJlbnQ7cmV0dXJuIWEuY3VycmVudHx8bj49ZXx8bjwwfHx4JiZyLW8uY3VycmVudD49eX0sdT1mdW5jdGlvbihuKXtyZXR1cm4gZi5jdXJyZW50PW51bGwscyYmbC5jdXJyZW50P3Iobik6KGwuY3VycmVudD1tLmN1cnJlbnQ9bnVsbCx2LmN1cnJlbnQpfSxjPWZ1bmN0aW9uIHIoKXt2YXIgYz1EYXRlLm5vdygpO2lmKHQoYykpcmV0dXJuIHUoYyk7aWYocC5jdXJyZW50KXt2YXIgaT1lLShjLWEuY3VycmVudCksZj14P01hdGgubWluKGkseS0oYy1vLmN1cnJlbnQpKTppO24ocixmKX19LGg9ZnVuY3Rpb24oKXt2YXIgdT1EYXRlLm5vdygpLGQ9dCh1KTtpZihsLmN1cnJlbnQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLG0uY3VycmVudD1pLGEuY3VycmVudD11LGQpe2lmKCFmLmN1cnJlbnQmJnAuY3VycmVudClyZXR1cm4gby5jdXJyZW50PWEuY3VycmVudCxuKGMsZSksdz9yKGEuY3VycmVudCk6di5jdXJyZW50O2lmKHgpcmV0dXJuIG4oYyxlKSxyKGEuY3VycmVudCl9cmV0dXJuIGYuY3VycmVudHx8bihjLGUpLHYuY3VycmVudH07cmV0dXJuIGguY2FuY2VsPWZ1bmN0aW9uKCl7Zi5jdXJyZW50JiYoZz9jYW5jZWxBbmltYXRpb25GcmFtZShmLmN1cnJlbnQpOmNsZWFyVGltZW91dChmLmN1cnJlbnQpKSxvLmN1cnJlbnQ9MCxsLmN1cnJlbnQ9YS5jdXJyZW50PW0uY3VycmVudD1mLmN1cnJlbnQ9bnVsbH0saC5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hIWYuY3VycmVudH0saC5mbHVzaD1mdW5jdGlvbigpe3JldHVybiBmLmN1cnJlbnQ/dShEYXRlLm5vdygpKTp2LmN1cnJlbnR9LGh9LFt3LHgsZSx5LHMsZ10pO3JldHVybiBofWZ1bmN0aW9uIGkocixuKXtyZXR1cm4gcj09PW59ZnVuY3Rpb24gYShyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP2Z1bmN0aW9uKCl7cmV0dXJuIHJ9OnJ9ZnVuY3Rpb24gbyhuLHQsbyl7dmFyIGYsbCxtPW8mJm8uZXF1YWxpdHlGbnx8aSx2PShmPWUoYShuKSksbD1mWzFdLFtmWzBdLHUoZnVuY3Rpb24ocil7cmV0dXJuIGwoYShyKSl9LFtdKV0pLGQ9dlswXSxwPXZbMV0sZz1jKHUoZnVuY3Rpb24ocil7cmV0dXJuIHAocil9LFtwXSksdCxvKSx3PXIobik7cmV0dXJuIG0ody5jdXJyZW50LG4pfHwoZyhuKSx3LmN1cnJlbnQ9biksW2QsZ119ZnVuY3Rpb24gZihyLG4sdCl7dmFyIHU9dm9pZCAwPT09dD97fTp0LGU9dS5sZWFkaW5nLGk9dS50cmFpbGluZztyZXR1cm4gYyhyLG4se21heFdhaXQ6bixsZWFkaW5nOnZvaWQgMD09PWV8fGUsdHJhaWxpbmc6dm9pZCAwPT09aXx8aX0pfWV4cG9ydHtvIGFzIHVzZURlYm91bmNlLGMgYXMgdXNlRGVib3VuY2VkQ2FsbGJhY2ssZiBhcyB1c2VUaHJvdHRsZWRDYWxsYmFja307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tb2R1bGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/use-debounce@9.0.4_react@19.2.0/node_modules/use-debounce/dist/index.module.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js":
/*!************************************************************************************!*\
  !*** ./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmF0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vdXVpZEA5LjAuMS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25hdGl2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByYW5kb21VVUlEID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSUQgJiYgY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pO1xuZXhwb3J0IGRlZmF1bHQge1xuICByYW5kb21VVUlEXG59OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/regex.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/regex.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRyx5Q0FBeUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/regex.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vdXVpZEA5LjAuMS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbmxldCBnZXRSYW5kb21WYWx1ZXM7XG5jb25zdCBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyx3REFBUTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxTQUFTIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9ub2RlX21vZHVsZXMvLnBucG0vdXVpZEA5LjAuMS9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHJldHVybiBieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KGFyciwgb2Zmc2V0ID0gMCkge1xuICBjb25zdCB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js":
/*!********************************************************************************!*\
  !*** ./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNOO0FBQ3NCOztBQUVqRDtBQUNBLE1BQU0sa0RBQU07QUFDWixXQUFXLGtEQUFNO0FBQ2pCOztBQUVBO0FBQ0EsaURBQWlELCtDQUFHLEtBQUs7O0FBRXpEO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxTQUFTLDhEQUFlO0FBQ3hCOztBQUVBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5hdGl2ZSBmcm9tICcuL25hdGl2ZS5qcyc7XG5pbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCB7IHVuc2FmZVN0cmluZ2lmeSB9IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgaWYgKG5hdGl2ZS5yYW5kb21VVUlEICYmICFidWYgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/validate.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/validate.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7O0FBRS9CO0FBQ0EscUNBQXFDLGlEQUFLO0FBQzFDOztBQUVBLGlFQUFlLFFBQVEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS91dWlkQDkuMC4xL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmFsaWRhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/validate.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/middleware.mjs":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/middleware.mjs ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   createJSONStorage: () => (/* binding */ createJSONStorage),\n/* harmony export */   devtools: () => (/* binding */ devtools),\n/* harmony export */   persist: () => (/* binding */ persist),\n/* harmony export */   redux: () => (/* binding */ redux),\n/* harmony export */   subscribeWithSelector: () => (/* binding */ subscribeWithSelector)\n/* harmony export */ });\nconst reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : ( false ? 0 : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if (( false ? 0 : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC44X0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9taWRkbGV3YXJlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsVUFBVSxrREFBa0Q7QUFDNUQ7QUFDQTtBQUNBLHVEQUF1RCxNQUFlLEdBQUcsQ0FBb0I7QUFDN0YsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1Q0FBdUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx1Q0FBdUMscUJBQXFCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE1BQU0sR0FBRyxZQUFZO0FBQ3RDLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFlLEdBQUcsQ0FBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsaUNBQWlDLGlCQUFpQjtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQztBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLGFBQWE7QUFDOUU7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdUYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC44X0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9taWRkbGV3YXJlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWR1eEltcGwgPSAocmVkdWNlciwgaW5pdGlhbCkgPT4gKHNldCwgX2dldCwgYXBpKSA9PiB7XG4gIGFwaS5kaXNwYXRjaCA9IChhY3Rpb24pID0+IHtcbiAgICBzZXQoKHN0YXRlKSA9PiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pLCBmYWxzZSwgYWN0aW9uKTtcbiAgICByZXR1cm4gYWN0aW9uO1xuICB9O1xuICBhcGkuZGlzcGF0Y2hGcm9tRGV2dG9vbHMgPSB0cnVlO1xuICByZXR1cm4geyBkaXNwYXRjaDogKC4uLmFyZ3MpID0+IGFwaS5kaXNwYXRjaCguLi5hcmdzKSwgLi4uaW5pdGlhbCB9O1xufTtcbmNvbnN0IHJlZHV4ID0gcmVkdXhJbXBsO1xuXG5jb25zdCB0cmFja2VkQ29ubmVjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuY29uc3QgZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZSA9IChuYW1lKSA9PiB7XG4gIGNvbnN0IGFwaSA9IHRyYWNrZWRDb25uZWN0aW9ucy5nZXQobmFtZSk7XG4gIGlmICghYXBpKSByZXR1cm4ge307XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXMoYXBpLnN0b3JlcykubWFwKChba2V5LCBhcGkyXSkgPT4gW2tleSwgYXBpMi5nZXRTdGF0ZSgpXSlcbiAgKTtcbn07XG5jb25zdCBleHRyYWN0Q29ubmVjdGlvbkluZm9ybWF0aW9uID0gKHN0b3JlLCBleHRlbnNpb25Db25uZWN0b3IsIG9wdGlvbnMpID0+IHtcbiAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ1bnRyYWNrZWRcIixcbiAgICAgIGNvbm5lY3Rpb246IGV4dGVuc2lvbkNvbm5lY3Rvci5jb25uZWN0KG9wdGlvbnMpXG4gICAgfTtcbiAgfVxuICBjb25zdCBleGlzdGluZ0Nvbm5lY3Rpb24gPSB0cmFja2VkQ29ubmVjdGlvbnMuZ2V0KG9wdGlvbnMubmFtZSk7XG4gIGlmIChleGlzdGluZ0Nvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4geyB0eXBlOiBcInRyYWNrZWRcIiwgc3RvcmUsIC4uLmV4aXN0aW5nQ29ubmVjdGlvbiB9O1xuICB9XG4gIGNvbnN0IG5ld0Nvbm5lY3Rpb24gPSB7XG4gICAgY29ubmVjdGlvbjogZXh0ZW5zaW9uQ29ubmVjdG9yLmNvbm5lY3Qob3B0aW9ucyksXG4gICAgc3RvcmVzOiB7fVxuICB9O1xuICB0cmFja2VkQ29ubmVjdGlvbnMuc2V0KG9wdGlvbnMubmFtZSwgbmV3Q29ubmVjdGlvbik7XG4gIHJldHVybiB7IHR5cGU6IFwidHJhY2tlZFwiLCBzdG9yZSwgLi4ubmV3Q29ubmVjdGlvbiB9O1xufTtcbmNvbnN0IHJlbW92ZVN0b3JlRnJvbVRyYWNrZWRDb25uZWN0aW9ucyA9IChuYW1lLCBzdG9yZSkgPT4ge1xuICBpZiAoc3RvcmUgPT09IHZvaWQgMCkgcmV0dXJuO1xuICBjb25zdCBjb25uZWN0aW9uSW5mbyA9IHRyYWNrZWRDb25uZWN0aW9ucy5nZXQobmFtZSk7XG4gIGlmICghY29ubmVjdGlvbkluZm8pIHJldHVybjtcbiAgZGVsZXRlIGNvbm5lY3Rpb25JbmZvLnN0b3Jlc1tzdG9yZV07XG4gIGlmIChPYmplY3Qua2V5cyhjb25uZWN0aW9uSW5mby5zdG9yZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHRyYWNrZWRDb25uZWN0aW9ucy5kZWxldGUobmFtZSk7XG4gIH1cbn07XG5jb25zdCBmaW5kQ2FsbGVyTmFtZSA9IChzdGFjaykgPT4ge1xuICB2YXIgX2EsIF9iO1xuICBpZiAoIXN0YWNrKSByZXR1cm4gdm9pZCAwO1xuICBjb25zdCB0cmFjZUxpbmVzID0gc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gIGNvbnN0IGFwaVNldFN0YXRlTGluZUluZGV4ID0gdHJhY2VMaW5lcy5maW5kSW5kZXgoXG4gICAgKHRyYWNlTGluZSkgPT4gdHJhY2VMaW5lLmluY2x1ZGVzKFwiYXBpLnNldFN0YXRlXCIpXG4gICk7XG4gIGlmIChhcGlTZXRTdGF0ZUxpbmVJbmRleCA8IDApIHJldHVybiB2b2lkIDA7XG4gIGNvbnN0IGNhbGxlckxpbmUgPSAoKF9hID0gdHJhY2VMaW5lc1thcGlTZXRTdGF0ZUxpbmVJbmRleCArIDFdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpKSB8fCBcIlwiO1xuICByZXR1cm4gKF9iID0gLy4rICguKykgLisvLmV4ZWMoY2FsbGVyTGluZSkpID09IG51bGwgPyB2b2lkIDAgOiBfYlsxXTtcbn07XG5jb25zdCBkZXZ0b29sc0ltcGwgPSAoZm4sIGRldnRvb2xzT3B0aW9ucyA9IHt9KSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBjb25zdCB7IGVuYWJsZWQsIGFub255bW91c0FjdGlvblR5cGUsIHN0b3JlLCAuLi5vcHRpb25zIH0gPSBkZXZ0b29sc09wdGlvbnM7XG4gIGxldCBleHRlbnNpb25Db25uZWN0b3I7XG4gIHRyeSB7XG4gICAgZXh0ZW5zaW9uQ29ubmVjdG9yID0gKGVuYWJsZWQgIT0gbnVsbCA/IGVuYWJsZWQgOiAoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX187XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICBpZiAoIWV4dGVuc2lvbkNvbm5lY3Rvcikge1xuICAgIHJldHVybiBmbihzZXQsIGdldCwgYXBpKTtcbiAgfVxuICBjb25zdCB7IGNvbm5lY3Rpb24sIC4uLmNvbm5lY3Rpb25JbmZvcm1hdGlvbiB9ID0gZXh0cmFjdENvbm5lY3Rpb25JbmZvcm1hdGlvbihzdG9yZSwgZXh0ZW5zaW9uQ29ubmVjdG9yLCBvcHRpb25zKTtcbiAgbGV0IGlzUmVjb3JkaW5nID0gdHJ1ZTtcbiAgYXBpLnNldFN0YXRlID0gKChzdGF0ZSwgcmVwbGFjZSwgbmFtZU9yQWN0aW9uKSA9PiB7XG4gICAgY29uc3QgciA9IHNldChzdGF0ZSwgcmVwbGFjZSk7XG4gICAgaWYgKCFpc1JlY29yZGluZykgcmV0dXJuIHI7XG4gICAgY29uc3QgYWN0aW9uID0gbmFtZU9yQWN0aW9uID09PSB2b2lkIDAgPyB7XG4gICAgICB0eXBlOiBhbm9ueW1vdXNBY3Rpb25UeXBlIHx8IGZpbmRDYWxsZXJOYW1lKG5ldyBFcnJvcigpLnN0YWNrKSB8fCBcImFub255bW91c1wiXG4gICAgfSA6IHR5cGVvZiBuYW1lT3JBY3Rpb24gPT09IFwic3RyaW5nXCIgPyB7IHR5cGU6IG5hbWVPckFjdGlvbiB9IDogbmFtZU9yQWN0aW9uO1xuICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLnNlbmQoYWN0aW9uLCBnZXQoKSk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5zZW5kKFxuICAgICAge1xuICAgICAgICAuLi5hY3Rpb24sXG4gICAgICAgIHR5cGU6IGAke3N0b3JlfS8ke2FjdGlvbi50eXBlfWBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIC4uLmdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSxcbiAgICAgICAgW3N0b3JlXTogYXBpLmdldFN0YXRlKClcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiByO1xuICB9KTtcbiAgYXBpLmRldnRvb2xzID0ge1xuICAgIGNsZWFudXA6ICgpID0+IHtcbiAgICAgIGlmIChjb25uZWN0aW9uICYmIHR5cGVvZiBjb25uZWN0aW9uLnVuc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgICAgcmVtb3ZlU3RvcmVGcm9tVHJhY2tlZENvbm5lY3Rpb25zKG9wdGlvbnMubmFtZSwgc3RvcmUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U3RhdGVGcm9tRGV2dG9vbHMgPSAoLi4uYSkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsSXNSZWNvcmRpbmcgPSBpc1JlY29yZGluZztcbiAgICBpc1JlY29yZGluZyA9IGZhbHNlO1xuICAgIHNldCguLi5hKTtcbiAgICBpc1JlY29yZGluZyA9IG9yaWdpbmFsSXNSZWNvcmRpbmc7XG4gIH07XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IGZuKGFwaS5zZXRTdGF0ZSwgZ2V0LCBhcGkpO1xuICBpZiAoY29ubmVjdGlvbkluZm9ybWF0aW9uLnR5cGUgPT09IFwidW50cmFja2VkXCIpIHtcbiAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoaW5pdGlhbFN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmVzW2Nvbm5lY3Rpb25JbmZvcm1hdGlvbi5zdG9yZV0gPSBhcGk7XG4gICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KFxuICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmVzKS5tYXAoKFtrZXksIHN0b3JlMl0pID0+IFtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAga2V5ID09PSBjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmUgPyBpbml0aWFsU3RhdGUgOiBzdG9yZTIuZ2V0U3RhdGUoKVxuICAgICAgICBdKVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgaWYgKGFwaS5kaXNwYXRjaEZyb21EZXZ0b29scyAmJiB0eXBlb2YgYXBpLmRpc3BhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBsZXQgZGlkV2FybkFib3V0UmVzZXJ2ZWRBY3Rpb25UeXBlID0gZmFsc2U7XG4gICAgY29uc3Qgb3JpZ2luYWxEaXNwYXRjaCA9IGFwaS5kaXNwYXRjaDtcbiAgICBhcGkuZGlzcGF0Y2ggPSAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIGFyZ3NbMF0udHlwZSA9PT0gXCJfX3NldFN0YXRlXCIgJiYgIWRpZFdhcm5BYm91dFJlc2VydmVkQWN0aW9uVHlwZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1t6dXN0YW5kIGRldnRvb2xzIG1pZGRsZXdhcmVdIFwiX19zZXRTdGF0ZVwiIGFjdGlvbiB0eXBlIGlzIHJlc2VydmVkIHRvIHNldCBzdGF0ZSBmcm9tIHRoZSBkZXZ0b29scy4gQXZvaWQgdXNpbmcgaXQuJ1xuICAgICAgICApO1xuICAgICAgICBkaWRXYXJuQWJvdXRSZXNlcnZlZEFjdGlvblR5cGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb3JpZ2luYWxEaXNwYXRjaCguLi5hcmdzKTtcbiAgICB9O1xuICB9XG4gIGNvbm5lY3Rpb24uc3Vic2NyaWJlKChtZXNzYWdlKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICBjYXNlIFwiQUNUSU9OXCI6XG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5wYXlsb2FkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gVW5zdXBwb3J0ZWQgYWN0aW9uIGZvcm1hdFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlSnNvblRoZW4oXG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkLFxuICAgICAgICAgIChhY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJfX3NldFN0YXRlXCIpIHtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhhY3Rpb24uc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aW9uLnN0YXRlKS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICBbenVzdGFuZCBkZXZ0b29scyBtaWRkbGV3YXJlXSBVbnN1cHBvcnRlZCBfX3NldFN0YXRlIGFjdGlvbiBmb3JtYXQuXG4gICAgICAgICAgICAgICAgICAgIFdoZW4gdXNpbmcgJ3N0b3JlJyBvcHRpb24gaW4gZGV2dG9vbHMoKSwgdGhlICdzdGF0ZScgc2hvdWxkIGhhdmUgb25seSBvbmUga2V5LCB3aGljaCBpcyBhIHZhbHVlIG9mICdzdG9yZScgdGhhdCB3YXMgcGFzc2VkIGluIGRldnRvb2xzKCksXG4gICAgICAgICAgICAgICAgICAgIGFuZCB2YWx1ZSBvZiB0aGlzIG9ubHkga2V5IHNob3VsZCBiZSBhIHN0YXRlIG9iamVjdC4gRXhhbXBsZTogeyBcInR5cGVcIjogXCJfX3NldFN0YXRlXCIsIFwic3RhdGVcIjogeyBcImFiYzEyM1N0b3JlXCI6IHsgXCJmb29cIjogXCJiYXJcIiB9IH0gfVxuICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBzdGF0ZUZyb21EZXZ0b29scyA9IGFjdGlvbi5zdGF0ZVtzdG9yZV07XG4gICAgICAgICAgICAgIGlmIChzdGF0ZUZyb21EZXZ0b29scyA9PT0gdm9pZCAwIHx8IHN0YXRlRnJvbURldnRvb2xzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShhcGkuZ2V0U3RhdGUoKSkgIT09IEpTT04uc3RyaW5naWZ5KHN0YXRlRnJvbURldnRvb2xzKSkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKHN0YXRlRnJvbURldnRvb2xzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFwaS5kaXNwYXRjaEZyb21EZXZ0b29scykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcGkuZGlzcGF0Y2ggIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xuICAgICAgICAgICAgYXBpLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkRJU1BBVENIXCI6XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5wYXlsb2FkLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiUkVTRVRcIjpcbiAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZShvcHRpb25zLm5hbWUpKTtcbiAgICAgICAgICBjYXNlIFwiQ09NTUlUXCI6XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoYXBpLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSk7XG4gICAgICAgICAgY2FzZSBcIlJPTExCQUNLXCI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VKc29uVGhlbihtZXNzYWdlLnN0YXRlLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGVbc3RvcmVdKTtcbiAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiSlVNUF9UT19TVEFURVwiOlxuICAgICAgICAgIGNhc2UgXCJKVU1QX1RPX0FDVElPTlwiOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSnNvblRoZW4obWVzc2FnZS5zdGF0ZSwgKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoYXBpLmdldFN0YXRlKCkpICE9PSBKU09OLnN0cmluZ2lmeShzdGF0ZVtzdG9yZV0pKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGVbc3RvcmVdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIklNUE9SVF9TVEFURVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IG5leHRMaWZ0ZWRTdGF0ZSB9ID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkU3RhdGUgPSAoX2EgPSBuZXh0TGlmdGVkU3RhdGUuY29tcHV0ZWRTdGF0ZXMuc2xpY2UoLTEpWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWxhc3RDb21wdXRlZFN0YXRlKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhsYXN0Q29tcHV0ZWRTdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhsYXN0Q29tcHV0ZWRTdGF0ZVtzdG9yZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5zZW5kKFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAvLyBGSVhNRSBuby1hbnlcbiAgICAgICAgICAgICAgbmV4dExpZnRlZFN0YXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiUEFVU0VfUkVDT1JESU5HXCI6XG4gICAgICAgICAgICByZXR1cm4gaXNSZWNvcmRpbmcgPSAhaXNSZWNvcmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpbml0aWFsU3RhdGU7XG59O1xuY29uc3QgZGV2dG9vbHMgPSBkZXZ0b29sc0ltcGw7XG5jb25zdCBwYXJzZUpzb25UaGVuID0gKHN0cmluZ2lmaWVkLCBmbikgPT4ge1xuICBsZXQgcGFyc2VkO1xuICB0cnkge1xuICAgIHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RyaW5naWZpZWQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gQ291bGQgbm90IHBhcnNlIHRoZSByZWNlaXZlZCBqc29uXCIsXG4gICAgICBlXG4gICAgKTtcbiAgfVxuICBpZiAocGFyc2VkICE9PSB2b2lkIDApIGZuKHBhcnNlZCk7XG59O1xuXG5jb25zdCBzdWJzY3JpYmVXaXRoU2VsZWN0b3JJbXBsID0gKGZuKSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBjb25zdCBvcmlnU3Vic2NyaWJlID0gYXBpLnN1YnNjcmliZTtcbiAgYXBpLnN1YnNjcmliZSA9ICgoc2VsZWN0b3IsIG9wdExpc3RlbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgbGV0IGxpc3RlbmVyID0gc2VsZWN0b3I7XG4gICAgaWYgKG9wdExpc3RlbmVyKSB7XG4gICAgICBjb25zdCBlcXVhbGl0eUZuID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZXF1YWxpdHlGbikgfHwgT2JqZWN0LmlzO1xuICAgICAgbGV0IGN1cnJlbnRTbGljZSA9IHNlbGVjdG9yKGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgIGxpc3RlbmVyID0gKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRTbGljZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICAgICAgaWYgKCFlcXVhbGl0eUZuKGN1cnJlbnRTbGljZSwgbmV4dFNsaWNlKSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzU2xpY2UgPSBjdXJyZW50U2xpY2U7XG4gICAgICAgICAgb3B0TGlzdGVuZXIoY3VycmVudFNsaWNlID0gbmV4dFNsaWNlLCBwcmV2aW91c1NsaWNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmZpcmVJbW1lZGlhdGVseSkge1xuICAgICAgICBvcHRMaXN0ZW5lcihjdXJyZW50U2xpY2UsIGN1cnJlbnRTbGljZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcmlnU3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgfSk7XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IGZuKHNldCwgZ2V0LCBhcGkpO1xuICByZXR1cm4gaW5pdGlhbFN0YXRlO1xufTtcbmNvbnN0IHN1YnNjcmliZVdpdGhTZWxlY3RvciA9IHN1YnNjcmliZVdpdGhTZWxlY3RvckltcGw7XG5cbmZ1bmN0aW9uIGNvbWJpbmUoaW5pdGlhbFN0YXRlLCBjcmVhdGUpIHtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUsIGNyZWF0ZSguLi5hcmdzKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUpTT05TdG9yYWdlKGdldFN0b3JhZ2UsIG9wdGlvbnMpIHtcbiAgbGV0IHN0b3JhZ2U7XG4gIHRyeSB7XG4gICAgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwZXJzaXN0U3RvcmFnZSA9IHtcbiAgICBnZXRJdGVtOiAobmFtZSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgcGFyc2UgPSAoc3RyMikgPT4ge1xuICAgICAgICBpZiAoc3RyMiA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cjIsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucmV2aXZlcik7XG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RyID0gKF9hID0gc3RvcmFnZS5nZXRJdGVtKG5hbWUpKSAhPSBudWxsID8gX2EgOiBudWxsO1xuICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHN0ci50aGVuKHBhcnNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJzZShzdHIpO1xuICAgIH0sXG4gICAgc2V0SXRlbTogKG5hbWUsIG5ld1ZhbHVlKSA9PiBzdG9yYWdlLnNldEl0ZW0obmFtZSwgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucmVwbGFjZXIpKSxcbiAgICByZW1vdmVJdGVtOiAobmFtZSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXG4gIH07XG4gIHJldHVybiBwZXJzaXN0U3RvcmFnZTtcbn1cbmNvbnN0IHRvVGhlbmFibGUgPSAoZm4pID0+IChpbnB1dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZuKGlucHV0KTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRoZW4ob25GdWxmaWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRvVGhlbmFibGUob25GdWxmaWxsZWQpKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgY2F0Y2goX29uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aGVuKF9vbkZ1bGZpbGxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBjYXRjaChvblJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0b1RoZW5hYmxlKG9uUmVqZWN0ZWQpKGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5jb25zdCBwZXJzaXN0SW1wbCA9IChjb25maWcsIGJhc2VPcHRpb25zKSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICBzdG9yYWdlOiBjcmVhdGVKU09OU3RvcmFnZSgoKSA9PiBsb2NhbFN0b3JhZ2UpLFxuICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gc3RhdGUsXG4gICAgdmVyc2lvbjogMCxcbiAgICBtZXJnZTogKHBlcnNpc3RlZFN0YXRlLCBjdXJyZW50U3RhdGUpID0+ICh7XG4gICAgICAuLi5jdXJyZW50U3RhdGUsXG4gICAgICAuLi5wZXJzaXN0ZWRTdGF0ZVxuICAgIH0pLFxuICAgIC4uLmJhc2VPcHRpb25zXG4gIH07XG4gIGxldCBoYXNIeWRyYXRlZCA9IGZhbHNlO1xuICBjb25zdCBoeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgc3RvcmFnZSA9IG9wdGlvbnMuc3RvcmFnZTtcbiAgaWYgKCFzdG9yYWdlKSB7XG4gICAgcmV0dXJuIGNvbmZpZyhcbiAgICAgICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgW3p1c3RhbmQgcGVyc2lzdCBtaWRkbGV3YXJlXSBVbmFibGUgdG8gdXBkYXRlIGl0ZW0gJyR7b3B0aW9ucy5uYW1lfScsIHRoZSBnaXZlbiBzdG9yYWdlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5gXG4gICAgICAgICk7XG4gICAgICAgIHNldCguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICBnZXQsXG4gICAgICBhcGlcbiAgICApO1xuICB9XG4gIGNvbnN0IHNldEl0ZW0gPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBvcHRpb25zLnBhcnRpYWxpemUoeyAuLi5nZXQoKSB9KTtcbiAgICByZXR1cm4gc3RvcmFnZS5zZXRJdGVtKG9wdGlvbnMubmFtZSwge1xuICAgICAgc3RhdGUsXG4gICAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb25cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc2F2ZWRTZXRTdGF0ZSA9IGFwaS5zZXRTdGF0ZTtcbiAgYXBpLnNldFN0YXRlID0gKHN0YXRlLCByZXBsYWNlKSA9PiB7XG4gICAgc2F2ZWRTZXRTdGF0ZShzdGF0ZSwgcmVwbGFjZSk7XG4gICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgfTtcbiAgY29uc3QgY29uZmlnUmVzdWx0ID0gY29uZmlnKFxuICAgICguLi5hcmdzKSA9PiB7XG4gICAgICBzZXQoLi4uYXJncyk7XG4gICAgICByZXR1cm4gc2V0SXRlbSgpO1xuICAgIH0sXG4gICAgZ2V0LFxuICAgIGFwaVxuICApO1xuICBhcGkuZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gY29uZmlnUmVzdWx0O1xuICBsZXQgc3RhdGVGcm9tU3RvcmFnZTtcbiAgY29uc3QgaHlkcmF0ZSA9ICgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICAgIGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gICAgaHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIGNiKChfYTIgPSBnZXQoKSkgIT0gbnVsbCA/IF9hMiA6IGNvbmZpZ1Jlc3VsdCk7XG4gICAgfSk7XG4gICAgY29uc3QgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPSAoKF9iID0gb3B0aW9ucy5vblJlaHlkcmF0ZVN0b3JhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKG9wdGlvbnMsIChfYSA9IGdldCgpKSAhPSBudWxsID8gX2EgOiBjb25maWdSZXN1bHQpKSB8fCB2b2lkIDA7XG4gICAgcmV0dXJuIHRvVGhlbmFibGUoc3RvcmFnZS5nZXRJdGVtLmJpbmQoc3RvcmFnZSkpKG9wdGlvbnMubmFtZSkudGhlbigoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSA9PiB7XG4gICAgICBpZiAoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gPT09IFwibnVtYmVyXCIgJiYgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gIT09IG9wdGlvbnMudmVyc2lvbikge1xuICAgICAgICAgIGlmIChvcHRpb25zLm1pZ3JhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGlvbiA9IG9wdGlvbnMubWlncmF0ZShcbiAgICAgICAgICAgICAgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnN0YXRlLFxuICAgICAgICAgICAgICBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtaWdyYXRpb24gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtaWdyYXRpb24udGhlbigocmVzdWx0KSA9PiBbdHJ1ZSwgcmVzdWx0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3RydWUsIG1pZ3JhdGlvbl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBgU3RhdGUgbG9hZGVkIGZyb20gc3RvcmFnZSBjb3VsZG4ndCBiZSBtaWdyYXRlZCBzaW5jZSBubyBtaWdyYXRlIGZ1bmN0aW9uIHdhcyBwcm92aWRlZGBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbZmFsc2UsIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS5zdGF0ZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbZmFsc2UsIHZvaWQgMF07XG4gICAgfSkudGhlbigobWlncmF0aW9uUmVzdWx0KSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgW21pZ3JhdGVkLCBtaWdyYXRlZFN0YXRlXSA9IG1pZ3JhdGlvblJlc3VsdDtcbiAgICAgIHN0YXRlRnJvbVN0b3JhZ2UgPSBvcHRpb25zLm1lcmdlKFxuICAgICAgICBtaWdyYXRlZFN0YXRlLFxuICAgICAgICAoX2EyID0gZ2V0KCkpICE9IG51bGwgPyBfYTIgOiBjb25maWdSZXN1bHRcbiAgICAgICk7XG4gICAgICBzZXQoc3RhdGVGcm9tU3RvcmFnZSwgdHJ1ZSk7XG4gICAgICBpZiAobWlncmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayhzdGF0ZUZyb21TdG9yYWdlLCB2b2lkIDApO1xuICAgICAgc3RhdGVGcm9tU3RvcmFnZSA9IGdldCgpO1xuICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiBjYihzdGF0ZUZyb21TdG9yYWdlKSk7XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayh2b2lkIDAsIGUpO1xuICAgIH0pO1xuICB9O1xuICBhcGkucGVyc2lzdCA9IHtcbiAgICBzZXRPcHRpb25zOiAobmV3T3B0aW9ucykgPT4ge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ubmV3T3B0aW9uc1xuICAgICAgfTtcbiAgICAgIGlmIChuZXdPcHRpb25zLnN0b3JhZ2UpIHtcbiAgICAgICAgc3RvcmFnZSA9IG5ld09wdGlvbnMuc3RvcmFnZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsZWFyU3RvcmFnZTogKCkgPT4ge1xuICAgICAgc3RvcmFnZSA9PSBudWxsID8gdm9pZCAwIDogc3RvcmFnZS5yZW1vdmVJdGVtKG9wdGlvbnMubmFtZSk7XG4gICAgfSxcbiAgICBnZXRPcHRpb25zOiAoKSA9PiBvcHRpb25zLFxuICAgIHJlaHlkcmF0ZTogKCkgPT4gaHlkcmF0ZSgpLFxuICAgIGhhc0h5ZHJhdGVkOiAoKSA9PiBoYXNIeWRyYXRlZCxcbiAgICBvbkh5ZHJhdGU6IChjYikgPT4ge1xuICAgICAgaHlkcmF0aW9uTGlzdGVuZXJzLmFkZChjYik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBoeWRyYXRpb25MaXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBvbkZpbmlzaEh5ZHJhdGlvbjogKGNiKSA9PiB7XG4gICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuYWRkKGNiKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycy5kZWxldGUoY2IpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIGlmICghb3B0aW9ucy5za2lwSHlkcmF0aW9uKSB7XG4gICAgaHlkcmF0ZSgpO1xuICB9XG4gIHJldHVybiBzdGF0ZUZyb21TdG9yYWdlIHx8IGNvbmZpZ1Jlc3VsdDtcbn07XG5jb25zdCBwZXJzaXN0ID0gcGVyc2lzdEltcGw7XG5cbmV4cG9ydCB7IGNvbWJpbmUsIGNyZWF0ZUpTT05TdG9yYWdlLCBkZXZ0b29scywgcGVyc2lzdCwgcmVkdXgsIHN1YnNjcmliZVdpdGhTZWxlY3RvciB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/middleware.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react.mjs":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react.mjs ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   useStore: () => (/* binding */ useStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var zustand_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/vanilla */ \"(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla.mjs\");\n\n\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore(\n    api.subscribe,\n    react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => selector(api.getState()), [api, selector]),\n    react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_1__.createStore)(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC44X0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9yZWFjdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQjtBQUNvQjs7QUFFOUM7QUFDQTtBQUNBLGdCQUFnQix1REFBMEI7QUFDMUM7QUFDQSxJQUFJLDhDQUFpQjtBQUNyQixJQUFJLDhDQUFpQjtBQUNyQjtBQUNBLEVBQUUsZ0RBQW1CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNERBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZWRlcmljb2pvcmdlYm9uZWx0b3p6aS9EZXNrdG9wL1dvcmsvcHVjay9jb2RlL2Vjb3N5c3RlbS9wdWNrLWNvbmZpZ3Mvc2hhZGNuLXR3YmxvY2tzL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC44X0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9yZWFjdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAnenVzdGFuZC92YW5pbGxhJztcblxuY29uc3QgaWRlbnRpdHkgPSAoYXJnKSA9PiBhcmc7XG5mdW5jdGlvbiB1c2VTdG9yZShhcGksIHNlbGVjdG9yID0gaWRlbnRpdHkpIHtcbiAgY29uc3Qgc2xpY2UgPSBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICBhcGkuc3Vic2NyaWJlLFxuICAgIFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHNlbGVjdG9yKGFwaS5nZXRTdGF0ZSgpKSwgW2FwaSwgc2VsZWN0b3JdKSxcbiAgICBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBzZWxlY3RvcihhcGkuZ2V0SW5pdGlhbFN0YXRlKCkpLCBbYXBpLCBzZWxlY3Rvcl0pXG4gICk7XG4gIFJlYWN0LnVzZURlYnVnVmFsdWUoc2xpY2UpO1xuICByZXR1cm4gc2xpY2U7XG59XG5jb25zdCBjcmVhdGVJbXBsID0gKGNyZWF0ZVN0YXRlKSA9PiB7XG4gIGNvbnN0IGFwaSA9IGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKTtcbiAgY29uc3QgdXNlQm91bmRTdG9yZSA9IChzZWxlY3RvcikgPT4gdXNlU3RvcmUoYXBpLCBzZWxlY3Rvcik7XG4gIE9iamVjdC5hc3NpZ24odXNlQm91bmRTdG9yZSwgYXBpKTtcbiAgcmV0dXJuIHVzZUJvdW5kU3RvcmU7XG59O1xuY29uc3QgY3JlYXRlID0gKChjcmVhdGVTdGF0ZSkgPT4gY3JlYXRlU3RhdGUgPyBjcmVhdGVJbXBsKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZUltcGwpO1xuXG5leHBvcnQgeyBjcmVhdGUsIHVzZVN0b3JlIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react/shallow.mjs":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react/shallow.mjs ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useShallow: () => (/* binding */ useShallow)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var zustand_vanilla_shallow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/vanilla/shallow */ \"(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla/shallow.mjs\");\n\n\n\nfunction useShallow(selector) {\n  const prev = react__WEBPACK_IMPORTED_MODULE_0__.useRef(void 0);\n  return (state) => {\n    const next = selector(state);\n    return (0,zustand_vanilla_shallow__WEBPACK_IMPORTED_MODULE_1__.shallow)(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC44X0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9yZWFjdC9zaGFsbG93Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEI7QUFDd0I7O0FBRWxEO0FBQ0EsZUFBZSx5Q0FBWTtBQUMzQjtBQUNBO0FBQ0EsV0FBVyxnRUFBTztBQUNsQjtBQUNBOztBQUVzQiIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL3p1c3RhbmRANS4wLjhfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdEAxOS4yLjAvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3JlYWN0L3NoYWxsb3cubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93IH0gZnJvbSAnenVzdGFuZC92YW5pbGxhL3NoYWxsb3cnO1xuXG5mdW5jdGlvbiB1c2VTaGFsbG93KHNlbGVjdG9yKSB7XG4gIGNvbnN0IHByZXYgPSBSZWFjdC51c2VSZWYodm9pZCAwKTtcbiAgcmV0dXJuIChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IG5leHQgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgcmV0dXJuIHNoYWxsb3cocHJldi5jdXJyZW50LCBuZXh0KSA/IHByZXYuY3VycmVudCA6IHByZXYuY3VycmVudCA9IG5leHQ7XG4gIH07XG59XG5cbmV4cG9ydCB7IHVzZVNoYWxsb3cgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/react/shallow.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla.mjs":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla.mjs ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStore: () => (/* binding */ createStore)\n/* harmony export */ });\nconst createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC44X0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SEFBOEg7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUV1QiIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL3p1c3RhbmRANS4wLjhfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdEAxOS4yLjAvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3ZhbmlsbGEubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNyZWF0ZVN0b3JlSW1wbCA9IChjcmVhdGVTdGF0ZSkgPT4ge1xuICBsZXQgc3RhdGU7XG4gIGNvbnN0IGxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IHNldFN0YXRlID0gKHBhcnRpYWwsIHJlcGxhY2UpID0+IHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSB0eXBlb2YgcGFydGlhbCA9PT0gXCJmdW5jdGlvblwiID8gcGFydGlhbChzdGF0ZSkgOiBwYXJ0aWFsO1xuICAgIGlmICghT2JqZWN0LmlzKG5leHRTdGF0ZSwgc3RhdGUpKSB7XG4gICAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgICBzdGF0ZSA9IChyZXBsYWNlICE9IG51bGwgPyByZXBsYWNlIDogdHlwZW9mIG5leHRTdGF0ZSAhPT0gXCJvYmplY3RcIiB8fCBuZXh0U3RhdGUgPT09IG51bGwpID8gbmV4dFN0YXRlIDogT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIG5leHRTdGF0ZSk7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKHN0YXRlLCBwcmV2aW91c1N0YXRlKSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXRTdGF0ZSA9ICgpID0+IHN0YXRlO1xuICBjb25zdCBnZXRJbml0aWFsU3RhdGUgPSAoKSA9PiBpbml0aWFsU3RhdGU7XG4gIGNvbnN0IHN1YnNjcmliZSA9IChsaXN0ZW5lcikgPT4ge1xuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIHJldHVybiAoKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgfTtcbiAgY29uc3QgYXBpID0geyBzZXRTdGF0ZSwgZ2V0U3RhdGUsIGdldEluaXRpYWxTdGF0ZSwgc3Vic2NyaWJlIH07XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHN0YXRlID0gY3JlYXRlU3RhdGUoc2V0U3RhdGUsIGdldFN0YXRlLCBhcGkpO1xuICByZXR1cm4gYXBpO1xufTtcbmNvbnN0IGNyZWF0ZVN0b3JlID0gKChjcmVhdGVTdGF0ZSkgPT4gY3JlYXRlU3RhdGUgPyBjcmVhdGVTdG9yZUltcGwoY3JlYXRlU3RhdGUpIDogY3JlYXRlU3RvcmVJbXBsKTtcblxuZXhwb3J0IHsgY3JlYXRlU3RvcmUgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla/shallow.mjs":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla/shallow.mjs ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shallow: () => (/* binding */ shallow)\n/* harmony export */ });\nconst isIterable = (obj) => Symbol.iterator in obj;\nconst hasIterableEntries = (value) => (\n  // HACK: avoid checking entries type\n  \"entries\" in value\n);\nconst compareEntries = (valueA, valueB) => {\n  const mapA = valueA instanceof Map ? valueA : new Map(valueA.entries());\n  const mapB = valueB instanceof Map ? valueB : new Map(valueB.entries());\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n  for (const [key, value] of mapA) {\n    if (!mapB.has(key) || !Object.is(value, mapB.get(key))) {\n      return false;\n    }\n  }\n  return true;\n};\nconst compareIterables = (valueA, valueB) => {\n  const iteratorA = valueA[Symbol.iterator]();\n  const iteratorB = valueB[Symbol.iterator]();\n  let nextA = iteratorA.next();\n  let nextB = iteratorB.next();\n  while (!nextA.done && !nextB.done) {\n    if (!Object.is(nextA.value, nextB.value)) {\n      return false;\n    }\n    nextA = iteratorA.next();\n    nextB = iteratorB.next();\n  }\n  return !!nextA.done && !!nextB.done;\n};\nfunction shallow(valueA, valueB) {\n  if (Object.is(valueA, valueB)) {\n    return true;\n  }\n  if (typeof valueA !== \"object\" || valueA === null || typeof valueB !== \"object\" || valueB === null) {\n    return false;\n  }\n  if (Object.getPrototypeOf(valueA) !== Object.getPrototypeOf(valueB)) {\n    return false;\n  }\n  if (isIterable(valueA) && isIterable(valueB)) {\n    if (hasIterableEntries(valueA) && hasIterableEntries(valueB)) {\n      return compareEntries(valueA, valueB);\n    }\n    return compareIterables(valueA, valueB);\n  }\n  return compareEntries(\n    { entries: () => Object.entries(valueA) },\n    { entries: () => Object.entries(valueB) }\n  );\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC44X0B0eXBlcytyZWFjdEAxOS4yLjdfcmVhY3RAMTkuMi4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhL3NoYWxsb3cubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUNBQXVDO0FBQzdDLE1BQU07QUFDTjtBQUNBOztBQUVtQiIsInNvdXJjZXMiOlsiL1VzZXJzL2ZlZGVyaWNvam9yZ2Vib25lbHRvenppL0Rlc2t0b3AvV29yay9wdWNrL2NvZGUvZWNvc3lzdGVtL3B1Y2stY29uZmlncy9zaGFkY24tdHdibG9ja3Mvbm9kZV9tb2R1bGVzLy5wbnBtL3p1c3RhbmRANS4wLjhfQHR5cGVzK3JlYWN0QDE5LjIuN19yZWFjdEAxOS4yLjAvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3ZhbmlsbGEvc2hhbGxvdy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXNJdGVyYWJsZSA9IChvYmopID0+IFN5bWJvbC5pdGVyYXRvciBpbiBvYmo7XG5jb25zdCBoYXNJdGVyYWJsZUVudHJpZXMgPSAodmFsdWUpID0+IChcbiAgLy8gSEFDSzogYXZvaWQgY2hlY2tpbmcgZW50cmllcyB0eXBlXG4gIFwiZW50cmllc1wiIGluIHZhbHVlXG4pO1xuY29uc3QgY29tcGFyZUVudHJpZXMgPSAodmFsdWVBLCB2YWx1ZUIpID0+IHtcbiAgY29uc3QgbWFwQSA9IHZhbHVlQSBpbnN0YW5jZW9mIE1hcCA/IHZhbHVlQSA6IG5ldyBNYXAodmFsdWVBLmVudHJpZXMoKSk7XG4gIGNvbnN0IG1hcEIgPSB2YWx1ZUIgaW5zdGFuY2VvZiBNYXAgPyB2YWx1ZUIgOiBuZXcgTWFwKHZhbHVlQi5lbnRyaWVzKCkpO1xuICBpZiAobWFwQS5zaXplICE9PSBtYXBCLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgbWFwQSkge1xuICAgIGlmICghbWFwQi5oYXMoa2V5KSB8fCAhT2JqZWN0LmlzKHZhbHVlLCBtYXBCLmdldChrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBjb21wYXJlSXRlcmFibGVzID0gKHZhbHVlQSwgdmFsdWVCKSA9PiB7XG4gIGNvbnN0IGl0ZXJhdG9yQSA9IHZhbHVlQVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIGNvbnN0IGl0ZXJhdG9yQiA9IHZhbHVlQltTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIGxldCBuZXh0QSA9IGl0ZXJhdG9yQS5uZXh0KCk7XG4gIGxldCBuZXh0QiA9IGl0ZXJhdG9yQi5uZXh0KCk7XG4gIHdoaWxlICghbmV4dEEuZG9uZSAmJiAhbmV4dEIuZG9uZSkge1xuICAgIGlmICghT2JqZWN0LmlzKG5leHRBLnZhbHVlLCBuZXh0Qi52YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbmV4dEEgPSBpdGVyYXRvckEubmV4dCgpO1xuICAgIG5leHRCID0gaXRlcmF0b3JCLm5leHQoKTtcbiAgfVxuICByZXR1cm4gISFuZXh0QS5kb25lICYmICEhbmV4dEIuZG9uZTtcbn07XG5mdW5jdGlvbiBzaGFsbG93KHZhbHVlQSwgdmFsdWVCKSB7XG4gIGlmIChPYmplY3QuaXModmFsdWVBLCB2YWx1ZUIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZUEgIT09IFwib2JqZWN0XCIgfHwgdmFsdWVBID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZUIgIT09IFwib2JqZWN0XCIgfHwgdmFsdWVCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWVBKSAhPT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlQikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGlzSXRlcmFibGUodmFsdWVBKSAmJiBpc0l0ZXJhYmxlKHZhbHVlQikpIHtcbiAgICBpZiAoaGFzSXRlcmFibGVFbnRyaWVzKHZhbHVlQSkgJiYgaGFzSXRlcmFibGVFbnRyaWVzKHZhbHVlQikpIHtcbiAgICAgIHJldHVybiBjb21wYXJlRW50cmllcyh2YWx1ZUEsIHZhbHVlQik7XG4gICAgfVxuICAgIHJldHVybiBjb21wYXJlSXRlcmFibGVzKHZhbHVlQSwgdmFsdWVCKTtcbiAgfVxuICByZXR1cm4gY29tcGFyZUVudHJpZXMoXG4gICAgeyBlbnRyaWVzOiAoKSA9PiBPYmplY3QuZW50cmllcyh2YWx1ZUEpIH0sXG4gICAgeyBlbnRyaWVzOiAoKSA9PiBPYmplY3QuZW50cmllcyh2YWx1ZUIpIH1cbiAgKTtcbn1cblxuZXhwb3J0IHsgc2hhbGxvdyB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.7_react@19.2.0/node_modules/zustand/esm/vanilla/shallow.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./puck.config.tsx":
/*!*************************!*\
  !*** ./puck.config.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n\nconst config = {\n    components: {\n        HeadingBlock: {\n            fields: {\n                title: {\n                    type: \"text\"\n                }\n            },\n            defaultProps: {\n                title: \"Heading\"\n            },\n            render: (param)=>{\n                let { title } = param;\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        padding: 64\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        children: title\n                    }, void 0, false, {\n                        fileName: \"/Users/federicojorgeboneltozzi/Desktop/Work/puck/code/ecosystem/puck-configs/shadcn-twblocks/puck.config.tsx\",\n                        lineNumber: 18,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/federicojorgeboneltozzi/Desktop/Work/puck/code/ecosystem/puck-configs/shadcn-twblocks/puck.config.tsx\",\n                    lineNumber: 17,\n                    columnNumber: 9\n                }, undefined);\n            }\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (config);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3B1Y2suY29uZmlnLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBTU8sTUFBTUEsU0FBd0I7SUFDbkNDLFlBQVk7UUFDVkMsY0FBYztZQUNaQyxRQUFRO2dCQUNOQyxPQUFPO29CQUFFQyxNQUFNO2dCQUFPO1lBQ3hCO1lBQ0FDLGNBQWM7Z0JBQ1pGLE9BQU87WUFDVDtZQUNBRyxRQUFRO29CQUFDLEVBQUVILEtBQUssRUFBRTtxQ0FDaEIsOERBQUNJO29CQUFJQyxPQUFPO3dCQUFFQyxTQUFTO29CQUFHOzhCQUN4Qiw0RUFBQ0M7a0NBQUlQOzs7Ozs7Ozs7Ozs7UUFHWDtJQUNGO0FBQ0YsRUFBRTtBQUVGLGlFQUFlSixNQUFNQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvZmVkZXJpY29qb3JnZWJvbmVsdG96emkvRGVza3RvcC9Xb3JrL3B1Y2svY29kZS9lY29zeXN0ZW0vcHVjay1jb25maWdzL3NoYWRjbi10d2Jsb2Nrcy9wdWNrLmNvbmZpZy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb25maWcgfSBmcm9tIFwiQG1lYXN1cmVkL3B1Y2tcIjtcblxudHlwZSBQcm9wcyA9IHtcbiAgSGVhZGluZ0Jsb2NrOiB7IHRpdGxlOiBzdHJpbmcgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb25maWc6IENvbmZpZzxQcm9wcz4gPSB7XG4gIGNvbXBvbmVudHM6IHtcbiAgICBIZWFkaW5nQmxvY2s6IHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB0aXRsZTogeyB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgfSxcbiAgICAgIGRlZmF1bHRQcm9wczoge1xuICAgICAgICB0aXRsZTogXCJIZWFkaW5nXCIsXG4gICAgICB9LFxuICAgICAgcmVuZGVyOiAoeyB0aXRsZSB9KSA9PiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogNjQgfX0+XG4gICAgICAgICAgPGgxPnt0aXRsZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICksXG4gICAgfSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiJdLCJuYW1lcyI6WyJjb25maWciLCJjb21wb25lbnRzIiwiSGVhZGluZ0Jsb2NrIiwiZmllbGRzIiwidGl0bGUiLCJ0eXBlIiwiZGVmYXVsdFByb3BzIiwicmVuZGVyIiwiZGl2Iiwic3R5bGUiLCJwYWRkaW5nIiwiaDEiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./puck.config.tsx\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/.pnpm/next@15.5.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fapp%2Fpuck%2F%5B...puckPath%5D%2Fclient.tsx%22%2C%22ids%22%3A%5B%22Client%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Ffedericojorgeboneltozzi%2FDesktop%2FWork%2Fpuck%2Fcode%2Fecosystem%2Fpuck-configs%2Fshadcn-twblocks%2Fnode_modules%2F.pnpm%2F%40measured%2Bpuck%400.20.2_%40types%2Breact%4019.2.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0%2Fnode_modules%2F%40measured%2Fpuck%2Fdist%2Findex.css%22%2C%22ids%22%3A%5B%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);